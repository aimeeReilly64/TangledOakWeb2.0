function H2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function is(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function z2(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var mm={exports:{}},Cl={},gm={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function q2(){if($_)return Ze;$_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),E=Symbol.iterator;function b(W){return W===null||typeof W!="object"?null:(W=E&&W[E]||W["@@iterator"],typeof W=="function"?W:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,F={};function U(W,le,L){this.props=W,this.context=le,this.refs=F,this.updater=L||I}U.prototype.isReactComponent={},U.prototype.setState=function(W,le){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,le,"setState")},U.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function q(){}q.prototype=U.prototype;function re(W,le,L){this.props=W,this.context=le,this.refs=F,this.updater=L||I}var $=re.prototype=new q;$.constructor=re,N($,U.prototype),$.isPureReactComponent=!0;var G=Array.isArray,_e=Object.prototype.hasOwnProperty,Z={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function x(W,le,L){var Oe,je={},De=null,Xe=null;if(le!=null)for(Oe in le.ref!==void 0&&(Xe=le.ref),le.key!==void 0&&(De=""+le.key),le)_e.call(le,Oe)&&!H.hasOwnProperty(Oe)&&(je[Oe]=le[Oe]);var Qe=arguments.length-2;if(Qe===1)je.children=L;else if(1<Qe){for(var at=Array(Qe),_t=0;_t<Qe;_t++)at[_t]=arguments[_t+2];je.children=at}if(W&&W.defaultProps)for(Oe in Qe=W.defaultProps,Qe)je[Oe]===void 0&&(je[Oe]=Qe[Oe]);return{$$typeof:t,type:W,key:De,ref:Xe,props:je,_owner:Z.current}}function M(W,le){return{$$typeof:t,type:W.type,key:le,ref:W.ref,props:W.props,_owner:W._owner}}function j(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function P(W){var le={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(L){return le[L]})}var O=/\/+/g;function C(W,le){return typeof W=="object"&&W!==null&&W.key!=null?P(""+W.key):le.toString(36)}function te(W,le,L,Oe,je){var De=typeof W;(De==="undefined"||De==="boolean")&&(W=null);var Xe=!1;if(W===null)Xe=!0;else switch(De){case"string":case"number":Xe=!0;break;case"object":switch(W.$$typeof){case t:case e:Xe=!0}}if(Xe)return Xe=W,je=je(Xe),W=Oe===""?"."+C(Xe,0):Oe,G(je)?(L="",W!=null&&(L=W.replace(O,"$&/")+"/"),te(je,le,L,"",function(_t){return _t})):je!=null&&(j(je)&&(je=M(je,L+(!je.key||Xe&&Xe.key===je.key?"":(""+je.key).replace(O,"$&/")+"/")+W)),le.push(je)),1;if(Xe=0,Oe=Oe===""?".":Oe+":",G(W))for(var Qe=0;Qe<W.length;Qe++){De=W[Qe];var at=Oe+C(De,Qe);Xe+=te(De,le,L,at,je)}else if(at=b(W),typeof at=="function")for(W=at.call(W),Qe=0;!(De=W.next()).done;)De=De.value,at=Oe+C(De,Qe++),Xe+=te(De,le,L,at,je);else if(De==="object")throw le=String(W),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return Xe}function ae(W,le,L){if(W==null)return W;var Oe=[],je=0;return te(W,Oe,"","",function(De){return le.call(L,De,je++)}),Oe}function Ce(W){if(W._status===-1){var le=W._result;le=le(),le.then(function(L){(W._status===0||W._status===-1)&&(W._status=1,W._result=L)},function(L){(W._status===0||W._status===-1)&&(W._status=2,W._result=L)}),W._status===-1&&(W._status=0,W._result=le)}if(W._status===1)return W._result.default;throw W._result}var K={current:null},ie={transition:null},Ie={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Z};function R(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:ae,forEach:function(W,le,L){ae(W,function(){le.apply(this,arguments)},L)},count:function(W){var le=0;return ae(W,function(){le++}),le},toArray:function(W){return ae(W,function(le){return le})||[]},only:function(W){if(!j(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Ze.Component=U,Ze.Fragment=n,Ze.Profiler=i,Ze.PureComponent=re,Ze.StrictMode=r,Ze.Suspense=d,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ie,Ze.act=R,Ze.cloneElement=function(W,le,L){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Oe=N({},W.props),je=W.key,De=W.ref,Xe=W._owner;if(le!=null){if(le.ref!==void 0&&(De=le.ref,Xe=Z.current),le.key!==void 0&&(je=""+le.key),W.type&&W.type.defaultProps)var Qe=W.type.defaultProps;for(at in le)_e.call(le,at)&&!H.hasOwnProperty(at)&&(Oe[at]=le[at]===void 0&&Qe!==void 0?Qe[at]:le[at])}var at=arguments.length-2;if(at===1)Oe.children=L;else if(1<at){Qe=Array(at);for(var _t=0;_t<at;_t++)Qe[_t]=arguments[_t+2];Oe.children=Qe}return{$$typeof:t,type:W.type,key:je,ref:De,props:Oe,_owner:Xe}},Ze.createContext=function(W){return W={$$typeof:u,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},Ze.createElement=x,Ze.createFactory=function(W){var le=x.bind(null,W);return le.type=W,le},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(W){return{$$typeof:l,render:W}},Ze.isValidElement=j,Ze.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:Ce}},Ze.memo=function(W,le){return{$$typeof:p,type:W,compare:le===void 0?null:le}},Ze.startTransition=function(W){var le=ie.transition;ie.transition={};try{W()}finally{ie.transition=le}},Ze.unstable_act=R,Ze.useCallback=function(W,le){return K.current.useCallback(W,le)},Ze.useContext=function(W){return K.current.useContext(W)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(W){return K.current.useDeferredValue(W)},Ze.useEffect=function(W,le){return K.current.useEffect(W,le)},Ze.useId=function(){return K.current.useId()},Ze.useImperativeHandle=function(W,le,L){return K.current.useImperativeHandle(W,le,L)},Ze.useInsertionEffect=function(W,le){return K.current.useInsertionEffect(W,le)},Ze.useLayoutEffect=function(W,le){return K.current.useLayoutEffect(W,le)},Ze.useMemo=function(W,le){return K.current.useMemo(W,le)},Ze.useReducer=function(W,le,L){return K.current.useReducer(W,le,L)},Ze.useRef=function(W){return K.current.useRef(W)},Ze.useState=function(W){return K.current.useState(W)},Ze.useSyncExternalStore=function(W,le,L){return K.current.useSyncExternalStore(W,le,L)},Ze.useTransition=function(){return K.current.useTransition()},Ze.version="18.3.1",Ze}var Y_;function Cu(){return Y_||(Y_=1,gm.exports=q2()),gm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function W2(){if(G_)return Cl;G_=1;var t=Cu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(l,d,p){var m,E={},b=null,I=null;p!==void 0&&(b=""+p),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(I=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(E[m]=d[m]);if(l&&l.defaultProps)for(m in d=l.defaultProps,d)E[m]===void 0&&(E[m]=d[m]);return{$$typeof:e,type:l,key:b,ref:I,props:E,_owner:i.current}}return Cl.Fragment=n,Cl.jsx=u,Cl.jsxs=u,Cl}var K_;function $2(){return K_||(K_=1,mm.exports=W2()),mm.exports}var v=$2(),ce=Cu();const lu=is(ce),Y2=H2({__proto__:null,default:lu},[ce]);var th={},ym={exports:{}},qn={},Em={exports:{}},_m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function G2(){return Q_||(Q_=1,function(t){function e(ie,Ie){var R=ie.length;ie.push(Ie);e:for(;0<R;){var W=R-1>>>1,le=ie[W];if(0<i(le,Ie))ie[W]=Ie,ie[R]=le,R=W;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var Ie=ie[0],R=ie.pop();if(R!==Ie){ie[0]=R;e:for(var W=0,le=ie.length,L=le>>>1;W<L;){var Oe=2*(W+1)-1,je=ie[Oe],De=Oe+1,Xe=ie[De];if(0>i(je,R))De<le&&0>i(Xe,je)?(ie[W]=Xe,ie[De]=R,W=De):(ie[W]=je,ie[Oe]=R,W=Oe);else if(De<le&&0>i(Xe,R))ie[W]=Xe,ie[De]=R,W=De;else break e}}return Ie}function i(ie,Ie){var R=ie.sortIndex-Ie.sortIndex;return R!==0?R:ie.id-Ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}var d=[],p=[],m=1,E=null,b=3,I=!1,N=!1,F=!1,U=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(ie){for(var Ie=n(p);Ie!==null;){if(Ie.callback===null)r(p);else if(Ie.startTime<=ie)r(p),Ie.sortIndex=Ie.expirationTime,e(d,Ie);else break;Ie=n(p)}}function G(ie){if(F=!1,$(ie),!N)if(n(d)!==null)N=!0,Ce(_e);else{var Ie=n(p);Ie!==null&&K(G,Ie.startTime-ie)}}function _e(ie,Ie){N=!1,F&&(F=!1,q(x),x=-1),I=!0;var R=b;try{for($(Ie),E=n(d);E!==null&&(!(E.expirationTime>Ie)||ie&&!P());){var W=E.callback;if(typeof W=="function"){E.callback=null,b=E.priorityLevel;var le=W(E.expirationTime<=Ie);Ie=t.unstable_now(),typeof le=="function"?E.callback=le:E===n(d)&&r(d),$(Ie)}else r(d);E=n(d)}if(E!==null)var L=!0;else{var Oe=n(p);Oe!==null&&K(G,Oe.startTime-Ie),L=!1}return L}finally{E=null,b=R,I=!1}}var Z=!1,H=null,x=-1,M=5,j=-1;function P(){return!(t.unstable_now()-j<M)}function O(){if(H!==null){var ie=t.unstable_now();j=ie;var Ie=!0;try{Ie=H(!0,ie)}finally{Ie?C():(Z=!1,H=null)}}else Z=!1}var C;if(typeof re=="function")C=function(){re(O)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ae=te.port2;te.port1.onmessage=O,C=function(){ae.postMessage(null)}}else C=function(){U(O,0)};function Ce(ie){H=ie,Z||(Z=!0,C())}function K(ie,Ie){x=U(function(){ie(t.unstable_now())},Ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){N||I||(N=!0,Ce(_e))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ie){switch(b){case 1:case 2:case 3:var Ie=3;break;default:Ie=b}var R=b;b=Ie;try{return ie()}finally{b=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,Ie){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var R=b;b=ie;try{return Ie()}finally{b=R}},t.unstable_scheduleCallback=function(ie,Ie,R){var W=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?W+R:W):R=W,ie){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=R+le,ie={id:m++,callback:Ie,priorityLevel:ie,startTime:R,expirationTime:le,sortIndex:-1},R>W?(ie.sortIndex=R,e(p,ie),n(d)===null&&ie===n(p)&&(F?(q(x),x=-1):F=!0,K(G,R-W))):(ie.sortIndex=le,e(d,ie),N||I||(N=!0,Ce(_e))),ie},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(ie){var Ie=b;return function(){var R=b;b=Ie;try{return ie.apply(this,arguments)}finally{b=R}}}}(_m)),_m}var X_;function K2(){return X_||(X_=1,Em.exports=G2()),Em.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function Q2(){if(J_)return qn;J_=1;var t=Cu(),e=K2();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},E={};function b(s){return d.call(E,s)?!0:d.call(m,s)?!1:p.test(s)?E[s]=!0:(m[s]=!0,!1)}function I(s,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function N(s,a,c,f){if(a===null||typeof a>"u"||I(s,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function F(s,a,c,f,y,T,w){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=T,this.removeEmptyString=w}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){U[s]=new F(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];U[a]=new F(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){U[s]=new F(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){U[s]=new F(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){U[s]=new F(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){U[s]=new F(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){U[s]=new F(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){U[s]=new F(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){U[s]=new F(s,5,!1,s.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function re(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(q,re);U[a]=new F(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(q,re);U[a]=new F(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(q,re);U[a]=new F(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){U[s]=new F(s,1,!1,s.toLowerCase(),null,!1,!1)}),U.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){U[s]=new F(s,1,!1,s.toLowerCase(),null,!0,!0)});function $(s,a,c,f){var y=U.hasOwnProperty(a)?U[a]:null;(y!==null?y.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(N(a,c,y,f)&&(c=null),f||y===null?b(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,f=y.attributeNamespace,c===null?s.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,f?s.setAttributeNS(f,a,c):s.setAttribute(a,c))))}var G=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_e=Symbol.for("react.element"),Z=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),P=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),ie=Symbol.iterator;function Ie(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var R=Object.assign,W;function le(s){if(W===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+s}var L=!1;function Oe(s,a){if(!s||L)return"";L=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ne){var f=ne}Reflect.construct(s,[],a)}else{try{a.call()}catch(ne){f=ne}s.call(a.prototype)}else{try{throw Error()}catch(ne){f=ne}s()}}catch(ne){if(ne&&f&&typeof ne.stack=="string"){for(var y=ne.stack.split(`
`),T=f.stack.split(`
`),w=y.length-1,B=T.length-1;1<=w&&0<=B&&y[w]!==T[B];)B--;for(;1<=w&&0<=B;w--,B--)if(y[w]!==T[B]){if(w!==1||B!==1)do if(w--,B--,0>B||y[w]!==T[B]){var z=`
`+y[w].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=w&&0<=B);break}}}finally{L=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?le(s):""}function je(s){switch(s.tag){case 5:return le(s.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return s=Oe(s.type,!1),s;case 11:return s=Oe(s.type.render,!1),s;case 1:return s=Oe(s.type,!0),s;default:return""}}function De(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case H:return"Fragment";case Z:return"Portal";case M:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case te:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case P:return(s.displayName||"Context")+".Consumer";case j:return(s._context.displayName||"Context")+".Provider";case O:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ae:return a=s.displayName||null,a!==null?a:De(s.type)||"Memo";case Ce:a=s._payload,s=s._init;try{return De(s(a))}catch{}}return null}function Xe(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(a);case 8:return a===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Qe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function at(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function _t(s){var a=at(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,T=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(w){f=""+w,T.call(this,w)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Mn(s){s._valueTracker||(s._valueTracker=_t(s))}function os(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=at(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function oi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ni(s,a){var c=a.checked;return R({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function xi(s,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=Qe(a.value!=null?a.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function as(s,a){a=a.checked,a!=null&&$(s,"checked",a,!1)}function us(s,a){as(s,a);var c=Qe(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Pi(s,a.type,c):a.hasOwnProperty("defaultValue")&&Pi(s,a.type,Qe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ha(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Pi(s,a,c){(a!=="number"||oi(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var pr=Array.isArray;function Dr(s,a,c,f){if(s=s.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=a.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Qe(c),a=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,f&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function fo(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return R({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ls(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(pr(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Qe(c)}}function cs(s,a){var c=Qe(a.value),f=Qe(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function po(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function se(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ge(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?se(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Me,Ke=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,y){MSApp.execUnsafeLocalFunction(function(){return s(a,c,f,y)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Me=Me||document.createElement("div"),Me.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Me.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function tt(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rn=["Webkit","ms","Moz","O"];Object.keys(Yt).forEach(function(s){Rn.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Yt[a]=Yt[s]})});function kn(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Yt.hasOwnProperty(s)&&Yt[s]?(""+a).trim():a+"px"}function Lr(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,y=kn(c,a[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,y):s[c]=y}}var Mr=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gt(s,a){if(a){if(Mr[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function mr(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=null;function fa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var pa=null,gr=null,ai=null;function ma(s){if(s=hl(s)){if(typeof pa!="function")throw Error(n(280));var a=s.stateNode;a&&(a=gd(a),pa(s.stateNode,s.type,a))}}function ui(s){gr?ai?ai.push(s):ai=[s]:gr=s}function zu(){if(gr){var s=gr,a=ai;if(ai=gr=null,ma(s),a)for(s=0;s<a.length;s++)ma(a[s])}}function mo(s,a){return s(a)}function qu(){}var Oi=!1;function Wu(s,a,c){if(Oi)return s(a,c);Oi=!0;try{return mo(s,a,c)}finally{Oi=!1,(gr!==null||ai!==null)&&(qu(),zu())}}function Lt(s,a){var c=s.stateNode;if(c===null)return null;var f=gd(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var ga=!1;if(l)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){ga=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{ga=!1}function go(s,a,c,f,y,T,w,B,z){var ne=Array.prototype.slice.call(arguments,3);try{a.apply(c,ne)}catch(me){this.onError(me)}}var yo=!1,ya=null,Ur=!1,$u=null,zf={onError:function(s){yo=!0,ya=s}};function Ea(s,a,c,f,y,T,w,B,z){yo=!1,ya=null,go.apply(zf,arguments)}function jc(s,a,c,f,y,T,w,B,z){if(Ea.apply(this,arguments),yo){if(yo){var ne=ya;yo=!1,ya=null}else throw Error(n(198));Ur||(Ur=!0,$u=ne)}}function Br(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Eo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Vr(s){if(Br(s)!==s)throw Error(n(188))}function Hc(s){var a=s.alternate;if(!a){if(a=Br(s),a===null)throw Error(n(188));return a!==s?null:s}for(var c=s,f=a;;){var y=c.return;if(y===null)break;var T=y.alternate;if(T===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===T.child){for(T=y.child;T;){if(T===c)return Vr(y),s;if(T===f)return Vr(y),a;T=T.sibling}throw Error(n(188))}if(c.return!==f.return)c=y,f=T;else{for(var w=!1,B=y.child;B;){if(B===c){w=!0,c=y,f=T;break}if(B===f){w=!0,f=y,c=T;break}B=B.sibling}if(!w){for(B=T.child;B;){if(B===c){w=!0,c=T,f=y;break}if(B===f){w=!0,f=T,c=y;break}B=B.sibling}if(!w)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:a}function Yu(s){return s=Hc(s),s!==null?_a(s):null}function _a(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=_a(s);if(a!==null)return a;s=s.sibling}return null}var Ta=e.unstable_scheduleCallback,Gu=e.unstable_cancelCallback,zc=e.unstable_shouldYield,qf=e.unstable_requestPaint,pt=e.unstable_now,qc=e.unstable_getCurrentPriorityLevel,_o=e.unstable_ImmediatePriority,ds=e.unstable_UserBlockingPriority,yr=e.unstable_NormalPriority,Ku=e.unstable_LowPriority,Wc=e.unstable_IdlePriority,To=null,tr=null;function $c(s){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(To,s,void 0,(s.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:Gc,Qu=Math.log,Yc=Math.LN2;function Gc(s){return s>>>=0,s===0?32:31-(Qu(s)/Yc|0)|0}var va=64,ba=4194304;function hs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function vo(s,a){var c=s.pendingLanes;if(c===0)return 0;var f=0,y=s.suspendedLanes,T=s.pingedLanes,w=c&268435455;if(w!==0){var B=w&~y;B!==0?f=hs(B):(T&=w,T!==0&&(f=hs(T)))}else w=c&~y,w!==0?f=hs(w):T!==0&&(f=hs(T));if(f===0)return 0;if(a!==0&&a!==f&&(a&y)===0&&(y=f&-f,T=a&-a,y>=T||y===16&&(T&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)c=31-Nn(a),y=1<<c,f|=s[c],a&=~y;return f}function Wf(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Di(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,y=s.expirationTimes,T=s.pendingLanes;0<T;){var w=31-Nn(T),B=1<<w,z=y[w];z===-1?((B&c)===0||(B&f)!==0)&&(y[w]=Wf(B,a)):z<=a&&(s.expiredLanes|=B),T&=~B}}function nr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function bo(){var s=va;return va<<=1,(va&4194240)===0&&(va=64),s}function fs(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function ps(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Nn(a),s[a]=c}function ft(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-Nn(c),T=1<<y;a[y]=0,f[y]=-1,s[y]=-1,c&=~T}}function ms(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-Nn(c),y=1<<f;y&a|s[f]&a&&(s[f]|=a),c&=~y}}var it=0;function gs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Kc,Ia,Qc,Xc,Jc,Xu=!1,li=[],cn=null,jr=null,Hr=null,ys=new Map,Er=new Map,ci=[],$f="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zc(s,a){switch(s){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":ys.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(a.pointerId)}}function Fn(s,a,c,f,y,T){return s===null||s.nativeEvent!==T?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:T,targetContainers:[y]},a!==null&&(a=hl(a),a!==null&&Ia(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function Yf(s,a,c,f,y){switch(a){case"focusin":return cn=Fn(cn,s,a,c,f,y),!0;case"dragenter":return jr=Fn(jr,s,a,c,f,y),!0;case"mouseover":return Hr=Fn(Hr,s,a,c,f,y),!0;case"pointerover":var T=y.pointerId;return ys.set(T,Fn(ys.get(T)||null,s,a,c,f,y)),!0;case"gotpointercapture":return T=y.pointerId,Er.set(T,Fn(Er.get(T)||null,s,a,c,f,y)),!0}return!1}function ed(s){var a=Co(s.target);if(a!==null){var c=Br(a);if(c!==null){if(a=c.tag,a===13){if(a=Eo(c),a!==null){s.blockedOn=a,Jc(s.priority,function(){Qc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Li(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Aa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);ln=f,c.target.dispatchEvent(f),ln=null}else return a=hl(c),a!==null&&Ia(a),s.blockedOn=c,!1;a.shift()}return!0}function Io(s,a,c){Li(s)&&c.delete(a)}function td(){Xu=!1,cn!==null&&Li(cn)&&(cn=null),jr!==null&&Li(jr)&&(jr=null),Hr!==null&&Li(Hr)&&(Hr=null),ys.forEach(Io),Er.forEach(Io)}function zr(s,a){s.blockedOn===a&&(s.blockedOn=null,Xu||(Xu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,td)))}function qr(s){function a(y){return zr(y,s)}if(0<li.length){zr(li[0],s);for(var c=1;c<li.length;c++){var f=li[c];f.blockedOn===s&&(f.blockedOn=null)}}for(cn!==null&&zr(cn,s),jr!==null&&zr(jr,s),Hr!==null&&zr(Hr,s),ys.forEach(a),Er.forEach(a),c=0;c<ci.length;c++)f=ci[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<ci.length&&(c=ci[0],c.blockedOn===null);)ed(c),c.blockedOn===null&&ci.shift()}var Mi=G.ReactCurrentBatchConfig,Es=!0;function It(s,a,c,f){var y=it,T=Mi.transition;Mi.transition=null;try{it=1,Ju(s,a,c,f)}finally{it=y,Mi.transition=T}}function Gf(s,a,c,f){var y=it,T=Mi.transition;Mi.transition=null;try{it=4,Ju(s,a,c,f)}finally{it=y,Mi.transition=T}}function Ju(s,a,c,f){if(Es){var y=Aa(s,a,c,f);if(y===null)sp(s,a,f,Ao,c),Zc(s,f);else if(Yf(y,s,a,c,f))f.stopPropagation();else if(Zc(s,f),a&4&&-1<$f.indexOf(s)){for(;y!==null;){var T=hl(y);if(T!==null&&Kc(T),T=Aa(s,a,c,f),T===null&&sp(s,a,f,Ao,c),T===y)break;y=T}y!==null&&f.stopPropagation()}else sp(s,a,f,null,c)}}var Ao=null;function Aa(s,a,c,f){if(Ao=null,s=fa(f),s=Co(s),s!==null)if(a=Br(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Eo(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Ao=s,null}function Zu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qc()){case _o:return 1;case ds:return 4;case yr:case Ku:return 16;case Wc:return 536870912;default:return 16}default:return 16}}var rr=null,wa=null,Un=null;function el(){if(Un)return Un;var s,a=wa,c=a.length,f,y="value"in rr?rr.value:rr.textContent,T=y.length;for(s=0;s<c&&a[s]===y[s];s++);var w=c-s;for(f=1;f<=w&&a[c-f]===y[T-f];f++);return Un=y.slice(s,1<f?1-f:void 0)}function Sa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function di(){return!0}function tl(){return!1}function dn(s){function a(c,f,y,T,w){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=T,this.target=w,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(c=s[B],this[B]=c?c(T):T[B]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?di:tl,this.isPropagationStopped=tl,this}return R(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),a}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=dn(Wr),hi=R({},Wr,{view:0,detail:0}),Kf=dn(hi),Ra,Fi,_s,wo=R({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==_s&&(_s&&s.type==="mousemove"?(Ra=s.screenX-_s.screenX,Fi=s.screenY-_s.screenY):Fi=Ra=0,_s=s),Ra)},movementY:function(s){return"movementY"in s?s.movementY:Fi}}),ka=dn(wo),nl=R({},wo,{dataTransfer:0}),nd=dn(nl),Na=R({},hi,{relatedTarget:0}),xa=dn(Na),rd=R({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ui=dn(rd),id=R({},Wr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),sd=dn(id),od=R({},Wr,{data:0}),rl=dn(od),Pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ad={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ud(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ad[s])?!!a[s]:!1}function fi(){return ud}var h=R({},hi,{key:function(s){if(s.key){var a=Pa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Sa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?xn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fi,charCode:function(s){return s.type==="keypress"?Sa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Sa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=dn(h),A=R({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=dn(A),Q=R({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fi}),oe=dn(Q),Ae=R({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=dn(Ae),Kt=R({},wo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),st=dn(Kt),tn=[9,13,27,32],jt=l&&"CompositionEvent"in window,_r=null;l&&"documentMode"in document&&(_r=document.documentMode);var ir=l&&"TextEvent"in window&&!_r,So=l&&(!jt||_r&&8<_r&&11>=_r),Oa=" ",Vy=!1;function jy(s,a){switch(s){case"keyup":return tn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Da=!1;function BC(s,a){switch(s){case"compositionend":return Hy(a);case"keypress":return a.which!==32?null:(Vy=!0,Oa);case"textInput":return s=a.data,s===Oa&&Vy?null:s;default:return null}}function VC(s,a){if(Da)return s==="compositionend"||!jt&&jy(s,a)?(s=el(),Un=wa=rr=null,Da=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return So&&a.locale!=="ko"?null:a.data;default:return null}}var jC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!jC[s.type]:a==="textarea"}function qy(s,a,c,f){ui(f),a=fd(a,"onChange"),0<a.length&&(c=new Ca("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var il=null,sl=null;function HC(s){uE(s,0)}function ld(s){var a=Ba(s);if(os(a))return s}function zC(s,a){if(s==="change")return a}var Wy=!1;if(l){var Qf;if(l){var Xf="oninput"in document;if(!Xf){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),Xf=typeof $y.oninput=="function"}Qf=Xf}else Qf=!1;Wy=Qf&&(!document.documentMode||9<document.documentMode)}function Yy(){il&&(il.detachEvent("onpropertychange",Gy),sl=il=null)}function Gy(s){if(s.propertyName==="value"&&ld(sl)){var a=[];qy(a,sl,s,fa(s)),Wu(HC,a)}}function qC(s,a,c){s==="focusin"?(Yy(),il=a,sl=c,il.attachEvent("onpropertychange",Gy)):s==="focusout"&&Yy()}function WC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ld(sl)}function $C(s,a){if(s==="click")return ld(a)}function YC(s,a){if(s==="input"||s==="change")return ld(a)}function GC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var $r=typeof Object.is=="function"?Object.is:GC;function ol(s,a){if($r(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!d.call(a,y)||!$r(s[y],a[y]))return!1}return!0}function Ky(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Qy(s,a){var c=Ky(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Ky(c)}}function Xy(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Xy(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Jy(){for(var s=window,a=oi();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=oi(s.document)}return a}function Jf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function KC(s){var a=Jy(),c=s.focusedElem,f=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Xy(c.ownerDocument.documentElement,c)){if(f!==null&&Jf(c)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,T=Math.min(f.start,y);f=f.end===void 0?T:Math.min(f.end,y),!s.extend&&T>f&&(y=f,f=T,T=y),y=Qy(c,T);var w=Qy(c,f);y&&w&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==w.node||s.focusOffset!==w.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),T>f?(s.addRange(a),s.extend(w.node,w.offset)):(a.setEnd(w.node,w.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var QC=l&&"documentMode"in document&&11>=document.documentMode,La=null,Zf=null,al=null,ep=!1;function Zy(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ep||La==null||La!==oi(f)||(f=La,"selectionStart"in f&&Jf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),al&&ol(al,f)||(al=f,f=fd(Zf,"onSelect"),0<f.length&&(a=new Ca("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=La)))}function cd(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Ma={animationend:cd("Animation","AnimationEnd"),animationiteration:cd("Animation","AnimationIteration"),animationstart:cd("Animation","AnimationStart"),transitionend:cd("Transition","TransitionEnd")},tp={},eE={};l&&(eE=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function dd(s){if(tp[s])return tp[s];if(!Ma[s])return s;var a=Ma[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in eE)return tp[s]=a[c];return s}var tE=dd("animationend"),nE=dd("animationiteration"),rE=dd("animationstart"),iE=dd("transitionend"),sE=new Map,oE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(s,a){sE.set(s,a),o(a,[s])}for(var np=0;np<oE.length;np++){var rp=oE[np],XC=rp.toLowerCase(),JC=rp[0].toUpperCase()+rp.slice(1);Ts(XC,"on"+JC)}Ts(tE,"onAnimationEnd"),Ts(nE,"onAnimationIteration"),Ts(rE,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(iE,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function aE(s,a,c){var f=s.type||"unknown-event";s.currentTarget=c,jc(f,a,void 0,s),s.currentTarget=null}function uE(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],y=f.event;f=f.listeners;e:{var T=void 0;if(a)for(var w=f.length-1;0<=w;w--){var B=f[w],z=B.instance,ne=B.currentTarget;if(B=B.listener,z!==T&&y.isPropagationStopped())break e;aE(y,B,ne),T=z}else for(w=0;w<f.length;w++){if(B=f[w],z=B.instance,ne=B.currentTarget,B=B.listener,z!==T&&y.isPropagationStopped())break e;aE(y,B,ne),T=z}}}if(Ur)throw s=$u,Ur=!1,$u=null,s}function Tt(s,a){var c=a[dp];c===void 0&&(c=a[dp]=new Set);var f=s+"__bubble";c.has(f)||(lE(a,s,2,!1),c.add(f))}function ip(s,a,c){var f=0;a&&(f|=4),lE(c,s,f,a)}var hd="_reactListening"+Math.random().toString(36).slice(2);function ll(s){if(!s[hd]){s[hd]=!0,r.forEach(function(c){c!=="selectionchange"&&(ZC.has(c)||ip(c,!1,s),ip(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[hd]||(a[hd]=!0,ip("selectionchange",!1,a))}}function lE(s,a,c,f){switch(Zu(a)){case 1:var y=It;break;case 4:y=Gf;break;default:y=Ju}c=y.bind(null,a,c,s),y=void 0,!ga||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?s.addEventListener(a,c,{capture:!0,passive:y}):s.addEventListener(a,c,!0):y!==void 0?s.addEventListener(a,c,{passive:y}):s.addEventListener(a,c,!1)}function sp(s,a,c,f,y){var T=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var B=f.stateNode.containerInfo;if(B===y||B.nodeType===8&&B.parentNode===y)break;if(w===4)for(w=f.return;w!==null;){var z=w.tag;if((z===3||z===4)&&(z=w.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;w=w.return}for(;B!==null;){if(w=Co(B),w===null)return;if(z=w.tag,z===5||z===6){f=T=w;continue e}B=B.parentNode}}f=f.return}Wu(function(){var ne=T,me=fa(c),ye=[];e:{var fe=sE.get(s);if(fe!==void 0){var we=Ca,Ne=s;switch(s){case"keypress":if(Sa(c)===0)break e;case"keydown":case"keyup":we=_;break;case"focusin":Ne="focus",we=xa;break;case"focusout":Ne="blur",we=xa;break;case"beforeblur":case"afterblur":we=xa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=oe;break;case tE:case nE:case rE:we=Ui;break;case iE:we=ht;break;case"scroll":we=Kf;break;case"wheel":we=st;break;case"copy":case"cut":case"paste":we=sd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=S}var xe=(a&4)!==0,Mt=!xe&&s==="scroll",X=xe?fe!==null?fe+"Capture":null:fe;xe=[];for(var Y=ne,ee;Y!==null;){ee=Y;var be=ee.stateNode;if(ee.tag===5&&be!==null&&(ee=be,X!==null&&(be=Lt(Y,X),be!=null&&xe.push(cl(Y,be,ee)))),Mt)break;Y=Y.return}0<xe.length&&(fe=new we(fe,Ne,null,c,me),ye.push({event:fe,listeners:xe}))}}if((a&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",we=s==="mouseout"||s==="pointerout",fe&&c!==ln&&(Ne=c.relatedTarget||c.fromElement)&&(Co(Ne)||Ne[Bi]))break e;if((we||fe)&&(fe=me.window===me?me:(fe=me.ownerDocument)?fe.defaultView||fe.parentWindow:window,we?(Ne=c.relatedTarget||c.toElement,we=ne,Ne=Ne?Co(Ne):null,Ne!==null&&(Mt=Br(Ne),Ne!==Mt||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(we=null,Ne=ne),we!==Ne)){if(xe=ka,be="onMouseLeave",X="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(xe=S,be="onPointerLeave",X="onPointerEnter",Y="pointer"),Mt=we==null?fe:Ba(we),ee=Ne==null?fe:Ba(Ne),fe=new xe(be,Y+"leave",we,c,me),fe.target=Mt,fe.relatedTarget=ee,be=null,Co(me)===ne&&(xe=new xe(X,Y+"enter",Ne,c,me),xe.target=ee,xe.relatedTarget=Mt,be=xe),Mt=be,we&&Ne)t:{for(xe=we,X=Ne,Y=0,ee=xe;ee;ee=Fa(ee))Y++;for(ee=0,be=X;be;be=Fa(be))ee++;for(;0<Y-ee;)xe=Fa(xe),Y--;for(;0<ee-Y;)X=Fa(X),ee--;for(;Y--;){if(xe===X||X!==null&&xe===X.alternate)break t;xe=Fa(xe),X=Fa(X)}xe=null}else xe=null;we!==null&&cE(ye,fe,we,xe,!1),Ne!==null&&Mt!==null&&cE(ye,Mt,Ne,xe,!0)}}e:{if(fe=ne?Ba(ne):window,we=fe.nodeName&&fe.nodeName.toLowerCase(),we==="select"||we==="input"&&fe.type==="file")var Pe=zC;else if(zy(fe))if(Wy)Pe=YC;else{Pe=WC;var Fe=qC}else(we=fe.nodeName)&&we.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Pe=$C);if(Pe&&(Pe=Pe(s,ne))){qy(ye,Pe,c,me);break e}Fe&&Fe(s,fe,ne),s==="focusout"&&(Fe=fe._wrapperState)&&Fe.controlled&&fe.type==="number"&&Pi(fe,"number",fe.value)}switch(Fe=ne?Ba(ne):window,s){case"focusin":(zy(Fe)||Fe.contentEditable==="true")&&(La=Fe,Zf=ne,al=null);break;case"focusout":al=Zf=La=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,Zy(ye,c,me);break;case"selectionchange":if(QC)break;case"keydown":case"keyup":Zy(ye,c,me)}var Ue;if(jt)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Da?jy(s,c)&&(He="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(He="onCompositionStart");He&&(So&&c.locale!=="ko"&&(Da||He!=="onCompositionStart"?He==="onCompositionEnd"&&Da&&(Ue=el()):(rr=me,wa="value"in rr?rr.value:rr.textContent,Da=!0)),Fe=fd(ne,He),0<Fe.length&&(He=new rl(He,s,null,c,me),ye.push({event:He,listeners:Fe}),Ue?He.data=Ue:(Ue=Hy(c),Ue!==null&&(He.data=Ue)))),(Ue=ir?BC(s,c):VC(s,c))&&(ne=fd(ne,"onBeforeInput"),0<ne.length&&(me=new rl("onBeforeInput","beforeinput",null,c,me),ye.push({event:me,listeners:ne}),me.data=Ue))}uE(ye,a)})}function cl(s,a,c){return{instance:s,listener:a,currentTarget:c}}function fd(s,a){for(var c=a+"Capture",f=[];s!==null;){var y=s,T=y.stateNode;y.tag===5&&T!==null&&(y=T,T=Lt(s,c),T!=null&&f.unshift(cl(s,T,y)),T=Lt(s,a),T!=null&&f.push(cl(s,T,y))),s=s.return}return f}function Fa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function cE(s,a,c,f,y){for(var T=a._reactName,w=[];c!==null&&c!==f;){var B=c,z=B.alternate,ne=B.stateNode;if(z!==null&&z===f)break;B.tag===5&&ne!==null&&(B=ne,y?(z=Lt(c,T),z!=null&&w.unshift(cl(c,z,B))):y||(z=Lt(c,T),z!=null&&w.push(cl(c,z,B)))),c=c.return}w.length!==0&&s.push({event:a,listeners:w})}var e2=/\r\n?/g,t2=/\u0000|\uFFFD/g;function dE(s){return(typeof s=="string"?s:""+s).replace(e2,`
`).replace(t2,"")}function pd(s,a,c){if(a=dE(a),dE(s)!==a&&c)throw Error(n(425))}function md(){}var op=null,ap=null;function up(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lp=typeof setTimeout=="function"?setTimeout:void 0,n2=typeof clearTimeout=="function"?clearTimeout:void 0,hE=typeof Promise=="function"?Promise:void 0,r2=typeof queueMicrotask=="function"?queueMicrotask:typeof hE<"u"?function(s){return hE.resolve(null).then(s).catch(i2)}:lp;function i2(s){setTimeout(function(){throw s})}function cp(s,a){var c=a,f=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(f===0){s.removeChild(y),qr(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=y}while(c);qr(a)}function vs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function fE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),pi="__reactFiber$"+Ua,dl="__reactProps$"+Ua,Bi="__reactContainer$"+Ua,dp="__reactEvents$"+Ua,s2="__reactListeners$"+Ua,o2="__reactHandles$"+Ua;function Co(s){var a=s[pi];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Bi]||c[pi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=fE(s);s!==null;){if(c=s[pi])return c;s=fE(s)}return a}s=c,c=s.parentNode}return null}function hl(s){return s=s[pi]||s[Bi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ba(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function gd(s){return s[dl]||null}var hp=[],Va=-1;function bs(s){return{current:s}}function vt(s){0>Va||(s.current=hp[Va],hp[Va]=null,Va--)}function mt(s,a){Va++,hp[Va]=s.current,s.current=a}var Is={},En=bs(Is),Bn=bs(!1),Ro=Is;function ja(s,a){var c=s.type.contextTypes;if(!c)return Is;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var y={},T;for(T in c)y[T]=a[T];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function Vn(s){return s=s.childContextTypes,s!=null}function yd(){vt(Bn),vt(En)}function pE(s,a,c){if(En.current!==Is)throw Error(n(168));mt(En,a),mt(Bn,c)}function mE(s,a,c){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var y in f)if(!(y in a))throw Error(n(108,Xe(s)||"Unknown",y));return R({},c,f)}function Ed(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Is,Ro=En.current,mt(En,s),mt(Bn,Bn.current),!0}function gE(s,a,c){var f=s.stateNode;if(!f)throw Error(n(169));c?(s=mE(s,a,Ro),f.__reactInternalMemoizedMergedChildContext=s,vt(Bn),vt(En),mt(En,s)):vt(Bn),mt(Bn,c)}var Vi=null,_d=!1,fp=!1;function yE(s){Vi===null?Vi=[s]:Vi.push(s)}function a2(s){_d=!0,yE(s)}function As(){if(!fp&&Vi!==null){fp=!0;var s=0,a=it;try{var c=Vi;for(it=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}Vi=null,_d=!1}catch(y){throw Vi!==null&&(Vi=Vi.slice(s+1)),Ta(_o,As),y}finally{it=a,fp=!1}}return null}var Ha=[],za=0,Td=null,vd=0,Tr=[],vr=0,ko=null,ji=1,Hi="";function No(s,a){Ha[za++]=vd,Ha[za++]=Td,Td=s,vd=a}function EE(s,a,c){Tr[vr++]=ji,Tr[vr++]=Hi,Tr[vr++]=ko,ko=s;var f=ji;s=Hi;var y=32-Nn(f)-1;f&=~(1<<y),c+=1;var T=32-Nn(a)+y;if(30<T){var w=y-y%5;T=(f&(1<<w)-1).toString(32),f>>=w,y-=w,ji=1<<32-Nn(a)+y|c<<y|f,Hi=T+s}else ji=1<<T|c<<y|f,Hi=s}function pp(s){s.return!==null&&(No(s,1),EE(s,1,0))}function mp(s){for(;s===Td;)Td=Ha[--za],Ha[za]=null,vd=Ha[--za],Ha[za]=null;for(;s===ko;)ko=Tr[--vr],Tr[vr]=null,Hi=Tr[--vr],Tr[vr]=null,ji=Tr[--vr],Tr[vr]=null}var sr=null,or=null,At=!1,Yr=null;function _E(s,a){var c=wr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function TE(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,sr=s,or=vs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,sr=s,or=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ko!==null?{id:ji,overflow:Hi}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=wr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,sr=s,or=null,!0):!1;default:return!1}}function gp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function yp(s){if(At){var a=or;if(a){var c=a;if(!TE(s,a)){if(gp(s))throw Error(n(418));a=vs(c.nextSibling);var f=sr;a&&TE(s,a)?_E(f,c):(s.flags=s.flags&-4097|2,At=!1,sr=s)}}else{if(gp(s))throw Error(n(418));s.flags=s.flags&-4097|2,At=!1,sr=s}}}function vE(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;sr=s}function bd(s){if(s!==sr)return!1;if(!At)return vE(s),At=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!up(s.type,s.memoizedProps)),a&&(a=or)){if(gp(s))throw bE(),Error(n(418));for(;a;)_E(s,a),a=vs(a.nextSibling)}if(vE(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){or=vs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}or=null}}else or=sr?vs(s.stateNode.nextSibling):null;return!0}function bE(){for(var s=or;s;)s=vs(s.nextSibling)}function qa(){or=sr=null,At=!1}function Ep(s){Yr===null?Yr=[s]:Yr.push(s)}var u2=G.ReactCurrentBatchConfig;function fl(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,s));var y=f,T=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===T?a.ref:(a=function(w){var B=y.refs;w===null?delete B[T]:B[T]=w},a._stringRef=T,a)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Id(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function IE(s){var a=s._init;return a(s._payload)}function AE(s){function a(X,Y){if(s){var ee=X.deletions;ee===null?(X.deletions=[Y],X.flags|=16):ee.push(Y)}}function c(X,Y){if(!s)return null;for(;Y!==null;)a(X,Y),Y=Y.sibling;return null}function f(X,Y){for(X=new Map;Y!==null;)Y.key!==null?X.set(Y.key,Y):X.set(Y.index,Y),Y=Y.sibling;return X}function y(X,Y){return X=Ps(X,Y),X.index=0,X.sibling=null,X}function T(X,Y,ee){return X.index=ee,s?(ee=X.alternate,ee!==null?(ee=ee.index,ee<Y?(X.flags|=2,Y):ee):(X.flags|=2,Y)):(X.flags|=1048576,Y)}function w(X){return s&&X.alternate===null&&(X.flags|=2),X}function B(X,Y,ee,be){return Y===null||Y.tag!==6?(Y=lm(ee,X.mode,be),Y.return=X,Y):(Y=y(Y,ee),Y.return=X,Y)}function z(X,Y,ee,be){var Pe=ee.type;return Pe===H?me(X,Y,ee.props.children,be,ee.key):Y!==null&&(Y.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Ce&&IE(Pe)===Y.type)?(be=y(Y,ee.props),be.ref=fl(X,Y,ee),be.return=X,be):(be=Yd(ee.type,ee.key,ee.props,null,X.mode,be),be.ref=fl(X,Y,ee),be.return=X,be)}function ne(X,Y,ee,be){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=cm(ee,X.mode,be),Y.return=X,Y):(Y=y(Y,ee.children||[]),Y.return=X,Y)}function me(X,Y,ee,be,Pe){return Y===null||Y.tag!==7?(Y=Uo(ee,X.mode,be,Pe),Y.return=X,Y):(Y=y(Y,ee),Y.return=X,Y)}function ye(X,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=lm(""+Y,X.mode,ee),Y.return=X,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _e:return ee=Yd(Y.type,Y.key,Y.props,null,X.mode,ee),ee.ref=fl(X,null,Y),ee.return=X,ee;case Z:return Y=cm(Y,X.mode,ee),Y.return=X,Y;case Ce:var be=Y._init;return ye(X,be(Y._payload),ee)}if(pr(Y)||Ie(Y))return Y=Uo(Y,X.mode,ee,null),Y.return=X,Y;Id(X,Y)}return null}function fe(X,Y,ee,be){var Pe=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Pe!==null?null:B(X,Y,""+ee,be);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _e:return ee.key===Pe?z(X,Y,ee,be):null;case Z:return ee.key===Pe?ne(X,Y,ee,be):null;case Ce:return Pe=ee._init,fe(X,Y,Pe(ee._payload),be)}if(pr(ee)||Ie(ee))return Pe!==null?null:me(X,Y,ee,be,null);Id(X,ee)}return null}function we(X,Y,ee,be,Pe){if(typeof be=="string"&&be!==""||typeof be=="number")return X=X.get(ee)||null,B(Y,X,""+be,Pe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case _e:return X=X.get(be.key===null?ee:be.key)||null,z(Y,X,be,Pe);case Z:return X=X.get(be.key===null?ee:be.key)||null,ne(Y,X,be,Pe);case Ce:var Fe=be._init;return we(X,Y,ee,Fe(be._payload),Pe)}if(pr(be)||Ie(be))return X=X.get(ee)||null,me(Y,X,be,Pe,null);Id(Y,be)}return null}function Ne(X,Y,ee,be){for(var Pe=null,Fe=null,Ue=Y,He=Y=0,sn=null;Ue!==null&&He<ee.length;He++){Ue.index>He?(sn=Ue,Ue=null):sn=Ue.sibling;var lt=fe(X,Ue,ee[He],be);if(lt===null){Ue===null&&(Ue=sn);break}s&&Ue&&lt.alternate===null&&a(X,Ue),Y=T(lt,Y,He),Fe===null?Pe=lt:Fe.sibling=lt,Fe=lt,Ue=sn}if(He===ee.length)return c(X,Ue),At&&No(X,He),Pe;if(Ue===null){for(;He<ee.length;He++)Ue=ye(X,ee[He],be),Ue!==null&&(Y=T(Ue,Y,He),Fe===null?Pe=Ue:Fe.sibling=Ue,Fe=Ue);return At&&No(X,He),Pe}for(Ue=f(X,Ue);He<ee.length;He++)sn=we(Ue,X,He,ee[He],be),sn!==null&&(s&&sn.alternate!==null&&Ue.delete(sn.key===null?He:sn.key),Y=T(sn,Y,He),Fe===null?Pe=sn:Fe.sibling=sn,Fe=sn);return s&&Ue.forEach(function(Os){return a(X,Os)}),At&&No(X,He),Pe}function xe(X,Y,ee,be){var Pe=Ie(ee);if(typeof Pe!="function")throw Error(n(150));if(ee=Pe.call(ee),ee==null)throw Error(n(151));for(var Fe=Pe=null,Ue=Y,He=Y=0,sn=null,lt=ee.next();Ue!==null&&!lt.done;He++,lt=ee.next()){Ue.index>He?(sn=Ue,Ue=null):sn=Ue.sibling;var Os=fe(X,Ue,lt.value,be);if(Os===null){Ue===null&&(Ue=sn);break}s&&Ue&&Os.alternate===null&&a(X,Ue),Y=T(Os,Y,He),Fe===null?Pe=Os:Fe.sibling=Os,Fe=Os,Ue=sn}if(lt.done)return c(X,Ue),At&&No(X,He),Pe;if(Ue===null){for(;!lt.done;He++,lt=ee.next())lt=ye(X,lt.value,be),lt!==null&&(Y=T(lt,Y,He),Fe===null?Pe=lt:Fe.sibling=lt,Fe=lt);return At&&No(X,He),Pe}for(Ue=f(X,Ue);!lt.done;He++,lt=ee.next())lt=we(Ue,X,He,lt.value,be),lt!==null&&(s&&lt.alternate!==null&&Ue.delete(lt.key===null?He:lt.key),Y=T(lt,Y,He),Fe===null?Pe=lt:Fe.sibling=lt,Fe=lt);return s&&Ue.forEach(function(j2){return a(X,j2)}),At&&No(X,He),Pe}function Mt(X,Y,ee,be){if(typeof ee=="object"&&ee!==null&&ee.type===H&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _e:e:{for(var Pe=ee.key,Fe=Y;Fe!==null;){if(Fe.key===Pe){if(Pe=ee.type,Pe===H){if(Fe.tag===7){c(X,Fe.sibling),Y=y(Fe,ee.props.children),Y.return=X,X=Y;break e}}else if(Fe.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Ce&&IE(Pe)===Fe.type){c(X,Fe.sibling),Y=y(Fe,ee.props),Y.ref=fl(X,Fe,ee),Y.return=X,X=Y;break e}c(X,Fe);break}else a(X,Fe);Fe=Fe.sibling}ee.type===H?(Y=Uo(ee.props.children,X.mode,be,ee.key),Y.return=X,X=Y):(be=Yd(ee.type,ee.key,ee.props,null,X.mode,be),be.ref=fl(X,Y,ee),be.return=X,X=be)}return w(X);case Z:e:{for(Fe=ee.key;Y!==null;){if(Y.key===Fe)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){c(X,Y.sibling),Y=y(Y,ee.children||[]),Y.return=X,X=Y;break e}else{c(X,Y);break}else a(X,Y);Y=Y.sibling}Y=cm(ee,X.mode,be),Y.return=X,X=Y}return w(X);case Ce:return Fe=ee._init,Mt(X,Y,Fe(ee._payload),be)}if(pr(ee))return Ne(X,Y,ee,be);if(Ie(ee))return xe(X,Y,ee,be);Id(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,Y!==null&&Y.tag===6?(c(X,Y.sibling),Y=y(Y,ee),Y.return=X,X=Y):(c(X,Y),Y=lm(ee,X.mode,be),Y.return=X,X=Y),w(X)):c(X,Y)}return Mt}var Wa=AE(!0),wE=AE(!1),Ad=bs(null),wd=null,$a=null,_p=null;function Tp(){_p=$a=wd=null}function vp(s){var a=Ad.current;vt(Ad),s._currentValue=a}function bp(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function Ya(s,a){wd=s,_p=$a=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(jn=!0),s.firstContext=null)}function br(s){var a=s._currentValue;if(_p!==s)if(s={context:s,memoizedValue:a,next:null},$a===null){if(wd===null)throw Error(n(308));$a=s,wd.dependencies={lanes:0,firstContext:s}}else $a=$a.next=s;return a}var xo=null;function Ip(s){xo===null?xo=[s]:xo.push(s)}function SE(s,a,c,f){var y=a.interleaved;return y===null?(c.next=c,Ip(a)):(c.next=y.next,y.next=c),a.interleaved=c,zi(s,f)}function zi(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var ws=!1;function Ap(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CE(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function qi(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ss(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(ut&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,zi(s,c)}return y=f.interleaved,y===null?(a.next=a,Ip(f)):(a.next=y.next,y.next=a),f.interleaved=a,zi(s,c)}function Sd(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,ms(s,c)}}function RE(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,T=null;if(c=c.firstBaseUpdate,c!==null){do{var w={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};T===null?y=T=w:T=T.next=w,c=c.next}while(c!==null);T===null?y=T=a:T=T.next=a}else y=T=a;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:T,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Cd(s,a,c,f){var y=s.updateQueue;ws=!1;var T=y.firstBaseUpdate,w=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var z=B,ne=z.next;z.next=null,w===null?T=ne:w.next=ne,w=z;var me=s.alternate;me!==null&&(me=me.updateQueue,B=me.lastBaseUpdate,B!==w&&(B===null?me.firstBaseUpdate=ne:B.next=ne,me.lastBaseUpdate=z))}if(T!==null){var ye=y.baseState;w=0,me=ne=z=null,B=T;do{var fe=B.lane,we=B.eventTime;if((f&fe)===fe){me!==null&&(me=me.next={eventTime:we,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ne=s,xe=B;switch(fe=a,we=c,xe.tag){case 1:if(Ne=xe.payload,typeof Ne=="function"){ye=Ne.call(we,ye,fe);break e}ye=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=xe.payload,fe=typeof Ne=="function"?Ne.call(we,ye,fe):Ne,fe==null)break e;ye=R({},ye,fe);break e;case 2:ws=!0}}B.callback!==null&&B.lane!==0&&(s.flags|=64,fe=y.effects,fe===null?y.effects=[B]:fe.push(B))}else we={eventTime:we,lane:fe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},me===null?(ne=me=we,z=ye):me=me.next=we,w|=fe;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;fe=B,B=fe.next,fe.next=null,y.lastBaseUpdate=fe,y.shared.pending=null}}while(!0);if(me===null&&(z=ye),y.baseState=z,y.firstBaseUpdate=ne,y.lastBaseUpdate=me,a=y.shared.interleaved,a!==null){y=a;do w|=y.lane,y=y.next;while(y!==a)}else T===null&&(y.shared.lanes=0);Do|=w,s.lanes=w,s.memoizedState=ye}}function kE(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],y=f.callback;if(y!==null){if(f.callback=null,f=c,typeof y!="function")throw Error(n(191,y));y.call(f)}}}var pl={},mi=bs(pl),ml=bs(pl),gl=bs(pl);function Po(s){if(s===pl)throw Error(n(174));return s}function wp(s,a){switch(mt(gl,a),mt(ml,s),mt(mi,pl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ge(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ge(a,s)}vt(mi),mt(mi,a)}function Ga(){vt(mi),vt(ml),vt(gl)}function NE(s){Po(gl.current);var a=Po(mi.current),c=ge(a,s.type);a!==c&&(mt(ml,s),mt(mi,c))}function Sp(s){ml.current===s&&(vt(mi),vt(ml))}var Rt=bs(0);function Rd(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Cp=[];function Rp(){for(var s=0;s<Cp.length;s++)Cp[s]._workInProgressVersionPrimary=null;Cp.length=0}var kd=G.ReactCurrentDispatcher,kp=G.ReactCurrentBatchConfig,Oo=0,kt=null,Qt=null,nn=null,Nd=!1,yl=!1,El=0,l2=0;function _n(){throw Error(n(321))}function Np(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!$r(s[c],a[c]))return!1;return!0}function xp(s,a,c,f,y,T){if(Oo=T,kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,kd.current=s===null||s.memoizedState===null?f2:p2,s=c(f,y),yl){T=0;do{if(yl=!1,El=0,25<=T)throw Error(n(301));T+=1,nn=Qt=null,a.updateQueue=null,kd.current=m2,s=c(f,y)}while(yl)}if(kd.current=Od,a=Qt!==null&&Qt.next!==null,Oo=0,nn=Qt=kt=null,Nd=!1,a)throw Error(n(300));return s}function Pp(){var s=El!==0;return El=0,s}function gi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?kt.memoizedState=nn=s:nn=nn.next=s,nn}function Ir(){if(Qt===null){var s=kt.alternate;s=s!==null?s.memoizedState:null}else s=Qt.next;var a=nn===null?kt.memoizedState:nn.next;if(a!==null)nn=a,Qt=s;else{if(s===null)throw Error(n(310));Qt=s,s={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},nn===null?kt.memoizedState=nn=s:nn=nn.next=s}return nn}function _l(s,a){return typeof a=="function"?a(s):a}function Op(s){var a=Ir(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=Qt,y=f.baseQueue,T=c.pending;if(T!==null){if(y!==null){var w=y.next;y.next=T.next,T.next=w}f.baseQueue=y=T,c.pending=null}if(y!==null){T=y.next,f=f.baseState;var B=w=null,z=null,ne=T;do{var me=ne.lane;if((Oo&me)===me)z!==null&&(z=z.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),f=ne.hasEagerState?ne.eagerState:s(f,ne.action);else{var ye={lane:me,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};z===null?(B=z=ye,w=f):z=z.next=ye,kt.lanes|=me,Do|=me}ne=ne.next}while(ne!==null&&ne!==T);z===null?w=f:z.next=B,$r(f,a.memoizedState)||(jn=!0),a.memoizedState=f,a.baseState=w,a.baseQueue=z,c.lastRenderedState=f}if(s=c.interleaved,s!==null){y=s;do T=y.lane,kt.lanes|=T,Do|=T,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Dp(s){var a=Ir(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=c.dispatch,y=c.pending,T=a.memoizedState;if(y!==null){c.pending=null;var w=y=y.next;do T=s(T,w.action),w=w.next;while(w!==y);$r(T,a.memoizedState)||(jn=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),c.lastRenderedState=T}return[T,f]}function xE(){}function PE(s,a){var c=kt,f=Ir(),y=a(),T=!$r(f.memoizedState,y);if(T&&(f.memoizedState=y,jn=!0),f=f.queue,Lp(LE.bind(null,c,f,s),[s]),f.getSnapshot!==a||T||nn!==null&&nn.memoizedState.tag&1){if(c.flags|=2048,Tl(9,DE.bind(null,c,f,y,a),void 0,null),rn===null)throw Error(n(349));(Oo&30)!==0||OE(c,a,y)}return y}function OE(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function DE(s,a,c,f){a.value=c,a.getSnapshot=f,ME(a)&&FE(s)}function LE(s,a,c){return c(function(){ME(a)&&FE(s)})}function ME(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!$r(s,c)}catch{return!0}}function FE(s){var a=zi(s,1);a!==null&&Xr(a,s,1,-1)}function UE(s){var a=gi();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:s},a.queue=s,s=s.dispatch=h2.bind(null,kt,s),[a.memoizedState,s]}function Tl(s,a,c,f){return s={tag:s,create:a,destroy:c,deps:f,next:null},a=kt.updateQueue,a===null?(a={lastEffect:null,stores:null},kt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s)),s}function BE(){return Ir().memoizedState}function xd(s,a,c,f){var y=gi();kt.flags|=s,y.memoizedState=Tl(1|a,c,void 0,f===void 0?null:f)}function Pd(s,a,c,f){var y=Ir();f=f===void 0?null:f;var T=void 0;if(Qt!==null){var w=Qt.memoizedState;if(T=w.destroy,f!==null&&Np(f,w.deps)){y.memoizedState=Tl(a,c,T,f);return}}kt.flags|=s,y.memoizedState=Tl(1|a,c,T,f)}function VE(s,a){return xd(8390656,8,s,a)}function Lp(s,a){return Pd(2048,8,s,a)}function jE(s,a){return Pd(4,2,s,a)}function HE(s,a){return Pd(4,4,s,a)}function zE(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function qE(s,a,c){return c=c!=null?c.concat([s]):null,Pd(4,4,zE.bind(null,a,s),c)}function Mp(){}function WE(s,a){var c=Ir();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Np(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function $E(s,a){var c=Ir();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Np(a,f[1])?f[0]:(s=s(),c.memoizedState=[s,a],s)}function YE(s,a,c){return(Oo&21)===0?(s.baseState&&(s.baseState=!1,jn=!0),s.memoizedState=c):($r(c,a)||(c=bo(),kt.lanes|=c,Do|=c,s.baseState=!0),a)}function c2(s,a){var c=it;it=c!==0&&4>c?c:4,s(!0);var f=kp.transition;kp.transition={};try{s(!1),a()}finally{it=c,kp.transition=f}}function GE(){return Ir().memoizedState}function d2(s,a,c){var f=Ns(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},KE(s))QE(a,c);else if(c=SE(s,a,c,f),c!==null){var y=On();Xr(c,s,f,y),XE(c,a,f)}}function h2(s,a,c){var f=Ns(s),y={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(KE(s))QE(a,y);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var w=a.lastRenderedState,B=T(w,c);if(y.hasEagerState=!0,y.eagerState=B,$r(B,w)){var z=a.interleaved;z===null?(y.next=y,Ip(a)):(y.next=z.next,z.next=y),a.interleaved=y;return}}catch{}finally{}c=SE(s,a,y,f),c!==null&&(y=On(),Xr(c,s,f,y),XE(c,a,f))}}function KE(s){var a=s.alternate;return s===kt||a!==null&&a===kt}function QE(s,a){yl=Nd=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function XE(s,a,c){if((c&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,ms(s,c)}}var Od={readContext:br,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},f2={readContext:br,useCallback:function(s,a){return gi().memoizedState=[s,a===void 0?null:a],s},useContext:br,useEffect:VE,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,xd(4194308,4,zE.bind(null,a,s),c)},useLayoutEffect:function(s,a){return xd(4194308,4,s,a)},useInsertionEffect:function(s,a){return xd(4,2,s,a)},useMemo:function(s,a){var c=gi();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var f=gi();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=d2.bind(null,kt,s),[f.memoizedState,s]},useRef:function(s){var a=gi();return s={current:s},a.memoizedState=s},useState:UE,useDebugValue:Mp,useDeferredValue:function(s){return gi().memoizedState=s},useTransition:function(){var s=UE(!1),a=s[0];return s=c2.bind(null,s[1]),gi().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var f=kt,y=gi();if(At){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),rn===null)throw Error(n(349));(Oo&30)!==0||OE(f,a,c)}y.memoizedState=c;var T={value:c,getSnapshot:a};return y.queue=T,VE(LE.bind(null,f,T,s),[s]),f.flags|=2048,Tl(9,DE.bind(null,f,T,c,a),void 0,null),c},useId:function(){var s=gi(),a=rn.identifierPrefix;if(At){var c=Hi,f=ji;c=(f&~(1<<32-Nn(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=El++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=l2++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},p2={readContext:br,useCallback:WE,useContext:br,useEffect:Lp,useImperativeHandle:qE,useInsertionEffect:jE,useLayoutEffect:HE,useMemo:$E,useReducer:Op,useRef:BE,useState:function(){return Op(_l)},useDebugValue:Mp,useDeferredValue:function(s){var a=Ir();return YE(a,Qt.memoizedState,s)},useTransition:function(){var s=Op(_l)[0],a=Ir().memoizedState;return[s,a]},useMutableSource:xE,useSyncExternalStore:PE,useId:GE,unstable_isNewReconciler:!1},m2={readContext:br,useCallback:WE,useContext:br,useEffect:Lp,useImperativeHandle:qE,useInsertionEffect:jE,useLayoutEffect:HE,useMemo:$E,useReducer:Dp,useRef:BE,useState:function(){return Dp(_l)},useDebugValue:Mp,useDeferredValue:function(s){var a=Ir();return Qt===null?a.memoizedState=s:YE(a,Qt.memoizedState,s)},useTransition:function(){var s=Dp(_l)[0],a=Ir().memoizedState;return[s,a]},useMutableSource:xE,useSyncExternalStore:PE,useId:GE,unstable_isNewReconciler:!1};function Gr(s,a){if(s&&s.defaultProps){a=R({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Fp(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:R({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Dd={isMounted:function(s){return(s=s._reactInternals)?Br(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var f=On(),y=Ns(s),T=qi(f,y);T.payload=a,c!=null&&(T.callback=c),a=Ss(s,T,y),a!==null&&(Xr(a,s,y,f),Sd(a,s,y))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=On(),y=Ns(s),T=qi(f,y);T.tag=1,T.payload=a,c!=null&&(T.callback=c),a=Ss(s,T,y),a!==null&&(Xr(a,s,y,f),Sd(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=On(),f=Ns(s),y=qi(c,f);y.tag=2,a!=null&&(y.callback=a),a=Ss(s,y,f),a!==null&&(Xr(a,s,f,c),Sd(a,s,f))}};function JE(s,a,c,f,y,T,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,T,w):a.prototype&&a.prototype.isPureReactComponent?!ol(c,f)||!ol(y,T):!0}function ZE(s,a,c){var f=!1,y=Is,T=a.contextType;return typeof T=="object"&&T!==null?T=br(T):(y=Vn(a)?Ro:En.current,f=a.contextTypes,T=(f=f!=null)?ja(s,y):Is),a=new a(c,T),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Dd,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=T),a}function e_(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&Dd.enqueueReplaceState(a,a.state,null)}function Up(s,a,c,f){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},Ap(s);var T=a.contextType;typeof T=="object"&&T!==null?y.context=br(T):(T=Vn(a)?Ro:En.current,y.context=ja(s,T)),y.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Fp(s,a,T,c),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Dd.enqueueReplaceState(y,y.state,null),Cd(s,c,y,f),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Ka(s,a){try{var c="",f=a;do c+=je(f),f=f.return;while(f);var y=c}catch(T){y=`
Error generating stack: `+T.message+`
`+T.stack}return{value:s,source:a,stack:y,digest:null}}function Bp(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Vp(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var g2=typeof WeakMap=="function"?WeakMap:Map;function t_(s,a,c){c=qi(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){jd||(jd=!0,tm=f),Vp(s,a)},c}function n_(s,a,c){c=qi(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var y=a.value;c.payload=function(){return f(y)},c.callback=function(){Vp(s,a)}}var T=s.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(c.callback=function(){Vp(s,a),typeof f!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var w=a.stack;this.componentDidCatch(a.value,{componentStack:w!==null?w:""})}),c}function r_(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new g2;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(c)||(y.add(c),s=N2.bind(null,s,a,c),a.then(s,s))}function i_(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function s_(s,a,c,f,y){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=qi(-1,1),a.tag=2,Ss(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var y2=G.ReactCurrentOwner,jn=!1;function Pn(s,a,c,f){a.child=s===null?wE(a,null,c,f):Wa(a,s.child,c,f)}function o_(s,a,c,f,y){c=c.render;var T=a.ref;return Ya(a,y),f=xp(s,a,c,f,T,y),c=Pp(),s!==null&&!jn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Wi(s,a,y)):(At&&c&&pp(a),a.flags|=1,Pn(s,a,f,y),a.child)}function a_(s,a,c,f,y){if(s===null){var T=c.type;return typeof T=="function"&&!um(T)&&T.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=T,u_(s,a,T,f,y)):(s=Yd(c.type,null,f,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(T=s.child,(s.lanes&y)===0){var w=T.memoizedProps;if(c=c.compare,c=c!==null?c:ol,c(w,f)&&s.ref===a.ref)return Wi(s,a,y)}return a.flags|=1,s=Ps(T,f),s.ref=a.ref,s.return=a,a.child=s}function u_(s,a,c,f,y){if(s!==null){var T=s.memoizedProps;if(ol(T,f)&&s.ref===a.ref)if(jn=!1,a.pendingProps=f=T,(s.lanes&y)!==0)(s.flags&131072)!==0&&(jn=!0);else return a.lanes=s.lanes,Wi(s,a,y)}return jp(s,a,c,f,y)}function l_(s,a,c){var f=a.pendingProps,y=f.children,T=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Xa,ar),ar|=c;else{if((c&1073741824)===0)return s=T!==null?T.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,mt(Xa,ar),ar|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=T!==null?T.baseLanes:c,mt(Xa,ar),ar|=f}else T!==null?(f=T.baseLanes|c,a.memoizedState=null):f=c,mt(Xa,ar),ar|=f;return Pn(s,a,y,c),a.child}function c_(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function jp(s,a,c,f,y){var T=Vn(c)?Ro:En.current;return T=ja(a,T),Ya(a,y),c=xp(s,a,c,f,T,y),f=Pp(),s!==null&&!jn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Wi(s,a,y)):(At&&f&&pp(a),a.flags|=1,Pn(s,a,c,y),a.child)}function d_(s,a,c,f,y){if(Vn(c)){var T=!0;Ed(a)}else T=!1;if(Ya(a,y),a.stateNode===null)Md(s,a),ZE(a,c,f),Up(a,c,f,y),f=!0;else if(s===null){var w=a.stateNode,B=a.memoizedProps;w.props=B;var z=w.context,ne=c.contextType;typeof ne=="object"&&ne!==null?ne=br(ne):(ne=Vn(c)?Ro:En.current,ne=ja(a,ne));var me=c.getDerivedStateFromProps,ye=typeof me=="function"||typeof w.getSnapshotBeforeUpdate=="function";ye||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(B!==f||z!==ne)&&e_(a,w,f,ne),ws=!1;var fe=a.memoizedState;w.state=fe,Cd(a,f,w,y),z=a.memoizedState,B!==f||fe!==z||Bn.current||ws?(typeof me=="function"&&(Fp(a,c,me,f),z=a.memoizedState),(B=ws||JE(a,c,B,f,fe,z,ne))?(ye||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=z),w.props=f,w.state=z,w.context=ne,f=B):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{w=a.stateNode,CE(s,a),B=a.memoizedProps,ne=a.type===a.elementType?B:Gr(a.type,B),w.props=ne,ye=a.pendingProps,fe=w.context,z=c.contextType,typeof z=="object"&&z!==null?z=br(z):(z=Vn(c)?Ro:En.current,z=ja(a,z));var we=c.getDerivedStateFromProps;(me=typeof we=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(B!==ye||fe!==z)&&e_(a,w,f,z),ws=!1,fe=a.memoizedState,w.state=fe,Cd(a,f,w,y);var Ne=a.memoizedState;B!==ye||fe!==Ne||Bn.current||ws?(typeof we=="function"&&(Fp(a,c,we,f),Ne=a.memoizedState),(ne=ws||JE(a,c,ne,f,fe,Ne,z)||!1)?(me||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,Ne,z),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,Ne,z)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Ne),w.props=f,w.state=Ne,w.context=z,f=ne):(typeof w.componentDidUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),f=!1)}return Hp(s,a,c,f,T,y)}function Hp(s,a,c,f,y,T){c_(s,a);var w=(a.flags&128)!==0;if(!f&&!w)return y&&gE(a,c,!1),Wi(s,a,T);f=a.stateNode,y2.current=a;var B=w&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&w?(a.child=Wa(a,s.child,null,T),a.child=Wa(a,null,B,T)):Pn(s,a,B,T),a.memoizedState=f.state,y&&gE(a,c,!0),a.child}function h_(s){var a=s.stateNode;a.pendingContext?pE(s,a.pendingContext,a.pendingContext!==a.context):a.context&&pE(s,a.context,!1),wp(s,a.containerInfo)}function f_(s,a,c,f,y){return qa(),Ep(y),a.flags|=256,Pn(s,a,c,f),a.child}var zp={dehydrated:null,treeContext:null,retryLane:0};function qp(s){return{baseLanes:s,cachePool:null,transitions:null}}function p_(s,a,c){var f=a.pendingProps,y=Rt.current,T=!1,w=(a.flags&128)!==0,B;if((B=w)||(B=s!==null&&s.memoizedState===null?!1:(y&2)!==0),B?(T=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),mt(Rt,y&1),s===null)return yp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(w=f.children,s=f.fallback,T?(f=a.mode,T=a.child,w={mode:"hidden",children:w},(f&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=w):T=Gd(w,f,0,null),s=Uo(s,f,c,null),T.return=a,s.return=a,T.sibling=s,a.child=T,a.child.memoizedState=qp(c),a.memoizedState=zp,s):Wp(a,w));if(y=s.memoizedState,y!==null&&(B=y.dehydrated,B!==null))return E2(s,a,w,f,B,y,c);if(T){T=f.fallback,w=a.mode,y=s.child,B=y.sibling;var z={mode:"hidden",children:f.children};return(w&1)===0&&a.child!==y?(f=a.child,f.childLanes=0,f.pendingProps=z,a.deletions=null):(f=Ps(y,z),f.subtreeFlags=y.subtreeFlags&14680064),B!==null?T=Ps(B,T):(T=Uo(T,w,c,null),T.flags|=2),T.return=a,f.return=a,f.sibling=T,a.child=f,f=T,T=a.child,w=s.child.memoizedState,w=w===null?qp(c):{baseLanes:w.baseLanes|c,cachePool:null,transitions:w.transitions},T.memoizedState=w,T.childLanes=s.childLanes&~c,a.memoizedState=zp,f}return T=s.child,s=T.sibling,f=Ps(T,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=f,a.memoizedState=null,f}function Wp(s,a){return a=Gd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ld(s,a,c,f){return f!==null&&Ep(f),Wa(a,s.child,null,c),s=Wp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function E2(s,a,c,f,y,T,w){if(c)return a.flags&256?(a.flags&=-257,f=Bp(Error(n(422))),Ld(s,a,w,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(T=f.fallback,y=a.mode,f=Gd({mode:"visible",children:f.children},y,0,null),T=Uo(T,y,w,null),T.flags|=2,f.return=a,T.return=a,f.sibling=T,a.child=f,(a.mode&1)!==0&&Wa(a,s.child,null,w),a.child.memoizedState=qp(w),a.memoizedState=zp,T);if((a.mode&1)===0)return Ld(s,a,w,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var B=f.dgst;return f=B,T=Error(n(419)),f=Bp(T,f,void 0),Ld(s,a,w,f)}if(B=(w&s.childLanes)!==0,jn||B){if(f=rn,f!==null){switch(w&-w){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|w))!==0?0:y,y!==0&&y!==T.retryLane&&(T.retryLane=y,zi(s,y),Xr(f,s,y,-1))}return am(),f=Bp(Error(n(421))),Ld(s,a,w,f)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=x2.bind(null,s),y._reactRetry=a,null):(s=T.treeContext,or=vs(y.nextSibling),sr=a,At=!0,Yr=null,s!==null&&(Tr[vr++]=ji,Tr[vr++]=Hi,Tr[vr++]=ko,ji=s.id,Hi=s.overflow,ko=a),a=Wp(a,f.children),a.flags|=4096,a)}function m_(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),bp(s.return,a,c)}function $p(s,a,c,f,y){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=f,T.tail=c,T.tailMode=y)}function g_(s,a,c){var f=a.pendingProps,y=f.revealOrder,T=f.tail;if(Pn(s,a,f.children,c),f=Rt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&m_(s,c,a);else if(s.tag===19)m_(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(mt(Rt,f),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)s=c.alternate,s!==null&&Rd(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),$p(a,!1,y,c,T);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&Rd(s)===null){a.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}$p(a,!0,c,null,T);break;case"together":$p(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Md(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Wi(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Do|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,c=Ps(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Ps(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function _2(s,a,c){switch(a.tag){case 3:h_(a),qa();break;case 5:NE(a);break;case 1:Vn(a.type)&&Ed(a);break;case 4:wp(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,y=a.memoizedProps.value;mt(Ad,f._currentValue),f._currentValue=y;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(mt(Rt,Rt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?p_(s,a,c):(mt(Rt,Rt.current&1),s=Wi(s,a,c),s!==null?s.sibling:null);mt(Rt,Rt.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(s.flags&128)!==0){if(f)return g_(s,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),mt(Rt,Rt.current),f)break;return null;case 22:case 23:return a.lanes=0,l_(s,a,c)}return Wi(s,a,c)}var y_,Yp,E_,__;y_=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Yp=function(){},E_=function(s,a,c,f){var y=s.memoizedProps;if(y!==f){s=a.stateNode,Po(mi.current);var T=null;switch(c){case"input":y=Ni(s,y),f=Ni(s,f),T=[];break;case"select":y=R({},y,{value:void 0}),f=R({},f,{value:void 0}),T=[];break;case"textarea":y=fo(s,y),f=fo(s,f),T=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=md)}Gt(c,f);var w;c=null;for(ne in y)if(!f.hasOwnProperty(ne)&&y.hasOwnProperty(ne)&&y[ne]!=null)if(ne==="style"){var B=y[ne];for(w in B)B.hasOwnProperty(w)&&(c||(c={}),c[w]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?T||(T=[]):(T=T||[]).push(ne,null));for(ne in f){var z=f[ne];if(B=y!=null?y[ne]:void 0,f.hasOwnProperty(ne)&&z!==B&&(z!=null||B!=null))if(ne==="style")if(B){for(w in B)!B.hasOwnProperty(w)||z&&z.hasOwnProperty(w)||(c||(c={}),c[w]="");for(w in z)z.hasOwnProperty(w)&&B[w]!==z[w]&&(c||(c={}),c[w]=z[w])}else c||(T||(T=[]),T.push(ne,c)),c=z;else ne==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,B=B?B.__html:void 0,z!=null&&B!==z&&(T=T||[]).push(ne,z)):ne==="children"?typeof z!="string"&&typeof z!="number"||(T=T||[]).push(ne,""+z):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(z!=null&&ne==="onScroll"&&Tt("scroll",s),T||B===z||(T=[])):(T=T||[]).push(ne,z))}c&&(T=T||[]).push("style",c);var ne=T;(a.updateQueue=ne)&&(a.flags|=4)}},__=function(s,a,c,f){c!==f&&(a.flags|=4)};function vl(s,a){if(!At)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Tn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function T2(s,a,c){var f=a.pendingProps;switch(mp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(a),null;case 1:return Vn(a.type)&&yd(),Tn(a),null;case 3:return f=a.stateNode,Ga(),vt(Bn),vt(En),Rp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(bd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Yr!==null&&(im(Yr),Yr=null))),Yp(s,a),Tn(a),null;case 5:Sp(a);var y=Po(gl.current);if(c=a.type,s!==null&&a.stateNode!=null)E_(s,a,c,f,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(n(166));return Tn(a),null}if(s=Po(mi.current),bd(a)){f=a.stateNode,c=a.type;var T=a.memoizedProps;switch(f[pi]=a,f[dl]=T,s=(a.mode&1)!==0,c){case"dialog":Tt("cancel",f),Tt("close",f);break;case"iframe":case"object":case"embed":Tt("load",f);break;case"video":case"audio":for(y=0;y<ul.length;y++)Tt(ul[y],f);break;case"source":Tt("error",f);break;case"img":case"image":case"link":Tt("error",f),Tt("load",f);break;case"details":Tt("toggle",f);break;case"input":xi(f,T),Tt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!T.multiple},Tt("invalid",f);break;case"textarea":ls(f,T),Tt("invalid",f)}Gt(c,T),y=null;for(var w in T)if(T.hasOwnProperty(w)){var B=T[w];w==="children"?typeof B=="string"?f.textContent!==B&&(T.suppressHydrationWarning!==!0&&pd(f.textContent,B,s),y=["children",B]):typeof B=="number"&&f.textContent!==""+B&&(T.suppressHydrationWarning!==!0&&pd(f.textContent,B,s),y=["children",""+B]):i.hasOwnProperty(w)&&B!=null&&w==="onScroll"&&Tt("scroll",f)}switch(c){case"input":Mn(f),ha(f,T,!0);break;case"textarea":Mn(f),po(f);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(f.onclick=md)}f=y,a.updateQueue=f,f!==null&&(a.flags|=4)}else{w=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=se(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=w.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=w.createElement(c,{is:f.is}):(s=w.createElement(c),c==="select"&&(w=s,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):s=w.createElementNS(s,c),s[pi]=a,s[dl]=f,y_(s,a,!1,!1),a.stateNode=s;e:{switch(w=mr(c,f),c){case"dialog":Tt("cancel",s),Tt("close",s),y=f;break;case"iframe":case"object":case"embed":Tt("load",s),y=f;break;case"video":case"audio":for(y=0;y<ul.length;y++)Tt(ul[y],s);y=f;break;case"source":Tt("error",s),y=f;break;case"img":case"image":case"link":Tt("error",s),Tt("load",s),y=f;break;case"details":Tt("toggle",s),y=f;break;case"input":xi(s,f),y=Ni(s,f),Tt("invalid",s);break;case"option":y=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},y=R({},f,{value:void 0}),Tt("invalid",s);break;case"textarea":ls(s,f),y=fo(s,f),Tt("invalid",s);break;default:y=f}Gt(c,y),B=y;for(T in B)if(B.hasOwnProperty(T)){var z=B[T];T==="style"?Lr(s,z):T==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Ke(s,z)):T==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&tt(s,z):typeof z=="number"&&tt(s,""+z):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?z!=null&&T==="onScroll"&&Tt("scroll",s):z!=null&&$(s,T,z,w))}switch(c){case"input":Mn(s),ha(s,f,!1);break;case"textarea":Mn(s),po(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Qe(f.value));break;case"select":s.multiple=!!f.multiple,T=f.value,T!=null?Dr(s,!!f.multiple,T,!1):f.defaultValue!=null&&Dr(s,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=md)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Tn(a),null;case 6:if(s&&a.stateNode!=null)__(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(n(166));if(c=Po(gl.current),Po(mi.current),bd(a)){if(f=a.stateNode,c=a.memoizedProps,f[pi]=a,(T=f.nodeValue!==c)&&(s=sr,s!==null))switch(s.tag){case 3:pd(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&pd(f.nodeValue,c,(s.mode&1)!==0)}T&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[pi]=a,a.stateNode=f}return Tn(a),null;case 13:if(vt(Rt),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(At&&or!==null&&(a.mode&1)!==0&&(a.flags&128)===0)bE(),qa(),a.flags|=98560,T=!1;else if(T=bd(a),f!==null&&f.dehydrated!==null){if(s===null){if(!T)throw Error(n(318));if(T=a.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[pi]=a}else qa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tn(a),T=!1}else Yr!==null&&(im(Yr),Yr=null),T=!0;if(!T)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Rt.current&1)!==0?Xt===0&&(Xt=3):am())),a.updateQueue!==null&&(a.flags|=4),Tn(a),null);case 4:return Ga(),Yp(s,a),s===null&&ll(a.stateNode.containerInfo),Tn(a),null;case 10:return vp(a.type._context),Tn(a),null;case 17:return Vn(a.type)&&yd(),Tn(a),null;case 19:if(vt(Rt),T=a.memoizedState,T===null)return Tn(a),null;if(f=(a.flags&128)!==0,w=T.rendering,w===null)if(f)vl(T,!1);else{if(Xt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(w=Rd(s),w!==null){for(a.flags|=128,vl(T,!1),f=w.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)T=c,s=f,T.flags&=14680066,w=T.alternate,w===null?(T.childLanes=0,T.lanes=s,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=w.childLanes,T.lanes=w.lanes,T.child=w.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=w.memoizedProps,T.memoizedState=w.memoizedState,T.updateQueue=w.updateQueue,T.type=w.type,s=w.dependencies,T.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return mt(Rt,Rt.current&1|2),a.child}s=s.sibling}T.tail!==null&&pt()>Ja&&(a.flags|=128,f=!0,vl(T,!1),a.lanes=4194304)}else{if(!f)if(s=Rd(w),s!==null){if(a.flags|=128,f=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),vl(T,!0),T.tail===null&&T.tailMode==="hidden"&&!w.alternate&&!At)return Tn(a),null}else 2*pt()-T.renderingStartTime>Ja&&c!==1073741824&&(a.flags|=128,f=!0,vl(T,!1),a.lanes=4194304);T.isBackwards?(w.sibling=a.child,a.child=w):(c=T.last,c!==null?c.sibling=w:a.child=w,T.last=w)}return T.tail!==null?(a=T.tail,T.rendering=a,T.tail=a.sibling,T.renderingStartTime=pt(),a.sibling=null,c=Rt.current,mt(Rt,f?c&1|2:c&1),a):(Tn(a),null);case 22:case 23:return om(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(ar&1073741824)!==0&&(Tn(a),a.subtreeFlags&6&&(a.flags|=8192)):Tn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function v2(s,a){switch(mp(a),a.tag){case 1:return Vn(a.type)&&yd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ga(),vt(Bn),vt(En),Rp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Sp(a),null;case 13:if(vt(Rt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));qa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return vt(Rt),null;case 4:return Ga(),null;case 10:return vp(a.type._context),null;case 22:case 23:return om(),null;case 24:return null;default:return null}}var Fd=!1,vn=!1,b2=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Qa(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Pt(s,a,f)}else c.current=null}function Gp(s,a,c){try{c()}catch(f){Pt(s,a,f)}}var T_=!1;function I2(s,a){if(op=Es,s=Jy(),Jf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,T=f.focusNode;f=f.focusOffset;try{c.nodeType,T.nodeType}catch{c=null;break e}var w=0,B=-1,z=-1,ne=0,me=0,ye=s,fe=null;t:for(;;){for(var we;ye!==c||y!==0&&ye.nodeType!==3||(B=w+y),ye!==T||f!==0&&ye.nodeType!==3||(z=w+f),ye.nodeType===3&&(w+=ye.nodeValue.length),(we=ye.firstChild)!==null;)fe=ye,ye=we;for(;;){if(ye===s)break t;if(fe===c&&++ne===y&&(B=w),fe===T&&++me===f&&(z=w),(we=ye.nextSibling)!==null)break;ye=fe,fe=ye.parentNode}ye=we}c=B===-1||z===-1?null:{start:B,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(ap={focusedElem:s,selectionRange:c},Es=!1,Re=a;Re!==null;)if(a=Re,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Re=s;else for(;Re!==null;){a=Re;try{var Ne=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var xe=Ne.memoizedProps,Mt=Ne.memoizedState,X=a.stateNode,Y=X.getSnapshotBeforeUpdate(a.elementType===a.type?xe:Gr(a.type,xe),Mt);X.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ee=a.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(be){Pt(a,a.return,be)}if(s=a.sibling,s!==null){s.return=a.return,Re=s;break}Re=a.return}return Ne=T_,T_=!1,Ne}function bl(s,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&s)===s){var T=y.destroy;y.destroy=void 0,T!==void 0&&Gp(a,c,T)}y=y.next}while(y!==f)}}function Ud(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function Kp(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function v_(s){var a=s.alternate;a!==null&&(s.alternate=null,v_(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[pi],delete a[dl],delete a[dp],delete a[s2],delete a[o2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function b_(s){return s.tag===5||s.tag===3||s.tag===4}function I_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||b_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Qp(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=md));else if(f!==4&&(s=s.child,s!==null))for(Qp(s,a,c),s=s.sibling;s!==null;)Qp(s,a,c),s=s.sibling}function Xp(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Xp(s,a,c),s=s.sibling;s!==null;)Xp(s,a,c),s=s.sibling}var hn=null,Kr=!1;function Cs(s,a,c){for(c=c.child;c!==null;)A_(s,a,c),c=c.sibling}function A_(s,a,c){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(To,c)}catch{}switch(c.tag){case 5:vn||Qa(c,a);case 6:var f=hn,y=Kr;hn=null,Cs(s,a,c),hn=f,Kr=y,hn!==null&&(Kr?(s=hn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):hn.removeChild(c.stateNode));break;case 18:hn!==null&&(Kr?(s=hn,c=c.stateNode,s.nodeType===8?cp(s.parentNode,c):s.nodeType===1&&cp(s,c),qr(s)):cp(hn,c.stateNode));break;case 4:f=hn,y=Kr,hn=c.stateNode.containerInfo,Kr=!0,Cs(s,a,c),hn=f,Kr=y;break;case 0:case 11:case 14:case 15:if(!vn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var T=y,w=T.destroy;T=T.tag,w!==void 0&&((T&2)!==0||(T&4)!==0)&&Gp(c,a,w),y=y.next}while(y!==f)}Cs(s,a,c);break;case 1:if(!vn&&(Qa(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(B){Pt(c,a,B)}Cs(s,a,c);break;case 21:Cs(s,a,c);break;case 22:c.mode&1?(vn=(f=vn)||c.memoizedState!==null,Cs(s,a,c),vn=f):Cs(s,a,c);break;default:Cs(s,a,c)}}function w_(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new b2),a.forEach(function(f){var y=P2.bind(null,s,f);c.has(f)||(c.add(f),f.then(y,y))})}}function Qr(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f];try{var T=s,w=a,B=w;e:for(;B!==null;){switch(B.tag){case 5:hn=B.stateNode,Kr=!1;break e;case 3:hn=B.stateNode.containerInfo,Kr=!0;break e;case 4:hn=B.stateNode.containerInfo,Kr=!0;break e}B=B.return}if(hn===null)throw Error(n(160));A_(T,w,y),hn=null,Kr=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(ne){Pt(y,a,ne)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)S_(a,s),a=a.sibling}function S_(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Qr(a,s),yi(s),f&4){try{bl(3,s,s.return),Ud(3,s)}catch(xe){Pt(s,s.return,xe)}try{bl(5,s,s.return)}catch(xe){Pt(s,s.return,xe)}}break;case 1:Qr(a,s),yi(s),f&512&&c!==null&&Qa(c,c.return);break;case 5:if(Qr(a,s),yi(s),f&512&&c!==null&&Qa(c,c.return),s.flags&32){var y=s.stateNode;try{tt(y,"")}catch(xe){Pt(s,s.return,xe)}}if(f&4&&(y=s.stateNode,y!=null)){var T=s.memoizedProps,w=c!==null?c.memoizedProps:T,B=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{B==="input"&&T.type==="radio"&&T.name!=null&&as(y,T),mr(B,w);var ne=mr(B,T);for(w=0;w<z.length;w+=2){var me=z[w],ye=z[w+1];me==="style"?Lr(y,ye):me==="dangerouslySetInnerHTML"?Ke(y,ye):me==="children"?tt(y,ye):$(y,me,ye,ne)}switch(B){case"input":us(y,T);break;case"textarea":cs(y,T);break;case"select":var fe=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!T.multiple;var we=T.value;we!=null?Dr(y,!!T.multiple,we,!1):fe!==!!T.multiple&&(T.defaultValue!=null?Dr(y,!!T.multiple,T.defaultValue,!0):Dr(y,!!T.multiple,T.multiple?[]:"",!1))}y[dl]=T}catch(xe){Pt(s,s.return,xe)}}break;case 6:if(Qr(a,s),yi(s),f&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,T=s.memoizedProps;try{y.nodeValue=T}catch(xe){Pt(s,s.return,xe)}}break;case 3:if(Qr(a,s),yi(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{qr(a.containerInfo)}catch(xe){Pt(s,s.return,xe)}break;case 4:Qr(a,s),yi(s);break;case 13:Qr(a,s),yi(s),y=s.child,y.flags&8192&&(T=y.memoizedState!==null,y.stateNode.isHidden=T,!T||y.alternate!==null&&y.alternate.memoizedState!==null||(em=pt())),f&4&&w_(s);break;case 22:if(me=c!==null&&c.memoizedState!==null,s.mode&1?(vn=(ne=vn)||me,Qr(a,s),vn=ne):Qr(a,s),yi(s),f&8192){if(ne=s.memoizedState!==null,(s.stateNode.isHidden=ne)&&!me&&(s.mode&1)!==0)for(Re=s,me=s.child;me!==null;){for(ye=Re=me;Re!==null;){switch(fe=Re,we=fe.child,fe.tag){case 0:case 11:case 14:case 15:bl(4,fe,fe.return);break;case 1:Qa(fe,fe.return);var Ne=fe.stateNode;if(typeof Ne.componentWillUnmount=="function"){f=fe,c=fe.return;try{a=f,Ne.props=a.memoizedProps,Ne.state=a.memoizedState,Ne.componentWillUnmount()}catch(xe){Pt(f,c,xe)}}break;case 5:Qa(fe,fe.return);break;case 22:if(fe.memoizedState!==null){k_(ye);continue}}we!==null?(we.return=fe,Re=we):k_(ye)}me=me.sibling}e:for(me=null,ye=s;;){if(ye.tag===5){if(me===null){me=ye;try{y=ye.stateNode,ne?(T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(B=ye.stateNode,z=ye.memoizedProps.style,w=z!=null&&z.hasOwnProperty("display")?z.display:null,B.style.display=kn("display",w))}catch(xe){Pt(s,s.return,xe)}}}else if(ye.tag===6){if(me===null)try{ye.stateNode.nodeValue=ne?"":ye.memoizedProps}catch(xe){Pt(s,s.return,xe)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===s)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===s)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===s)break e;me===ye&&(me=null),ye=ye.return}me===ye&&(me=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Qr(a,s),yi(s),f&4&&w_(s);break;case 21:break;default:Qr(a,s),yi(s)}}function yi(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(b_(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(tt(y,""),f.flags&=-33);var T=I_(s);Xp(s,T,y);break;case 3:case 4:var w=f.stateNode.containerInfo,B=I_(s);Qp(s,B,w);break;default:throw Error(n(161))}}catch(z){Pt(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function A2(s,a,c){Re=s,C_(s)}function C_(s,a,c){for(var f=(s.mode&1)!==0;Re!==null;){var y=Re,T=y.child;if(y.tag===22&&f){var w=y.memoizedState!==null||Fd;if(!w){var B=y.alternate,z=B!==null&&B.memoizedState!==null||vn;B=Fd;var ne=vn;if(Fd=w,(vn=z)&&!ne)for(Re=y;Re!==null;)w=Re,z=w.child,w.tag===22&&w.memoizedState!==null?N_(y):z!==null?(z.return=w,Re=z):N_(y);for(;T!==null;)Re=T,C_(T),T=T.sibling;Re=y,Fd=B,vn=ne}R_(s)}else(y.subtreeFlags&8772)!==0&&T!==null?(T.return=y,Re=T):R_(s)}}function R_(s){for(;Re!==null;){var a=Re;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:vn||Ud(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!vn)if(c===null)f.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Gr(a.type,c.memoizedProps);f.componentDidUpdate(y,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var T=a.updateQueue;T!==null&&kE(a,T,f);break;case 3:var w=a.updateQueue;if(w!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}kE(a,w,c)}break;case 5:var B=a.stateNode;if(c===null&&a.flags&4){c=B;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ne=a.alternate;if(ne!==null){var me=ne.memoizedState;if(me!==null){var ye=me.dehydrated;ye!==null&&qr(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vn||a.flags&512&&Kp(a)}catch(fe){Pt(a,a.return,fe)}}if(a===s){Re=null;break}if(c=a.sibling,c!==null){c.return=a.return,Re=c;break}Re=a.return}}function k_(s){for(;Re!==null;){var a=Re;if(a===s){Re=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Re=c;break}Re=a.return}}function N_(s){for(;Re!==null;){var a=Re;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Ud(4,a)}catch(z){Pt(a,c,z)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var y=a.return;try{f.componentDidMount()}catch(z){Pt(a,y,z)}}var T=a.return;try{Kp(a)}catch(z){Pt(a,T,z)}break;case 5:var w=a.return;try{Kp(a)}catch(z){Pt(a,w,z)}}}catch(z){Pt(a,a.return,z)}if(a===s){Re=null;break}var B=a.sibling;if(B!==null){B.return=a.return,Re=B;break}Re=a.return}}var w2=Math.ceil,Bd=G.ReactCurrentDispatcher,Jp=G.ReactCurrentOwner,Ar=G.ReactCurrentBatchConfig,ut=0,rn=null,Ht=null,fn=0,ar=0,Xa=bs(0),Xt=0,Il=null,Do=0,Vd=0,Zp=0,Al=null,Hn=null,em=0,Ja=1/0,$i=null,jd=!1,tm=null,Rs=null,Hd=!1,ks=null,zd=0,wl=0,nm=null,qd=-1,Wd=0;function On(){return(ut&6)!==0?pt():qd!==-1?qd:qd=pt()}function Ns(s){return(s.mode&1)===0?1:(ut&2)!==0&&fn!==0?fn&-fn:u2.transition!==null?(Wd===0&&(Wd=bo()),Wd):(s=it,s!==0||(s=window.event,s=s===void 0?16:Zu(s.type)),s)}function Xr(s,a,c,f){if(50<wl)throw wl=0,nm=null,Error(n(185));ps(s,c,f),((ut&2)===0||s!==rn)&&(s===rn&&((ut&2)===0&&(Vd|=c),Xt===4&&xs(s,fn)),zn(s,f),c===1&&ut===0&&(a.mode&1)===0&&(Ja=pt()+500,_d&&As()))}function zn(s,a){var c=s.callbackNode;Di(s,a);var f=vo(s,s===rn?fn:0);if(f===0)c!==null&&Gu(c),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(c!=null&&Gu(c),a===1)s.tag===0?a2(P_.bind(null,s)):yE(P_.bind(null,s)),r2(function(){(ut&6)===0&&As()}),c=null;else{switch(gs(f)){case 1:c=_o;break;case 4:c=ds;break;case 16:c=yr;break;case 536870912:c=Wc;break;default:c=yr}c=V_(c,x_.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function x_(s,a){if(qd=-1,Wd=0,(ut&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Za()&&s.callbackNode!==c)return null;var f=vo(s,s===rn?fn:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=$d(s,f);else{a=f;var y=ut;ut|=2;var T=D_();(rn!==s||fn!==a)&&($i=null,Ja=pt()+500,Mo(s,a));do try{R2();break}catch(B){O_(s,B)}while(!0);Tp(),Bd.current=T,ut=y,Ht!==null?a=0:(rn=null,fn=0,a=Xt)}if(a!==0){if(a===2&&(y=nr(s),y!==0&&(f=y,a=rm(s,y))),a===1)throw c=Il,Mo(s,0),xs(s,f),zn(s,pt()),c;if(a===6)xs(s,f);else{if(y=s.current.alternate,(f&30)===0&&!S2(y)&&(a=$d(s,f),a===2&&(T=nr(s),T!==0&&(f=T,a=rm(s,T))),a===1))throw c=Il,Mo(s,0),xs(s,f),zn(s,pt()),c;switch(s.finishedWork=y,s.finishedLanes=f,a){case 0:case 1:throw Error(n(345));case 2:Fo(s,Hn,$i);break;case 3:if(xs(s,f),(f&130023424)===f&&(a=em+500-pt(),10<a)){if(vo(s,0)!==0)break;if(y=s.suspendedLanes,(y&f)!==f){On(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=lp(Fo.bind(null,s,Hn,$i),a);break}Fo(s,Hn,$i);break;case 4:if(xs(s,f),(f&4194240)===f)break;for(a=s.eventTimes,y=-1;0<f;){var w=31-Nn(f);T=1<<w,w=a[w],w>y&&(y=w),f&=~T}if(f=y,f=pt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*w2(f/1960))-f,10<f){s.timeoutHandle=lp(Fo.bind(null,s,Hn,$i),f);break}Fo(s,Hn,$i);break;case 5:Fo(s,Hn,$i);break;default:throw Error(n(329))}}}return zn(s,pt()),s.callbackNode===c?x_.bind(null,s):null}function rm(s,a){var c=Al;return s.current.memoizedState.isDehydrated&&(Mo(s,a).flags|=256),s=$d(s,a),s!==2&&(a=Hn,Hn=c,a!==null&&im(a)),s}function im(s){Hn===null?Hn=s:Hn.push.apply(Hn,s)}function S2(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var y=c[f],T=y.getSnapshot;y=y.value;try{if(!$r(T(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function xs(s,a){for(a&=~Zp,a&=~Vd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Nn(a),f=1<<c;s[c]=-1,a&=~f}}function P_(s){if((ut&6)!==0)throw Error(n(327));Za();var a=vo(s,0);if((a&1)===0)return zn(s,pt()),null;var c=$d(s,a);if(s.tag!==0&&c===2){var f=nr(s);f!==0&&(a=f,c=rm(s,f))}if(c===1)throw c=Il,Mo(s,0),xs(s,a),zn(s,pt()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Fo(s,Hn,$i),zn(s,pt()),null}function sm(s,a){var c=ut;ut|=1;try{return s(a)}finally{ut=c,ut===0&&(Ja=pt()+500,_d&&As())}}function Lo(s){ks!==null&&ks.tag===0&&(ut&6)===0&&Za();var a=ut;ut|=1;var c=Ar.transition,f=it;try{if(Ar.transition=null,it=1,s)return s()}finally{it=f,Ar.transition=c,ut=a,(ut&6)===0&&As()}}function om(){ar=Xa.current,vt(Xa)}function Mo(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,n2(c)),Ht!==null)for(c=Ht.return;c!==null;){var f=c;switch(mp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&yd();break;case 3:Ga(),vt(Bn),vt(En),Rp();break;case 5:Sp(f);break;case 4:Ga();break;case 13:vt(Rt);break;case 19:vt(Rt);break;case 10:vp(f.type._context);break;case 22:case 23:om()}c=c.return}if(rn=s,Ht=s=Ps(s.current,null),fn=ar=a,Xt=0,Il=null,Zp=Vd=Do=0,Hn=Al=null,xo!==null){for(a=0;a<xo.length;a++)if(c=xo[a],f=c.interleaved,f!==null){c.interleaved=null;var y=f.next,T=c.pending;if(T!==null){var w=T.next;T.next=y,f.next=w}c.pending=f}xo=null}return s}function O_(s,a){do{var c=Ht;try{if(Tp(),kd.current=Od,Nd){for(var f=kt.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}Nd=!1}if(Oo=0,nn=Qt=kt=null,yl=!1,El=0,Jp.current=null,c===null||c.return===null){Xt=1,Il=a,Ht=null;break}e:{var T=s,w=c.return,B=c,z=a;if(a=fn,B.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var ne=z,me=B,ye=me.tag;if((me.mode&1)===0&&(ye===0||ye===11||ye===15)){var fe=me.alternate;fe?(me.updateQueue=fe.updateQueue,me.memoizedState=fe.memoizedState,me.lanes=fe.lanes):(me.updateQueue=null,me.memoizedState=null)}var we=i_(w);if(we!==null){we.flags&=-257,s_(we,w,B,T,a),we.mode&1&&r_(T,ne,a),a=we,z=ne;var Ne=a.updateQueue;if(Ne===null){var xe=new Set;xe.add(z),a.updateQueue=xe}else Ne.add(z);break e}else{if((a&1)===0){r_(T,ne,a),am();break e}z=Error(n(426))}}else if(At&&B.mode&1){var Mt=i_(w);if(Mt!==null){(Mt.flags&65536)===0&&(Mt.flags|=256),s_(Mt,w,B,T,a),Ep(Ka(z,B));break e}}T=z=Ka(z,B),Xt!==4&&(Xt=2),Al===null?Al=[T]:Al.push(T),T=w;do{switch(T.tag){case 3:T.flags|=65536,a&=-a,T.lanes|=a;var X=t_(T,z,a);RE(T,X);break e;case 1:B=z;var Y=T.type,ee=T.stateNode;if((T.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Rs===null||!Rs.has(ee)))){T.flags|=65536,a&=-a,T.lanes|=a;var be=n_(T,B,a);RE(T,be);break e}}T=T.return}while(T!==null)}M_(c)}catch(Pe){a=Pe,Ht===c&&c!==null&&(Ht=c=c.return);continue}break}while(!0)}function D_(){var s=Bd.current;return Bd.current=Od,s===null?Od:s}function am(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),rn===null||(Do&268435455)===0&&(Vd&268435455)===0||xs(rn,fn)}function $d(s,a){var c=ut;ut|=2;var f=D_();(rn!==s||fn!==a)&&($i=null,Mo(s,a));do try{C2();break}catch(y){O_(s,y)}while(!0);if(Tp(),ut=c,Bd.current=f,Ht!==null)throw Error(n(261));return rn=null,fn=0,Xt}function C2(){for(;Ht!==null;)L_(Ht)}function R2(){for(;Ht!==null&&!zc();)L_(Ht)}function L_(s){var a=B_(s.alternate,s,ar);s.memoizedProps=s.pendingProps,a===null?M_(s):Ht=a,Jp.current=null}function M_(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=T2(c,a,ar),c!==null){Ht=c;return}}else{if(c=v2(c,a),c!==null){c.flags&=32767,Ht=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Xt=6,Ht=null;return}}if(a=a.sibling,a!==null){Ht=a;return}Ht=a=s}while(a!==null);Xt===0&&(Xt=5)}function Fo(s,a,c){var f=it,y=Ar.transition;try{Ar.transition=null,it=1,k2(s,a,c,f)}finally{Ar.transition=y,it=f}return null}function k2(s,a,c,f){do Za();while(ks!==null);if((ut&6)!==0)throw Error(n(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var T=c.lanes|c.childLanes;if(ft(s,T),s===rn&&(Ht=rn=null,fn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Hd||(Hd=!0,V_(yr,function(){return Za(),null})),T=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||T){T=Ar.transition,Ar.transition=null;var w=it;it=1;var B=ut;ut|=4,Jp.current=null,I2(s,c),S_(c,s),KC(ap),Es=!!op,ap=op=null,s.current=c,A2(c),qf(),ut=B,it=w,Ar.transition=T}else s.current=c;if(Hd&&(Hd=!1,ks=s,zd=y),T=s.pendingLanes,T===0&&(Rs=null),$c(c.stateNode),zn(s,pt()),a!==null)for(f=s.onRecoverableError,c=0;c<a.length;c++)y=a[c],f(y.value,{componentStack:y.stack,digest:y.digest});if(jd)throw jd=!1,s=tm,tm=null,s;return(zd&1)!==0&&s.tag!==0&&Za(),T=s.pendingLanes,(T&1)!==0?s===nm?wl++:(wl=0,nm=s):wl=0,As(),null}function Za(){if(ks!==null){var s=gs(zd),a=Ar.transition,c=it;try{if(Ar.transition=null,it=16>s?16:s,ks===null)var f=!1;else{if(s=ks,ks=null,zd=0,(ut&6)!==0)throw Error(n(331));var y=ut;for(ut|=4,Re=s.current;Re!==null;){var T=Re,w=T.child;if((Re.flags&16)!==0){var B=T.deletions;if(B!==null){for(var z=0;z<B.length;z++){var ne=B[z];for(Re=ne;Re!==null;){var me=Re;switch(me.tag){case 0:case 11:case 15:bl(8,me,T)}var ye=me.child;if(ye!==null)ye.return=me,Re=ye;else for(;Re!==null;){me=Re;var fe=me.sibling,we=me.return;if(v_(me),me===ne){Re=null;break}if(fe!==null){fe.return=we,Re=fe;break}Re=we}}}var Ne=T.alternate;if(Ne!==null){var xe=Ne.child;if(xe!==null){Ne.child=null;do{var Mt=xe.sibling;xe.sibling=null,xe=Mt}while(xe!==null)}}Re=T}}if((T.subtreeFlags&2064)!==0&&w!==null)w.return=T,Re=w;else e:for(;Re!==null;){if(T=Re,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:bl(9,T,T.return)}var X=T.sibling;if(X!==null){X.return=T.return,Re=X;break e}Re=T.return}}var Y=s.current;for(Re=Y;Re!==null;){w=Re;var ee=w.child;if((w.subtreeFlags&2064)!==0&&ee!==null)ee.return=w,Re=ee;else e:for(w=Y;Re!==null;){if(B=Re,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Ud(9,B)}}catch(Pe){Pt(B,B.return,Pe)}if(B===w){Re=null;break e}var be=B.sibling;if(be!==null){be.return=B.return,Re=be;break e}Re=B.return}}if(ut=y,As(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(To,s)}catch{}f=!0}return f}finally{it=c,Ar.transition=a}}return!1}function F_(s,a,c){a=Ka(c,a),a=t_(s,a,1),s=Ss(s,a,1),a=On(),s!==null&&(ps(s,1,a),zn(s,a))}function Pt(s,a,c){if(s.tag===3)F_(s,s,c);else for(;a!==null;){if(a.tag===3){F_(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))){s=Ka(c,s),s=n_(a,s,1),a=Ss(a,s,1),s=On(),a!==null&&(ps(a,1,s),zn(a,s));break}}a=a.return}}function N2(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),a=On(),s.pingedLanes|=s.suspendedLanes&c,rn===s&&(fn&c)===c&&(Xt===4||Xt===3&&(fn&130023424)===fn&&500>pt()-em?Mo(s,0):Zp|=c),zn(s,a)}function U_(s,a){a===0&&((s.mode&1)===0?a=1:(a=ba,ba<<=1,(ba&130023424)===0&&(ba=4194304)));var c=On();s=zi(s,a),s!==null&&(ps(s,a,c),zn(s,c))}function x2(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),U_(s,c)}function P2(s,a){var c=0;switch(s.tag){case 13:var f=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(a),U_(s,c)}var B_;B_=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Bn.current)jn=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return jn=!1,_2(s,a,c);jn=(s.flags&131072)!==0}else jn=!1,At&&(a.flags&1048576)!==0&&EE(a,vd,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Md(s,a),s=a.pendingProps;var y=ja(a,En.current);Ya(a,c),y=xp(null,a,f,s,y,c);var T=Pp();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Vn(f)?(T=!0,Ed(a)):T=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Ap(a),y.updater=Dd,a.stateNode=y,y._reactInternals=a,Up(a,f,s,c),a=Hp(null,a,f,!0,T,c)):(a.tag=0,At&&T&&pp(a),Pn(null,a,y,c),a=a.child),a;case 16:f=a.elementType;e:{switch(Md(s,a),s=a.pendingProps,y=f._init,f=y(f._payload),a.type=f,y=a.tag=D2(f),s=Gr(f,s),y){case 0:a=jp(null,a,f,s,c);break e;case 1:a=d_(null,a,f,s,c);break e;case 11:a=o_(null,a,f,s,c);break e;case 14:a=a_(null,a,f,Gr(f.type,s),c);break e}throw Error(n(306,f,""))}return a;case 0:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Gr(f,y),jp(s,a,f,y,c);case 1:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Gr(f,y),d_(s,a,f,y,c);case 3:e:{if(h_(a),s===null)throw Error(n(387));f=a.pendingProps,T=a.memoizedState,y=T.element,CE(s,a),Cd(a,f,null,c);var w=a.memoizedState;if(f=w.element,T.isDehydrated)if(T={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){y=Ka(Error(n(423)),a),a=f_(s,a,f,c,y);break e}else if(f!==y){y=Ka(Error(n(424)),a),a=f_(s,a,f,c,y);break e}else for(or=vs(a.stateNode.containerInfo.firstChild),sr=a,At=!0,Yr=null,c=wE(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(qa(),f===y){a=Wi(s,a,c);break e}Pn(s,a,f,c)}a=a.child}return a;case 5:return NE(a),s===null&&yp(a),f=a.type,y=a.pendingProps,T=s!==null?s.memoizedProps:null,w=y.children,up(f,y)?w=null:T!==null&&up(f,T)&&(a.flags|=32),c_(s,a),Pn(s,a,w,c),a.child;case 6:return s===null&&yp(a),null;case 13:return p_(s,a,c);case 4:return wp(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Wa(a,null,f,c):Pn(s,a,f,c),a.child;case 11:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Gr(f,y),o_(s,a,f,y,c);case 7:return Pn(s,a,a.pendingProps,c),a.child;case 8:return Pn(s,a,a.pendingProps.children,c),a.child;case 12:return Pn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,y=a.pendingProps,T=a.memoizedProps,w=y.value,mt(Ad,f._currentValue),f._currentValue=w,T!==null)if($r(T.value,w)){if(T.children===y.children&&!Bn.current){a=Wi(s,a,c);break e}}else for(T=a.child,T!==null&&(T.return=a);T!==null;){var B=T.dependencies;if(B!==null){w=T.child;for(var z=B.firstContext;z!==null;){if(z.context===f){if(T.tag===1){z=qi(-1,c&-c),z.tag=2;var ne=T.updateQueue;if(ne!==null){ne=ne.shared;var me=ne.pending;me===null?z.next=z:(z.next=me.next,me.next=z),ne.pending=z}}T.lanes|=c,z=T.alternate,z!==null&&(z.lanes|=c),bp(T.return,c,a),B.lanes|=c;break}z=z.next}}else if(T.tag===10)w=T.type===a.type?null:T.child;else if(T.tag===18){if(w=T.return,w===null)throw Error(n(341));w.lanes|=c,B=w.alternate,B!==null&&(B.lanes|=c),bp(w,c,a),w=T.sibling}else w=T.child;if(w!==null)w.return=T;else for(w=T;w!==null;){if(w===a){w=null;break}if(T=w.sibling,T!==null){T.return=w.return,w=T;break}w=w.return}T=w}Pn(s,a,y.children,c),a=a.child}return a;case 9:return y=a.type,f=a.pendingProps.children,Ya(a,c),y=br(y),f=f(y),a.flags|=1,Pn(s,a,f,c),a.child;case 14:return f=a.type,y=Gr(f,a.pendingProps),y=Gr(f.type,y),a_(s,a,f,y,c);case 15:return u_(s,a,a.type,a.pendingProps,c);case 17:return f=a.type,y=a.pendingProps,y=a.elementType===f?y:Gr(f,y),Md(s,a),a.tag=1,Vn(f)?(s=!0,Ed(a)):s=!1,Ya(a,c),ZE(a,f,y),Up(a,f,y,c),Hp(null,a,f,!0,s,c);case 19:return g_(s,a,c);case 22:return l_(s,a,c)}throw Error(n(156,a.tag))};function V_(s,a){return Ta(s,a)}function O2(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(s,a,c,f){return new O2(s,a,c,f)}function um(s){return s=s.prototype,!(!s||!s.isReactComponent)}function D2(s){if(typeof s=="function")return um(s)?1:0;if(s!=null){if(s=s.$$typeof,s===O)return 11;if(s===ae)return 14}return 2}function Ps(s,a){var c=s.alternate;return c===null?(c=wr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Yd(s,a,c,f,y,T){var w=2;if(f=s,typeof s=="function")um(s)&&(w=1);else if(typeof s=="string")w=5;else e:switch(s){case H:return Uo(c.children,y,T,a);case x:w=8,y|=8;break;case M:return s=wr(12,c,a,y|2),s.elementType=M,s.lanes=T,s;case C:return s=wr(13,c,a,y),s.elementType=C,s.lanes=T,s;case te:return s=wr(19,c,a,y),s.elementType=te,s.lanes=T,s;case K:return Gd(c,y,T,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:w=10;break e;case P:w=9;break e;case O:w=11;break e;case ae:w=14;break e;case Ce:w=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=wr(w,c,a,y),a.elementType=s,a.type=f,a.lanes=T,a}function Uo(s,a,c,f){return s=wr(7,s,f,a),s.lanes=c,s}function Gd(s,a,c,f){return s=wr(22,s,f,a),s.elementType=K,s.lanes=c,s.stateNode={isHidden:!1},s}function lm(s,a,c){return s=wr(6,s,null,a),s.lanes=c,s}function cm(s,a,c){return a=wr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function L2(s,a,c,f,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fs(0),this.expirationTimes=fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function dm(s,a,c,f,y,T,w,B,z){return s=new L2(s,a,c,B,z),a===1?(a=1,T===!0&&(a|=8)):a=0,T=wr(3,null,null,a),s.current=T,T.stateNode=s,T.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ap(T),s}function M2(s,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:s,containerInfo:a,implementation:c}}function j_(s){if(!s)return Is;s=s._reactInternals;e:{if(Br(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Vn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(Vn(c))return mE(s,c,a)}return a}function H_(s,a,c,f,y,T,w,B,z){return s=dm(c,f,!0,s,y,T,w,B,z),s.context=j_(null),c=s.current,f=On(),y=Ns(c),T=qi(f,y),T.callback=a??null,Ss(c,T,y),s.current.lanes=y,ps(s,y,f),zn(s,f),s}function Kd(s,a,c,f){var y=a.current,T=On(),w=Ns(y);return c=j_(c),a.context===null?a.context=c:a.pendingContext=c,a=qi(T,w),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=Ss(y,a,w),s!==null&&(Xr(s,y,w,T),Sd(s,y,w)),w}function Qd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function z_(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function hm(s,a){z_(s,a),(s=s.alternate)&&z_(s,a)}function F2(){return null}var q_=typeof reportError=="function"?reportError:function(s){console.error(s)};function fm(s){this._internalRoot=s}Xd.prototype.render=fm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Kd(s,a,null,null)},Xd.prototype.unmount=fm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Lo(function(){Kd(null,s,null,null)}),a[Bi]=null}};function Xd(s){this._internalRoot=s}Xd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Xc();s={blockedOn:null,target:s,priority:a};for(var c=0;c<ci.length&&a!==0&&a<ci[c].priority;c++);ci.splice(c,0,s),c===0&&ed(s)}};function pm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Jd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function W_(){}function U2(s,a,c,f,y){if(y){if(typeof f=="function"){var T=f;f=function(){var ne=Qd(w);T.call(ne)}}var w=H_(a,f,s,0,null,!1,!1,"",W_);return s._reactRootContainer=w,s[Bi]=w.current,ll(s.nodeType===8?s.parentNode:s),Lo(),w}for(;y=s.lastChild;)s.removeChild(y);if(typeof f=="function"){var B=f;f=function(){var ne=Qd(z);B.call(ne)}}var z=dm(s,0,!1,null,null,!1,!1,"",W_);return s._reactRootContainer=z,s[Bi]=z.current,ll(s.nodeType===8?s.parentNode:s),Lo(function(){Kd(a,z,c,f)}),z}function Zd(s,a,c,f,y){var T=c._reactRootContainer;if(T){var w=T;if(typeof y=="function"){var B=y;y=function(){var z=Qd(w);B.call(z)}}Kd(a,w,s,y)}else w=U2(c,a,s,y,f);return Qd(w)}Kc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=hs(a.pendingLanes);c!==0&&(ms(a,c|1),zn(a,pt()),(ut&6)===0&&(Ja=pt()+500,As()))}break;case 13:Lo(function(){var f=zi(s,1);if(f!==null){var y=On();Xr(f,s,1,y)}}),hm(s,1)}},Ia=function(s){if(s.tag===13){var a=zi(s,134217728);if(a!==null){var c=On();Xr(a,s,134217728,c)}hm(s,134217728)}},Qc=function(s){if(s.tag===13){var a=Ns(s),c=zi(s,a);if(c!==null){var f=On();Xr(c,s,a,f)}hm(s,a)}},Xc=function(){return it},Jc=function(s,a){var c=it;try{return it=s,a()}finally{it=c}},pa=function(s,a,c){switch(a){case"input":if(us(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var y=gd(f);if(!y)throw Error(n(90));os(f),us(f,y)}}}break;case"textarea":cs(s,c);break;case"select":a=c.value,a!=null&&Dr(s,!!c.multiple,a,!1)}},mo=sm,qu=Lo;var B2={usingClientEntryPoint:!1,Events:[hl,Ba,gd,ui,zu,sm]},Sl={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V2={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Yu(s),s===null?null:s.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||F2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{To=eh.inject(V2),tr=eh}catch{}}return qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B2,qn.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pm(a))throw Error(n(200));return M2(s,a,null,c)},qn.createRoot=function(s,a){if(!pm(s))throw Error(n(299));var c=!1,f="",y=q_;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=dm(s,1,!1,null,null,c,!1,f,y),s[Bi]=a.current,ll(s.nodeType===8?s.parentNode:s),new fm(a)},qn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Yu(a),s=s===null?null:s.stateNode,s},qn.flushSync=function(s){return Lo(s)},qn.hydrate=function(s,a,c){if(!Jd(a))throw Error(n(200));return Zd(null,s,a,!0,c)},qn.hydrateRoot=function(s,a,c){if(!pm(s))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,y=!1,T="",w=q_;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(T=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),a=H_(a,null,s,1,c??null,y,!1,T,w),s[Bi]=a.current,ll(s),f)for(s=0;s<f.length;s++)c=f[s],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Xd(a)},qn.render=function(s,a,c){if(!Jd(a))throw Error(n(200));return Zd(null,s,a,!1,c)},qn.unmountComponentAtNode=function(s){if(!Jd(s))throw Error(n(40));return s._reactRootContainer?(Lo(function(){Zd(null,null,s,!1,function(){s._reactRootContainer=null,s[Bi]=null})}),!0):!1},qn.unstable_batchedUpdates=sm,qn.unstable_renderSubtreeIntoContainer=function(s,a,c,f){if(!Jd(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Zd(s,a,c,!1,f)},qn.version="18.3.1-next-f1338f8080-20240426",qn}var Z_;function a0(){if(Z_)return ym.exports;Z_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ym.exports=Q2(),ym.exports}var eT;function X2(){if(eT)return th;eT=1;var t=a0();return th.createRoot=t.createRoot,th.hydrateRoot=t.hydrateRoot,th}var J2=X2();const Z2=is(J2);a0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}var zs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zs||(zs={}));const tT="popstate";function eR(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:u,hash:l}=r.location;return cg("",{pathname:o,search:u,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xh(i)}return nR(e,n,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tR(){return Math.random().toString(36).substr(2,8)}function nT(t,e){return{usr:t.state,key:t.key,idx:e}}function cg(t,e,n,r){return n===void 0&&(n=null),oc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ru(e):e,{state:n,key:e&&e.key||r||tR()})}function xh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ru(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,l=zs.Pop,d=null,p=m();p==null&&(p=0,u.replaceState(oc({},u.state,{idx:p}),""));function m(){return(u.state||{idx:null}).idx}function E(){l=zs.Pop;let U=m(),q=U==null?null:U-p;p=U,d&&d({action:l,location:F.location,delta:q})}function b(U,q){l=zs.Push;let re=cg(F.location,U,q);p=m()+1;let $=nT(re,p),G=F.createHref(re);try{u.pushState($,"",G)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;i.location.assign(G)}o&&d&&d({action:l,location:F.location,delta:1})}function I(U,q){l=zs.Replace;let re=cg(F.location,U,q);p=m();let $=nT(re,p),G=F.createHref(re);u.replaceState($,"",G),o&&d&&d({action:l,location:F.location,delta:0})}function N(U){let q=i.location.origin!=="null"?i.location.origin:i.location.href,re=typeof U=="string"?U:xh(U);return re=re.replace(/ $/,"%20"),Vt(q,"No window.location.(origin|href) available to create URL for href: "+re),new URL(re,q)}let F={get action(){return l},get location(){return t(i,u)},listen(U){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(tT,E),d=U,()=>{i.removeEventListener(tT,E),d=null}},createHref(U){return e(i,U)},createURL:N,encodeLocation(U){let q=N(U);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:b,replace:I,go(U){return u.go(U)}};return F}var rT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rT||(rT={}));function rR(t,e,n){return n===void 0&&(n="/"),iR(t,e,n)}function iR(t,e,n,r){let i=typeof e=="string"?Ru(e):e,o=u0(i.pathname||"/",n);if(o==null)return null;let u=Rb(t);sR(u);let l=null;for(let d=0;l==null&&d<u.length;++d){let p=yR(o);l=pR(u[d],p)}return l}function Rb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,u,l)=>{let d={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(Vt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=$s([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(Vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Rb(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:hR(p,o.index),routesMeta:m})};return t.forEach((o,u)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,u);else for(let d of kb(o.path))i(o,u,d)}),e}function kb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=kb(r.join("/")),l=[];return l.push(...u.map(d=>d===""?o:[o,d].join("/"))),i&&l.push(...u),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function sR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oR=/^:[\w-]+$/,aR=3,uR=2,lR=1,cR=10,dR=-2,iT=t=>t==="*";function hR(t,e){let n=t.split("/"),r=n.length;return n.some(iT)&&(r+=dR),e&&(r+=uR),n.filter(i=>!iT(i)).reduce((i,o)=>i+(oR.test(o)?aR:o===""?lR:cR),r)}function fR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pR(t,e,n){let{routesMeta:r}=t,i={},o="/",u=[];for(let l=0;l<r.length;++l){let d=r[l],p=l===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",E=mR({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),b=d.route;if(!E)return null;Object.assign(i,E.params),u.push({params:i,pathname:$s([o,E.pathname]),pathnameBase:vR($s([o,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(o=$s([o,E.pathnameBase]))}return u}function mR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((p,m,E)=>{let{paramName:b,isOptional:I}=m;if(b==="*"){let F=l[E]||"";u=o.slice(0,o.length-F.length).replace(/(.)\/+$/,"$1")}const N=l[E];return I&&!N?p[b]=void 0:p[b]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:t}}function gR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Cb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,l,d)=>(r.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function u0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ER(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ru(t):t;return{pathname:n?n.startsWith("/")?n:_R(n,e):e,search:bR(r),hash:IR(i)}}function _R(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function l0(t,e){let n=TR(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function c0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ru(t):(i=oc({},t),Vt(!i.pathname||!i.pathname.includes("?"),Tm("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),Tm("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),Tm("#","search","hash",i)));let o=t===""||i.pathname==="",u=o?"/":i.pathname,l;if(u==null)l=n;else{let E=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),E-=1;i.pathname=b.join("/")}l=E>=0?e[E]:"/"}let d=ER(i,l),p=u&&u!=="/"&&u.endsWith("/"),m=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}const $s=t=>t.join("/").replace(/\/\/+/g,"/"),vR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nb=["post","put","patch","delete"];new Set(Nb);const wR=["get",...Nb];new Set(wR);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}const d0=ce.createContext(null),SR=ce.createContext(null),io=ce.createContext(null),sf=ce.createContext(null),ss=ce.createContext({outlet:null,matches:[],isDataRoute:!1}),xb=ce.createContext(null);function CR(t,e){let{relative:n}=e===void 0?{}:e;ku()||Vt(!1);let{basename:r,navigator:i}=ce.useContext(io),{hash:o,pathname:u,search:l}=Ob(t,{relative:n}),d=u;return r!=="/"&&(d=u==="/"?r:$s([r,u])),i.createHref({pathname:d,search:l,hash:o})}function ku(){return ce.useContext(sf)!=null}function Ac(){return ku()||Vt(!1),ce.useContext(sf).location}function Pb(t){ce.useContext(io).static||ce.useLayoutEffect(t)}function ra(){let{isDataRoute:t}=ce.useContext(ss);return t?VR():RR()}function RR(){ku()||Vt(!1);let t=ce.useContext(d0),{basename:e,future:n,navigator:r}=ce.useContext(io),{matches:i}=ce.useContext(ss),{pathname:o}=Ac(),u=JSON.stringify(l0(i,n.v7_relativeSplatPath)),l=ce.useRef(!1);return Pb(()=>{l.current=!0}),ce.useCallback(function(p,m){if(m===void 0&&(m={}),!l.current)return;if(typeof p=="number"){r.go(p);return}let E=c0(p,JSON.parse(u),o,m.relative==="path");t==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$s([e,E.pathname])),(m.replace?r.replace:r.push)(E,m.state,m)},[e,r,u,o,t])}function h0(){let{matches:t}=ce.useContext(ss),e=t[t.length-1];return e?e.params:{}}function Ob(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ce.useContext(io),{matches:i}=ce.useContext(ss),{pathname:o}=Ac(),u=JSON.stringify(l0(i,r.v7_relativeSplatPath));return ce.useMemo(()=>c0(t,JSON.parse(u),o,n==="path"),[t,u,o,n])}function kR(t,e){return NR(t,e)}function NR(t,e,n,r){ku()||Vt(!1);let{navigator:i,static:o}=ce.useContext(io),{matches:u}=ce.useContext(ss),l=u[u.length-1],d=l?l.params:{};l&&l.pathname;let p=l?l.pathnameBase:"/";l&&l.route;let m=Ac(),E;if(e){var b;let q=typeof e=="string"?Ru(e):e;p==="/"||(b=q.pathname)!=null&&b.startsWith(p)||Vt(!1),E=q}else E=m;let I=E.pathname||"/",N=I;if(p!=="/"){let q=p.replace(/^\//,"").split("/");N="/"+I.replace(/^\//,"").split("/").slice(q.length).join("/")}let F=rR(t,{pathname:N}),U=LR(F&&F.map(q=>Object.assign({},q,{params:Object.assign({},d,q.params),pathname:$s([p,i.encodeLocation?i.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?p:$s([p,i.encodeLocation?i.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),u,n,r);return e&&U?ce.createElement(sf.Provider,{value:{location:ac({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:zs.Pop}},U):U}function xR(){let t=BR(),e=AR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),n?ce.createElement("pre",{style:i},n):null,null)}const PR=ce.createElement(xR,null);class OR extends ce.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ce.createElement(ss.Provider,{value:this.props.routeContext},ce.createElement(xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DR(t){let{routeContext:e,match:n,children:r}=t,i=ce.useContext(d0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ce.createElement(ss.Provider,{value:e},r)}function LR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let m=u.findIndex(E=>E.route.id&&(l==null?void 0:l[E.route.id])!==void 0);m>=0||Vt(!1),u=u.slice(0,Math.min(u.length,m+1))}let d=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<u.length;m++){let E=u[m];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=m),E.route.id){let{loaderData:b,errors:I}=n,N=E.route.loader&&b[E.route.id]===void 0&&(!I||I[E.route.id]===void 0);if(E.route.lazy||N){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((m,E,b)=>{let I,N=!1,F=null,U=null;n&&(I=l&&E.route.id?l[E.route.id]:void 0,F=E.route.errorElement||PR,d&&(p<0&&b===0?(jR("route-fallback"),N=!0,U=null):p===b&&(N=!0,U=E.route.hydrateFallbackElement||null)));let q=e.concat(u.slice(0,b+1)),re=()=>{let $;return I?$=F:N?$=U:E.route.Component?$=ce.createElement(E.route.Component,null):E.route.element?$=E.route.element:$=m,ce.createElement(DR,{match:E,routeContext:{outlet:m,matches:q,isDataRoute:n!=null},children:$})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?ce.createElement(OR,{location:n.location,revalidation:n.revalidation,component:F,error:I,children:re(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):re()},null)}var Db=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Db||{}),Lb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lb||{});function MR(t){let e=ce.useContext(d0);return e||Vt(!1),e}function FR(t){let e=ce.useContext(SR);return e||Vt(!1),e}function UR(t){let e=ce.useContext(ss);return e||Vt(!1),e}function Mb(t){let e=UR(),n=e.matches[e.matches.length-1];return n.route.id||Vt(!1),n.route.id}function BR(){var t;let e=ce.useContext(xb),n=FR(),r=Mb();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function VR(){let{router:t}=MR(Db.UseNavigateStable),e=Mb(Lb.UseNavigateStable),n=ce.useRef(!1);return Pb(()=>{n.current=!0}),ce.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ac({fromRouteId:e},o)))},[t,e])}const sT={};function jR(t,e,n){sT[t]||(sT[t]=!0)}function HR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function zR(t){let{to:e,replace:n,state:r,relative:i}=t;ku()||Vt(!1);let{future:o,static:u}=ce.useContext(io),{matches:l}=ce.useContext(ss),{pathname:d}=Ac(),p=ra(),m=c0(e,l0(l,o.v7_relativeSplatPath),d,i==="path"),E=JSON.stringify(m);return ce.useEffect(()=>p(JSON.parse(E),{replace:n,state:r,relative:i}),[p,E,i,n,r]),null}function Ft(t){Vt(!1)}function qR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zs.Pop,navigator:o,static:u=!1,future:l}=t;ku()&&Vt(!1);let d=e.replace(/^\/*/,"/"),p=ce.useMemo(()=>({basename:d,navigator:o,static:u,future:ac({v7_relativeSplatPath:!1},l)}),[d,l,o,u]);typeof r=="string"&&(r=Ru(r));let{pathname:m="/",search:E="",hash:b="",state:I=null,key:N="default"}=r,F=ce.useMemo(()=>{let U=u0(m,d);return U==null?null:{location:{pathname:U,search:E,hash:b,state:I,key:N},navigationType:i}},[d,m,E,b,I,N,i]);return F==null?null:ce.createElement(io.Provider,{value:p},ce.createElement(sf.Provider,{children:n,value:F}))}function WR(t){let{children:e,location:n}=t;return kR(dg(e),n)}new Promise(()=>{});function dg(t,e){e===void 0&&(e=[]);let n=[];return ce.Children.forEach(t,(r,i)=>{if(!ce.isValidElement(r))return;let o=[...e,i];if(r.type===ce.Fragment){n.push.apply(n,dg(r.props.children,o));return}r.type!==Ft&&Vt(!1),!r.props.index||!r.props.children||Vt(!1);let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=dg(r.props.children,o)),n.push(u)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}function $R(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GR(t,e){return t.button===0&&(!e||e==="_self")&&!YR(t)}const KR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QR="6";try{window.__reactRouterVersion=QR}catch{}const XR="startTransition",oT=Y2[XR];function JR(t){let{basename:e,children:n,future:r,window:i}=t,o=ce.useRef();o.current==null&&(o.current=eR({window:i,v5Compat:!0}));let u=o.current,[l,d]=ce.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},m=ce.useCallback(E=>{p&&oT?oT(()=>d(E)):d(E)},[d,p]);return ce.useLayoutEffect(()=>u.listen(m),[u,m]),ce.useEffect(()=>HR(r),[r]),ce.createElement(qR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:u,future:r})}const ZR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ek=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=ce.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:u,state:l,target:d,to:p,preventScrollReset:m,viewTransition:E}=e,b=$R(e,KR),{basename:I}=ce.useContext(io),N,F=!1;if(typeof p=="string"&&ek.test(p)&&(N=p,ZR))try{let $=new URL(window.location.href),G=p.startsWith("//")?new URL($.protocol+p):new URL(p),_e=u0(G.pathname,I);G.origin===$.origin&&_e!=null?p=_e+G.search+G.hash:F=!0}catch{}let U=CR(p,{relative:i}),q=tk(p,{replace:u,state:l,target:d,preventScrollReset:m,relative:i,viewTransition:E});function re($){r&&r($),$.defaultPrevented||q($)}return ce.createElement("a",hg({},b,{href:N||U,onClick:F||o?r:re,ref:n,target:d}))});var aT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(aT||(aT={}));var uT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uT||(uT={}));function tk(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:l}=e===void 0?{}:e,d=ra(),p=Ac(),m=Ob(t,{relative:u});return ce.useCallback(E=>{if(GR(E,n)){E.preventDefault();let b=r!==void 0?r:xh(p)===xh(m);d(t,{replace:b,state:i,preventScrollReset:o,relative:u,viewTransition:l})}},[p,d,m,r,i,n,t,o,u,l])}var vm={exports:{}},bm,lT;function nk(){if(lT)return bm;lT=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return bm=t,bm}var Im,cT;function rk(){if(cT)return Im;cT=1;var t=nk();function e(){}function n(){}return n.resetWarningCache=e,Im=function(){function r(u,l,d,p,m,E){if(E!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Im}var dT;function f0(){return dT||(dT=1,vm.exports=rk()()),vm.exports}var ik=f0();const wt=is(ik);var Am,hT;function sk(){if(hT)return Am;hT=1;function t(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=Cu(),n=t(e);function r(l,d,p){return d in l?Object.defineProperty(l,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[d]=p,l}function i(l,d){l.prototype=Object.create(d.prototype),l.prototype.constructor=l,l.__proto__=d}var o=!!(typeof window<"u"&&window.document&&window.document.createElement);function u(l,d,p){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof p<"u"&&typeof p!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function m(E){return E.displayName||E.name||"Component"}return function(b){if(typeof b!="function")throw new Error("Expected WrappedComponent to be a React component.");var I=[],N;function F(){N=l(I.map(function(q){return q.props})),U.canUseDOM?d(N):p&&(N=p(N))}var U=function(q){i(re,q);function re(){return q.apply(this,arguments)||this}re.peek=function(){return N},re.rewind=function(){if(re.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var _e=N;return N=void 0,I=[],_e};var $=re.prototype;return $.UNSAFE_componentWillMount=function(){I.push(this),F()},$.componentDidUpdate=function(){F()},$.componentWillUnmount=function(){var _e=I.indexOf(this);I.splice(_e,1),F()},$.render=function(){return n.createElement(b,this.props)},re}(e.PureComponent);return r(U,"displayName","SideEffect("+m(b)+")"),r(U,"canUseDOM",o),U}}return Am=u,Am}var ok=sk();const ak=is(ok);var wm,fT;function uk(){if(fT)return wm;fT=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(o,u){if(o===u)return!0;if(o&&u&&typeof o=="object"&&typeof u=="object"){if(o.constructor!==u.constructor)return!1;var l,d,p;if(Array.isArray(o)){if(l=o.length,l!=u.length)return!1;for(d=l;d--!==0;)if(!i(o[d],u[d]))return!1;return!0}var m;if(e&&o instanceof Map&&u instanceof Map){if(o.size!==u.size)return!1;for(m=o.entries();!(d=m.next()).done;)if(!u.has(d.value[0]))return!1;for(m=o.entries();!(d=m.next()).done;)if(!i(d.value[1],u.get(d.value[0])))return!1;return!0}if(n&&o instanceof Set&&u instanceof Set){if(o.size!==u.size)return!1;for(m=o.entries();!(d=m.next()).done;)if(!u.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(u)){if(l=o.length,l!=u.length)return!1;for(d=l;d--!==0;)if(o[d]!==u[d])return!1;return!0}if(o.constructor===RegExp)return o.source===u.source&&o.flags===u.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof u.valueOf=="function")return o.valueOf()===u.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof u.toString=="function")return o.toString()===u.toString();if(p=Object.keys(o),l=p.length,l!==Object.keys(u).length)return!1;for(d=l;d--!==0;)if(!Object.prototype.hasOwnProperty.call(u,p[d]))return!1;if(t&&o instanceof Element)return!1;for(d=l;d--!==0;)if(!((p[d]==="_owner"||p[d]==="__v"||p[d]==="__o")&&o.$$typeof)&&!i(o[p[d]],u[p[d]]))return!1;return!0}return o!==o&&u!==u}return wm=function(u,l){try{return i(u,l)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},wm}var lk=uk();const ck=is(lk);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Sm,pT;function dk(){if(pT)return Sm;pT=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function i(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var u={},l=0;l<10;l++)u["_"+String.fromCharCode(l)]=l;var d=Object.getOwnPropertyNames(u).map(function(m){return u[m]});if(d.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(m){p[m]=m}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Sm=i()?Object.assign:function(o,u){for(var l,d=r(o),p,m=1;m<arguments.length;m++){l=Object(arguments[m]);for(var E in l)e.call(l,E)&&(d[E]=l[E]);if(t){p=t(l);for(var b=0;b<p.length;b++)n.call(l,p[b])&&(d[p[b]]=l[p[b]])}}return d},Sm}var hk=dk();const fk=is(hk);var Wo={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},$e={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys($e).map(function(t){return $e[t]});var Ct={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Ph={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},uc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},pk=Object.keys(Ph).reduce(function(t,e){return t[Ph[e]]=e,t},{}),mk=[$e.NOSCRIPT,$e.SCRIPT,$e.STYLE],Zr="data-react-helmet",gk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yk=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ek=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),$n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_k=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},mT=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Tk=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},fg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},vk=function(e){var n=cu(e,$e.TITLE),r=cu(e,uc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=cu(e,uc.DEFAULT_TITLE);return n||i||void 0},bk=function(e){return cu(e,uc.ON_CHANGE_CLIENT_STATE)||function(){}},Cm=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return $n({},r,i)},{})},Ik=function(e,n){return n.filter(function(r){return typeof r[$e.BASE]<"u"}).map(function(r){return r[$e.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var o=Object.keys(i),u=0;u<o.length;u++){var l=o[u],d=l.toLowerCase();if(e.indexOf(d)!==-1&&i[d])return r.concat(i)}return r},[])},Rl=function(e,n,r){var i={};return r.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&Ck("Helmet: "+e+' should be of type "Array". Instead found type "'+gk(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,u){var l={};u.filter(function(b){for(var I=void 0,N=Object.keys(b),F=0;F<N.length;F++){var U=N[F],q=U.toLowerCase();n.indexOf(q)!==-1&&!(I===Ct.REL&&b[I].toLowerCase()==="canonical")&&!(q===Ct.REL&&b[q].toLowerCase()==="stylesheet")&&(I=q),n.indexOf(U)!==-1&&(U===Ct.INNER_HTML||U===Ct.CSS_TEXT||U===Ct.ITEM_PROP)&&(I=U)}if(!I||!b[I])return!1;var re=b[I].toLowerCase();return i[I]||(i[I]={}),l[I]||(l[I]={}),i[I][re]?!1:(l[I][re]=!0,!0)}).reverse().forEach(function(b){return o.push(b)});for(var d=Object.keys(l),p=0;p<d.length;p++){var m=d[p],E=fk({},i[m],l[m]);i[m]=E}return o},[]).reverse()},cu=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},Ak=function(e){return{baseTag:Ik([Ct.HREF,Ct.TARGET],e),bodyAttributes:Cm(Wo.BODY,e),defer:cu(e,uc.DEFER),encode:cu(e,uc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Cm(Wo.HTML,e),linkTags:Rl($e.LINK,[Ct.REL,Ct.HREF],e),metaTags:Rl($e.META,[Ct.NAME,Ct.CHARSET,Ct.HTTPEQUIV,Ct.PROPERTY,Ct.ITEM_PROP],e),noscriptTags:Rl($e.NOSCRIPT,[Ct.INNER_HTML],e),onChangeClientState:bk(e),scriptTags:Rl($e.SCRIPT,[Ct.SRC,Ct.INNER_HTML],e),styleTags:Rl($e.STYLE,[Ct.CSS_TEXT],e),title:vk(e),titleAttributes:Cm(Wo.TITLE,e)}},pg=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){pg(e)},0)}}(),gT=function(e){return clearTimeout(e)},wk=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||pg:global.requestAnimationFrame||pg,Sk=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||gT:global.cancelAnimationFrame||gT,Ck=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},kl=null,Rk=function(e){kl&&Sk(kl),e.defer?kl=wk(function(){yT(e,function(){kl=null})}):(yT(e),kl=null)},yT=function(e,n){var r=e.baseTag,i=e.bodyAttributes,o=e.htmlAttributes,u=e.linkTags,l=e.metaTags,d=e.noscriptTags,p=e.onChangeClientState,m=e.scriptTags,E=e.styleTags,b=e.title,I=e.titleAttributes;mg($e.BODY,i),mg($e.HTML,o),kk(b,I);var N={baseTag:eu($e.BASE,r),linkTags:eu($e.LINK,u),metaTags:eu($e.META,l),noscriptTags:eu($e.NOSCRIPT,d),scriptTags:eu($e.SCRIPT,m),styleTags:eu($e.STYLE,E)},F={},U={};Object.keys(N).forEach(function(q){var re=N[q],$=re.newTags,G=re.oldTags;$.length&&(F[q]=$),G.length&&(U[q]=N[q].oldTags)}),n&&n(),p(e,F,U)},Fb=function(e){return Array.isArray(e)?e.join(""):e},kk=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=Fb(e)),mg($e.TITLE,n)},mg=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(Zr),o=i?i.split(","):[],u=[].concat(o),l=Object.keys(n),d=0;d<l.length;d++){var p=l[d],m=n[p]||"";r.getAttribute(p)!==m&&r.setAttribute(p,m),o.indexOf(p)===-1&&o.push(p);var E=u.indexOf(p);E!==-1&&u.splice(E,1)}for(var b=u.length-1;b>=0;b--)r.removeAttribute(u[b]);o.length===u.length?r.removeAttribute(Zr):r.getAttribute(Zr)!==l.join(",")&&r.setAttribute(Zr,l.join(","))}},eu=function(e,n){var r=document.head||document.querySelector($e.HEAD),i=r.querySelectorAll(e+"["+Zr+"]"),o=Array.prototype.slice.call(i),u=[],l=void 0;return n&&n.length&&n.forEach(function(d){var p=document.createElement(e);for(var m in d)if(d.hasOwnProperty(m))if(m===Ct.INNER_HTML)p.innerHTML=d.innerHTML;else if(m===Ct.CSS_TEXT)p.styleSheet?p.styleSheet.cssText=d.cssText:p.appendChild(document.createTextNode(d.cssText));else{var E=typeof d[m]>"u"?"":d[m];p.setAttribute(m,E)}p.setAttribute(Zr,"true"),o.some(function(b,I){return l=I,p.isEqualNode(b)})?o.splice(l,1):u.push(p)}),o.forEach(function(d){return d.parentNode.removeChild(d)}),u.forEach(function(d){return r.appendChild(d)}),{oldTags:o,newTags:u}},Ub=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},Nk=function(e,n,r,i){var o=Ub(r),u=Fb(n);return o?"<"+e+" "+Zr+'="true" '+o+">"+fg(u,i)+"</"+e+">":"<"+e+" "+Zr+'="true">'+fg(u,i)+"</"+e+">"},xk=function(e,n,r){return n.reduce(function(i,o){var u=Object.keys(o).filter(function(p){return!(p===Ct.INNER_HTML||p===Ct.CSS_TEXT)}).reduce(function(p,m){var E=typeof o[m]>"u"?m:m+'="'+fg(o[m],r)+'"';return p?p+" "+E:E},""),l=o.innerHTML||o.cssText||"",d=mk.indexOf(e)===-1;return i+"<"+e+" "+Zr+'="true" '+u+(d?"/>":">"+l+"</"+e+">")},"")},Bb=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[Ph[i]||i]=e[i],r},n)},Pk=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[pk[i]||i]=e[i],r},n)},Ok=function(e,n,r){var i,o=(i={key:n},i[Zr]=!0,i),u=Bb(r,o);return[lu.createElement($e.TITLE,u,n)]},Dk=function(e,n){return n.map(function(r,i){var o,u=(o={key:i},o[Zr]=!0,o);return Object.keys(r).forEach(function(l){var d=Ph[l]||l;if(d===Ct.INNER_HTML||d===Ct.CSS_TEXT){var p=r.innerHTML||r.cssText;u.dangerouslySetInnerHTML={__html:p}}else u[d]=r[l]}),lu.createElement(e,u)})},Yi=function(e,n,r){switch(e){case $e.TITLE:return{toComponent:function(){return Ok(e,n.title,n.titleAttributes)},toString:function(){return Nk(e,n.title,n.titleAttributes,r)}};case Wo.BODY:case Wo.HTML:return{toComponent:function(){return Bb(n)},toString:function(){return Ub(n)}};default:return{toComponent:function(){return Dk(e,n)},toString:function(){return xk(e,n,r)}}}},Vb=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,o=e.htmlAttributes,u=e.linkTags,l=e.metaTags,d=e.noscriptTags,p=e.scriptTags,m=e.styleTags,E=e.title,b=E===void 0?"":E,I=e.titleAttributes;return{base:Yi($e.BASE,n,i),bodyAttributes:Yi(Wo.BODY,r,i),htmlAttributes:Yi(Wo.HTML,o,i),link:Yi($e.LINK,u,i),meta:Yi($e.META,l,i),noscript:Yi($e.NOSCRIPT,d,i),script:Yi($e.SCRIPT,p,i),style:Yi($e.STYLE,m,i),title:Yi($e.TITLE,{title:b,titleAttributes:I},i)}},Lk=function(e){var n,r;return r=n=function(i){_k(o,i);function o(){return yk(this,o),Tk(this,i.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(l){return!ck(this.props,l)},o.prototype.mapNestedChildrenToProps=function(l,d){if(!d)return null;switch(l.type){case $e.SCRIPT:case $e.NOSCRIPT:return{innerHTML:d};case $e.STYLE:return{cssText:d}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(l){var d,p=l.child,m=l.arrayTypeChildren,E=l.newChildProps,b=l.nestedChildren;return $n({},m,(d={},d[p.type]=[].concat(m[p.type]||[],[$n({},E,this.mapNestedChildrenToProps(p,b))]),d))},o.prototype.mapObjectTypeChildren=function(l){var d,p,m=l.child,E=l.newProps,b=l.newChildProps,I=l.nestedChildren;switch(m.type){case $e.TITLE:return $n({},E,(d={},d[m.type]=I,d.titleAttributes=$n({},b),d));case $e.BODY:return $n({},E,{bodyAttributes:$n({},b)});case $e.HTML:return $n({},E,{htmlAttributes:$n({},b)})}return $n({},E,(p={},p[m.type]=$n({},b),p))},o.prototype.mapArrayTypeChildrenToProps=function(l,d){var p=$n({},d);return Object.keys(l).forEach(function(m){var E;p=$n({},p,(E={},E[m]=l[m],E))}),p},o.prototype.warnOnInvalidChildren=function(l,d){return!0},o.prototype.mapChildrenToProps=function(l,d){var p=this,m={};return lu.Children.forEach(l,function(E){if(!(!E||!E.props)){var b=E.props,I=b.children,N=mT(b,["children"]),F=Pk(N);switch(p.warnOnInvalidChildren(E,I),E.type){case $e.LINK:case $e.META:case $e.NOSCRIPT:case $e.SCRIPT:case $e.STYLE:m=p.flattenArrayTypeChildren({child:E,arrayTypeChildren:m,newChildProps:F,nestedChildren:I});break;default:d=p.mapObjectTypeChildren({child:E,newProps:d,newChildProps:F,nestedChildren:I});break}}}),d=this.mapArrayTypeChildrenToProps(m,d),d},o.prototype.render=function(){var l=this.props,d=l.children,p=mT(l,["children"]),m=$n({},p);return d&&(m=this.mapChildrenToProps(d,m)),lu.createElement(e,m)},Ek(o,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),o}(lu.Component),n.propTypes={base:wt.object,bodyAttributes:wt.object,children:wt.oneOfType([wt.arrayOf(wt.node),wt.node]),defaultTitle:wt.string,defer:wt.bool,encodeSpecialCharacters:wt.bool,htmlAttributes:wt.object,link:wt.arrayOf(wt.object),meta:wt.arrayOf(wt.object),noscript:wt.arrayOf(wt.object),onChangeClientState:wt.func,script:wt.arrayOf(wt.object),style:wt.arrayOf(wt.object),title:wt.string,titleAttributes:wt.object,titleTemplate:wt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=Vb({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Mk=function(){return null},Fk=ak(Ak,Rk,Vb)(Mk),Ko=Lk(Fk);Ko.renderStatic=Ko.rewind;const Uk=()=>v.jsxs(v.Fragment,{children:[v.jsxs(Ko,{children:[v.jsx("title",{children:"Home | Tangled Oak + Craft Collective"}),v.jsx("meta",{name:"description",content:"Discover locally made artisanal goods, unique crafts, and one-of-a-kind finds at Tangled Oak + Craft Collective in North Bay, Ontario."}),v.jsx("meta",{name:"keywords",content:"handmade crafts, local artisans, North Bay, Ontario, home decor, jewelry, pottery, woodworking, Canadian artisans"})]}),v.jsx("div",{className:"home-container",children:v.jsxs("div",{className:"main-content",children:[v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Featured Vendors"}),v.jsx("img",{src:"/views/images/feature.png",alt:"Featured Vendors in the store",className:"feature-img"}),v.jsx("br",{}),v.jsx("a",{href:"/shop",className:"button",children:"Browse All Products"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"About Us"}),v.jsxs("p",{children:["Founded with a passion for craftsmanship,",v.jsx("br",{}),"The Tangled Oak + Craft Collective brings together talented artisans from North Bay and beyond.",v.jsx("br",{}),"Every product tells a story, celebrating the artistry and dedication of makers."]}),v.jsx("a",{href:"/about",className:"button",children:"Learn More"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Discover Handmade Treasures, Crafted with Heart"}),v.jsx("img",{src:"/views/images/shopFront2.jpg",alt:"Storefront from sidewalk",className:"hero-img"}),v.jsx("div",{className:"hero-text",children:"Locally made artisanal goods, unique crafts, and one-of-a-kind finds."}),v.jsx("br",{}),v.jsx("a",{href:"https://the-tangled-oak-craft-collective.square.site",className:"button",target:"_blank",rel:"noopener noreferrer",children:"Shop Now"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Hours of Operation"}),v.jsxs("p",{className:"hours-text",children:["Monday: 11 AM - 4 PM",v.jsx("br",{}),"Tuesday: 11 AM -4 PM",v.jsx("br",{}),"Wednesday: 11 AM - 4 PM",v.jsx("br",{}),"Thursday: 11 AM - 4 PM",v.jsx("br",{}),"Friday: 11 AM - 4 PM",v.jsx("br",{}),"Saturday: 10 AM - 3 PM",v.jsx("br",{}),"Sunday: CLOSED ",v.jsx("br",{})]})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Where You Can Find Us"}),v.jsxs("p",{children:["150 Oak Street W, North Bay, ON",v.jsx("br",{}),"Email: store@tangledoak.ca",v.jsx("br",{}),"Phone: (705) 201-2300"]}),v.jsx("br",{}),v.jsxs("div",{className:"map-container",children:[v.jsx("h2",{children:"Find Us on the Map"}),v.jsx("iframe",{className:"map",width:"80%",style:{border:"2px solid #203a13"},loading:"lazy",allowFullScreen:!0,title:"Tangled Oak Location",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2755.934228632341!2d-79.46534059999999!3d46.311143699999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4d29aa9cbd52da61%3A0x5ba29b1fbf8394f9!2s150%20Oak%20St%20W%2C%20North%20Bay%2C%20ON%20P1B%202S7!5e0!3m2!1sen!2sca!4v1742343151470!5m2!1sen!2sca"})]})]})]})})]});var nh={exports:{}},Ds={},rh={exports:{}},Sr={},ih={exports:{}},ET;function jb(){return ET||(ET=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/^(input|select|textarea|button|object|iframe)$/;function o(E,b){return b.getPropertyValue("overflow")!=="visible"||E.scrollWidth<=0&&E.scrollHeight<=0}function u(E){var b=E.offsetWidth<=0&&E.offsetHeight<=0;if(b&&!E.innerHTML)return!0;try{var I=window.getComputedStyle(E),N=I.getPropertyValue("display");return b?N!==r&&o(E,I):N===n}catch{return console.warn("Failed to inspect element style"),!1}}function l(E){for(var b=E,I=E.getRootNode&&E.getRootNode();b&&b!==document.body;){if(I&&b===I&&(b=I.host.parentNode),u(b))return!1;b=b.parentNode}return!0}function d(E,b){var I=E.nodeName.toLowerCase(),N=i.test(I)&&!E.disabled||I==="a"&&E.href||b;return N&&l(E)}function p(E){var b=E.getAttribute("tabindex");b===null&&(b=void 0);var I=isNaN(b);return(I||b>=0)&&d(E,!I)}function m(E){var b=[].slice.call(E.querySelectorAll("*"),0).reduce(function(I,N){return I.concat(N.shadowRoot?m(N.shadowRoot):[N])},[]);return b.filter(p)}t.exports=e.default}(ih,ih.exports)),ih.exports}var _T;function Bk(){if(_T)return Sr;_T=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.resetState=u,Sr.log=l,Sr.handleBlur=d,Sr.handleFocus=p,Sr.markForFocusLater=m,Sr.returnFocus=E,Sr.popWithoutFocus=b,Sr.setupScopedFocus=I,Sr.teardownScopedFocus=N;var t=jb(),e=n(t);function n(F){return F&&F.__esModule?F:{default:F}}var r=[],i=null,o=!1;function u(){r=[]}function l(){}function d(){o=!0}function p(){if(o){if(o=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var F=(0,e.default)(i)[0]||i;F.focus()}},0)}}function m(){r.push(document.activeElement)}function E(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,U=null;try{r.length!==0&&(U=r.pop(),U.focus({preventScroll:F}));return}catch{console.warn(["You tried to return focus to",U,"but it is not in the DOM anymore"].join(" "))}}function b(){r.length>0&&r.pop()}function I(F){i=F,window.addEventListener?(window.addEventListener("blur",d,!1),document.addEventListener("focus",p,!0)):(window.attachEvent("onBlur",d),document.attachEvent("onFocus",p))}function N(){i=null,window.addEventListener?(window.removeEventListener("blur",d),document.removeEventListener("focus",p)):(window.detachEvent("onBlur",d),document.detachEvent("onFocus",p))}return Sr}var sh={exports:{}},TT;function Vk(){return TT||(TT=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var n=jb(),r=i(n);function i(l){return l&&l.__esModule?l:{default:l}}function o(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return l.activeElement.shadowRoot?o(l.activeElement.shadowRoot):l.activeElement}function u(l,d){var p=(0,r.default)(l);if(!p.length){d.preventDefault();return}var m=void 0,E=d.shiftKey,b=p[0],I=p[p.length-1],N=o();if(l===N){if(!E)return;m=I}if(I===N&&!E&&(m=b),b===N&&E&&(m=I),m){d.preventDefault(),m.focus();return}var F=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),U=F!=null&&F[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(U){var q=p.indexOf(N);if(q>-1&&(q+=E?-1:1),m=p[q],typeof m>"u"){d.preventDefault(),m=E?I:b,m.focus();return}d.preventDefault(),m.focus()}}t.exports=e.default}(sh,sh.exports)),sh.exports}var Jr={},Rm,vT;function jk(){if(vT)return Rm;vT=1;var t=function(){};return Rm=t,Rm}var Ei={},km={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var bT;function Hk(){return bT||(bT=1,function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()}(km)),km.exports}var IT;function p0(){if(IT)return Ei;IT=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.canUseDOM=Ei.SafeNodeList=Ei.SafeHTMLCollection=void 0;var t=Hk(),e=n(t);function n(o){return o&&o.__esModule?o:{default:o}}var r=e.default,i=r.canUseDOM?window.HTMLElement:{};return Ei.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},Ei.SafeNodeList=r.canUseDOM?window.NodeList:{},Ei.canUseDOM=r.canUseDOM,Ei.default=i,Ei}var AT;function Hb(){if(AT)return Jr;AT=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.resetState=o,Jr.log=u,Jr.assertNodeList=l,Jr.setElement=d,Jr.validateElement=p,Jr.hide=m,Jr.show=E,Jr.documentNotReadyOrSSRTesting=b;var t=jk(),e=r(t),n=p0();function r(I){return I&&I.__esModule?I:{default:I}}var i=null;function o(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(I){return I.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(I){return I.removeAttribute("aria-hidden")})),i=null}function u(){}function l(I,N){if(!I||!I.length)throw new Error("react-modal: No elements were found for selector "+N+".")}function d(I){var N=I;if(typeof N=="string"&&n.canUseDOM){var F=document.querySelectorAll(N);l(F,N),N=F}return i=N||i,i}function p(I){var N=I||i;return N?Array.isArray(N)||N instanceof HTMLCollection||N instanceof NodeList?N:[N]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function m(I){var N=!0,F=!1,U=void 0;try{for(var q=p(I)[Symbol.iterator](),re;!(N=(re=q.next()).done);N=!0){var $=re.value;$.setAttribute("aria-hidden","true")}}catch(G){F=!0,U=G}finally{try{!N&&q.return&&q.return()}finally{if(F)throw U}}}function E(I){var N=!0,F=!1,U=void 0;try{for(var q=p(I)[Symbol.iterator](),re;!(N=(re=q.next()).done);N=!0){var $=re.value;$.removeAttribute("aria-hidden")}}catch(G){F=!0,U=G}finally{try{!N&&q.return&&q.return()}finally{if(F)throw U}}}function b(){i=null}return Jr}var Bo={},wT;function zk(){if(wT)return Bo;wT=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.resetState=r,Bo.log=i;var t={},e={};function n(p,m){p.classList.remove(m)}function r(){var p=document.getElementsByTagName("html")[0];for(var m in t)n(p,t[m]);var E=document.body;for(var b in e)n(E,e[b]);t={},e={}}function i(){}var o=function(m,E){return m[E]||(m[E]=0),m[E]+=1,E},u=function(m,E){return m[E]&&(m[E]-=1),E},l=function(m,E,b){b.forEach(function(I){o(E,I),m.add(I)})},d=function(m,E,b){b.forEach(function(I){u(E,I),E[I]===0&&m.remove(I)})};return Bo.add=function(m,E){return l(m.classList,m.nodeName.toLowerCase()=="html"?t:e,E.split(" "))},Bo.remove=function(m,E){return d(m.classList,m.nodeName.toLowerCase()=="html"?t:e,E.split(" "))},Bo}var tu={},ST;function zb(){if(ST)return tu;ST=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.log=r,tu.resetState=i;function t(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}var e=function o(){var u=this;t(this,o),this.register=function(l){u.openInstances.indexOf(l)===-1&&(u.openInstances.push(l),u.emit("register"))},this.deregister=function(l){var d=u.openInstances.indexOf(l);d!==-1&&(u.openInstances.splice(d,1),u.emit("deregister"))},this.subscribe=function(l){u.subscribers.push(l)},this.emit=function(l){u.subscribers.forEach(function(d){return d(l,u.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new e;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(o){return console.log(o)}),console.log("end portalOpenInstances ----------")}function i(){n=new e}return tu.default=n,tu}var Nl={},CT;function qk(){if(CT)return Nl;CT=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.resetState=u,Nl.log=l;var t=zb(),e=n(t);function n(m){return m&&m.__esModule?m:{default:m}}var r=void 0,i=void 0,o=[];function u(){for(var m=[r,i],E=0;E<m.length;E++){var b=m[E];b&&b.parentNode&&b.parentNode.removeChild(b)}r=i=null,o=[]}function l(){console.log("bodyTrap ----------"),console.log(o.length);for(var m=[r,i],E=0;E<m.length;E++){var b=m[E],I=b||{};console.log(I.nodeName,I.className,I.id)}console.log("edn bodyTrap ----------")}function d(){o.length!==0&&o[o.length-1].focusContent()}function p(m,E){!r&&!i&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",d),i=r.cloneNode(),i.addEventListener("focus",d)),o=E,o.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))}return e.default.subscribe(p),Nl}var RT;function Wk(){return RT||(RT=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(te){for(var ae=1;ae<arguments.length;ae++){var Ce=arguments[ae];for(var K in Ce)Object.prototype.hasOwnProperty.call(Ce,K)&&(te[K]=Ce[K])}return te},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},i=function(){function te(ae,Ce){for(var K=0;K<Ce.length;K++){var ie=Ce[K];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(ae,ie.key,ie)}}return function(ae,Ce,K){return Ce&&te(ae.prototype,Ce),K&&te(ae,K),ae}}(),o=Cu(),u=f0(),l=_e(u),d=Bk(),p=G(d),m=Vk(),E=_e(m),b=Hb(),I=G(b),N=zk(),F=G(N),U=p0(),q=_e(U),re=zb(),$=_e(re);qk();function G(te){if(te&&te.__esModule)return te;var ae={};if(te!=null)for(var Ce in te)Object.prototype.hasOwnProperty.call(te,Ce)&&(ae[Ce]=te[Ce]);return ae.default=te,ae}function _e(te){return te&&te.__esModule?te:{default:te}}function Z(te,ae){if(!(te instanceof ae))throw new TypeError("Cannot call a class as a function")}function H(te,ae){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:te}function x(te,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);te.prototype=Object.create(ae&&ae.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(te,ae):te.__proto__=ae)}var M={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},j=function(ae){return ae.code==="Tab"||ae.keyCode===9},P=function(ae){return ae.code==="Escape"||ae.keyCode===27},O=0,C=function(te){x(ae,te);function ae(Ce){Z(this,ae);var K=H(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,Ce));return K.setOverlayRef=function(ie){K.overlay=ie,K.props.overlayRef&&K.props.overlayRef(ie)},K.setContentRef=function(ie){K.content=ie,K.props.contentRef&&K.props.contentRef(ie)},K.afterClose=function(){var ie=K.props,Ie=ie.appElement,R=ie.ariaHideApp,W=ie.htmlOpenClassName,le=ie.bodyOpenClassName,L=ie.parentSelector,Oe=L&&L().ownerDocument||document;le&&F.remove(Oe.body,le),W&&F.remove(Oe.getElementsByTagName("html")[0],W),R&&O>0&&(O-=1,O===0&&I.show(Ie)),K.props.shouldFocusAfterRender&&(K.props.shouldReturnFocusAfterClose?(p.returnFocus(K.props.preventScroll),p.teardownScopedFocus()):p.popWithoutFocus()),K.props.onAfterClose&&K.props.onAfterClose(),$.default.deregister(K)},K.open=function(){K.beforeOpen(),K.state.afterOpen&&K.state.beforeClose?(clearTimeout(K.closeTimer),K.setState({beforeClose:!1})):(K.props.shouldFocusAfterRender&&(p.setupScopedFocus(K.node),p.markForFocusLater()),K.setState({isOpen:!0},function(){K.openAnimationFrame=requestAnimationFrame(function(){K.setState({afterOpen:!0}),K.props.isOpen&&K.props.onAfterOpen&&K.props.onAfterOpen({overlayEl:K.overlay,contentEl:K.content})})}))},K.close=function(){K.props.closeTimeoutMS>0?K.closeWithTimeout():K.closeWithoutTimeout()},K.focusContent=function(){return K.content&&!K.contentHasFocus()&&K.content.focus({preventScroll:!0})},K.closeWithTimeout=function(){var ie=Date.now()+K.props.closeTimeoutMS;K.setState({beforeClose:!0,closesAt:ie},function(){K.closeTimer=setTimeout(K.closeWithoutTimeout,K.state.closesAt-Date.now())})},K.closeWithoutTimeout=function(){K.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},K.afterClose)},K.handleKeyDown=function(ie){j(ie)&&(0,E.default)(K.content,ie),K.props.shouldCloseOnEsc&&P(ie)&&(ie.stopPropagation(),K.requestClose(ie))},K.handleOverlayOnClick=function(ie){K.shouldClose===null&&(K.shouldClose=!0),K.shouldClose&&K.props.shouldCloseOnOverlayClick&&(K.ownerHandlesClose()?K.requestClose(ie):K.focusContent()),K.shouldClose=null},K.handleContentOnMouseUp=function(){K.shouldClose=!1},K.handleOverlayOnMouseDown=function(ie){!K.props.shouldCloseOnOverlayClick&&ie.target==K.overlay&&ie.preventDefault()},K.handleContentOnClick=function(){K.shouldClose=!1},K.handleContentOnMouseDown=function(){K.shouldClose=!1},K.requestClose=function(ie){return K.ownerHandlesClose()&&K.props.onRequestClose(ie)},K.ownerHandlesClose=function(){return K.props.onRequestClose},K.shouldBeClosed=function(){return!K.state.isOpen&&!K.state.beforeClose},K.contentHasFocus=function(){return document.activeElement===K.content||K.content.contains(document.activeElement)},K.buildClassName=function(ie,Ie){var R=(typeof Ie>"u"?"undefined":r(Ie))==="object"?Ie:{base:M[ie],afterOpen:M[ie]+"--after-open",beforeClose:M[ie]+"--before-close"},W=R.base;return K.state.afterOpen&&(W=W+" "+R.afterOpen),K.state.beforeClose&&(W=W+" "+R.beforeClose),typeof Ie=="string"&&Ie?W+" "+Ie:W},K.attributesFromObject=function(ie,Ie){return Object.keys(Ie).reduce(function(R,W){return R[ie+"-"+W]=Ie[W],R},{})},K.state={afterOpen:!1,beforeClose:!1},K.shouldClose=null,K.moveFromContentToOverlay=null,K}return i(ae,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(K,ie){this.props.isOpen&&!K.isOpen?this.open():!this.props.isOpen&&K.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!ie.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var K=this.props,ie=K.appElement,Ie=K.ariaHideApp,R=K.htmlOpenClassName,W=K.bodyOpenClassName,le=K.parentSelector,L=le&&le().ownerDocument||document;W&&F.add(L.body,W),R&&F.add(L.getElementsByTagName("html")[0],R),Ie&&(O+=1,I.hide(ie)),$.default.register(this)}},{key:"render",value:function(){var K=this.props,ie=K.id,Ie=K.className,R=K.overlayClassName,W=K.defaultStyles,le=K.children,L=Ie?{}:W.content,Oe=R?{}:W.overlay;if(this.shouldBeClosed())return null;var je={ref:this.setOverlayRef,className:this.buildClassName("overlay",R),style:n({},Oe,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},De=n({id:ie,ref:this.setContentRef,style:n({},L,this.props.style.content),className:this.buildClassName("content",Ie),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Xe=this.props.contentElement(De,le);return this.props.overlayElement(je,Xe)}}]),ae}(o.Component);C.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},C.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),parentSelector:l.default.func,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.oneOfType([l.default.instanceOf(q.default),l.default.instanceOf(U.SafeHTMLCollection),l.default.instanceOf(U.SafeNodeList),l.default.arrayOf(l.default.instanceOf(q.default))]),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func,testId:l.default.string},e.default=C,t.exports=e.default}(rh,rh.exports)),rh.exports}function qb(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Wb(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function $b(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}qb.__suppressDeprecationWarning=!0;Wb.__suppressDeprecationWarning=!0;$b.__suppressDeprecationWarning=!0;function $k(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,u=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+u+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=qb,e.componentWillReceiveProps=Wb),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=$b;var l=e.componentDidUpdate;e.componentDidUpdate=function(p,m,E){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:E;l.call(this,p,m,b)}}return t}const Yk=Object.freeze(Object.defineProperty({__proto__:null,polyfill:$k},Symbol.toStringTag,{value:"Module"})),Gk=z2(Yk);var kT;function Kk(){if(kT)return Ds;kT=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.bodyOpenClassName=Ds.portalClassName=void 0;var t=Object.assign||function(P){for(var O=1;O<arguments.length;O++){var C=arguments[O];for(var te in C)Object.prototype.hasOwnProperty.call(C,te)&&(P[te]=C[te])}return P},e=function(){function P(O,C){for(var te=0;te<C.length;te++){var ae=C[te];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(O,ae.key,ae)}}return function(O,C,te){return C&&P(O.prototype,C),te&&P(O,te),O}}(),n=Cu(),r=U(n),i=a0(),o=U(i),u=f0(),l=U(u),d=Wk(),p=U(d),m=Hb(),E=F(m),b=p0(),I=U(b),N=Gk;function F(P){if(P&&P.__esModule)return P;var O={};if(P!=null)for(var C in P)Object.prototype.hasOwnProperty.call(P,C)&&(O[C]=P[C]);return O.default=P,O}function U(P){return P&&P.__esModule?P:{default:P}}function q(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function re(P,O){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:P}function $(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(P,O):P.__proto__=O)}var G=Ds.portalClassName="ReactModalPortal",_e=Ds.bodyOpenClassName="ReactModal__Body--open",Z=b.canUseDOM&&o.default.createPortal!==void 0,H=function(O){return document.createElement(O)},x=function(){return Z?o.default.createPortal:o.default.unstable_renderSubtreeIntoContainer};function M(P){return P()}var j=function(P){$(O,P);function O(){var C,te,ae,Ce;q(this,O);for(var K=arguments.length,ie=Array(K),Ie=0;Ie<K;Ie++)ie[Ie]=arguments[Ie];return Ce=(te=(ae=re(this,(C=O.__proto__||Object.getPrototypeOf(O)).call.apply(C,[this].concat(ie))),ae),ae.removePortal=function(){!Z&&o.default.unmountComponentAtNode(ae.node);var R=M(ae.props.parentSelector);R&&R.contains(ae.node)?R.removeChild(ae.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},ae.portalRef=function(R){ae.portal=R},ae.renderPortal=function(R){var W=x(),le=W(ae,r.default.createElement(p.default,t({defaultStyles:O.defaultStyles},R)),ae.node);ae.portalRef(le)},te),re(ae,Ce)}return e(O,[{key:"componentDidMount",value:function(){if(b.canUseDOM){Z||(this.node=H("div")),this.node.className=this.props.portalClassName;var te=M(this.props.parentSelector);te.appendChild(this.node),!Z&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(te){var ae=M(te.parentSelector),Ce=M(this.props.parentSelector);return{prevParent:ae,nextParent:Ce}}},{key:"componentDidUpdate",value:function(te,ae,Ce){if(b.canUseDOM){var K=this.props,ie=K.isOpen,Ie=K.portalClassName;te.portalClassName!==Ie&&(this.node.className=Ie);var R=Ce.prevParent,W=Ce.nextParent;W!==R&&(R.removeChild(this.node),W.appendChild(this.node)),!(!te.isOpen&&!ie)&&!Z&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!b.canUseDOM||!this.node||!this.portal)){var te=this.portal.state,ae=Date.now(),Ce=te.isOpen&&this.props.closeTimeoutMS&&(te.closesAt||ae+this.props.closeTimeoutMS);Ce?(te.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,Ce-ae)):this.removePortal()}}},{key:"render",value:function(){if(!b.canUseDOM||!Z)return null;!this.node&&Z&&(this.node=H("div"));var te=x();return te(r.default.createElement(p.default,t({ref:this.portalRef,defaultStyles:O.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(te){E.setElement(te)}}]),O}(n.Component);return j.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(I.default),l.default.instanceOf(b.SafeHTMLCollection),l.default.instanceOf(b.SafeNodeList),l.default.arrayOf(l.default.instanceOf(I.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},j.defaultProps={isOpen:!1,portalClassName:G,bodyOpenClassName:_e,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(O,C){return r.default.createElement("div",O,C)},contentElement:function(O,C){return r.default.createElement("div",O,C)}},j.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,N.polyfill)(j),Ds.default=j,Ds}var NT;function Qk(){return NT||(NT=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Kk(),r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default,t.exports=e.default}(nh,nh.exports)),nh.exports}var Xk=Qk();const Yb=is(Xk);Yb.setAppElement("#root");const Jk=({isOpen:t,product:e,onClose:n})=>e?v.jsx(Yb,{isOpen:t,onRequestClose:n,contentLabel:"Product Checkout",className:"modal",overlayClassName:"overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h2",{children:e.name}),v.jsx("img",{src:e.image_url,alt:e.name,style:{width:"100%",maxWidth:"400px"}}),v.jsx("p",{style:{margin:"1rem 0"},children:e.description}),v.jsxs("p",{children:[v.jsx("strong",{children:"Price:"})," $",e.price.toFixed(2)," ",e.currency]}),v.jsx("a",{href:e.product_url,target:"_blank",rel:"noopener noreferrer",className:"checkout-button",style:{marginTop:"1rem"},children:"Complete Secure Checkout"}),v.jsx("br",{}),v.jsx("button",{onClick:n,style:{marginTop:"1rem"},children:"Cancel"})]})}):null,Zk=()=>{const[t,e]=ce.useState([]),[n,r]=ce.useState(""),[i,o]=ce.useState(""),[u,l]=ce.useState(null),[d,p]=ce.useState(!1),[m,E]=ce.useState(null),b=ra(),I=()=>{E(null),p(!1)},N=$=>{const G=($.name||"").toLowerCase(),_e=($.description||"").toLowerCase();return G.includes("earring")||G.includes("necklace")||G.includes("bracelet")||G.includes("ring")?"Jewelry":G.includes("hat")||G.includes("shirt")||G.includes("sweater")||G.includes("shawl")||G.includes("scarf")||G.includes("tank")||G.includes("mitten")||G.includes("sock")||G.includes("slipper")?"Clothing + Wearables":G.includes("bag")||G.includes("purse")||G.includes("tote")?"Bags":G.includes("baby")||G.includes("kids")||_e.includes("child")?"Baby + Kids":G.includes("soap")||G.includes("bath")||G.includes("scrub")||G.includes("beard")||G.includes("lotion")||G.includes("bomb")?"Bath + Body":G.includes("crystal")||G.includes("gem")||G.includes("stone")?"Crystals + Healing":G.includes("mug")||G.includes("glass")?"Kitchen":G.includes("biscotti")||G.includes("cheese")||G.includes("maple")||G.includes("snack")?"Pantry + Snacks":G.includes("pet")||G.includes("treat")||_e.includes("dog")||_e.includes("cat")?"Pets":G.includes("knife")||G.includes("blade")||G.includes("dagger")||G.includes("axe")?"Knives + Blades":G.includes("craft")||G.includes("kit")||G.includes("supply")||G.includes("bead")||G.includes("wire")||G.includes("pom")?"DIY Crafts + Supplies":G.includes("card")||G.includes("tag")||G.includes("paper")||G.includes("gift")?"Gift Accessories & Paper Goods":G.includes("pottery")||G.includes("dish")||G.includes("serving")?"Serving Dishes":_e.includes("music")||G.includes("lynn blunt")?"Music":G.includes("home")||_e.includes("decor")||G.includes("sign")||G.includes("pillow")?"Home Decor":"Uncategorized"},F=$=>{const G=new Date,_e=new Date($);return(G-_e)/(1e3*60*60*24)<=30};ce.useEffect(()=>{fetch("undefined/products").then($=>{if(!$.ok)throw new Error("Network response was not ok");return $.json()}).then($=>{const G=$.products.map(_e=>({..._e,category_name:N(_e),created_at:_e.created_at||new Date("2024-04-01")}));G.sort((_e,Z)=>new Date(Z.created_at)-new Date(_e.created_at)),e(G)}).catch($=>{console.error(" Fetch error:",$),l("Failed to load products. Please try again later.")})},[]);const U=t.filter($=>{const G=n?$.category_name.toLowerCase()===n.toLowerCase():!0,_e=i?$.description.toLowerCase().includes(i.toLowerCase()):!0;return G&&_e}),q=["Jewelry","Clothing + Wearables","Bags","Baby + Kids","Bath + Body","Crystals + Healing","Kitchen","Pantry + Snacks","Pets","Knives + Blades","DIY Crafts + Supplies","Home Decor","Gift Accessories & Paper Goods","Serving Dishes","Music"],re=["Ocean Soul Clay","Spoons and Stuff by Christine","Candy Dandy Crafts","Cosmically Connected","Mo's Craftworks","She Keeps Bees","Bohemian Heart Crafts","Gravelle","Little Barn Homestead","Old Soul Soap Company","Soap & Seed","Muddy Paws Raw","Top to Toe Hand Knits","Knits by Marsha Ann","Knit With Love","Lahaie Hats","Tags & Tropics","Peddie Pieces","Lynn Blunt","A&S Crystals","Sleeping Giant Biscotti","Cheese and Stuffs","Maple Syrup Trillium","The Knotty Celt"];return v.jsxs(v.Fragment,{children:[v.jsxs(Ko,{children:[v.jsx("title",{children:"Shop Handmade Crafts | Tangled Oak + Craft Collective"}),v.jsx("meta",{name:"description",content:"Discover handmade crafts from local artisans."})]}),v.jsxs("div",{className:"shop-page",children:[v.jsxs("div",{className:"shop-header",children:[v.jsx("h1",{children:"Shop Our Collection"}),v.jsx("p",{children:"Browse products from local artisans and makers. Tap a product to check out via our secure Square store."})]}),v.jsxs("div",{className:"shop-filters",children:[v.jsxs("select",{value:n,onChange:$=>r($.target.value),disabled:i!=="",children:[v.jsx("option",{value:"",children:"All Categories"}),q.map($=>v.jsx("option",{value:$,children:$},$))]}),v.jsxs("select",{value:i,onChange:$=>{o($.target.value),r("")},children:[v.jsx("option",{value:"",children:"All Vendors"}),re.map($=>v.jsx("option",{value:$,children:$},$))]})]}),u&&v.jsx("p",{style:{color:"red",textAlign:"center"},children:u}),v.jsx("div",{className:"products-container",children:U.filter($=>$.product_url&&$.product_url!=="#").length===0?v.jsx("p",{style:{textAlign:"center"},children:"No available products found."}):U.filter($=>$.product_url&&$.product_url!=="#").map($=>v.jsxs("div",{className:"product-card",children:[F($.created_at)&&v.jsx("div",{className:"new-badge",children:"New!"}),v.jsx("img",{src:$.image_url,alt:$.name,className:"product-image"}),v.jsx("h3",{className:"product-name",children:$.name.replace(/^New!\s*/i,"")}),v.jsxs("p",{className:"product-price",children:["$",$.price.toFixed(2)," ",$.currency]}),v.jsx("button",{onClick:()=>b(`/product/${$.id}`),className:"checkout-button",children:"View Product"})]},$.id))})]}),v.jsx(Jk,{isOpen:d,product:m,onClose:I})]})},eN=()=>{var l;const{productId:t}=h0(),[e,n]=ce.useState(null),[r,i]=ce.useState(""),[o,u]=ce.useState("");return ce.useEffect(()=>{(async()=>{try{const p=await fetch("/products");if(!p.ok)throw new Error("Failed to fetch product details.");const E=(await p.json()).products.find(b=>b.id===t);E?n(E):i("Product not found.")}catch(p){console.error("Error loading product:",p),i("Failed to load product.")}})()},[t]),r?v.jsx("div",{className:"product-page",children:v.jsx("p",{children:r})}):e?v.jsx("div",{className:"product-page",children:v.jsxs("div",{className:"context-box product-box",children:[v.jsx("div",{className:"product-image",children:v.jsx("img",{src:e.image_url,alt:e.name})}),v.jsxs("div",{className:"product-header",children:[v.jsx("h1",{children:e.name}),v.jsxs("p",{className:"product-price",children:["$",e.price.toFixed(2)," ",e.currency]})]}),v.jsx("div",{className:"product-description",children:v.jsx("p",{children:e.description})}),((l=e.variations)==null?void 0:l.length)>0&&v.jsxs("div",{className:"product-variations",children:[v.jsx("label",{htmlFor:"variation-select",children:"Choose Variation:"}),v.jsx("select",{id:"variation-select",value:o,onChange:d=>u(d.target.value),children:e.variations.map((d,p)=>v.jsx("option",{value:d.name,children:d.name},p))})]}),v.jsx("a",{href:e.product_url,target:"_blank",rel:"noopener noreferrer",className:"checkout-button",children:"Buy Now"})]})}):v.jsx("div",{className:"product-page",children:v.jsx("p",{children:"Loading..."})})},Gb=ce.createContext(),tN=[];function nN(t,e){switch(e.type){case"ADD":return t.find(r=>r.id===e.payload.id)?t.map(r=>r.id===e.payload.id?{...r,quantity:r.quantity+e.payload.quantity}:r):[...t,e.payload];case"REMOVE":return t.filter(r=>r.id!==e.payload);case"CLEAR":return[];default:return t}}const rN=({children:t})=>{const[e,n]=ce.useReducer(nN,tN),r=(u,l=1)=>{n({type:"ADD",payload:{...u,quantity:l}})},i=u=>{n({type:"REMOVE",payload:u})},o=()=>n({type:"CLEAR"});return v.jsx(Gb.Provider,{value:{cart:e,addToCart:r,removeFromCart:i,clearCart:o},children:t})},iN=()=>ce.useContext(Gb),sN=()=>{const{cart:t,removeFromCart:e,clearCart:n}=iN(),r=async()=>{try{const o=await(await fetch("undefined/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:t})})).json();o.checkout_url?window.location.href=o.checkout_url:alert("Checkout failed: No URL returned.")}catch(i){console.error("Checkout error:",i),alert("Something went wrong during checkout.")}};return v.jsxs("div",{className:"cart-page",children:[v.jsx("h1",{children:"Your Cart"}),t.length===0?v.jsx("p",{children:"Your cart is empty."}):v.jsxs(v.Fragment,{children:[v.jsx("ul",{children:t.map(i=>v.jsxs("li",{style:{marginBottom:"1rem"},children:[v.jsx("strong",{children:i.name}),"  $",i.price.toFixed(2),"  ",i.quantity,v.jsx("br",{}),v.jsx("button",{onClick:()=>e(i.id),style:{marginTop:"0.25rem"},children:"Remove"})]},i.id))}),v.jsx("hr",{}),v.jsxs("p",{children:[v.jsx("strong",{children:"Total:"})," ","$",t.reduce((i,o)=>i+o.price*o.quantity,0).toFixed(2)]}),v.jsx("button",{onClick:r,className:"checkout-button",style:{marginTop:"1rem"},children:"Proceed to Checkout"}),v.jsx("br",{}),v.jsx("button",{onClick:n,style:{marginTop:"0.5rem",color:"red"},children:"Clear Cart"})]})]})},oN=()=>v.jsxs(v.Fragment,{children:[v.jsxs(Ko,{children:[v.jsx("title",{children:"About Us | The Tangled Oak + Craft Collective"}),v.jsx("meta",{name:"description",content:"Learn about The Tangled Oak + Craft Collective in North Bay, Ontario. Discover our mission to support local artisans, explore handmade goods, and connect with a creative community."}),v.jsx("meta",{name:"keywords",content:"handmade crafts, local artisans, North Bay, craft collective, Ontario handmade gifts, support local makers"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Introduction"}),v.jsxs("p",{children:["Welcome to ",v.jsx("strong",{children:"The Tangled Oak + Craft Collective"}),", located at 150 Oak St W, North Bay, Ontario. We are a community-focused store dedicated to offering a unique selection of handmade treasures, crafted with love by local artisans. Our collective brings together a variety of products, from beautifully crafted pottery and jewelry to hand-knit items and wooden decor. Each piece tells its own story, making it the perfect place to find something special, whether for yourself or as a gift."]}),v.jsx("p",{children:"Our team is passionate about supporting local makers and providing a space for creativity and connection. Whether you're a visitor or a regular, we invite you to explore and discover the artistry behind every item we carry. Were here to celebrate handmade craft and community spirit."}),v.jsx("p",{children:"We hope you'll join us on this exciting journey and discover something special in our store. We look forward to welcoming you to our community-focused store."})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Mission and Vision"}),v.jsx("p",{children:"The Tangled Oak + Craft Collective was born from a passion for supporting local artisans and celebrating the beauty of handmade creations. Our mission is to provide a space where craft, creativity, and community come together. We are dedicated to showcasing a diverse range of high-quality, handcrafted products made by talented local makers. Each item we offer tells a unique story, reflecting the love and care put into its creation."}),v.jsx("p",{children:"Our vision is to foster a thriving creative community in North Bay by providing a platform for artisans to share their work and for customers to discover one-of-a-kind treasures. We believe in the power of handmade craftsmanship to bring joy, inspiration, and connection to everyone who experiences it."})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"What We Offer"}),v.jsx("p",{children:"At The Tangled Oak + Craft Collective, we offer a wide range of handmade goods crafted with love and care by local artisans. Our collection includes everything from custom pottery and beautifully crafted knives to unique home decor, jewelry, and gourmet products like locally made honeys and jams."}),v.jsx("p",{children:"Each piece in our store is carefully selected for its quality and artistry. Whether you're looking for functional items or decorative treasures, you'll find something that speaks to your heart and adds a touch of craftsmanship to your home or collection."}),v.jsx("p",{children:"Explore our ever-changing selection, with new items added regularly, and find that perfect, one-of-a-kind piece that makes your day a little brighter."}),v.jsx(Jt,{to:"/shop",className:"button",children:"Shop Now"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Community and Connection"}),v.jsx("p",{children:"At The Tangled Oak + Craft Collective, we believe in the power of community and the importance of supporting local artisans and makers. Our mission is to create a welcoming space where creativity flourishes, bringing together a diverse group of talented individuals who share a passion for craftsmanship."}),v.jsx("p",{children:"We are committed to fostering connections between artists and customers, creating an environment where both can grow and thrive. By supporting local makers, we help ensure that their work is recognized and celebrated, and we provide our customers with unique, high-quality pieces that reflect the creativity and spirit of our community."}),v.jsx("p",{children:"Whether you're browsing for a one-of-a-kind gift or looking for inspiration, The Tangled Oak is a place where creativity, collaboration, and community come together to create something truly special."})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"The Story Behind the Name"}),v.jsx("p",{children:'The name "The Tangled Oak" is inspired by both the natural world and our roots here in North Bay. The oak tree, known for its strength and enduring presence, symbolizes stability, growth, and deep roots. The "tangled" part of the name reflects the creative, interconnected community weve fostered with local artisans and makers. It also pays homage to our location on Oak Street, where we bring together a variety of talents and passions to create something unique and beautiful.'}),v.jsx("p",{children:"At The Tangled Oak + Craft Collective, we embrace the beauty of diversity and collaboration, much like the intertwining branches of an oak tree, and we strive to create a space where creativity and community thrive together."})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Meet the Team"}),v.jsx("p",{children:"At The Tangled Oak + Craft Collective, we are a team of passionate individuals dedicated to supporting local artisans and fostering a creative community. We work together to provide a welcoming space where artists and customers can connect and thrive."}),v.jsx("p",{children:"Our team is made up of owners, managers, and key individuals who bring their unique skills and vision to the collective. From curating the products in our store to offering personalized service, each member of our team plays an integral role in making The Tangled Oak a vibrant part of the North Bay community."}),v.jsx("p",{children:"Get to know the people behind the collective:"}),v.jsx("h3",{children:"Aimee"}),v.jsx("p",{children:"Owner and Creator. Aimee's passion for local craftsmanship and community drives the vision behind The Tangled Oak."}),v.jsx("h3",{children:"Carol"}),v.jsx("p",{children:"Manager and Curator. Carol brings her expertise in handmade goods and customer experience to the collective."}),v.jsx("h3",{children:"Charles"}),v.jsx("p",{children:"Operations Coordinator. Charles ensures that everything runs smoothly behind the scenes, managing logistics and day-to-day operations."})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Our Values"}),v.jsx("p",{children:"At The Tangled Oak + Craft Collective, we are guided by a set of core values that define our mission and the way we interact with our community. We believe in the power of craftsmanship, sustainability, and connection. Our products are thoughtfully created by artisans who value quality and authenticity, and we are committed to supporting local makers while promoting eco-friendly practices."}),v.jsx("p",{children:"We strive to create a space where creativity, collaboration, and sustainability can flourish together, benefiting both our makers and our customers."})]}),v.jsxs("div",{className:"context-box",children:[v.jsxs("p",{className:"hours-text",children:["Monday: 11 AM - 4 PM",v.jsx("br",{}),"Tuesday: 11 AM -4 PM",v.jsx("br",{}),"Wednesday: 11 AM - 4 PM",v.jsx("br",{}),"Thursday: 11 AM - 4 PM",v.jsx("br",{}),"Friday: 11 AM - 4 PM",v.jsx("br",{}),"Saturday: 10 AM - 3 PM",v.jsx("br",{}),"Sunday: CLOSED"]}),v.jsx("br",{}),v.jsx("h3",{children:"Where you can find us"}),v.jsxs("p",{children:["150 Oak Street W",v.jsx("br",{}),"North Bay, ON"]}),v.jsxs("p",{children:["Email: store@tangledoak.ca",v.jsx("br",{}),"Phone: (705) 201-2300"]})]}),v.jsx("div",{className:"context-box",children:v.jsx("iframe",{className:"map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2755.934228632341!2d-79.46534059999999!3d46.311143699999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4d29aa9cbd52da61%3A0x5ba29b1fbf8394f9!2s150%20Oak%20St%20W%2C%20North%20Bay%2C%20ON%20P1B%202S7!5e0!3m2!1sen!2sca!4v1691078701919!5m2!1sen!2sca",width:"100%",height:"450",frameBorder:"0",allowFullScreen:"","aria-hidden":"false",tabIndex:"0"})})]}),aN=()=>{const[t,e]=ce.useState({name:"",email:"",message:""}),n=i=>{const{name:o,value:u}=i.target;e(l=>({...l,[o]:u}))},r=i=>{i.preventDefault(),alert("Your message has been sent!"),e({name:"",email:"",message:""})};return v.jsx("div",{className:"contact-container",children:v.jsxs("div",{className:"main-content",children:[v.jsxs("div",{className:"context-box",children:[v.jsx("h1",{children:"Contact Us"}),v.jsx("p",{children:"If you have any questions or comments, please don't hesitate to contact us."}),v.jsx("p",{children:"Tangled Oak Craft Collective"}),v.jsx("p",{children:"150 Oak St W, North Bay, ON"}),v.jsx("p",{children:"Phone: (705) 201-2300"}),v.jsxs("p",{children:["Email: ",v.jsx("a",{href:"mailto:store@tangledoak.ca",children:"store@tangledoak.ca"})]})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Want to be part of the Tangled Oak + Craft Collective?"}),v.jsx("p",{children:"The Tangled Oak + Craft Collective is a community-driven organization dedicated to fostering creativity, innovation, and community among the younger generations. Our mission is to create a space where young people can learn, grow, and connect with one another through their passion for crafting, DIY projects, and creative expression."}),v.jsx("p",{children:"We invite you to join us on our journey towards a brighter future, where every child can thrive and contribute to the world of crafting and creativity."}),v.jsx("p",{children:"Fill out this form and we will get back to you with more information"}),v.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdE19LHG3M9uilKeLxM3l8Xit1jqEb3hiP5PCqCd3merF6LHA/viewform",target:"_blank",rel:"noopener noreferrer",className:"button",children:"Vendor Form"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Contact Form"}),v.jsxs("form",{onSubmit:r,className:"contact-form",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"name",children:"Name:"}),v.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:n,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"email",children:"Email:"}),v.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"message",children:"Message:"}),v.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:n,rows:"4",required:!0})]}),v.jsx("button",{type:"submit",className:"button",children:"Send Message"})]})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Find Us on the Map"}),v.jsx("iframe",{className:"map",width:"80%",style:{border:"2px solid #203a13"},loading:"lazy",allowFullScreen:!0,title:"Tangled Oak Location",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2755.934228632341!2d-79.46534059999999!3d46.311143699999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4d29aa9cbd52da61%3A0x5ba29b1fbf8394f9!2s150%20Oak%20St%20W%2C%20North%20Bay%2C%20ON%20P1B%202S7!5e0!3m2!1sen!2sca!4v1742343151470!5m2!1sen!2sca"})]})]})})},uN=()=>v.jsxs("div",{className:"context-box",children:[v.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Frequently Asked Questions"}),v.jsx("h2",{className:"text-xl font-semibold",children:"How do I place an order?"}),v.jsx("p",{className:"mt-2",children:"Browse our curated collection and add your favorite items to your cart. When youre ready, proceed to checkout and follow the secure payment prompts."}),v.jsx("h2",{className:"text-xl font-semibold",children:"What payment methods are accepted?"}),v.jsx("p",{className:"mt-2",children:"We accept major credit and debit cards along with select online payment options. The available options will be clearly listed at checkout."}),v.jsx("h2",{className:"text-xl font-semibold",children:"How long does shipping take?"}),v.jsx("p",{className:"mt-2",children:"Orders are typically processed within 23 business days. For local pickup in North Bay, ON, you will receive an email with instructions once your order is ready. For shipped orders within Canada, delivery usually takes 710 business days."}),v.jsx("h2",{className:"text-xl font-semibold",children:"What if my item arrives damaged or incorrect?"}),v.jsx("p",{className:"mt-2",children:"If there is an issue with your order, please contact us within 7 days of receiving it. Include your order number and photos, and well work with the vendor to resolve the issue."}),v.jsx("h2",{className:"text-xl font-semibold",children:"Are returns accepted?"}),v.jsx("p",{className:"mt-2",children:"Since most items are handmade by independent artisans and considered final sale, returns are limited. However, if theres a problem with your order, well review your case on an individual basis and coordinate with the vendor to find a satisfactory solution."}),v.jsx("h2",{className:"text-xl font-semibold",children:"Do you ship internationally?"}),v.jsx("p",{className:"mt-2",children:"Currently, we only ship within Canada. If youre outside of Canada and are interested in a specific item, please contact us directly."}),v.jsx("h2",{className:"text-xl font-semibold",children:"How can I contact customer support?"}),v.jsxs("p",{className:"mt-2",children:["You can reach out to us via email at"," ",v.jsx("a",{href:"mailto:store@tangledoak.ca",className:"text-blue-600 underline",children:"store@tangledoak.ca"})," ","or use our contact form. Were here to help with any questions or concerns."]})]}),lN=()=>v.jsxs(v.Fragment,{children:[v.jsxs(Ko,{children:[v.jsx("title",{children:"Shipping & Returns | Tangled Oak"}),v.jsx("meta",{name:"description",content:"Learn about our shipping and return policies at Tangled Oak. Flat-rate shipping, free local pickup, and more."})]}),v.jsx("div",{className:"home-container",children:v.jsxs("div",{className:"main-content",children:[v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Shipping Policy"}),v.jsx("li",{children:"Orders are typically processed within 23 business days. Handmade items may take additional time depending on the artisan."}),v.jsx("br",{}),v.jsxs("li",{children:["We offer flat-rate shipping of ",v.jsx("strong",{children:"$15"})," anywhere in Canada. All orders are shipped via tracked Canada Post service."]}),v.jsx("br",{}),v.jsxs("li",{children:[v.jsx("strong",{children:"Free local pickup"})," is available in North Bay, ON. Select the pickup option at checkout and well email you when your order is ready with pickup details."]}),v.jsx("br",{}),v.jsx("li",{children:"At this time, we only ship within Canada. If youre outside Canada and would like to order, please contact us directly."}),v.jsx("br",{}),v.jsx("li",{children:"We are not responsible for lost or stolen packages. If your package is lost in transit, please contact Canada Post directly."}),v.jsx("br",{})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Returns & Exchanges"}),v.jsxs("li",{children:["Because Tangled Oak features many independent vendors, ",v.jsx("strong",{children:"most items are final sale"})," unless otherwise noted in the product listing."]}),v.jsx("br",{}),v.jsx("li",{children:"If your order arrives damaged or incorrect, contact us within 7 days of delivery. Include your order number and a photo if possible."}),v.jsx("br",{}),v.jsx("li",{children:"Well coordinate with the vendor to find a solution and do our best to resolve the issue through replacement or exchange."}),v.jsx("br",{}),v.jsxs("li",{children:["Email us at ",v.jsx("a",{href:"mailto:support@tangledoak.ca",className:"text-blue-600 underline",children:"support@tangledoak.ca"}),"."]})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Important Notes"}),v.jsx("li",{children:"Custom and personalized items are non-refundable."}),v.jsx("br",{}),v.jsx("li",{children:"Return requests are subject to vendor approval. Some vendors may offer additional guarantees or exchange policies  these will be listed on the product page if available."}),v.jsx("br",{}),v.jsx("li",{children:"Returned items must be unused and in original condition."}),v.jsx("br",{}),v.jsx("li",{children:"Buyers are responsible for return shipping unless the item arrived damaged or incorrect."})]})]})})]}),cN=()=>v.jsxs("div",{className:"context-box",children:[v.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Privacy Policy"}),v.jsx("p",{className:"mb-4",children:"Tangled Oak + Craft Collective values your privacy. This policy explains how we collect, use, and protect your personal information when you visit our website or make a purchase."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Information We Collect"}),v.jsx("li",{children:"Personal details like name, email address, shipping address, and payment information."}),v.jsx("li",{children:"Order history and account preferences (if you create an account)."}),v.jsx("li",{children:"Basic device/browser data collected through cookies or analytics tools (e.g., Google Analytics)."}),v.jsx("br",{}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. How We Use Your Information"}),v.jsx("li",{children:"To process and fulfill your orders."}),v.jsx("li",{children:"To communicate with you about your purchases or pickup details."}),v.jsx("li",{children:"To improve our website experience and service quality."}),v.jsx("li",{children:"To send occasional updates or announcements (you can opt out anytime)."}),v.jsx("br",{}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. How Your Data Is Stored"}),v.jsx("p",{className:"mb-4",children:"We use secure services like Firebase for authentication and data storage, and Square for processing payments. Your data is protected by industry-standard encryption and access controls."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Third-Party Services"}),v.jsx("p",{className:"mb-4",children:"We may share necessary information with trusted third parties to complete your order (e.g., Canada Post for delivery). These services have their own privacy practices that align with industry standards."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Your Rights"}),v.jsxs("p",{className:"mb-4",children:["You can request to view, update, or delete your personal information at any time by contacting us at ",v.jsx("a",{href:"mailto:support@tangledoak.ca",className:"text-blue-600 underline",children:"support@tangledoak.ca"}),"."]}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Updates to This Policy"}),v.jsx("p",{className:"mb-4",children:"We may update this policy from time to time. Any changes will be posted here with a revised date."}),v.jsx("p",{children:"Last updated: April 2025"})]}),dN=()=>v.jsxs(v.Fragment,{children:[v.jsxs("head",{children:[v.jsx("title",{children:"Terms & Conditions | Tangled Oak + Craft Collective"}),v.jsx("meta",{name:"description",content:"Review the terms and conditions of Tangled Oak + Craft Collective. Understand your rights and responsibilities when using our website for shopping or browsing."}),v.jsx("meta",{name:"keywords",content:"terms and conditions, Tangled Oak, craft collective, shopping terms, website terms, policies"}),v.jsx("meta",{name:"robots",content:"index, follow"}),v.jsx("meta",{property:"og:title",content:"Terms & Conditions | Tangled Oak + Craft Collective"}),v.jsx("meta",{property:"og:description",content:"Review the terms and conditions of Tangled Oak + Craft Collective. Understand your rights and responsibilities when using our website for shopping or browsing."}),v.jsx("meta",{property:"og:url",content:"https://www.tangledoak.ca/terms"}),v.jsx("meta",{property:"og:type",content:"website"}),v.jsx("meta",{name:"twitter:title",content:"Terms & Conditions | Tangled Oak + Craft Collective"}),v.jsx("meta",{name:"twitter:description",content:"Review the terms and conditions of Tangled Oak + Craft Collective. Understand your rights and responsibilities when using our website for shopping or browsing."}),v.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Terms & Conditions"}),v.jsx("p",{className:"mb-4",children:"By using the Tangled Oak + Craft Collective website, you agree to the following terms and conditions. Please read them carefully."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. General Use"}),v.jsx("p",{className:"mb-4",children:"Our site is intended for personal, non-commercial use. You agree not to misuse the website, attempt to breach its security, or interfere with its functionality."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Product Listings"}),v.jsx("p",{className:"mb-4",children:"Each vendor is responsible for the accuracy of their listings, including descriptions, prices, and availability. We do our best to ensure quality and accuracy, but Tangled Oak is not liable for vendor errors."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Orders & Payment"}),v.jsx("p",{className:"mb-4",children:"All purchases are processed securely through Square. Orders are subject to acceptance and availability. You will receive an order confirmation once payment is complete."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Returns & Refunds"}),v.jsxs("p",{className:"mb-4",children:["Return policies vary by vendor. Please refer to our ",v.jsx("a",{href:"/shipping-policy",className:"text-blue-600 underline",children:"Shipping & Returns"})," page for more details. Most items are final sale unless noted otherwise."]}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Intellectual Property"}),v.jsx("p",{className:"mb-4",children:"All site content, including text, logos, and imagery, is owned by Tangled Oak or its contributing vendors. You may not reuse, reproduce, or distribute this content without permission."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Limitation of Liability"}),v.jsx("p",{className:"mb-4",children:"We do our best to ensure a smooth experience, but Tangled Oak is not liable for indirect damages, delays, or issues beyond our control (e.g., delivery delays, vendor mistakes)."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"7. Governing Law"}),v.jsx("p",{className:"mb-4",children:"These terms are governed by the laws of Ontario, Canada. Any disputes will be handled in the appropriate courts within Ontario."}),v.jsx("p",{children:"Last updated: April 2025"})]})]}),hN=()=>{};var xT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],u=t[n++],l=t[n++],d=((i&7)<<18|(o&63)<<12|(u&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},Qb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],u=i+1<t.length,l=u?t[i+1]:0,d=i+2<t.length,p=d?t[i+2]:0,m=o>>2,E=(o&3)<<4|l>>4;let b=(l&15)<<2|p>>6,I=p&63;d||(I=64,u||(b=64)),r.push(n[m],n[E],n[b],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const E=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||p==null||E==null)throw new pN;const b=o<<2|l>>4;if(r.push(b),p!==64){const I=l<<4&240|p>>2;if(r.push(I),E!==64){const N=p<<6&192|E;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mN=function(t){const e=Kb(t);return Qb.encodeByteArray(e,!0)},Oh=function(t){return mN(t).replace(/\./g,"")},Xb=function(t){try{return Qb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=()=>gN().__FIREBASE_DEFAULTS__,EN=()=>{if(typeof process>"u"||typeof xT>"u")return;const t=xT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_N=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xb(t[1]);return e&&JSON.parse(e)},of=()=>{try{return hN()||yN()||EN()||_N()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jb=t=>{var e,n;return(n=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Zb=t=>{const e=Jb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eI=()=>{var t;return(t=of())===null||t===void 0?void 0:t.config},tI=t=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oh(JSON.stringify(n)),Oh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function bN(){var t;const e=(t=of())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wN(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SN(){return!bN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iI(){try{return typeof indexedDB=="object"}catch{return!1}}function sI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function CN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="FirebaseError";class Pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RN,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ia.prototype.create)}}class ia{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?kN(o,r):"Error",l=`${this.serviceName}: ${u} (${i}).`;return new Pr(i,l,r)}}function kN(t,e){return t.replace(NN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NN=/\{\$([^}]+)}/g;function xN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],u=e[i];if(PT(o)&&PT(u)){if(!Xs(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Bl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PN(t,e){const n=new ON(t,e);return n.subscribe.bind(n)}class ON{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nm),i.error===void 0&&(i.error=Nm),i.complete===void 0&&(i.complete=Nm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=1e3,MN=2,FN=4*60*60*1e3,UN=.5;function OT(t,e=LN,n=MN){const r=e*Math.pow(n,t),i=Math.round(UN*r*(Math.random()-.5)*2);return Math.min(FN,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Nr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new TN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jN(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&u.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VN(t){return t===Vo?void 0:t}function jN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const zN={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},qN=nt.INFO,WN={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},$N=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class af{constructor(e){this.name=e,this._logLevel=qN,this._logHandler=$N,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const YN=(t,e)=>e.some(n=>t instanceof n);let DT,LT;function GN(){return DT||(DT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KN(){return LT||(LT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oI=new WeakMap,gg=new WeakMap,aI=new WeakMap,xm=new WeakMap,m0=new WeakMap;function QN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Ys(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&oI.set(n,t)}).catch(()=>{}),m0.set(e,t),e}function XN(t){if(gg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});gg.set(t,e)}let yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JN(t){yg=t(yg)}function ZN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pm(this),e,...n);return aI.set(r,e.sort?e.sort():[e]),Ys(r)}:KN().includes(t)?function(...e){return t.apply(Pm(this),e),Ys(oI.get(this))}:function(...e){return Ys(t.apply(Pm(this),e))}}function ex(t){return typeof t=="function"?ZN(t):(t instanceof IDBTransaction&&XN(t),YN(t,GN())?new Proxy(t,yg):t)}function Ys(t){if(t instanceof IDBRequest)return QN(t);if(xm.has(t))return xm.get(t);const e=ex(t);return e!==t&&(xm.set(t,e),m0.set(e,t)),e}const Pm=t=>m0.get(t);function uI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(t,e),l=Ys(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ys(u.result),d.oldVersion,d.newVersion,Ys(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),l.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),l}const tx=["get","getKey","getAll","getAllKeys","count"],nx=["put","add","delete","clear"],Om=new Map;function MT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tx.includes(n)))return;const o=async function(u,...l){const d=this.transaction(u,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(l.shift())),(await Promise.all([p[n](...l),i&&d.done]))[0]};return Om.set(e,o),o}JN(t=>({...t,get:(e,n,r)=>MT(e,n)||t.get(e,n,r),has:(e,n)=>!!MT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ix(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ix(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eg="@firebase/app",FT="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new af("@firebase/app"),sx="@firebase/app-compat",ox="@firebase/analytics-compat",ax="@firebase/analytics",ux="@firebase/app-check-compat",lx="@firebase/app-check",cx="@firebase/auth",dx="@firebase/auth-compat",hx="@firebase/database",fx="@firebase/data-connect",px="@firebase/database-compat",mx="@firebase/functions",gx="@firebase/functions-compat",yx="@firebase/installations",Ex="@firebase/installations-compat",_x="@firebase/messaging",Tx="@firebase/messaging-compat",vx="@firebase/performance",bx="@firebase/performance-compat",Ix="@firebase/remote-config",Ax="@firebase/remote-config-compat",wx="@firebase/storage",Sx="@firebase/storage-compat",Cx="@firebase/firestore",Rx="@firebase/vertexai",kx="@firebase/firestore-compat",Nx="firebase",xx="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="[DEFAULT]",Px={[Eg]:"fire-core",[sx]:"fire-core-compat",[ax]:"fire-analytics",[ox]:"fire-analytics-compat",[lx]:"fire-app-check",[ux]:"fire-app-check-compat",[cx]:"fire-auth",[dx]:"fire-auth-compat",[hx]:"fire-rtdb",[fx]:"fire-data-connect",[px]:"fire-rtdb-compat",[mx]:"fire-fn",[gx]:"fire-fn-compat",[yx]:"fire-iid",[Ex]:"fire-iid-compat",[_x]:"fire-fcm",[Tx]:"fire-fcm-compat",[vx]:"fire-perf",[bx]:"fire-perf-compat",[Ix]:"fire-rc",[Ax]:"fire-rc-compat",[wx]:"fire-gcs",[Sx]:"fire-gcs-compat",[Cx]:"fire-fst",[kx]:"fire-fst-compat",[Rx]:"fire-vertex","fire-js":"fire-js",[Nx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,Ox=new Map,Tg=new Map;function UT(t,e){try{t.container.addComponent(e)}catch(n){es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ni(t){const e=t.name;if(Tg.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;Tg.set(e,t);for(const n of Dh.values())UT(n,t);for(const n of Ox.values())UT(n,t);return!0}function so(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new ia("app","Firebase",Dx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=xx;function lI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_g,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gs.create("bad-app-name",{appName:String(i)});if(n||(n=eI()),!n)throw Gs.create("no-options");const o=Dh.get(i);if(o){if(Xs(n,o.options)&&Xs(r,o.config))return o;throw Gs.create("duplicate-app",{appName:i})}const u=new HN(i);for(const d of Tg.values())u.addComponent(d);const l=new Lx(n,r,u);return Dh.set(i,l),l}function uf(t=_g){const e=Dh.get(t);if(!e&&t===_g&&eI())return lI();if(!e)throw Gs.create("no-app",{appName:t});return e}function Xn(t,e,n){var r;let i=(r=Px[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&l.push("and"),u&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(l.join(" "));return}ni(new Nr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="firebase-heartbeat-database",Fx=1,lc="firebase-heartbeat-store";let Dm=null;function cI(){return Dm||(Dm=uI(Mx,Fx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gs.create("idb-open",{originalErrorMessage:t.message})})),Dm}async function Ux(t){try{const n=(await cI()).transaction(lc),r=await n.objectStore(lc).get(dI(t));return await n.done,r}catch(e){if(e instanceof Pr)es.warn(e.message);else{const n=Gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(n.message)}}}async function BT(t,e){try{const r=(await cI()).transaction(lc,"readwrite");await r.objectStore(lc).put(e,dI(t)),await r.done}catch(n){if(n instanceof Pr)es.warn(n.message);else{const r=Gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(r.message)}}}function dI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=1024,Vx=30;class jx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=VT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Vx){const u=qx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VT(),{heartbeatsToSend:r,unsentEntries:i}=Hx(this._heartbeatsCache.heartbeats),o=Oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return es.warn(n),""}}}function VT(){return new Date().toISOString().substring(0,10)}function Hx(t,e=Bx){const n=[];let r=t.slice();for(const i of t){const o=n.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),jT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iI()?sI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ux(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return BT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return BT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jT(t){return Oh(JSON.stringify({version:2,heartbeats:t})).length}function qx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){ni(new Nr("platform-logger",e=>new rx(e),"PRIVATE")),ni(new Nr("heartbeat",e=>new jx(e),"PRIVATE")),Xn(Eg,FT,t),Xn(Eg,FT,"esm2017"),Xn("fire-js","")}Wx("");function g0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $x=hI,fI=new ia("auth","Firebase",hI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new af("@firebase/auth");function Yx(t,...e){Lh.logLevel<=nt.WARN&&Lh.warn(`Auth (${sa}): ${t}`,...e)}function Eh(t,...e){Lh.logLevel<=nt.ERROR&&Lh.error(`Auth (${sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,...e){throw E0(t,...e)}function ti(t,...e){return E0(t,...e)}function y0(t,e,n){const r=Object.assign(Object.assign({},$x()),{[e]:n});return new ia("auth","Firebase",r).create(e,{appName:t.name})}function Ji(t){return y0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gx(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&xr(t,"argument-error"),y0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function E0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fI.create(t,...e)}function Be(t,e,...n){if(!t)throw E0(e,...n)}function Qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eh(e),new Error(e)}function ts(t,e){t||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Kx(){return HT()==="http:"||HT()==="https:"}function HT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kx()||rI()||"connection"in navigator)?navigator.onLine:!0}function Xx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=vN()||AN()}get(){return Qx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eP=new Sc(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ao(t,e,n,r,i={}){return mI(t,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const l=wc(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},o);return IN()||(p.referrerPolicy="no-referrer"),pI.fetch()(await gI(t,t.config.apiHost,n,l),p)})}async function mI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jx),e);try{const i=new nP(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw oh(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const l=o.ok?u.errorMessage:u.error.message,[d,p]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw oh(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw oh(t,"user-disabled",u);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw y0(t,m,p);xr(t,m)}}catch(i){if(i instanceof Pr)throw i;xr(t,"network-request-failed",{message:String(i)})}}async function Cc(t,e,n,r,i={}){const o=await ao(t,e,n,r,i);return"mfaPendingCredential"in o&&xr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function gI(t,e,n,r){const i=`${e}${n}?${r}`,o=t,u=o.config.emulator?_0(t.config,i):`${t.config.apiScheme}://${i}`;return Zx.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function tP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),eP.get())})}}function oh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ti(t,e,r);return i.customData._tokenResponse=n,i}function zT(t){return t!==void 0&&t.enterprise!==void 0}class rP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iP(t,e){return ao(t,"GET","/v2/recaptchaConfig",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(t,e){return ao(t,"POST","/v1/accounts:delete",e)}async function Mh(t,e){return ao(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oP(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),i=T0(r);Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Wl(Lm(i.auth_time)),issuedAtTime:Wl(Lm(i.iat)),expirationTime:Wl(Lm(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Lm(t){return Number(t)*1e3}function T0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xb(n);return i?JSON.parse(i):(Eh("Failed to decode base64 JWT payload"),null)}catch(i){return Eh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function qT(t){const e=T0(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pr&&aP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await cc(t,Mh(n,{idToken:r}));Be(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?yI(o.providerUserInfo):[],l=cP(t.providerData,u),d=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),m=d?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new bg(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,E)}async function lP(t){const e=Nt(t);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yI(t){return t.map(e=>{var{providerId:n}=e,r=g0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(t,e){const n=await mI(t,{},async()=>{const r=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,u=await gI(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",pI.fetch()(u,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hP(t,e){return ao(t,"POST","/v2/accounts:revokeToken",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=qT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await dP(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,u=new du;return r&&(Be(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(Be(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new du,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=g0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oP(this,e)}reload(){return lP(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await cc(this,sP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,u,l,d,p,m;const E=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(i=n.email)!==null&&i!==void 0?i:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,N=(u=n.photoURL)!==null&&u!==void 0?u:void 0,F=(l=n.tenantId)!==null&&l!==void 0?l:void 0,U=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,q=(p=n.createdAt)!==null&&p!==void 0?p:void 0,re=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:$,emailVerified:G,isAnonymous:_e,providerData:Z,stsTokenManager:H}=n;Be($&&H,e,"internal-error");const x=du.fromJSON(this.name,H);Be(typeof $=="string",e,"internal-error"),Ls(E,e.name),Ls(b,e.name),Be(typeof G=="boolean",e,"internal-error"),Be(typeof _e=="boolean",e,"internal-error"),Ls(I,e.name),Ls(N,e.name),Ls(F,e.name),Ls(U,e.name),Ls(q,e.name),Ls(re,e.name);const M=new ei({uid:$,auth:e,email:b,emailVerified:G,displayName:E,isAnonymous:_e,photoURL:N,phoneNumber:I,tenantId:F,stsTokenManager:x,createdAt:q,lastLoginAt:re});return Z&&Array.isArray(Z)&&(M.providerData=Z.map(j=>Object.assign({},j))),U&&(M._redirectEventId=U),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new du;i.updateFromServerResponse(n);const o=new ei({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?yI(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new du;l.updateFromIdToken(r);const d=new ei({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:u}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=new Map;function Xi(t){ts(t instanceof Function,"Expected a class definition");let e=WT.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EI.type="NONE";const $T=EI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t,e,n){return`firebase:${t}:${e}:${n}`}class hu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=_h(this.userKey,i.apiKey,o),this.fullPersistenceKey=_h("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hu(Xi($T),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Xi($T);const u=_h(r,e.config.apiKey,e.name);let l=null;for(const p of n)try{const m=await p._get(u);if(m){let E;if(typeof m=="string"){const b=await Mh(e,{idToken:m}).catch(()=>{});if(!b)break;E=await ei._fromGetAccountInfoResponse(e,b,m)}else E=ei._fromJSON(e,m);p!==o&&(l=E),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new hu(o,e,r):(o=d[0],l&&await o._set(u,l.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new hu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_I(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AI(e))return"Blackberry";if(wI(e))return"Webos";if(TI(e))return"Safari";if((e.includes("chrome/")||vI(e))&&!e.includes("edge/"))return"Chrome";if(II(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _I(t=wn()){return/firefox\//i.test(t)}function TI(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vI(t=wn()){return/crios\//i.test(t)}function bI(t=wn()){return/iemobile/i.test(t)}function II(t=wn()){return/android/i.test(t)}function AI(t=wn()){return/blackberry/i.test(t)}function wI(t=wn()){return/webos/i.test(t)}function v0(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fP(t=wn()){var e;return v0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pP(){return wN()&&document.documentMode===10}function SI(t=wn()){return v0(t)||II(t)||wI(t)||AI(t)||/windows phone/i.test(t)||bI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t,e=[]){let n;switch(t){case"Browser":n=YT(wn());break;case"Worker":n=`${YT(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,l)=>{try{const d=e(o);u(d)}catch(d){l(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,e={}){return ao(t,"GET","/v2/passwordPolicy",oo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=6;class EP{constructor(e){var n,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:yP,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,u,l;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GT(this),this.idTokenSubscription=new GT(this),this.beforeStateQueue=new mP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await hu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),r=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===l)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Ji(this));const n=e?Nt(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gP(this),n=new EP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ia("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xi(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await hu.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(l,this,"internal-error"),l.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Yx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function uo(t){return Nt(t)}class GT{constructor(e){this.auth=e,this.observer=null,this.addObserver=PN(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TP(t){lf=t}function RI(t){return lf.loadJS(t)}function vP(){return lf.recaptchaEnterpriseScript}function bP(){return lf.gapiScript}function IP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class AP{constructor(){this.enterprise=new wP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SP="recaptcha-enterprise",kI="NO_RECAPTCHA";class CP{constructor(e){this.type=SP,this.auth=uo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,l)=>{iP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const p=new rP(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(d=>{l(d)})})}function i(o,u,l){const d=window.grecaptcha;zT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(kI)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AP().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(l=>{if(!n&&zT(window.grecaptcha))i(l,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=vP();d.length!==0&&(d+=l),RI(d).then(()=>{i(l,o,u)}).catch(p=>{u(p)})}}).catch(l=>{u(l)})})}}async function KT(t,e,n,r=!1,i=!1){const o=new CP(t);let u;if(i)u=kI;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const d=l.phoneEnrollmentInfo.phoneNumber,p=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const d=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:u}):Object.assign(l,{captchaResponse:u}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Ig(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await KT(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await KT(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t,e){const n=so(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Xs(o,e??{}))return i;xr(i,"already-initialized")}return n.initialize({options:e})}function kP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NP(t,e,n){const r=uo(t);Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=NI(e),{host:u,port:l}=xP(e),d=l===null?"":`:${l}`,p={url:`${o}//${u}${d}/`},m=Object.freeze({host:u,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Be(Xs(p,r.config.emulator)&&Xs(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,PP()}function NI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xP(t){const e=NI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:QT(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:QT(u)}}}function QT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,n){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function OP(t,e){return ao(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e){return Cc(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(t,e){return Cc(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}async function MP(t,e){return Cc(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends b0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new dc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new dc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ig(e,n,"signInWithPassword",DP);case"emailLink":return LP(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ig(e,r,"signUpPassword",OP);case"emailLink":return MP(e,{idToken:n,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(t,e){return Cc(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="http://localhost";class Qo extends b0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=g0(n,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Qo(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return fu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fu(e,n)}buildRequest(){const e={requestUri:FP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BP(t){const e=Ul(Bl(t)).link,n=e?Ul(Bl(e)).deep_link_id:null,r=Ul(Bl(t)).deep_link_id;return(r?Ul(Bl(r)).link:null)||r||n||e||t}class I0{constructor(e){var n,r,i,o,u,l;const d=Ul(Bl(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,E=UP((i=d.mode)!==null&&i!==void 0?i:null);Be(p&&m&&E,"argument-error"),this.apiKey=p,this.operation=E,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(l=d.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=BP(e);try{return new I0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.providerId=Nu.PROVIDER_ID}static credential(e,n){return dc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=I0.parseLink(n);return Be(r,"argument-error"),dc._fromEmailAndCode(e,r.code,r.tenantId)}}Nu.PROVIDER_ID="password";Nu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends A0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Rc{constructor(){super("facebook.com")}static credential(e){return Qo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qo._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Rc{constructor(){super("github.com")}static credential(e){return Qo._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Rc{constructor(){super("twitter.com")}static credential(e,n){return Qo._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return js.credential(n,r)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e){return Cc(t,"POST","/v1/accounts:signUp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ei._fromIdTokenResponse(e,r,i),u=XT(r);return new Xo({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=XT(r);return new Xo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function XT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends Pr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Uh(e,n,r,i)}}function xI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(t,o,e,r):o})}async function jP(t,e,n=!1){const r=await cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(Ji(r));const i="reauthenticate";try{const o=await cc(t,xI(r,i,e,t),n);Be(o.idToken,r,"internal-error");const u=T0(o.idToken);Be(u,r,"internal-error");const{sub:l}=u;return Be(t.uid===l,r,"user-mismatch"),Xo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&xr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(t,e,n=!1){if(Kn(t.app))return Promise.reject(Ji(t));const r="signIn",i=await xI(t,r,e),o=await Xo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function zP(t,e){return PI(uo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(t){const e=uo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qP(t,e,n){if(Kn(t.app))return Promise.reject(Ji(t));const r=uo(t),u=await Ig(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VP).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&OI(t),d}),l=await Xo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(l.user),l}function WP(t,e,n){return Kn(t.app)?Promise.reject(Ji(t)):zP(Nt(t),Nu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OI(t),r})}function $P(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function YP(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function GP(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=1e3,QP=10;class LI extends DI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,l,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);pP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LI.type="LOCAL";const XP=LI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI extends DI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MI.type="SESSION";const FI=MI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(u).map(async p=>p(n.origin,o)),d=await JP(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((l,d)=>{const p=w0("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(E){const b=E;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(b.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function eO(t){Ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function tO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rO(){return UI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="firebaseLocalStorageDb",iO=1,Vh="firebaseLocalStorage",VI="fbase_key";class kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function df(t,e){return t.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function sO(){const t=indexedDB.deleteDatabase(BI);return new kc(t).toPromise()}function Ag(){const t=indexedDB.open(BI,iO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vh,{keyPath:VI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await sO(),e(await Ag()))})})}async function JT(t,e,n){const r=df(t,!0).put({[VI]:e,value:n});return new kc(r).toPromise()}async function oO(t,e){const n=df(t,!1).get(e),r=await new kc(n).toPromise();return r===void 0?null:r.value}function ZT(t,e){const n=df(t,!0).delete(e);return new kc(n).toPromise()}const aO=800,uO=3;class jI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ag(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(rO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tO(),!this.activeServiceWorker)return;this.sender=new ZP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ag();return await JT(e,Bh,"1"),await ZT(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=df(i,!1).getAll();return new kc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jI.type="LOCAL";const lO=jI;new Sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t,e){return e?Xi(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0 extends b0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cO(t){return PI(t.auth,new S0(t),t.bypassAuthState)}function dO(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),HP(n,new S0(t),t.bypassAuthState)}async function hO(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),jP(n,new S0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:u,type:l}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cO;case"linkViaPopup":case"linkViaRedirect":return hO;case"reauthViaPopup":case"reauthViaRedirect":return dO;default:xr(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new Sc(2e3,1e4);async function pO(t,e,n){if(Kn(t.app))return Promise.reject(ti(t,"operation-not-supported-in-this-environment"));const r=uo(t);Gx(t,e,A0);const i=HI(r,n);return new jo(r,"signInViaPopup",e,i).executeNotNull()}class jo extends zI{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=w0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fO.get())};e()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="pendingRedirect",Th=new Map;class gO extends zI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const r=await yO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yO(t,e){const n=TO(e),r=_O(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function EO(t,e){Th.set(t._key(),e)}function _O(t){return Xi(t._redirectPersistence)}function TO(t){return _h(mO,t.config.apiKey,t.name)}async function vO(t,e,n=!1){if(Kn(t.app))return Promise.reject(Ji(t));const r=uo(t),i=HI(r,e),u=await new gO(r,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=10*60*1e3;class IO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bO&&this.cachedEventUids.clear(),this.cachedEventUids.has(e1(e))}saveEventToCache(e){this.cachedEventUids.add(e1(e)),this.lastProcessedEventTime=Date.now()}}function e1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(t,e={}){return ao(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CO=/^https?/;async function RO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wO(t);for(const n of e)try{if(kO(n))return}catch{}xr(t,"unauthorized-domain")}function kO(t){const e=vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!CO.test(n))return!1;if(SO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new Sc(3e4,6e4);function t1(){const t=Ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xO(t){return new Promise((e,n)=>{var r,i,o;function u(){t1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t1(),n(ti(t,"network-request-failed"))},timeout:NO.get()})}if(!((i=(r=Ai().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ai().gapi)===null||o===void 0)&&o.load)u();else{const l=IP("iframefcb");return Ai()[l]=()=>{gapi.load?u():n(ti(t,"network-request-failed"))},RI(`${bP()}?onload=${l}`).catch(d=>n(d))}}).catch(e=>{throw vh=null,e})}let vh=null;function PO(t){return vh=vh||xO(t),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new Sc(5e3,15e3),DO="__/auth/iframe",LO="emulator/auth/iframe",MO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UO(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_0(e,LO):`https://${t.config.authDomain}/${DO}`,r={apiKey:e.apiKey,appName:t.name,v:sa},i=FO.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${wc(r).slice(1)}`}async function BO(t){const e=await PO(t),n=Ai().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:UO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MO,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=ti(t,"network-request-failed"),l=Ai().setTimeout(()=>{o(u)},OO.get());function d(){Ai().clearTimeout(l),i(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jO=500,HO=600,zO="_blank",qO="http://localhost";class n1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WO(t,e,n,r=jO,i=HO){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const d=Object.assign(Object.assign({},VO),{width:r.toString(),height:i.toString(),top:o,left:u}),p=wn().toLowerCase();n&&(l=vI(p)?zO:n),_I(p)&&(e=e||qO,d.scrollbars="yes");const m=Object.entries(d).reduce((b,[I,N])=>`${b}${I}=${N},`,"");if(fP(p)&&l!=="_self")return $O(e||"",l),new n1(null);const E=window.open(e||"",l,m);Be(E,t,"popup-blocked");try{E.focus()}catch{}return new n1(E)}function $O(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="__/auth/handler",GO="emulator/auth/handler",KO=encodeURIComponent("fac");async function r1(t,e,n,r,i,o){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sa,eventId:i};if(e instanceof A0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",xN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,E]of Object.entries({}))u[m]=E}if(e instanceof Rc){const m=e.getScopes().filter(E=>E!=="");m.length>0&&(u.scopes=m.join(","))}t.tenantId&&(u.tid=t.tenantId);const l=u;for(const m of Object.keys(l))l[m]===void 0&&delete l[m];const d=await t._getAppCheckToken(),p=d?`#${KO}=${encodeURIComponent(d)}`:"";return`${QO(t)}?${wc(l).slice(1)}${p}`}function QO({config:t}){return t.emulator?_0(t,GO):`https://${t.authDomain}/${YO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="webStorageSupport";class XO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FI,this._completeRedirectFn=vO,this._overrideRedirectResult=EO}async _openPopup(e,n,r,i){var o;ts((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await r1(e,n,r,vg(),i);return WO(e,u,w0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await r1(e,n,r,vg(),i);return eO(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ts(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BO(e),r=new IO(e);return n.register("authEvent",i=>(Be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Mm];u!==void 0&&n(!!u),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SI()||TI()||v0()}}const JO=XO;var i1="@firebase/auth",s1="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t3(t){ni(new Nr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:l}=r.options;Be(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CI(t)},p=new _P(r,i,o,d);return kP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ni(new Nr("auth-internal",e=>{const n=uo(e.getProvider("auth").getImmediate());return(r=>new ZO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(i1,s1,e3(t)),Xn(i1,s1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=5*60,r3=tI("authIdTokenMaxAge")||n3;let o1=null;const i3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r3)return;const i=n==null?void 0:n.token;o1!==i&&(o1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s3(t=uf()){const e=so(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RP(t,{popupRedirectResolver:JO,persistence:[lO,XP,FI]}),r=tI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=i3(o.toString());YP(n,u,()=>u(n.currentUser)),$P(n,l=>u(l))}}const i=Jb("auth");return i&&NP(n,`http://${i}`),n}function o3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}TP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ti("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",o3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t3("Browser");var a3="firebase",u3="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(a3,u3,"app");const WI="@firebase/installations",C0="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=1e4,YI=`w:${C0}`,GI="FIS_v2",l3="https://firebaseinstallations.googleapis.com/v1",c3=60*60*1e3,d3="installations",h3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Jo=new ia(d3,h3,f3);function KI(t){return t instanceof Pr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI({projectId:t}){return`${l3}/projects/${t}/installations`}function XI(t){return{token:t.token,requestStatus:2,expiresIn:m3(t.expiresIn),creationTime:Date.now()}}async function JI(t,e){const r=(await e.json()).error;return Jo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ZI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function p3(t,{refreshToken:e}){const n=ZI(t);return n.append("Authorization",g3(e)),n}async function eA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function m3(t){return Number(t.replace("s","000"))}function g3(t){return`${GI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=QI(t),i=ZI(t),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const u={fid:n,authVersion:GI,appId:t.appId,sdkVersion:YI},l={method:"POST",headers:i,body:JSON.stringify(u)},d=await eA(()=>fetch(r,l));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:XI(p.authToken)}}else throw await JI("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=/^[cdef][\w-]{21}$/,wg="";function T3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=v3(t);return _3.test(n)?n:wg}catch{return wg}}function v3(t){return E3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new Map;function rA(t,e){const n=hf(t);iA(n,e),b3(n,e)}function iA(t,e){const n=nA.get(t);if(n)for(const r of n)r(e)}function b3(t,e){const n=I3();n&&n.postMessage({key:t,fid:e}),A3()}let Ho=null;function I3(){return!Ho&&"BroadcastChannel"in self&&(Ho=new BroadcastChannel("[Firebase] FID Change"),Ho.onmessage=t=>{iA(t.data.key,t.data.fid)}),Ho}function A3(){nA.size===0&&Ho&&(Ho.close(),Ho=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="firebase-installations-database",S3=1,Zo="firebase-installations-store";let Fm=null;function R0(){return Fm||(Fm=uI(w3,S3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zo)}}})),Fm}async function jh(t,e){const n=hf(t),i=(await R0()).transaction(Zo,"readwrite"),o=i.objectStore(Zo),u=await o.get(n);return await o.put(e,n),await i.done,(!u||u.fid!==e.fid)&&rA(t,e.fid),e}async function sA(t){const e=hf(t),r=(await R0()).transaction(Zo,"readwrite");await r.objectStore(Zo).delete(e),await r.done}async function ff(t,e){const n=hf(t),i=(await R0()).transaction(Zo,"readwrite"),o=i.objectStore(Zo),u=await o.get(n),l=e(u);return l===void 0?await o.delete(n):await o.put(l,n),await i.done,l&&(!u||u.fid!==l.fid)&&rA(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(t){let e;const n=await ff(t.appConfig,r=>{const i=C3(r),o=R3(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===wg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function C3(t){const e=t||{fid:T3(),registrationStatus:0};return oA(e)}function R3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Jo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=k3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:N3(t)}:{installationEntry:e}}async function k3(t,e){try{const n=await y3(t,e);return jh(t.appConfig,n)}catch(n){throw KI(n)&&n.customData.serverCode===409?await sA(t.appConfig):await jh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function N3(t){let e=await a1(t.appConfig);for(;e.registrationStatus===1;)await tA(100),e=await a1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await k0(t);return r||n}return e}function a1(t){return ff(t,e=>{if(!e)throw Jo.create("installation-not-found");return oA(e)})}function oA(t){return x3(t)?{fid:t.fid,registrationStatus:0}:t}function x3(t){return t.registrationStatus===1&&t.registrationTime+$I<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3({appConfig:t,heartbeatServiceProvider:e},n){const r=O3(t,n),i=p3(t,n),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const u={installation:{sdkVersion:YI,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(u)},d=await eA(()=>fetch(r,l));if(d.ok){const p=await d.json();return XI(p)}else throw await JI("Generate Auth Token",d)}function O3(t,{fid:e}){return`${QI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N0(t,e=!1){let n;const r=await ff(t.appConfig,o=>{if(!aA(o))throw Jo.create("not-registered");const u=o.authToken;if(!e&&M3(u))return o;if(u.requestStatus===1)return n=D3(t,e),o;{if(!navigator.onLine)throw Jo.create("app-offline");const l=U3(o);return n=L3(t,l),l}});return n?await n:r.authToken}async function D3(t,e){let n=await u1(t.appConfig);for(;n.authToken.requestStatus===1;)await tA(100),n=await u1(t.appConfig);const r=n.authToken;return r.requestStatus===0?N0(t,e):r}function u1(t){return ff(t,e=>{if(!aA(e))throw Jo.create("not-registered");const n=e.authToken;return B3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function L3(t,e){try{const n=await P3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await jh(t.appConfig,r),n}catch(n){if(KI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await sA(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await jh(t.appConfig,r)}throw n}}function aA(t){return t!==void 0&&t.registrationStatus===2}function M3(t){return t.requestStatus===2&&!F3(t)}function F3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+c3}function U3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function B3(t){return t.requestStatus===1&&t.requestTime+$I<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t){const e=t,{installationEntry:n,registrationPromise:r}=await k0(e);return r?r.catch(console.error):N0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t,e=!1){const n=t;return await H3(n),(await N0(n,e)).token}async function H3(t){const{registrationPromise:e}=await k0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){if(!t||!t.options)throw Um("App Configuration");if(!t.name)throw Um("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Um(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Um(t){return Jo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="installations",q3="installations-internal",W3=t=>{const e=t.getProvider("app").getImmediate(),n=z3(e),r=so(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},$3=t=>{const e=t.getProvider("app").getImmediate(),n=so(e,uA).getImmediate();return{getId:()=>V3(n),getToken:i=>j3(n,i)}};function Y3(){ni(new Nr(uA,W3,"PUBLIC")),ni(new Nr(q3,$3,"PRIVATE"))}Y3();Xn(WI,C0);Xn(WI,C0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="analytics",G3="firebase_id",K3="origin",Q3=60*1e3,X3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",x0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn=new af("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fr=new ia("analytics","Analytics",J3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){if(!t.startsWith(x0)){const e=fr.create("invalid-gtag-resource",{gtagURL:t});return Jn.warn(e.message),""}return t}function lA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function eD(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function tD(t,e){const n=eD("firebase-js-sdk-policy",{createScriptURL:Z3}),r=document.createElement("script"),i=`${x0}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function nD(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function rD(t,e,n,r,i,o){const u=r[i];try{if(u)await e[u];else{const d=(await lA(n)).find(p=>p.measurementId===i);d&&await e[d.appId]}}catch(l){Jn.error(l)}t("config",i,o)}async function iD(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let u=i.send_to;Array.isArray(u)||(u=[u]);const l=await lA(n);for(const d of u){const p=l.find(E=>E.measurementId===d),m=p&&e[p.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Jn.error(o)}}function sD(t,e,n,r){async function i(o,...u){try{if(o==="event"){const[l,d]=u;await iD(t,e,n,l,d)}else if(o==="config"){const[l,d]=u;await rD(t,e,n,r,l,d)}else if(o==="consent"){const[l,d]=u;t("consent",l,d)}else if(o==="get"){const[l,d,p]=u;t("get",l,d,p)}else if(o==="set"){const[l]=u;t("set",l)}else t(o,...u)}catch(l){Jn.error(l)}}return i}function oD(t,e,n,r,i){let o=function(...u){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=sD(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function aD(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(x0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=30,lD=1e3;class cD{constructor(e={},n=lD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cA=new cD;function dD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function hD(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:dD(r)},o=X3.replace("{app-id}",n),u=await fetch(o,i);if(u.status!==200&&u.status!==304){let l="";try{const d=await u.json();!((e=d.error)===null||e===void 0)&&e.message&&(l=d.error.message)}catch{}throw fr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:l})}return u.json()}async function fD(t,e=cA,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw fr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw fr.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new gD;return setTimeout(async()=>{l.abort()},Q3),dA({appId:r,apiKey:i,measurementId:o},u,l,e)}async function dA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=cA){var o;const{appId:u,measurementId:l}=t;try{await pD(r,e)}catch(d){if(l)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:u,measurementId:l};throw d}try{const d=await hD(t);return i.deleteThrottleMetadata(u),d}catch(d){const p=d;if(!mD(p)){if(i.deleteThrottleMetadata(u),l)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:l};throw d}const m=Number((o=p==null?void 0:p.customData)===null||o===void 0?void 0:o.httpStatus)===503?OT(n,i.intervalMillis,uD):OT(n,i.intervalMillis),E={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return i.setThrottleMetadata(u,E),Jn.debug(`Calling attemptFetch again in ${m} millis`),dA(t,E,r,i)}}function pD(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mD(t){if(!(t instanceof Pr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class gD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yD(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,u=Object.assign(Object.assign({},r),{send_to:o});t("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(){if(iI())try{await sI()}catch(t){return Jn.warn(fr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Jn.warn(fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _D(t,e,n,r,i,o,u){var l;const d=fD(t);d.then(I=>{n[I.measurementId]=I.appId,t.options.measurementId&&I.measurementId!==t.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>Jn.error(I)),e.push(d);const p=ED().then(I=>{if(I)return r.getId()}),[m,E]=await Promise.all([d,p]);aD(o)||tD(o,m.measurementId),i("js",new Date);const b=(l=u==null?void 0:u.config)!==null&&l!==void 0?l:{};return b[K3]="firebase",b.update=!0,E!=null&&(b[G3]=E),i("config",m.measurementId,b),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.app=e}_delete(){return delete $l[this.app.options.appId],Promise.resolve()}}let $l={},l1=[];const c1={};let Bm="dataLayer",vD="gtag",d1,hA,h1=!1;function bD(){const t=[];if(rI()&&t.push("This is a browser extension environment."),CN()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=fr.create("invalid-analytics-context",{errorInfo:e});Jn.warn(n.message)}}function ID(t,e,n){bD();const r=t.options.appId;if(!r)throw fr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fr.create("no-api-key");if($l[r]!=null)throw fr.create("already-exists",{id:r});if(!h1){nD(Bm);const{wrappedGtag:o,gtagCore:u}=oD($l,l1,c1,Bm,vD);hA=o,d1=u,h1=!0}return $l[r]=_D(t,l1,c1,e,d1,Bm,n),new TD(t)}function AD(t=uf()){t=Nt(t);const e=so(t,Hh);return e.isInitialized()?e.getImmediate():wD(t)}function wD(t,e={}){const n=so(t,Hh);if(n.isInitialized()){const i=n.getImmediate();if(Xs(e,n.getOptions()))return i;throw fr.create("already-initialized")}return n.initialize({options:e})}function SD(t,e,n,r){t=Nt(t),yD(hA,$l[t.app.options.appId],e,n,r).catch(i=>Jn.error(i))}const f1="@firebase/analytics",p1="0.10.12";function CD(){ni(new Nr(Hh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return ID(r,i,n)},"PUBLIC")),ni(new Nr("analytics-internal",t,"PRIVATE")),Xn(f1,p1),Xn(f1,p1,"esm2017");function t(e){try{const n=e.getProvider(Hh).getImmediate();return{logEvent:(r,i,o)=>SD(n,r,i,o)}}catch(n){throw fr.create("interop-component-reg-failed",{reason:n})}}}CD();var m1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,fA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(H,x){function M(){}M.prototype=x.prototype,H.D=x.prototype,H.prototype=new M,H.prototype.constructor=H,H.C=function(j,P,O){for(var C=Array(arguments.length-2),te=2;te<arguments.length;te++)C[te-2]=arguments[te];return x.prototype[P].apply(j,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(H,x,M){M||(M=0);var j=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)j[P]=x.charCodeAt(M++)|x.charCodeAt(M++)<<8|x.charCodeAt(M++)<<16|x.charCodeAt(M++)<<24;else for(P=0;16>P;++P)j[P]=x[M++]|x[M++]<<8|x[M++]<<16|x[M++]<<24;x=H.g[0],M=H.g[1],P=H.g[2];var O=H.g[3],C=x+(O^M&(P^O))+j[0]+3614090360&4294967295;x=M+(C<<7&4294967295|C>>>25),C=O+(P^x&(M^P))+j[1]+3905402710&4294967295,O=x+(C<<12&4294967295|C>>>20),C=P+(M^O&(x^M))+j[2]+606105819&4294967295,P=O+(C<<17&4294967295|C>>>15),C=M+(x^P&(O^x))+j[3]+3250441966&4294967295,M=P+(C<<22&4294967295|C>>>10),C=x+(O^M&(P^O))+j[4]+4118548399&4294967295,x=M+(C<<7&4294967295|C>>>25),C=O+(P^x&(M^P))+j[5]+1200080426&4294967295,O=x+(C<<12&4294967295|C>>>20),C=P+(M^O&(x^M))+j[6]+2821735955&4294967295,P=O+(C<<17&4294967295|C>>>15),C=M+(x^P&(O^x))+j[7]+4249261313&4294967295,M=P+(C<<22&4294967295|C>>>10),C=x+(O^M&(P^O))+j[8]+1770035416&4294967295,x=M+(C<<7&4294967295|C>>>25),C=O+(P^x&(M^P))+j[9]+2336552879&4294967295,O=x+(C<<12&4294967295|C>>>20),C=P+(M^O&(x^M))+j[10]+4294925233&4294967295,P=O+(C<<17&4294967295|C>>>15),C=M+(x^P&(O^x))+j[11]+2304563134&4294967295,M=P+(C<<22&4294967295|C>>>10),C=x+(O^M&(P^O))+j[12]+1804603682&4294967295,x=M+(C<<7&4294967295|C>>>25),C=O+(P^x&(M^P))+j[13]+4254626195&4294967295,O=x+(C<<12&4294967295|C>>>20),C=P+(M^O&(x^M))+j[14]+2792965006&4294967295,P=O+(C<<17&4294967295|C>>>15),C=M+(x^P&(O^x))+j[15]+1236535329&4294967295,M=P+(C<<22&4294967295|C>>>10),C=x+(P^O&(M^P))+j[1]+4129170786&4294967295,x=M+(C<<5&4294967295|C>>>27),C=O+(M^P&(x^M))+j[6]+3225465664&4294967295,O=x+(C<<9&4294967295|C>>>23),C=P+(x^M&(O^x))+j[11]+643717713&4294967295,P=O+(C<<14&4294967295|C>>>18),C=M+(O^x&(P^O))+j[0]+3921069994&4294967295,M=P+(C<<20&4294967295|C>>>12),C=x+(P^O&(M^P))+j[5]+3593408605&4294967295,x=M+(C<<5&4294967295|C>>>27),C=O+(M^P&(x^M))+j[10]+38016083&4294967295,O=x+(C<<9&4294967295|C>>>23),C=P+(x^M&(O^x))+j[15]+3634488961&4294967295,P=O+(C<<14&4294967295|C>>>18),C=M+(O^x&(P^O))+j[4]+3889429448&4294967295,M=P+(C<<20&4294967295|C>>>12),C=x+(P^O&(M^P))+j[9]+568446438&4294967295,x=M+(C<<5&4294967295|C>>>27),C=O+(M^P&(x^M))+j[14]+3275163606&4294967295,O=x+(C<<9&4294967295|C>>>23),C=P+(x^M&(O^x))+j[3]+4107603335&4294967295,P=O+(C<<14&4294967295|C>>>18),C=M+(O^x&(P^O))+j[8]+1163531501&4294967295,M=P+(C<<20&4294967295|C>>>12),C=x+(P^O&(M^P))+j[13]+2850285829&4294967295,x=M+(C<<5&4294967295|C>>>27),C=O+(M^P&(x^M))+j[2]+4243563512&4294967295,O=x+(C<<9&4294967295|C>>>23),C=P+(x^M&(O^x))+j[7]+1735328473&4294967295,P=O+(C<<14&4294967295|C>>>18),C=M+(O^x&(P^O))+j[12]+2368359562&4294967295,M=P+(C<<20&4294967295|C>>>12),C=x+(M^P^O)+j[5]+4294588738&4294967295,x=M+(C<<4&4294967295|C>>>28),C=O+(x^M^P)+j[8]+2272392833&4294967295,O=x+(C<<11&4294967295|C>>>21),C=P+(O^x^M)+j[11]+1839030562&4294967295,P=O+(C<<16&4294967295|C>>>16),C=M+(P^O^x)+j[14]+4259657740&4294967295,M=P+(C<<23&4294967295|C>>>9),C=x+(M^P^O)+j[1]+2763975236&4294967295,x=M+(C<<4&4294967295|C>>>28),C=O+(x^M^P)+j[4]+1272893353&4294967295,O=x+(C<<11&4294967295|C>>>21),C=P+(O^x^M)+j[7]+4139469664&4294967295,P=O+(C<<16&4294967295|C>>>16),C=M+(P^O^x)+j[10]+3200236656&4294967295,M=P+(C<<23&4294967295|C>>>9),C=x+(M^P^O)+j[13]+681279174&4294967295,x=M+(C<<4&4294967295|C>>>28),C=O+(x^M^P)+j[0]+3936430074&4294967295,O=x+(C<<11&4294967295|C>>>21),C=P+(O^x^M)+j[3]+3572445317&4294967295,P=O+(C<<16&4294967295|C>>>16),C=M+(P^O^x)+j[6]+76029189&4294967295,M=P+(C<<23&4294967295|C>>>9),C=x+(M^P^O)+j[9]+3654602809&4294967295,x=M+(C<<4&4294967295|C>>>28),C=O+(x^M^P)+j[12]+3873151461&4294967295,O=x+(C<<11&4294967295|C>>>21),C=P+(O^x^M)+j[15]+530742520&4294967295,P=O+(C<<16&4294967295|C>>>16),C=M+(P^O^x)+j[2]+3299628645&4294967295,M=P+(C<<23&4294967295|C>>>9),C=x+(P^(M|~O))+j[0]+4096336452&4294967295,x=M+(C<<6&4294967295|C>>>26),C=O+(M^(x|~P))+j[7]+1126891415&4294967295,O=x+(C<<10&4294967295|C>>>22),C=P+(x^(O|~M))+j[14]+2878612391&4294967295,P=O+(C<<15&4294967295|C>>>17),C=M+(O^(P|~x))+j[5]+4237533241&4294967295,M=P+(C<<21&4294967295|C>>>11),C=x+(P^(M|~O))+j[12]+1700485571&4294967295,x=M+(C<<6&4294967295|C>>>26),C=O+(M^(x|~P))+j[3]+2399980690&4294967295,O=x+(C<<10&4294967295|C>>>22),C=P+(x^(O|~M))+j[10]+4293915773&4294967295,P=O+(C<<15&4294967295|C>>>17),C=M+(O^(P|~x))+j[1]+2240044497&4294967295,M=P+(C<<21&4294967295|C>>>11),C=x+(P^(M|~O))+j[8]+1873313359&4294967295,x=M+(C<<6&4294967295|C>>>26),C=O+(M^(x|~P))+j[15]+4264355552&4294967295,O=x+(C<<10&4294967295|C>>>22),C=P+(x^(O|~M))+j[6]+2734768916&4294967295,P=O+(C<<15&4294967295|C>>>17),C=M+(O^(P|~x))+j[13]+1309151649&4294967295,M=P+(C<<21&4294967295|C>>>11),C=x+(P^(M|~O))+j[4]+4149444226&4294967295,x=M+(C<<6&4294967295|C>>>26),C=O+(M^(x|~P))+j[11]+3174756917&4294967295,O=x+(C<<10&4294967295|C>>>22),C=P+(x^(O|~M))+j[2]+718787259&4294967295,P=O+(C<<15&4294967295|C>>>17),C=M+(O^(P|~x))+j[9]+3951481745&4294967295,H.g[0]=H.g[0]+x&4294967295,H.g[1]=H.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,H.g[2]=H.g[2]+P&4294967295,H.g[3]=H.g[3]+O&4294967295}r.prototype.u=function(H,x){x===void 0&&(x=H.length);for(var M=x-this.blockSize,j=this.B,P=this.h,O=0;O<x;){if(P==0)for(;O<=M;)i(this,H,O),O+=this.blockSize;if(typeof H=="string"){for(;O<x;)if(j[P++]=H.charCodeAt(O++),P==this.blockSize){i(this,j),P=0;break}}else for(;O<x;)if(j[P++]=H[O++],P==this.blockSize){i(this,j),P=0;break}}this.h=P,this.o+=x},r.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var x=1;x<H.length-8;++x)H[x]=0;var M=8*this.o;for(x=H.length-8;x<H.length;++x)H[x]=M&255,M/=256;for(this.u(H),H=Array(16),x=M=0;4>x;++x)for(var j=0;32>j;j+=8)H[M++]=this.g[x]>>>j&255;return H};function o(H,x){var M=l;return Object.prototype.hasOwnProperty.call(M,H)?M[H]:M[H]=x(H)}function u(H,x){this.h=x;for(var M=[],j=!0,P=H.length-1;0<=P;P--){var O=H[P]|0;j&&O==x||(M[P]=O,j=!1)}this.g=M}var l={};function d(H){return-128<=H&&128>H?o(H,function(x){return new u([x|0],0>x?-1:0)}):new u([H|0],0>H?-1:0)}function p(H){if(isNaN(H)||!isFinite(H))return E;if(0>H)return U(p(-H));for(var x=[],M=1,j=0;H>=M;j++)x[j]=H/M|0,M*=4294967296;return new u(x,0)}function m(H,x){if(H.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(H.charAt(0)=="-")return U(m(H.substring(1),x));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=p(Math.pow(x,8)),j=E,P=0;P<H.length;P+=8){var O=Math.min(8,H.length-P),C=parseInt(H.substring(P,P+O),x);8>O?(O=p(Math.pow(x,O)),j=j.j(O).add(p(C))):(j=j.j(M),j=j.add(p(C)))}return j}var E=d(0),b=d(1),I=d(16777216);t=u.prototype,t.m=function(){if(F(this))return-U(this).m();for(var H=0,x=1,M=0;M<this.g.length;M++){var j=this.i(M);H+=(0<=j?j:4294967296+j)*x,x*=4294967296}return H},t.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(N(this))return"0";if(F(this))return"-"+U(this).toString(H);for(var x=p(Math.pow(H,6)),M=this,j="";;){var P=G(M,x).g;M=q(M,P.j(x));var O=((0<M.g.length?M.g[0]:M.h)>>>0).toString(H);if(M=P,N(M))return O+j;for(;6>O.length;)O="0"+O;j=O+j}},t.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function N(H){if(H.h!=0)return!1;for(var x=0;x<H.g.length;x++)if(H.g[x]!=0)return!1;return!0}function F(H){return H.h==-1}t.l=function(H){return H=q(this,H),F(H)?-1:N(H)?0:1};function U(H){for(var x=H.g.length,M=[],j=0;j<x;j++)M[j]=~H.g[j];return new u(M,~H.h).add(b)}t.abs=function(){return F(this)?U(this):this},t.add=function(H){for(var x=Math.max(this.g.length,H.g.length),M=[],j=0,P=0;P<=x;P++){var O=j+(this.i(P)&65535)+(H.i(P)&65535),C=(O>>>16)+(this.i(P)>>>16)+(H.i(P)>>>16);j=C>>>16,O&=65535,C&=65535,M[P]=C<<16|O}return new u(M,M[M.length-1]&-2147483648?-1:0)};function q(H,x){return H.add(U(x))}t.j=function(H){if(N(this)||N(H))return E;if(F(this))return F(H)?U(this).j(U(H)):U(U(this).j(H));if(F(H))return U(this.j(U(H)));if(0>this.l(I)&&0>H.l(I))return p(this.m()*H.m());for(var x=this.g.length+H.g.length,M=[],j=0;j<2*x;j++)M[j]=0;for(j=0;j<this.g.length;j++)for(var P=0;P<H.g.length;P++){var O=this.i(j)>>>16,C=this.i(j)&65535,te=H.i(P)>>>16,ae=H.i(P)&65535;M[2*j+2*P]+=C*ae,re(M,2*j+2*P),M[2*j+2*P+1]+=O*ae,re(M,2*j+2*P+1),M[2*j+2*P+1]+=C*te,re(M,2*j+2*P+1),M[2*j+2*P+2]+=O*te,re(M,2*j+2*P+2)}for(j=0;j<x;j++)M[j]=M[2*j+1]<<16|M[2*j];for(j=x;j<2*x;j++)M[j]=0;return new u(M,0)};function re(H,x){for(;(H[x]&65535)!=H[x];)H[x+1]+=H[x]>>>16,H[x]&=65535,x++}function $(H,x){this.g=H,this.h=x}function G(H,x){if(N(x))throw Error("division by zero");if(N(H))return new $(E,E);if(F(H))return x=G(U(H),x),new $(U(x.g),U(x.h));if(F(x))return x=G(H,U(x)),new $(U(x.g),x.h);if(30<H.g.length){if(F(H)||F(x))throw Error("slowDivide_ only works with positive integers.");for(var M=b,j=x;0>=j.l(H);)M=_e(M),j=_e(j);var P=Z(M,1),O=Z(j,1);for(j=Z(j,2),M=Z(M,2);!N(j);){var C=O.add(j);0>=C.l(H)&&(P=P.add(M),O=C),j=Z(j,1),M=Z(M,1)}return x=q(H,P.j(x)),new $(P,x)}for(P=E;0<=H.l(x);){for(M=Math.max(1,Math.floor(H.m()/x.m())),j=Math.ceil(Math.log(M)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),O=p(M),C=O.j(x);F(C)||0<C.l(H);)M-=j,O=p(M),C=O.j(x);N(O)&&(O=b),P=P.add(O),H=q(H,C)}return new $(P,H)}t.A=function(H){return G(this,H).h},t.and=function(H){for(var x=Math.max(this.g.length,H.g.length),M=[],j=0;j<x;j++)M[j]=this.i(j)&H.i(j);return new u(M,this.h&H.h)},t.or=function(H){for(var x=Math.max(this.g.length,H.g.length),M=[],j=0;j<x;j++)M[j]=this.i(j)|H.i(j);return new u(M,this.h|H.h)},t.xor=function(H){for(var x=Math.max(this.g.length,H.g.length),M=[],j=0;j<x;j++)M[j]=this.i(j)^H.i(j);return new u(M,this.h^H.h)};function _e(H){for(var x=H.g.length+1,M=[],j=0;j<x;j++)M[j]=H.i(j)<<1|H.i(j-1)>>>31;return new u(M,H.h)}function Z(H,x){var M=x>>5;x%=32;for(var j=H.g.length-M,P=[],O=0;O<j;O++)P[O]=0<x?H.i(O+M)>>>x|H.i(O+M+1)<<32-x:H.i(O+M);return new u(P,H.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=m,Ks=u}).apply(typeof m1<"u"?m1:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pA,Vl,mA,bh,Sg,gA,yA,EA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,A){return h==Array.prototype||h==Object.prototype||(h[_]=A.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var _=0;_<h.length;++_){var A=h[_];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(h,_){if(_)e:{var A=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var Q=h[S];if(!(Q in A))break e;A=A[Q]}h=h[h.length-1],S=A[h],_=_(S),_!=S&&_!=null&&e(A,h,{configurable:!0,writable:!0,value:_})}}function o(h,_){h instanceof String&&(h+="");var A=0,S=!1,Q={next:function(){if(!S&&A<h.length){var oe=A++;return{value:_(oe,h[oe]),done:!1}}return S=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(h){return h||function(){return o(this,function(_,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},l=this||self;function d(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function p(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,A){return h.call.apply(h.bind,arguments)}function E(h,_,A){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,S),h.apply(_,Q)}}return function(){return h.apply(_,arguments)}}function b(h,_,A){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:E,b.apply(null,arguments)}function I(h,_){var A=Array.prototype.slice.call(arguments,1);return function(){var S=A.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function N(h,_){function A(){}A.prototype=_.prototype,h.aa=_.prototype,h.prototype=new A,h.prototype.constructor=h,h.Qb=function(S,Q,oe){for(var Ae=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)Ae[ht-2]=arguments[ht];return _.prototype[Q].apply(S,Ae)}}function F(h){const _=h.length;if(0<_){const A=Array(_);for(let S=0;S<_;S++)A[S]=h[S];return A}return[]}function U(h,_){for(let A=1;A<arguments.length;A++){const S=arguments[A];if(d(S)){const Q=h.length||0,oe=S.length||0;h.length=Q+oe;for(let Ae=0;Ae<oe;Ae++)h[Q+Ae]=S[Ae]}else h.push(S)}}class q{constructor(_,A){this.i=_,this.j=A,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function re(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=l.navigator;return h&&(h=h.userAgent)?h:""}function G(h){return G[" "](h),h}G[" "]=function(){};var _e=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function Z(h,_,A){for(const S in h)_.call(A,h[S],S,h)}function H(h,_){for(const A in h)_.call(void 0,h[A],A,h)}function x(h){const _={};for(const A in h)_[A]=h[A];return _}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(h,_){let A,S;for(let Q=1;Q<arguments.length;Q++){S=arguments[Q];for(A in S)h[A]=S[A];for(let oe=0;oe<M.length;oe++)A=M[oe],Object.prototype.hasOwnProperty.call(S,A)&&(h[A]=S[A])}}function P(h){var _=1;h=h.split(":");const A=[];for(;0<_&&h.length;)A.push(h.shift()),_--;return h.length&&A.push(h.join(":")),A}function O(h){l.setTimeout(()=>{throw h},0)}function C(){var h=Ie;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class te{constructor(){this.h=this.g=null}add(_,A){const S=ae.get();S.set(_,A),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new q(()=>new Ce,h=>h.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(_,A){this.h=_,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let K,ie=!1,Ie=new te,R=()=>{const h=l.Promise.resolve(void 0);K=()=>{h.then(W)}};var W=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(A){O(A)}var _=ae;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}ie=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};l.addEventListener("test",A,_),l.removeEventListener("test",A,_)}catch{}return h}();function je(h,_){if(L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var A=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(_e){e:{try{G(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else A=="mouseover"?_=h.fromElement:A=="mouseout"&&(_=h.toElement);this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:De[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&je.aa.h.call(this)}}N(je,L);var De={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Xe="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function at(h,_,A,S,Q){this.listener=h,this.proxy=null,this.src=_,this.type=A,this.capture=!!S,this.ha=Q,this.key=++Qe,this.da=this.fa=!1}function _t(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Mn(h){this.src=h,this.g={},this.h=0}Mn.prototype.add=function(h,_,A,S,Q){var oe=h.toString();h=this.g[oe],h||(h=this.g[oe]=[],this.h++);var Ae=oi(h,_,S,Q);return-1<Ae?(_=h[Ae],A||(_.fa=!1)):(_=new at(_,this.src,oe,!!S,Q),_.fa=A,h.push(_)),_};function os(h,_){var A=_.type;if(A in h.g){var S=h.g[A],Q=Array.prototype.indexOf.call(S,_,void 0),oe;(oe=0<=Q)&&Array.prototype.splice.call(S,Q,1),oe&&(_t(_),h.g[A].length==0&&(delete h.g[A],h.h--))}}function oi(h,_,A,S){for(var Q=0;Q<h.length;++Q){var oe=h[Q];if(!oe.da&&oe.listener==_&&oe.capture==!!A&&oe.ha==S)return Q}return-1}var Ni="closure_lm_"+(1e6*Math.random()|0),xi={};function as(h,_,A,S,Q){if(Array.isArray(_)){for(var oe=0;oe<_.length;oe++)as(h,_[oe],A,S,Q);return null}return A=po(A),h&&h[Xe]?h.K(_,A,p(S)?!!S.capture:!1,Q):us(h,_,A,!1,S,Q)}function us(h,_,A,S,Q,oe){if(!_)throw Error("Invalid event type");var Ae=p(Q)?!!Q.capture:!!Q,ht=ls(h);if(ht||(h[Ni]=ht=new Mn(h)),A=ht.add(_,A,S,Ae,oe),A.proxy)return A;if(S=ha(),A.proxy=S,S.src=h,S.listener=A,h.addEventListener)Oe||(Q=Ae),Q===void 0&&(Q=!1),h.addEventListener(_.toString(),S,Q);else if(h.attachEvent)h.attachEvent(Dr(_.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return A}function ha(){function h(A){return _.call(h.src,h.listener,A)}const _=fo;return h}function Pi(h,_,A,S,Q){if(Array.isArray(_))for(var oe=0;oe<_.length;oe++)Pi(h,_[oe],A,S,Q);else S=p(S)?!!S.capture:!!S,A=po(A),h&&h[Xe]?(h=h.i,_=String(_).toString(),_ in h.g&&(oe=h.g[_],A=oi(oe,A,S,Q),-1<A&&(_t(oe[A]),Array.prototype.splice.call(oe,A,1),oe.length==0&&(delete h.g[_],h.h--)))):h&&(h=ls(h))&&(_=h.g[_.toString()],h=-1,_&&(h=oi(_,A,S,Q)),(A=-1<h?_[h]:null)&&pr(A))}function pr(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Xe])os(_.i,h);else{var A=h.type,S=h.proxy;_.removeEventListener?_.removeEventListener(A,S,h.capture):_.detachEvent?_.detachEvent(Dr(A),S):_.addListener&&_.removeListener&&_.removeListener(S),(A=ls(_))?(os(A,h),A.h==0&&(A.src=null,_[Ni]=null)):_t(h)}}}function Dr(h){return h in xi?xi[h]:xi[h]="on"+h}function fo(h,_){if(h.da)h=!0;else{_=new je(_,this);var A=h.listener,S=h.ha||h.src;h.fa&&pr(h),h=A.call(S,_)}return h}function ls(h){return h=h[Ni],h instanceof Mn?h:null}var cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function po(h){return typeof h=="function"?h:(h[cs]||(h[cs]=function(_){return h.handleEvent(_)}),h[cs])}function se(){le.call(this),this.i=new Mn(this),this.M=this,this.F=null}N(se,le),se.prototype[Xe]=!0,se.prototype.removeEventListener=function(h,_,A,S){Pi(this,h,_,A,S)};function ge(h,_){var A,S=h.F;if(S)for(A=[];S;S=S.F)A.push(S);if(h=h.M,S=_.type||_,typeof _=="string")_=new L(_,h);else if(_ instanceof L)_.target=_.target||h;else{var Q=_;_=new L(S,h),j(_,Q)}if(Q=!0,A)for(var oe=A.length-1;0<=oe;oe--){var Ae=_.g=A[oe];Q=Me(Ae,S,!0,_)&&Q}if(Ae=_.g=h,Q=Me(Ae,S,!0,_)&&Q,Q=Me(Ae,S,!1,_)&&Q,A)for(oe=0;oe<A.length;oe++)Ae=_.g=A[oe],Q=Me(Ae,S,!1,_)&&Q}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var A=h.g[_],S=0;S<A.length;S++)_t(A[S]);delete h.g[_],h.h--}}this.F=null},se.prototype.K=function(h,_,A,S){return this.i.add(String(h),_,!1,A,S)},se.prototype.L=function(h,_,A,S){return this.i.add(String(h),_,!0,A,S)};function Me(h,_,A,S){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,oe=0;oe<_.length;++oe){var Ae=_[oe];if(Ae&&!Ae.da&&Ae.capture==A){var ht=Ae.listener,Kt=Ae.ha||Ae.src;Ae.fa&&os(h.i,Ae),Q=ht.call(Kt,S)!==!1&&Q}}return Q&&!S.defaultPrevented}function Ke(h,_,A){if(typeof h=="function")A&&(h=b(h,A));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:l.setTimeout(h,_||0)}function tt(h){h.g=Ke(()=>{h.g=null,h.i&&(h.i=!1,tt(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Yt extends le{constructor(_,A){super(),this.m=_,this.l=A,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(h){le.call(this),this.h=h,this.g={}}N(Rn,le);var kn=[];function Lr(h){Z(h.g,function(_,A){this.g.hasOwnProperty(A)&&pr(_)},h),h.g={}}Rn.prototype.N=function(){Rn.aa.N.call(this),Lr(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mr=l.JSON.stringify,Gt=l.JSON.parse,mr=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function ln(){}ln.prototype.h=null;function fa(h){return h.h||(h.h=h.i())}function pa(){}var gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){L.call(this,"d")}N(ai,L);function ma(){L.call(this,"c")}N(ma,L);var ui={},zu=null;function mo(){return zu=zu||new se}ui.La="serverreachability";function qu(h){L.call(this,ui.La,h)}N(qu,L);function Oi(h){const _=mo();ge(_,new qu(_))}ui.STAT_EVENT="statevent";function Wu(h,_){L.call(this,ui.STAT_EVENT,h),this.stat=_}N(Wu,L);function Lt(h){const _=mo();ge(_,new Wu(_,h))}ui.Ma="timingevent";function ga(h,_){L.call(this,ui.Ma,h),this.size=_}N(ga,L);function Fr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},_)}function go(){this.g=!0}go.prototype.xa=function(){this.g=!1};function yo(h,_,A,S,Q,oe){h.info(function(){if(h.g)if(oe)for(var Ae="",ht=oe.split("&"),Kt=0;Kt<ht.length;Kt++){var st=ht[Kt].split("=");if(1<st.length){var tn=st[0];st=st[1];var jt=tn.split("_");Ae=2<=jt.length&&jt[1]=="type"?Ae+(tn+"="+st+"&"):Ae+(tn+"=redacted&")}}else Ae=null;else Ae=oe;return"XMLHTTP REQ ("+S+") [attempt "+Q+"]: "+_+`
`+A+`
`+Ae})}function ya(h,_,A,S,Q,oe,Ae){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+Q+"]: "+_+`
`+A+`
`+oe+" "+Ae})}function Ur(h,_,A,S){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+zf(h,A)+(S?" "+S:"")})}function $u(h,_){h.info(function(){return"TIMEOUT: "+_})}go.prototype.info=function(){};function zf(h,_){if(!h.g)return _;if(!_)return null;try{var A=JSON.parse(_);if(A){for(h=0;h<A.length;h++)if(Array.isArray(A[h])){var S=A[h];if(!(2>S.length)){var Q=S[1];if(Array.isArray(Q)&&!(1>Q.length)){var oe=Q[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var Ae=1;Ae<Q.length;Ae++)Q[Ae]=""}}}}return Mr(A)}catch{return _}}var Ea={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Br;function Eo(){}N(Eo,ln),Eo.prototype.g=function(){return new XMLHttpRequest},Eo.prototype.i=function(){return{}},Br=new Eo;function Vr(h,_,A,S){this.j=h,this.i=_,this.l=A,this.R=S||1,this.U=new Rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hc}function Hc(){this.i=null,this.g="",this.h=!1}var Yu={},_a={};function Ta(h,_,A){h.L=1,h.v=ms(nr(_)),h.m=A,h.P=!0,Gu(h,null)}function Gu(h,_){h.F=Date.now(),pt(h),h.A=nr(h.v);var A=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),ys(A.i,"t",S),h.C=0,A=h.j.J,h.h=new Hc,h.g=od(h.j,A?_:null,!h.m),0<h.O&&(h.M=new Yt(b(h.Y,h,h.g),h.O)),_=h.U,A=h.g,S=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(kn[0]=Q.toString()),Q=kn);for(var oe=0;oe<Q.length;oe++){var Ae=as(A,Q[oe],S||_.handleEvent,!1,_.h||_);if(!Ae)break;_.g[Ae.key]=Ae}_=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),Oi(),yo(h.i,h.u,h.A,h.l,h.R,h.m)}Vr.prototype.ca=function(h){h=h.target;const _=this.M;_&&Un(h)==3?_.j():this.Y(h)},Vr.prototype.Y=function(h){try{if(h==this.g)e:{const jt=Un(this.g);var _=this.g.Ba();const _r=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||jt!=4||_==7||(_==8||0>=_r?Oi(3):Oi(2)),_o(this);var A=this.g.Z();this.X=A;t:if(zc(this)){var S=el(this.g);h="";var Q=S.length,oe=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yr(this),ds(this);var Ae="";break t}this.h.i=new l.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,h+=this.h.i.decode(S[_],{stream:!(oe&&_==Q-1)});S.length=0,this.h.g+=h,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=A==200,ya(this.i,this.u,this.A,this.l,this.R,jt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,Kt=this.g;if((ht=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(ht)){var st=ht;break t}}st=null}if(A=st)Ur(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ku(this,A);else{this.o=!1,this.s=3,Lt(12),yr(this),ds(this);break e}}if(this.P){A=!0;let ir;for(;!this.J&&this.C<Ae.length;)if(ir=qf(this,Ae),ir==_a){jt==4&&(this.s=4,Lt(14),A=!1),Ur(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==Yu){this.s=4,Lt(15),Ur(this.i,this.l,Ae,"[Invalid Chunk]"),A=!1;break}else Ur(this.i,this.l,ir,null),Ku(this,ir);if(zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||Ae.length!=0||this.h.h||(this.s=1,Lt(16),A=!1),this.o=this.o&&A,!A)Ur(this.i,this.l,Ae,"[Invalid Chunked Response]"),yr(this),ds(this);else if(0<Ae.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),nl(tn),tn.M=!0,Lt(11))}}else Ur(this.i,this.l,Ae,null),Ku(this,Ae);jt==4&&yr(this),this.o&&!this.J&&(jt==4?xa(this.j,this):(this.o=!1,pt(this)))}else Sa(this.g),A==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),yr(this),ds(this)}}}catch{}finally{}};function zc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function qf(h,_){var A=h.C,S=_.indexOf(`
`,A);return S==-1?_a:(A=Number(_.substring(A,S)),isNaN(A)?Yu:(S+=1,S+A>_.length?_a:(_=_.slice(S,S+A),h.C=S+A,_)))}Vr.prototype.cancel=function(){this.J=!0,yr(this)};function pt(h){h.S=Date.now()+h.I,qc(h,h.I)}function qc(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Fr(b(h.ba,h),_)}function _o(h){h.B&&(l.clearTimeout(h.B),h.B=null)}Vr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?($u(this.i,this.A),this.L!=2&&(Oi(),Lt(17)),yr(this),this.s=2,ds(this)):qc(this,this.S-h)};function ds(h){h.j.G==0||h.J||xa(h.j,h)}function yr(h){_o(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Lr(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function Ku(h,_){try{var A=h.j;if(A.G!=0&&(A.g==h||Nn(A.h,h))){if(!h.K&&Nn(A.h,h)&&A.G==3){try{var S=A.Da.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var Q=S;if(Q[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<h.F)Na(A),Wr(A);else break e;ka(A),Lt(18)}}else A.za=Q[1],0<A.za-A.T&&37500>Q[2]&&A.F&&A.v==0&&!A.C&&(A.C=Fr(b(A.Za,A),6e3));if(1>=$c(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ui(A,11)}else if((h.K||A.g==h)&&Na(A),!re(_))for(Q=A.Da.g.parse(_),_=0;_<Q.length;_++){let st=Q[_];if(A.T=st[0],st=st[1],A.G==2)if(st[0]=="c"){A.K=st[1],A.ia=st[2];const tn=st[3];tn!=null&&(A.la=tn,A.j.info("VER="+A.la));const jt=st[4];jt!=null&&(A.Aa=jt,A.j.info("SVER="+A.Aa));const _r=st[5];_r!=null&&typeof _r=="number"&&0<_r&&(S=1.5*_r,A.L=S,A.j.info("backChannelRequestTimeoutMs_="+S)),S=A;const ir=h.g;if(ir){const So=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(So){var oe=S.h;oe.g||So.indexOf("spdy")==-1&&So.indexOf("quic")==-1&&So.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Qu(oe,oe.h),oe.h=null))}if(S.D){const Oa=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(S.ya=Oa,ft(S.I,S.D,Oa))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-h.F,A.j.info("Handshake RTT: "+A.R+"ms")),S=A;var Ae=h;if(S.qa=sd(S,S.J?S.ia:null,S.W),Ae.K){Yc(S.h,Ae);var ht=Ae,Kt=S.L;Kt&&(ht.I=Kt),ht.B&&(_o(ht),pt(ht)),S.g=Ae}else wo(S);0<A.i.length&&hi(A)}else st[0]!="stop"&&st[0]!="close"||Ui(A,7);else A.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Ui(A,7):dn(A):st[0]!="noop"&&A.l&&A.l.ta(st),A.v=0)}}Oi(4)}catch{}}var Wc=class{constructor(h,_){this.g=h,this.map=_}};function To(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $c(h){return h.h?1:h.g?h.g.size:0}function Nn(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Qu(h,_){h.g?h.g.add(_):h.h=_}function Yc(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}To.prototype.cancel=function(){if(this.i=Gc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Gc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const A of h.g.values())_=_.concat(A.D);return _}return F(h.i)}function va(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var _=[],A=h.length,S=0;S<A;S++)_.push(h[S]);return _}_=[],A=0;for(S in h)_[A++]=h[S];return _}function ba(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var _=[];h=h.length;for(var A=0;A<h;A++)_.push(A);return _}_=[],A=0;for(const S in h)_[A++]=S;return _}}}function hs(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var A=ba(h),S=va(h),Q=S.length,oe=0;oe<Q;oe++)_.call(void 0,S[oe],A&&A[oe],h)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wf(h,_){if(h){h=h.split("&");for(var A=0;A<h.length;A++){var S=h[A].indexOf("="),Q=null;if(0<=S){var oe=h[A].substring(0,S);Q=h[A].substring(S+1)}else oe=h[A];_(oe,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Di(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Di){this.h=h.h,bo(this,h.j),this.o=h.o,this.g=h.g,fs(this,h.s),this.l=h.l;var _=h.i,A=new li;A.i=_.i,_.g&&(A.g=new Map(_.g),A.h=_.h),ps(this,A),this.m=h.m}else h&&(_=String(h).match(vo))?(this.h=!1,bo(this,_[1]||"",!0),this.o=it(_[2]||""),this.g=it(_[3]||"",!0),fs(this,_[4]),this.l=it(_[5]||"",!0),ps(this,_[6]||"",!0),this.m=it(_[7]||"")):(this.h=!1,this.i=new li(null,this.h))}Di.prototype.toString=function(){var h=[],_=this.j;_&&h.push(gs(_,Ia,!0),":");var A=this.g;return(A||_=="file")&&(h.push("//"),(_=this.o)&&h.push(gs(_,Ia,!0),"@"),h.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&h.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(gs(A,A.charAt(0)=="/"?Xc:Qc,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",gs(A,Xu)),h.join("")};function nr(h){return new Di(h)}function bo(h,_,A){h.j=A?it(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function fs(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function ps(h,_,A){_ instanceof li?(h.i=_,ci(h.i,h.h)):(A||(_=gs(_,Jc)),h.i=new li(_,h.h))}function ft(h,_,A){h.i.set(_,A)}function ms(h){return ft(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function it(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function gs(h,_,A){return typeof h=="string"?(h=encodeURI(h).replace(_,Kc),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Kc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ia=/[#\/\?@]/g,Qc=/[#\?:]/g,Xc=/[#\?]/g,Jc=/[#\?@]/g,Xu=/#/g;function li(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function cn(h){h.g||(h.g=new Map,h.h=0,h.i&&Wf(h.i,function(_,A){h.add(decodeURIComponent(_.replace(/\+/g," ")),A)}))}t=li.prototype,t.add=function(h,_){cn(this),this.i=null,h=Er(this,h);var A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(_),this.h+=1,this};function jr(h,_){cn(h),_=Er(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Hr(h,_){return cn(h),_=Er(h,_),h.g.has(_)}t.forEach=function(h,_){cn(this),this.g.forEach(function(A,S){A.forEach(function(Q){h.call(_,Q,S,this)},this)},this)},t.na=function(){cn(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),A=[];for(let S=0;S<_.length;S++){const Q=h[S];for(let oe=0;oe<Q.length;oe++)A.push(_[S])}return A},t.V=function(h){cn(this);let _=[];if(typeof h=="string")Hr(this,h)&&(_=_.concat(this.g.get(Er(this,h))));else{h=Array.from(this.g.values());for(let A=0;A<h.length;A++)_=_.concat(h[A])}return _},t.set=function(h,_){return cn(this),this.i=null,h=Er(this,h),Hr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function ys(h,_,A){jr(h,_),0<A.length&&(h.i=null,h.g.set(Er(h,_),F(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var A=0;A<_.length;A++){var S=_[A];const oe=encodeURIComponent(String(S)),Ae=this.V(S);for(S=0;S<Ae.length;S++){var Q=oe;Ae[S]!==""&&(Q+="="+encodeURIComponent(String(Ae[S]))),h.push(Q)}}return this.i=h.join("&")};function Er(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function ci(h,_){_&&!h.j&&(cn(h),h.i=null,h.g.forEach(function(A,S){var Q=S.toLowerCase();S!=Q&&(jr(this,S),ys(this,Q,A))},h)),h.j=_}function $f(h,_){const A=new go;if(l.Image){const S=new Image;S.onload=I(Fn,A,"TestLoadImage: loaded",!0,_,S),S.onerror=I(Fn,A,"TestLoadImage: error",!1,_,S),S.onabort=I(Fn,A,"TestLoadImage: abort",!1,_,S),S.ontimeout=I(Fn,A,"TestLoadImage: timeout",!1,_,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else _(!1)}function Zc(h,_){const A=new go,S=new AbortController,Q=setTimeout(()=>{S.abort(),Fn(A,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:S.signal}).then(oe=>{clearTimeout(Q),oe.ok?Fn(A,"TestPingServer: ok",!0,_):Fn(A,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Fn(A,"TestPingServer: error",!1,_)})}function Fn(h,_,A,S,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),S(A)}catch{}}function Yf(){this.g=new mr}function ed(h,_,A){const S=A||"";try{hs(h,function(Q,oe){let Ae=Q;p(Q)&&(Ae=Mr(Q)),_.push(S+oe+"="+encodeURIComponent(Ae))})}catch(Q){throw _.push(S+"type="+encodeURIComponent("_badmap")),Q}}function Li(h){this.l=h.Ub||null,this.j=h.eb||!1}N(Li,ln),Li.prototype.g=function(){return new Io(this.l,this.j)},Li.prototype.i=function(h){return function(){return h}}({});function Io(h,_){se.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Io,se),t=Io.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,qr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||l).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;td(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function td(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?zr(this):qr(this),this.readyState==3&&td(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,zr(this))},t.Qa=function(h){this.g&&(this.response=h,zr(this))},t.ga=function(){this.g&&zr(this)};function zr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,qr(h)}t.setRequestHeader=function(h,_){this.u.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var A=_.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=_.next();return h.join(`\r
`)};function qr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Io.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Mi(h){let _="";return Z(h,function(A,S){_+=S,_+=":",_+=A,_+=`\r
`}),_}function Es(h,_,A){e:{for(S in A){var S=!1;break e}S=!0}S||(A=Mi(A),typeof h=="string"?A!=null&&encodeURIComponent(String(A)):ft(h,_,A))}function It(h){se.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(It,se);var Gf=/^https?$/i,Ju=["POST","PUT"];t=It.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,_,A,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Br.g(),this.v=this.o?fa(this.o):fa(Br),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(oe){Ao(this,oe);return}if(h=A||"",A=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var Q in S)A.set(Q,S[Q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const oe of S.keys())A.set(oe,S.get(oe));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(A.keys()).find(oe=>oe.toLowerCase()=="content-type"),Q=l.FormData&&h instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Ju,_,void 0))||S||Q||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Ae]of A)this.g.setRequestHeader(oe,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(h),this.u=!1}catch(oe){Ao(this,oe)}};function Ao(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,Aa(h),rr(h)}function Aa(h){h.A||(h.A=!0,ge(h,"complete"),ge(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ge(this,"complete"),ge(this,"abort"),rr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zu(this):this.bb())},t.bb=function(){Zu(this)};function Zu(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Un(h)!=4||h.Z()!=2)){if(h.u&&Un(h)==4)Ke(h.Ea,0,h);else if(ge(h,"readystatechange"),Un(h)==4){h.h=!1;try{const Ae=h.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var A;if(!(A=_)){var S;if(S=Ae===0){var Q=String(h.D).match(vo)[1]||null;!Q&&l.self&&l.self.location&&(Q=l.self.location.protocol.slice(0,-1)),S=!Gf.test(Q?Q.toLowerCase():"")}A=S}if(A)ge(h,"complete"),ge(h,"success");else{h.m=6;try{var oe=2<Un(h)?h.g.statusText:""}catch{oe=""}h.l=oe+" ["+h.Z()+"]",Aa(h)}}finally{rr(h)}}}}function rr(h,_){if(h.g){wa(h);const A=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||ge(h,"ready");try{A.onreadystatechange=S}catch{}}}function wa(h){h.I&&(l.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Un(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Gt(_)}};function el(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Sa(h){const _={};h=(h.g&&2<=Un(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(re(h[S]))continue;var A=P(h[S]);const Q=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const oe=_[Q]||[];_[Q]=oe,oe.push(A)}H(_,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(h,_,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||_}function tl(h){this.Aa=0,this.i=[],this.j=new go,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=di("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=di("baseRetryDelayMs",5e3,h),this.cb=di("retryDelaySeedMs",1e4,h),this.Wa=di("forwardChannelMaxRetries",2,h),this.wa=di("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new To(h&&h.concurrentRequestLimit),this.Da=new Yf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tl.prototype,t.la=8,t.G=1,t.connect=function(h,_,A,S){Lt(0),this.W=h,this.H=_||{},A&&S!==void 0&&(this.H.OSID=A,this.H.OAID=S),this.F=this.X,this.I=sd(this,null,this.W),hi(this)};function dn(h){if(Ca(h),h.G==3){var _=h.U++,A=nr(h.I);if(ft(A,"SID",h.K),ft(A,"RID",_),ft(A,"TYPE","terminate"),Fi(h,A),_=new Vr(h,h.j,_),_.L=2,_.v=ms(nr(A)),A=!1,l.navigator&&l.navigator.sendBeacon)try{A=l.navigator.sendBeacon(_.v.toString(),"")}catch{}!A&&l.Image&&(new Image().src=_.v,A=!0),A||(_.g=od(_.j,null),_.g.ea(_.v)),_.F=Date.now(),pt(_)}id(h)}function Wr(h){h.g&&(nl(h),h.g.cancel(),h.g=null)}function Ca(h){Wr(h),h.u&&(l.clearTimeout(h.u),h.u=null),Na(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&l.clearTimeout(h.s),h.s=null)}function hi(h){if(!tr(h.h)&&!h.s){h.s=!0;var _=h.Ga;K||R(),ie||(K(),ie=!0),Ie.add(_,h),h.B=0}}function Kf(h,_){return $c(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Fr(b(h.Ga,h,_),rd(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new Vr(this,this.j,h);let oe=this.o;if(this.S&&(oe?(oe=x(oe),j(oe,this.S)):oe=this.S),this.m!==null||this.O||(Q.H=oe,oe=null),this.P)e:{for(var _=0,A=0;A<this.i.length;A++){t:{var S=this.i[A];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,4096<_){_=A;break e}if(_===4096||A===this.i.length-1){_=A+1;break e}}_=1e3}else _=1e3;_=_s(this,Q,_),A=nr(this.I),ft(A,"RID",h),ft(A,"CVER",22),this.D&&ft(A,"X-HTTP-Session-Id",this.D),Fi(this,A),oe&&(this.O?_="headers="+encodeURIComponent(String(Mi(oe)))+"&"+_:this.m&&Es(A,this.m,oe)),Qu(this.h,Q),this.Ua&&ft(A,"TYPE","init"),this.P?(ft(A,"$req",_),ft(A,"SID","null"),Q.T=!0,Ta(Q,A,null)):Ta(Q,A,_),this.G=2}}else this.G==3&&(h?Ra(this,h):this.i.length==0||tr(this.h)||Ra(this))};function Ra(h,_){var A;_?A=_.l:A=h.U++;const S=nr(h.I);ft(S,"SID",h.K),ft(S,"RID",A),ft(S,"AID",h.T),Fi(h,S),h.m&&h.o&&Es(S,h.m,h.o),A=new Vr(h,h.j,A,h.B+1),h.m===null&&(A.H=h.o),_&&(h.i=_.D.concat(h.i)),_=_s(h,A,1e3),A.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Qu(h.h,A),Ta(A,S,_)}function Fi(h,_){h.H&&Z(h.H,function(A,S){ft(_,S,A)}),h.l&&hs({},function(A,S){ft(_,S,A)})}function _s(h,_,A){A=Math.min(h.i.length,A);var S=h.l?b(h.l.Na,h.l,h):null;e:{var Q=h.i;let oe=-1;for(;;){const Ae=["count="+A];oe==-1?0<A?(oe=Q[0].g,Ae.push("ofs="+oe)):oe=0:Ae.push("ofs="+oe);let ht=!0;for(let Kt=0;Kt<A;Kt++){let st=Q[Kt].g;const tn=Q[Kt].map;if(st-=oe,0>st)oe=Math.max(0,Q[Kt].g-100),ht=!1;else try{ed(tn,Ae,"req"+st+"_")}catch{S&&S(tn)}}if(ht){S=Ae.join("&");break e}}}return h=h.i.splice(0,A),_.D=h,S}function wo(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;K||R(),ie||(K(),ie=!0),Ie.add(_,h),h.v=0}}function ka(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Fr(b(h.Fa,h),rd(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,nd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Fr(b(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Wr(this),nd(this))};function nl(h){h.A!=null&&(l.clearTimeout(h.A),h.A=null)}function nd(h){h.g=new Vr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=nr(h.qa);ft(_,"RID","rpc"),ft(_,"SID",h.K),ft(_,"AID",h.T),ft(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&ft(_,"TO",h.ja),ft(_,"TYPE","xmlhttp"),Fi(h,_),h.m&&h.o&&Es(_,h.m,h.o),h.L&&(h.g.I=h.L);var A=h.g;h=h.ia,A.L=1,A.v=ms(nr(_)),A.m=null,A.P=!0,Gu(A,h)}t.Za=function(){this.C!=null&&(this.C=null,Wr(this),ka(this),Lt(19))};function Na(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function xa(h,_){var A=null;if(h.g==_){Na(h),nl(h),h.g=null;var S=2}else if(Nn(h.h,_))A=_.D,Yc(h.h,_),S=1;else return;if(h.G!=0){if(_.o)if(S==1){A=_.m?_.m.length:0,_=Date.now()-_.F;var Q=h.B;S=mo(),ge(S,new ga(S,A)),hi(h)}else wo(h);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(S==1&&Kf(h,_)||S==2&&ka(h)))switch(A&&0<A.length&&(_=h.h,_.i=_.i.concat(A)),Q){case 1:Ui(h,5);break;case 4:Ui(h,10);break;case 3:Ui(h,6);break;default:Ui(h,2)}}}function rd(h,_){let A=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(A*=2),A*_}function Ui(h,_){if(h.j.info("Error code "+_),_==2){var A=b(h.fb,h),S=h.Xa;const Q=!S;S=new Di(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bo(S,"https"),ms(S),Q?$f(S.toString(),A):Zc(S.toString(),A)}else Lt(2);h.G=0,h.l&&h.l.sa(_),id(h),Ca(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function id(h){if(h.G=0,h.ka=[],h.l){const _=Gc(h.h);(_.length!=0||h.i.length!=0)&&(U(h.ka,_),U(h.ka,h.i),h.h.i.length=0,F(h.i),h.i.length=0),h.l.ra()}}function sd(h,_,A){var S=A instanceof Di?nr(A):new Di(A);if(S.g!="")_&&(S.g=_+"."+S.g),fs(S,S.s);else{var Q=l.location;S=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var oe=new Di(null);S&&bo(oe,S),_&&(oe.g=_),Q&&fs(oe,Q),A&&(oe.l=A),S=oe}return A=h.D,_=h.ya,A&&_&&ft(S,A,_),ft(S,"VER",h.la),Fi(h,S),S}function od(h,_,A){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new It(new Li({eb:A})):new It(h.pa),_.Ha(h.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rl(){}t=rl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pa(){}Pa.prototype.g=function(h,_){return new xn(h,_)};function xn(h,_){se.call(this),this.g=new tl(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!re(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!re(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new fi(this)}N(xn,se),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){dn(this.g)},xn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.u&&(A={},A.__data__=Mr(h),h=A);_.i.push(new Wc(_.Ya++,h)),_.G==3&&hi(_)},xn.prototype.N=function(){this.g.l=null,delete this.j,dn(this.g),delete this.g,xn.aa.N.call(this)};function ad(h){ai.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const A in _){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}N(ad,ai);function ud(){ma.call(this),this.status=1}N(ud,ma);function fi(h){this.g=h}N(fi,rl),fi.prototype.ua=function(){ge(this.g,"a")},fi.prototype.ta=function(h){ge(this.g,new ad(h))},fi.prototype.sa=function(h){ge(this.g,new ud)},fi.prototype.ra=function(){ge(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,EA=function(){return new Pa},yA=function(){return mo()},gA=ui,Sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,bh=Ea,jc.COMPLETE="complete",mA=jc,pa.EventType=gr,gr.OPEN="a",gr.CLOSE="b",gr.ERROR="c",gr.MESSAGE="d",se.prototype.listen=se.prototype.K,Vl=pa,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,pA=It}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const g1="@firebase/firestore",y1="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new af("@firebase/firestore");function iu(){return ea.logLevel}function Se(t,...e){if(ea.logLevel<=nt.DEBUG){const n=e.map(P0);ea.debug(`Firestore (${xu}): ${t}`,...n)}}function ns(t,...e){if(ea.logLevel<=nt.ERROR){const n=e.map(P0);ea.error(`Firestore (${xu}): ${t}`,...n)}}function Eu(t,...e){if(ea.logLevel<=nt.WARN){const n=e.map(P0);ea.warn(`Firestore (${xu}): ${t}`,...n)}}function P0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_A(t,r,n)}function _A(t,e,n){let r=`FIRESTORE (${xu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ns(r),new Error(r)}function dt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||_A(e,i,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}}class kD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ND{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zi,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},l=d=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?l(d):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zi)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new TA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class xD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new xD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const r=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new E1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new E1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=DD(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function Cg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Je(r,i);{const o=vA(),u=LD(o.encode(_1(t,n)),o.encode(_1(e,n)));return u!==0?u:Je(r,i)}}n+=r>65535?2:1}return Je(t.length,e.length)}function _1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function LD(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Je(t[n],e[n]);return Je(t.length,e.length)}function _u(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=-62135596800,v1=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*v1);return new Zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<T1)throw new ke(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v1}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-T1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new Zt(0,0))}static max(){return new qe(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="__name__";class Ti{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ti.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Je(e.length,n.length)}static compareSegments(e,n){const r=Ti.isNumericId(e),i=Ti.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ti.extractNumericId(e).compare(Ti.extractNumericId(n)):Cg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class bt extends Ti{construct(e,n,r){return new bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const MD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Ti{construct(e,n,r){return new gn(e,n,r)}static isValidIdentifier(e){return MD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b1}static keyField(){return new gn([b1])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ke(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ke(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ke(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else l==="`"?(u=!u,i++):l!=="."||u?(r+=l,i++):(o(),i++)}if(o(),u)throw new ke(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(bt.fromString(e))}static fromName(e){return new Le(bt.fromString(e).popFirst(5))}static empty(){return new Le(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function FD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new Js(i,Le.empty(),e)}function UD(t){return new Js(t.readTime,t.key,hc)}class Js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Js(qe.min(),Le.empty(),hc)}static max(){return new Js(qe.max(),Le.empty(),hc)}}function BD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==VD)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,r)=>{n(e)})}static reject(e){return new de((n,r)=>{r(e)})}static waitFor(e){return new de((n,r)=>{let i=0,o=0,u=!1;e.forEach(l=>{++i,l.next(()=>{++o,u&&o===i&&n()},d=>r(d))}),u=!0,o===i&&n()})}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next(i=>i?de.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new de((r,i)=>{const o=e.length,u=new Array(o);let l=0;for(let d=0;d<o;d++){const p=d;n(e[p]).next(m=>{u[p]=m,++l,l===o&&r(u)},m=>i(m))}})}static doWhile(e,n){return new de((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function HD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ou(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}pf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=-1;function mf(t){return t==null}function zh(t){return t===0&&1/t==-1/0}function zD(t){return typeof t=="number"&&Number.isInteger(t)&&!zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="";function qD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=I1(e)),e=WD(t.get(n),e);return I1(e)}function WD(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case IA:n+="";break;default:n+=o}}return n}function I1(t){return t+IA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??mn.RED,this.left=i??mn.EMPTY,this.right=o??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new mn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w1(this.data.getIterator())}getIteratorFrom(e){return new w1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class w1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new cr([])}unionWith(e){let n=new en(gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _u(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wA("Invalid base64 string: "+o):o}}(e);return new yn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const $D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=$D.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="server_timestamp",CA="__type__",RA="__previous_value__",kA="__local_write_time__";function D0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CA])===null||n===void 0?void 0:n.stringValue)===SA}function gf(t){const e=t.mapValue.fields[RA];return D0(e)?gf(e):e}function fc(t){const e=Zs(t.mapValue.fields[kA].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,r,i,o,u,l,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=p}}const qh="(default)";class pc{constructor(e,n){this.projectId=e,this.database=n||qh}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="__type__",GD="__max__",lh={mapValue:{}},xA="__vector__",Wh="value";function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?D0(t)?4:QD(t)?9007199254740991:KD(t)?10:11:Ve(28295,{value:t})}function Ci(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fc(t).isEqual(fc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Zs(i.timestampValue),l=Zs(o.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return eo(i.bytesValue).isEqual(eo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ut(i.geoPointValue.latitude)===Ut(o.geoPointValue.latitude)&&Ut(i.geoPointValue.longitude)===Ut(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ut(i.integerValue)===Ut(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=Ut(i.doubleValue),l=Ut(o.doubleValue);return u===l?zh(u)===zh(l):isNaN(u)&&isNaN(l)}return!1}(t,e);case 9:return _u(t.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},l=o.mapValue.fields||{};if(A1(u)!==A1(l))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(l[d]===void 0||!Ci(u[d],l[d])))return!1;return!0}(t,e);default:return Ve(52216,{left:t})}}function mc(t,e){return(t.values||[]).find(n=>Ci(n,e))!==void 0}function Tu(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(o,u){const l=Ut(o.integerValue||o.doubleValue),d=Ut(u.integerValue||u.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(t,e);case 3:return S1(t.timestampValue,e.timestampValue);case 4:return S1(fc(t),fc(e));case 5:return Cg(t.stringValue,e.stringValue);case 6:return function(o,u){const l=eo(o),d=eo(u);return l.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const l=o.split("/"),d=u.split("/");for(let p=0;p<l.length&&p<d.length;p++){const m=Je(l[p],d[p]);if(m!==0)return m}return Je(l.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const l=Je(Ut(o.latitude),Ut(u.latitude));return l!==0?l:Je(Ut(o.longitude),Ut(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return C1(t.arrayValue,e.arrayValue);case 10:return function(o,u){var l,d,p,m;const E=o.fields||{},b=u.fields||{},I=(l=E[Wh])===null||l===void 0?void 0:l.arrayValue,N=(d=b[Wh])===null||d===void 0?void 0:d.arrayValue,F=Je(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((m=N==null?void 0:N.values)===null||m===void 0?void 0:m.length)||0);return F!==0?F:C1(I,N)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===lh.mapValue&&u===lh.mapValue)return 0;if(o===lh.mapValue)return 1;if(u===lh.mapValue)return-1;const l=o.fields||{},d=Object.keys(l),p=u.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let E=0;E<d.length&&E<m.length;++E){const b=Cg(d[E],m[E]);if(b!==0)return b;const I=Tu(l[d[E]],p[m[E]]);if(I!==0)return I}return Je(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Ve(23264,{Pe:n})}}function S1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Zs(t),r=Zs(e),i=Je(n.seconds,r.seconds);return i!==0?i:Je(n.nanos,r.nanos)}function C1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Tu(n[i],r[i]);if(o)return o}return Je(n.length,r.length)}function vu(t){return Rg(t)}function Rg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Rg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${Rg(n.fields[u])}`;return i+"}"}(t.mapValue):Ve(61005,{value:t})}function Ih(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(t);return e?16+Ih(e):16;case 5:return 2*t.stringValue.length;case 6:return eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ih(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return lo(r.fields,(o,u)=>{i+=o.length+Ih(u)}),i}(t.mapValue);default:throw Ve(13486,{value:t})}}function R1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kg(t){return!!t&&"integerValue"in t}function L0(t){return!!t&&"arrayValue"in t}function k1(t){return!!t&&"nullValue"in t}function N1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ah(t){return!!t&&"mapValue"in t}function KD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[NA])===null||n===void 0?void 0:n.stringValue)===xA}function Yl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function QD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===GD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=gn.emptyPath(),r={},i=[];e.forEach((u,l)=>{if(!n.isImmediateParentOf(l)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=l.popLast()}u?r[l.lastSegment()]=Yl(u):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ah(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){lo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Qn(Yl(this.value))}}function PA(t){const e=[];return lo(t.fields,(n,r)=>{const i=new gn([n]);if(Ah(r)){const o=PA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,i,o,u,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=l}static newInvalidDocument(e){return new An(e,0,qe.min(),qe.min(),qe.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,i){return new An(e,1,n,qe.min(),r,i,0)}static newNoDocument(e,n){return new An(e,2,n,qe.min(),qe.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,qe.min(),qe.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.position=e,this.inclusive=n}}function x1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],u=t.position[i];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(u.referenceValue),n.key):r=Tu(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function P1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ci(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function XD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{}class $t extends OA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZD(e,n,r):n==="array-contains"?new nL(e,r):n==="in"?new rL(e,r):n==="not-in"?new iL(e,r):n==="array-contains-any"?new sL(e,r):new $t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eL(e,r):new tL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Tu(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(Tu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends OA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ri(e,n)}matches(e){return DA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function DA(t){return t.op==="and"}function LA(t){return JD(t)&&DA(t)}function JD(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function Ng(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+vu(t.value);if(LA(t))return t.filters.map(e=>Ng(e)).join(",");{const e=t.filters.map(n=>Ng(n)).join(",");return`${t.op}(${e})`}}function MA(t,e){return t instanceof $t?function(r,i){return i instanceof $t&&r.op===i.op&&r.field.isEqual(i.field)&&Ci(r.value,i.value)}(t,e):t instanceof ri?function(r,i){return i instanceof ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,l)=>o&&MA(u,i.filters[l]),!0):!1}(t,e):void Ve(19439)}function FA(t){return t instanceof $t?function(n){return`${n.field.canonicalString()} ${n.op} ${vu(n.value)}`}(t):t instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(FA).join(" ,")+"}"}(t):"Filter"}class ZD extends $t{constructor(e,n,r){super(e,n,r),this.key=Le.fromName(r.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class eL extends $t{constructor(e,n){super(e,"in",n),this.keys=UA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tL extends $t{constructor(e,n){super(e,"not-in",n),this.keys=UA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Le.fromName(r.referenceValue))}class nL extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return L0(n)&&mc(n.arrayValue,this.value)}}class rL extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class iL extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class sL extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!L0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n=null,r=[],i=[],o=null,u=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=l,this.Ie=null}}function O1(t,e=null,n=[],r=[],i=null,o=null,u=null){return new oL(t,e,n,r,i,o,u)}function M0(t){const e=We(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ng(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vu(r)).join(",")),e.Ie=n}return e.Ie}function F0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P1(t.startAt,e.startAt)&&P1(t.endAt,e.endAt)}function xg(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n=null,r=[],i=[],o=null,u="F",l=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=l,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function aL(t,e,n,r,i,o,u,l){return new Nc(t,e,n,r,i,o,u,l)}function U0(t){return new Nc(t)}function D1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BA(t){return t.collectionGroup!==null}function Gl(t){const e=We(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let l=new en(gn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(l=l.add(p.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Yh(o,r))}),n.has(gn.keyField().canonicalString())||e.Ee.push(new Yh(gn.keyField(),r))}return e.Ee}function wi(t){const e=We(t);return e.de||(e.de=uL(e,Gl(t))),e.de}function uL(t,e){if(t.limitType==="F")return O1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Yh(i.field,o)});const n=t.endAt?new $h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $h(t.startAt.position,t.startAt.inclusive):null;return O1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pg(t,e){const n=t.filters.concat([e]);return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Og(t,e,n){return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yf(t,e){return F0(wi(t),wi(e))&&t.limitType===e.limitType}function VA(t){return`${M0(wi(t))}|lt:${t.limitType}`}function su(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FA(i)).join(", ")}]`),mf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vu(i)).join(",")),`Target(${r})`}(wi(t))}; limitType=${t.limitType})`}function Ef(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Gl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(u,l,d){const p=x1(u,l,d);return u.inclusive?p<=0:p<0}(r.startAt,Gl(r),i)||r.endAt&&!function(u,l,d){const p=x1(u,l,d);return u.inclusive?p>=0:p>0}(r.endAt,Gl(r),i))}(t,e)}function lL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jA(t){return(e,n)=>{let r=!1;for(const i of Gl(t)){const o=cL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function cL(t,e,n){const r=t.field.isKeyField()?Le.comparator(e.key,n.key):function(o,u,l){const d=u.data.field(o),p=l.data.field(o);return d!==null&&p!==null?Tu(d,p):Ve(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return AA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new xt(Le.comparator);function rs(){return dL}const HA=new xt(Le.comparator);function jl(...t){let e=HA;for(const n of t)e=e.insert(n.key,n);return e}function zA(t){let e=HA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zo(){return Kl()}function qA(){return Kl()}function Kl(){return new oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const hL=new xt(Le.comparator),fL=new en(Le.comparator);function rt(...t){let e=fL;for(const n of t)e=e.add(n);return e}const pL=new en(Je);function mL(){return pL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function WA(t){return{integerValue:""+t}}function gL(t,e){return zD(e)?WA(e):B0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this._=void 0}}function yL(t,e,n){return t instanceof gc?function(i,o){const u={fields:{[CA]:{stringValue:SA},[kA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&D0(o)&&(o=gf(o)),o&&(u.fields[RA]=o),{mapValue:u}}(n,e):t instanceof yc?YA(t,e):t instanceof Ec?GA(t,e):function(i,o){const u=$A(i,o),l=L1(u)+L1(i.Re);return kg(u)&&kg(i.Re)?WA(l):B0(i.serializer,l)}(t,e)}function EL(t,e,n){return t instanceof yc?YA(t,e):t instanceof Ec?GA(t,e):n}function $A(t,e){return t instanceof Gh?function(r){return kg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class gc extends _f{}class yc extends _f{constructor(e){super(),this.elements=e}}function YA(t,e){const n=KA(e);for(const r of t.elements)n.some(i=>Ci(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ec extends _f{constructor(e){super(),this.elements=e}}function GA(t,e){let n=KA(e);for(const r of t.elements)n=n.filter(i=>!Ci(i,r));return{arrayValue:{values:n}}}class Gh extends _f{constructor(e,n){super(),this.serializer=e,this.Re=n}}function L1(t){return Ut(t.integerValue||t.doubleValue)}function KA(t){return L0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.field=e,this.transform=n}}function TL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof yc&&i instanceof yc||r instanceof Ec&&i instanceof Ec?_u(r.elements,i.elements,Ci):r instanceof Gh&&i instanceof Gh?Ci(r.Re,i.Re):r instanceof gc&&i instanceof gc}(t.transform,e.transform)}class vL{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tf{}function QA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new V0(t.key,kr.none()):new xc(t.key,t.data,kr.none());{const n=t.data,r=Qn.empty();let i=new en(gn.comparator);for(let o of e.fields)if(!i.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new co(t.key,r,new cr(i.toArray()),kr.none())}}function bL(t,e,n){t instanceof xc?function(i,o,u){const l=i.value.clone(),d=F1(i.fieldTransforms,o,u.transformResults);l.setAll(d),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(t,e,n):t instanceof co?function(i,o,u){if(!wh(i.precondition,o))return void o.convertToUnknownDocument(u.version);const l=F1(i.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(XA(i)),d.setAll(l),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Ql(t,e,n,r){return t instanceof xc?function(o,u,l,d){if(!wh(o.precondition,u))return l;const p=o.value.clone(),m=U1(o.fieldTransforms,d,u);return p.setAll(m),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(o,u,l,d){if(!wh(o.precondition,u))return l;const p=U1(o.fieldTransforms,d,u),m=u.data;return m.setAll(XA(o)),m.setAll(p),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(E=>E.field))}(t,e,n,r):function(o,u,l){return wh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l}(t,e,n)}function IL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=$A(r.transform,i||null);o!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,o))}return n||null}function M1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_u(r,i,(o,u)=>TL(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xc extends Tf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends Tf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function XA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function F1(t,e,n){const r=new Map;dt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],u=o.transform,l=e.data.field(o.field);r.set(o.field,EL(u,l,n[i]))}return r}function U1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,u=n.data.field(i.field);r.set(i.field,yL(o,u,e))}return r}class V0 extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AL extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&bL(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qA();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let l=this.applyToLocalView(u,o.mutatedFields);l=n.has(i.key)?null:l;const d=QA(u,l);d!==null&&r.set(i.key,d),u.isValidDocument()||u.convertToNoDocument(qe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&_u(this.mutations,e.mutations,(n,r)=>M1(n,r))&&_u(this.baseMutations,e.baseMutations,(n,r)=>M1(n,r))}}class j0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return hL}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new j0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,ot;function RL(t){switch(t){case he.OK:return Ve(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function JA(t){if(t===void 0)return ns("GRPC error has no .code"),he.UNKNOWN;switch(t){case zt.OK:return he.OK;case zt.CANCELLED:return he.CANCELLED;case zt.UNKNOWN:return he.UNKNOWN;case zt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case zt.INTERNAL:return he.INTERNAL;case zt.UNAVAILABLE:return he.UNAVAILABLE;case zt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case zt.NOT_FOUND:return he.NOT_FOUND;case zt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case zt.ABORTED:return he.ABORTED;case zt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case zt.DATA_LOSS:return he.DATA_LOSS;default:return Ve(39323,{code:t})}}(ot=zt||(zt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=new Ks([4294967295,4294967295],0);function B1(t){const e=vA().encode(t),n=new fA;return n.update(e),new Uint8Array(n.digest())}function V1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ks([n,r],0),new Ks([i,o],0)]}class H0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(r<0)throw new Hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ks.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ks.fromNumber(r)));return i.compare(kL)===1&&(i=new Ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=B1(e),[r,i]=V1(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);if(!this.be(u))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new H0(o,i,n);return r.forEach(l=>u.insert(l)),u}insert(e){if(this.pe===0)return;const n=B1(e),[r,i]=V1(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vf(qe.min(),i,new xt(Je),rs(),rt())}}class Pc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pc(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class ZA{constructor(e,n){this.targetId=e,this.Ce=n}}class ew{constructor(e,n,r=yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class j1{constructor(){this.Fe=0,this.Me=H1(),this.xe=yn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=rt(),n=rt(),r=rt();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ve(38017,{changeType:o})}}),new Pc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=H1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class NL{constructor(e){this.ze=e,this.je=new Map,this.He=rs(),this.Je=ch(),this.Ye=ch(),this.Ze=new xt(Je)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(xg(o))if(r===0){const u=new Le(o.path);this.tt(n,u,An.newNoDocument(u,qe.min()))}else dt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const l=this.ct(e),d=l?this.lt(l,e,u):1;if(d!==0){this.st(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let u,l;try{u=eo(r).toUint8Array()}catch(d){if(d instanceof wA)return Eu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new H0(u,i,o)}catch(d){return Eu(d instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const u=this.ze.Pt(),l=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,u)=>{const l=this._t(u);if(l){if(o.current&&xg(l.target)){const d=new Le(l.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,An.newNoDocument(d,e))}o.Le&&(n.set(u,o.qe()),o.Qe())}});let r=rt();this.Ye.forEach((o,u)=>{let l=!0;u.forEachWhile(d=>{const p=this._t(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const i=new vf(e,n,this.Ze,this.He,r);return this.He=rs(),this.Je=ch(),this.Ye=ch(),this.Ze=new xt(Je),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new j1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new en(Je),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new en(Je),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new j1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ch(){return new xt(Le.comparator)}function H1(){return new xt(Le.comparator)}const xL={asc:"ASCENDING",desc:"DESCENDING"},PL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OL={and:"AND",or:"OR"};class DL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dg(t,e){return t.useProto3Json||mf(e)?e:{value:e}}function Kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LL(t,e){return Kh(t,e.toTimestamp())}function Si(t){return dt(!!t,49232),qe.fromTimestamp(function(n){const r=Zs(n);return new Zt(r.seconds,r.nanos)}(t))}function z0(t,e){return Lg(t,e).canonicalString()}function Lg(t,e){const n=function(i){return new bt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nw(t){const e=bt.fromString(t);return dt(aw(e),10190,{key:e.toString()}),e}function Mg(t,e){return z0(t.databaseId,e.path)}function Vm(t,e){const n=nw(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Le(iw(n))}function rw(t,e){return z0(t.databaseId,e)}function ML(t){const e=nw(t);return e.length===4?bt.emptyPath():iw(e)}function Fg(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iw(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function z1(t,e,n){return{name:Mg(t,e),fields:n.value.mapValue.fields}}function FL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ve(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(dt(m===void 0||typeof m=="string",58123),yn.fromBase64String(m||"")):(dt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),yn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,l=u&&function(p){const m=p.code===void 0?he.UNKNOWN:JA(p.code);return new ke(m,p.message||"")}(u);n=new ew(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vm(t,r.document.name),o=Si(r.document.updateTime),u=r.document.createTime?Si(r.document.createTime):qe.min(),l=new Qn({mapValue:{fields:r.document.fields}}),d=An.newFoundDocument(i,o,u,l),p=r.targetIds||[],m=r.removedTargetIds||[];n=new Sh(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vm(t,r.document),o=r.readTime?Si(r.readTime):qe.min(),u=An.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Sh([],l,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vm(t,r.document),o=r.removedTargetIds||[];n=new Sh([],o,i,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new CL(i,o),l=r.targetId;n=new ZA(l,u)}}return n}function UL(t,e){let n;if(e instanceof xc)n={update:z1(t,e.key,e.value)};else if(e instanceof V0)n={delete:Mg(t,e.key)};else if(e instanceof co)n={update:z1(t,e.key,e.data),updateMask:YL(e.fieldMask)};else{if(!(e instanceof AL))return Ve(16599,{ft:e.type});n={verify:Mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const l=u.transform;if(l instanceof gc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof yc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ec)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Gh)return{fieldPath:u.field.canonicalString(),increment:l.Re};throw Ve(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:LL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve(27497)}(t,e.precondition)),n}function BL(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(n=>function(i,o){let u=i.updateTime?Si(i.updateTime):Si(o);return u.isEqual(qe.min())&&(u=Si(o)),new vL(u,i.transformResults||[])}(n,e))):[]}function VL(t,e){return{documents:[rw(t,e.path)]}}function jL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rw(t,i);const o=function(p){if(p.length!==0)return ow(ri.create(p,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(m=>function(b){return{field:ou(b.field),direction:qL(b.dir)}}(m))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const l=Dg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:i}}function HL(t){let e=ML(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(E){const b=sw(E);return b instanceof ri&&LA(b)?b.getFilters():[b]}(n.where));let u=[];n.orderBy&&(u=function(E){return E.map(b=>function(N){return new Yh(au(N.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(b))}(n.orderBy));let l=null;n.limit&&(l=function(E){let b;return b=typeof E=="object"?E.value:E,mf(b)?null:b}(n.limit));let d=null;n.startAt&&(d=function(E){const b=!!E.before,I=E.values||[];return new $h(I,b)}(n.startAt));let p=null;return n.endAt&&(p=function(E){const b=!E.before,I=E.values||[];return new $h(I,b)}(n.endAt)),aL(e,i,u,o,l,"F",d,p)}function zL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=au(n.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=au(n.unaryFilter.field);return $t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=au(n.unaryFilter.field);return $t.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=au(n.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(t):t.fieldFilter!==void 0?function(n){return $t.create(au(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(r=>sw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(n.compositeFilter.op))}(t):Ve(30097,{filter:t})}function qL(t){return xL[t]}function WL(t){return PL[t]}function $L(t){return OL[t]}function ou(t){return{fieldPath:t.canonicalString()}}function au(t){return gn.fromServerFormat(t.fieldPath)}function ow(t){return t instanceof $t?function(n){if(n.op==="=="){if(N1(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NAN"}};if(k1(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N1(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NOT_NAN"}};if(k1(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ou(n.field),op:WL(n.op),value:n.value}}}(t):t instanceof ri?function(n){const r=n.getFilters().map(i=>ow(i));return r.length===1?r[0]:{compositeFilter:{op:$L(n.op),filters:r}}}(t):Ve(54877,{filter:t})}function YL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r,i,o=qe.min(),u=qe.min(),l=yn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.wt=e}}function KL(t){const e=HL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Og(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this.yn=new XL}addToCollectionParentIndex(e,n){return this.yn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Js.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class XL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new en(bt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new en(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uw=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(uw,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new bu(0)}static ir(){return new bu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="LruGarbageCollector",JL=1048576;function $1([t,e],[n,r]){const i=Je(t,n);return i===0?Je(e,r):i}class ZL{constructor(e){this.cr=e,this.buffer=new en($1),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class e6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Se(W1,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ou(n)?Se(W1,"Ignoring IndexedDB error during garbage collection: ",n):await Pu(n)}await this.Ir(3e5)})}}class t6{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return de.resolve(pf.le);const r=new ZL(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(q1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q1):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,u,l,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),i=this.params.maximumSequenceNumbersToCollect):i=E,u=Date.now(),this.nthSequenceNumber(e,i))).next(E=>(r=E,l=Date.now(),this.removeTargets(e,r,n))).next(E=>(o=E,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(p=Date.now(),iu()<=nt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${i} in `+(l-u)+`ms
	Removed ${o} targets in `+(d-l)+`ms
	Removed ${E} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:E})))}}function n6(t,e){return new t6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.changes=new oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ql(r.mutation,i,cr.empty(),Zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){const i=zo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let u=jl();return o.forEach((l,d)=>{u=u.insert(l,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=zo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,l)=>{n.set(u,l)})})}computeViews(e,n,r,i){let o=rs();const u=Kl(),l=function(){return Kl()}();return n.forEach((d,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof co)?o=o.insert(p.key,p):m!==void 0?(u.set(p.key,m.mutation.getFieldMask()),Ql(m.mutation,p,m.mutation.getFieldMask(),Zt.now())):u.set(p.key,cr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((p,m)=>u.set(p,m)),n.forEach((p,m)=>{var E;return l.set(p,new i6(m,(E=u.get(p))!==null&&E!==void 0?E:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Kl();let i=new xt((u,l)=>u-l),o=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const l of u)l.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let m=r.get(d)||cr.empty();m=l.applyToLocalView(p,m),r.set(d,m);const E=(i.get(l.batchId)||rt()).add(d);i=i.insert(l.batchId,E)})}).next(()=>{const u=[],l=i.getReverseIterator();for(;l.hasNext();){const d=l.getNext(),p=d.key,m=d.value,E=qA();m.forEach(b=>{if(!o.has(b)){const I=QA(n.get(b),r.get(b));I!==null&&E.set(b,I),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,E))}return de.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(u){return Le.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):de.resolve(zo());let l=hc,d=o;return u.next(p=>de.forEach(p,(m,E)=>(l<E.largestBatchId&&(l=E.largestBatchId),o.get(m)?de.resolve():this.remoteDocumentCache.getEntry(e,m).next(b=>{d=d.insert(m,b)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,d,p,rt())).next(m=>({batchId:l,changes:zA(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next(r=>{let i=jl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let u=jl();return this.indexManager.getCollectionParents(e,o).next(l=>de.forEach(l,d=>{const p=function(E,b){return new Nc(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((E,b)=>{u=u.insert(E,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(u=>{o.forEach((d,p)=>{const m=p.getKey();u.get(m)===null&&(u=u.insert(m,An.newInvalidDocument(m)))});let l=jl();return u.forEach((d,p)=>{const m=o.get(d);m!==void 0&&Ql(m.mutation,p,cr.empty(),Zt.now()),Ef(n,p)&&(l=l.insert(d,p))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return de.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Si(i.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:KL(i.bundledQuery),readTime:Si(i.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.overlays=new xt(Le.comparator),this.Or=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zo();return de.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),de.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const i=zo(),o=n.length+1,u=new Le(n.child("")),l=this.overlays.getIteratorFrom(u);for(;l.hasNext();){const d=l.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new xt((p,m)=>p-m);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=zo(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const l=zo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>l.set(p,m)),!(l.size()>=i)););return de.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new SL(n,r));let o=this.Or.get(n);o===void 0&&(o=rt(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.Nr=new en(an.Br),this.Lr=new en(an.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new an(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new an(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new Le(new bt([])),r=new an(n,e),i=new an(n,e+1),o=[];return this.Lr.forEachInRange([r,i],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Le(new bt([])),r=new an(n,e),i=new an(n,e+1);let o=rt();return this.Lr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new an(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Le.comparator(e.key,n.key)||Je(e.Gr,n.Gr)}static kr(e,n){return Je(e.Gr,n.Gr)||Le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new en(an.Br)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new wL(o,n,r,i);this.mutationQueue.push(u);for(const l of i)this.zr=this.zr.add(new an(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),o=i<0?0:i;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?O0:this.Jn-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),i=new an(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],u=>{const l=this.jr(u.Gr);o.push(l)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(Je);return n.forEach(i=>{const o=new an(i,0),u=new an(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],l=>{r=r.add(l.Gr)})}),de.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const u=new an(new Le(o),0);let l=new en(Je);return this.zr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(l=l.add(d.Gr)),!0)},u),de.resolve(this.Jr(l))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return de.forEach(n.mutations,i=>{const o=new an(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new an(n,0),i=this.zr.firstAfterOrEqual(r);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.Zr=e,this.docs=function(){return new xt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,u=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let r=rs();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():An.newInvalidDocument(i))}),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=rs();const u=n.path,l=new Le(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||BD(UD(m),r)<=0||(i.has(m.key)||Ef(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ve(9500)}Xr(e,n){return de.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new d6(this)}getSize(e){return de.resolve(this.size)}}class d6 extends r6{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),de.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.persistence=e,this.ei=new oa(n=>M0(n),F0),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.ti=0,this.ni=new q0,this.targetCount=0,this.ri=bu.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),de.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new bu(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.ar(n),de.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ei.forEach((u,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),de.waitFor(o).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),de.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n){this.ii={},this.overlays={},this.si=new pf(0),this.oi=!1,this.oi=!0,this._i=new u6,this.referenceDelegate=e(this),this.ai=new h6(this),this.indexManager=new QL,this.remoteDocumentCache=function(i){return new c6(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new GL(n),this.ci=new o6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new a6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new l6(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new f6(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return de.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class f6 extends jD{constructor(e){super(),this.currentSequenceNumber=e}}class W0{constructor(e){this.persistence=e,this.Ti=new q0,this.Ii=null}static Ei(e){return new W0(e)}get di(){if(this.Ii)return this.Ii;throw Ve(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.di,r=>{const i=Le.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,qe.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return de.or([()=>de.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Qh{constructor(e,n){this.persistence=e,this.Ri=new oa(r=>qD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=n6(this,n)}static Ei(e,n){return new Qh(e,n)}li(){}hi(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return de.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?de.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,u=>this.gr(e,u,n).next(l=>{l||(r++,o.removeEntry(u,qe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),de.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ih(e.data.value)),n}gr(e,n,r){return de.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return de.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=rt(),i=rt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new $0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return SN()?8:HD(wn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Rs(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new p6;return this.fs(e,n,u).next(l=>{if(o.result=l,this.Is)return this.gs(e,n,u,l.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(iu()<=nt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",su(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),de.resolve()):(iu()<=nt.DEBUG&&Se("QueryEngine","Query:",su(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(iu()<=nt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",su(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(n))):de.resolve())}Rs(e,n){if(D1(n))return de.resolve(null);let r=wi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Og(n,null,"F"),r=wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=rt(...o);return this.As.getDocuments(e,u).next(l=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.ps(n,l);return this.ys(n,p,u,d.readTime)?this.Rs(e,Og(n,null,"F")):this.ws(e,p,n,d)}))})))}Vs(e,n,r,i){return D1(n)||i.isEqual(qe.min())?de.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(n,o);return this.ys(n,u,r,i)?de.resolve(null):(iu()<=nt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),su(n)),this.ws(e,u,n,FD(i,hc)).next(l=>l))})}ps(e,n){let r=new en(jA(e));return n.forEach((i,o)=>{Ef(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return iu()<=nt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",su(n)),this.As.getDocumentsMatchingQuery(e,n,Js.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="LocalStore",g6=3e8;class y6{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new xt(Je),this.Ds=new oa(o=>M0(o),F0),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s6(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function E6(t,e,n,r){return new y6(t,e,n,r)}async function cw(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],l=[];let d=rt();for(const p of i){u.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of o){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:l}))})})}function _6(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(l,d,p,m){const E=p.batch,b=E.keys();let I=de.resolve();return b.forEach(N=>{I=I.next(()=>m.getEntry(d,N)).next(F=>{const U=p.docVersions.get(N);dt(U!==null,48541),F.version.compareTo(U)<0&&(E.applyToRemoteDocument(F,p),F.isValidDocument()&&(F.setReadTime(p.commitVersion),m.addEntry(F)))})}),I.next(()=>l.mutationQueue.removeMutationBatch(d,E))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let d=rt();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(d=d.add(l.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dw(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function T6(t,e){const n=We(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const l=[];e.targetChanges.forEach((m,E)=>{const b=i.get(E);if(!b)return;l.push(n.ai.removeMatchingKeys(o,m.removedDocuments,E).next(()=>n.ai.addMatchingKeys(o,m.addedDocuments,E)));let I=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(yn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):m.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(m.resumeToken,r)),i=i.insert(E,I),function(F,U,q){return F.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=g6?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(b,I,m)&&l.push(n.ai.updateTargetData(o,I))});let d=rs(),p=rt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),l.push(v6(o,u,e.documentUpdates).next(m=>{d=m.xs,p=m.Os})),!r.isEqual(qe.min())){const m=n.ai.getLastRemoteSnapshotVersion(o).next(E=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(m)}return de.waitFor(l).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,p)).next(()=>d)}).then(o=>(n.Ss=i,o))}function v6(t,e,n){let r=rt(),i=rt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=rs();return n.forEach((l,d)=>{const p=o.get(l);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(l)),d.isNoDocument()&&d.version.isEqual(qe.min())?(e.removeEntry(l,d.readTime),u=u.insert(l,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(l,d)):Se(Y0,"Ignoring outdated watch update for ",l,". Current version:",p.version," Watch version:",d.version)}),{xs:u,Os:i}})}function b6(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=O0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function I6(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(o=>o?(i=o,de.resolve(i)):n.ai.allocateTargetId(r).next(u=>(i=new qs(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function Ug(t,e,n){const r=We(t),i=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!Ou(u))throw u;Se(Y0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function Y1(t,e,n){const r=We(t);let i=qe.min(),o=rt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,m){const E=We(d),b=E.Ds.get(m);return b!==void 0?de.resolve(E.Ss.get(b)):E.ai.getTargetData(p,m)}(r,u,wi(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,l.targetId).next(d=>{o=d})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,n?i:qe.min(),n?o:rt())).next(l=>(A6(r,lL(e),l),{documents:l,Ns:o})))}function A6(t,e,n){let r=t.vs.get(e)||qe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}class G1{constructor(){this.activeTargetIds=mL()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w6{constructor(){this.So=new G1,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new G1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="ConnectivityMonitor";class Q1{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Se(K1,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Se(K1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function Bg(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="RestConnection",C6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class R6{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===qh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){const u=Bg(),l=this.$o(e,n.toUriEncodedString());Se(jm,`Sending RPC '${e}' ${u}:`,l,r);const d={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(d,i,o),this.Ko(e,l,d,r).then(p=>(Se(jm,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Eu(jm,`RPC '${e}' ${u} failed with error: `,p,"url: ",l,"request:",r),p})}Wo(e,n,r,i,o,u){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){const r=C6[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class N6 extends R6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){const o=Bg();return new Promise((u,l)=>{const d=new pA;d.setWithCredentials(!0),d.listenOnce(mA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case bh.NO_ERROR:const m=d.getResponseJson();Se(bn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),u(m);break;case bh.TIMEOUT:Se(bn,`RPC '${e}' ${o} timed out`),l(new ke(he.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const E=d.getStatus();if(Se(bn,`RPC '${e}' ${o} failed with status:`,E,"response text:",d.getResponseText()),E>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const I=b==null?void 0:b.error;if(I&&I.status&&I.message){const N=function(U){const q=U.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(q)>=0?q:he.UNKNOWN}(I.status);l(new ke(N,I.message))}else l(new ke(he.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new ke(he.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{s_:e,streamId:o,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{Se(bn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);Se(bn,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",p,r,15)})}a_(e,n,r){const i=Bg(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=EA(),l=yA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Uo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=o.join("");Se(bn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const E=u.createWebChannel(m,d);let b=!1,I=!1;const N=new k6({Go:U=>{I?Se(bn,`Not sending because RPC '${e}' stream ${i} is closed:`,U):(b||(Se(bn,`Opening RPC '${e}' stream ${i} transport.`),E.open(),b=!0),Se(bn,`RPC '${e}' stream ${i} sending:`,U),E.send(U))},zo:()=>E.close()}),F=(U,q,re)=>{U.listen(q,$=>{try{re($)}catch(G){setTimeout(()=>{throw G},0)}})};return F(E,Vl.EventType.OPEN,()=>{I||(Se(bn,`RPC '${e}' stream ${i} transport opened.`),N.t_())}),F(E,Vl.EventType.CLOSE,()=>{I||(I=!0,Se(bn,`RPC '${e}' stream ${i} transport closed`),N.r_())}),F(E,Vl.EventType.ERROR,U=>{I||(I=!0,Eu(bn,`RPC '${e}' stream ${i} transport errored. Name:`,U.name,"Message:",U.message),N.r_(new ke(he.UNAVAILABLE,"The operation could not be completed")))}),F(E,Vl.EventType.MESSAGE,U=>{var q;if(!I){const re=U.data[0];dt(!!re,16349);const $=re,G=($==null?void 0:$.error)||((q=$[0])===null||q===void 0?void 0:q.error);if(G){Se(bn,`RPC '${e}' stream ${i} received error:`,G);const _e=G.status;let Z=function(M){const j=zt[M];if(j!==void 0)return JA(j)}(_e),H=G.message;Z===void 0&&(Z=he.INTERNAL,H="Unknown error status: "+_e+" with message "+G.message),I=!0,N.r_(new ke(Z,H)),E.close()}else Se(bn,`RPC '${e}' stream ${i} received:`,re),N.i_(re)}}),F(l,gA.STAT_EVENT,U=>{U.stat===Sg.PROXY?Se(bn,`RPC '${e}' stream ${i} detected buffering proxy`):U.stat===Sg.NOPROXY&&Se(bn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.n_()},0),N}}function Hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){return new DL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="PersistentStream";class fw{constructor(e,n,r,i,o,u,l,d){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new hw(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ns(n.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new ke(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Se(X1,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Se(X1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x6 extends fw{constructor(e,n,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=FL(this.serializer,e),r=function(o){if(!("targetChange"in o))return qe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?qe.min():u.readTime?Si(u.readTime):qe.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=Fg(this.serializer),n.addTarget=function(o,u){let l;const d=u.target;if(l=xg(d)?{documents:VL(o,d)}:{query:jL(o,d).gt},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=tw(o,u.resumeToken);const p=Dg(o,u.expectedCount);p!==null&&(l.expectedCount=p)}else if(u.snapshotVersion.compareTo(qe.min())>0){l.readTime=Kh(o,u.snapshotVersion.toTimestamp());const p=Dg(o,u.expectedCount);p!==null&&(l.expectedCount=p)}return l}(this.serializer,e);const r=zL(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=Fg(this.serializer),n.removeTarget=e,this.F_(n)}}class P6 extends fw{constructor(e,n,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=BL(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=Fg(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UL(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{}class D6 extends O6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new ke(he.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,Lg(n,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(he.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Wo(e,Lg(n,r),i,u,l,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ke(he.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class L6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ns(n),this.ea=!1):Se("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class M6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{aa(this)&&(Se(ta,"Restarting streams for network reachability change."),await async function(d){const p=We(d);p.aa.add(4),await Oc(p),p.la.set("Unknown"),p.aa.delete(4),await If(p)}(this))})}),this.la=new L6(r,i)}}async function If(t){if(aa(t))for(const e of t.ua)await e(!0)}async function Oc(t){for(const e of t.ua)await e(!1)}function pw(t,e){const n=We(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),X0(n)?Q0(n):Du(n).b_()&&K0(n,e))}function G0(t,e){const n=We(t),r=Du(n);n._a.delete(e),r.b_()&&mw(n,e),n._a.size===0&&(r.b_()?r.v_():aa(n)&&n.la.set("Unknown"))}function K0(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Du(t).U_(e)}function mw(t,e){t.ha.Ke(e),Du(t).K_(e)}function Q0(t){t.ha=new NL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Du(t).start(),t.la.ta()}function X0(t){return aa(t)&&!Du(t).w_()&&t._a.size>0}function aa(t){return We(t).aa.size===0}function gw(t){t.ha=void 0}async function F6(t){t.la.set("Online")}async function U6(t){t._a.forEach((e,n)=>{K0(t,e)})}async function B6(t,e){gw(t),X0(t)?(t.la.ia(e),Q0(t)):t.la.set("Unknown")}async function V6(t,e,n){if(t.la.set("Online"),e instanceof ew&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const l of o.targetIds)i._a.has(l)&&(await i.remoteSyncer.rejectListen(l,u),i._a.delete(l),i.ha.removeTarget(l))}(t,e)}catch(r){Se(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xh(t,r)}else if(e instanceof Sh?t.ha.Xe(e):e instanceof ZA?t.ha.ot(e):t.ha.nt(e),!n.isEqual(qe.min()))try{const r=await dw(t.localStore);n.compareTo(r)>=0&&await function(o,u){const l=o.ha.It(u);return l.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=o._a.get(p);m&&o._a.set(p,m.withResumeToken(d.resumeToken,u))}}),l.targetMismatches.forEach((d,p)=>{const m=o._a.get(d);if(!m)return;o._a.set(d,m.withResumeToken(yn.EMPTY_BYTE_STRING,m.snapshotVersion)),mw(o,d);const E=new qs(m.target,d,p,m.sequenceNumber);K0(o,E)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Se(ta,"Failed to raise snapshot:",r),await Xh(t,r)}}async function Xh(t,e,n){if(!Ou(e))throw e;t.aa.add(1),await Oc(t),t.la.set("Offline"),n||(n=()=>dw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se(ta,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await If(t)})}function yw(t,e){return e().catch(n=>Xh(t,n,e))}async function Af(t){const e=We(t),n=no(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:O0;for(;j6(e);)try{const i=await b6(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,H6(e,i)}catch(i){await Xh(e,i)}Ew(e)&&_w(e)}function j6(t){return aa(t)&&t.oa.length<10}function H6(t,e){t.oa.push(e);const n=no(t);n.b_()&&n.W_&&n.G_(e.mutations)}function Ew(t){return aa(t)&&!no(t).w_()&&t.oa.length>0}function _w(t){no(t).start()}async function z6(t){no(t).H_()}async function q6(t){const e=no(t);for(const n of t.oa)e.G_(n.mutations)}async function W6(t,e,n){const r=t.oa.shift(),i=j0.from(r,e,n);await yw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Af(t)}async function $6(t,e){e&&no(t).W_&&await async function(r,i){if(function(u){return RL(u)&&u!==he.ABORTED}(i.code)){const o=r.oa.shift();no(r).D_(),await yw(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Af(r)}}(t,e),Ew(t)&&_w(t)}async function J1(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Se(ta,"RemoteStore received new credentials");const r=aa(n);n.aa.add(3),await Oc(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await If(n)}async function Y6(t,e){const n=We(t);e?(n.aa.delete(2),await If(n)):e||(n.aa.add(2),await Oc(n),n.la.set("Unknown"))}function Du(t){return t.Pa||(t.Pa=function(n,r,i){const o=We(n);return o.Y_(),new x6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:F6.bind(null,t),Jo:U6.bind(null,t),Zo:B6.bind(null,t),Q_:V6.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),X0(t)?Q0(t):t.la.set("Unknown")):(await t.Pa.stop(),gw(t))})),t.Pa}function no(t){return t.Ta||(t.Ta=function(n,r,i){const o=We(n);return o.Y_(),new P6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:z6.bind(null,t),Zo:$6.bind(null,t),z_:q6.bind(null,t),j_:W6.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Af(t)):(await t.Ta.stop(),t.oa.length>0&&(Se(ta,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const u=Date.now()+r,l=new J0(e,n,u,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z0(t,e){if(ns("AsyncQueue",`${e}: ${t}`),Ou(t))return new ke(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{static emptySet(e){return new pu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Le.comparator(n.key,r.key):(n,r)=>Le.comparator(n.key,r.key),this.keyedMap=jl(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.Ia=new xt(Le.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Ve(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Iu{constructor(e,n,r,i,o,u,l,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,o){const u=[];return n.forEach(l=>{u.push({type:0,doc:l})}),new Iu(e,n,pu.emptySet(n),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class K6{constructor(){this.queries=ev(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=We(n),o=i.queries;i.queries=ev(),o.forEach((u,l)=>{for(const d of l.Ra)d.onError(r)})})(this,new ke(he.ABORTED,"Firestore shutting down"))}}function ev(){return new oa(t=>VA(t),yf)}async function Tw(t,e){const n=We(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new G6,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await n.onListen(i,!0);break;case 1:o.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const l=Z0(u,`Initialization of query '${su(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&ey(n)}async function vw(t,e){const n=We(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Q6(t,e){const n=We(t);let r=!1;for(const i of e){const o=i.query,u=n.queries.get(o);if(u){for(const l of u.Ra)l.pa(i)&&(r=!0);u.Aa=i}}r&&ey(n)}function X6(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const o of i.Ra)o.onError(n);r.queries.delete(e)}function ey(t){t.fa.forEach(e=>{e.next()})}var Vg,tv;(tv=Vg||(Vg={})).ya="default",tv.Cache="cache";class bw{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.key=e}}class Aw{constructor(e){this.key=e}}class J6{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=rt(),this.mutatedKeys=rt(),this.Ua=jA(e),this.Ka=new pu(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new Z1,i=n?n.Ka:this.Ka;let o=n?n.mutatedKeys:this.mutatedKeys,u=i,l=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,E)=>{const b=i.get(m),I=Ef(this.query,E)?E:null,N=!!b&&this.mutatedKeys.has(b.key),F=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let U=!1;b&&I?b.data.isEqual(I.data)?N!==F&&(r.track({type:3,doc:I}),U=!0):this.ja(b,I)||(r.track({type:2,doc:I}),U=!0,(d&&this.Ua(I,d)>0||p&&this.Ua(I,p)<0)&&(l=!0)):!b&&I?(r.track({type:0,doc:I}),U=!0):b&&!I&&(r.track({type:1,doc:b}),U=!0,(d||p)&&(l=!0)),U&&(I?(u=u.add(I),o=F?o.add(m):o.delete(m)):(u=u.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Ka:u,za:r,ys:l,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((m,E)=>function(I,N){const F=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:U})}};return F(I)-F(N)}(m.type,E.type)||this.Ua(m.doc,E.doc)),this.Ha(r),i=i!=null&&i;const l=n&&!i?this.Ja():[],d=this.$a.size===0&&this.current&&!i?1:0,p=d!==this.Qa;return this.Qa=d,u.length!==0||p?{snapshot:new Iu(this.query,e.Ka,o,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:l}:{Ya:l}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Z1,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=rt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new Aw(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new Iw(r))}),n}Xa(e){this.qa=e.Ns,this.$a=rt();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Iu.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const ty="SyncEngine";class Z6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class e4{constructor(e){this.key=e,this.tu=!1}}class t4{constructor(e,n,r,i,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new oa(l=>VA(l),yf),this.iu=new Map,this.su=new Set,this.ou=new xt(Le.comparator),this._u=new Map,this.au=new q0,this.uu={},this.cu=new Map,this.lu=bu.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function n4(t,e,n=!0){const r=Nw(t);let i;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=await ww(r,e,n,!0),i}async function r4(t,e){const n=Nw(t);await ww(n,e,!0,!1)}async function ww(t,e,n,r){const i=await I6(t.localStore,wi(e)),o=i.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await i4(t,e,o,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&pw(t.remoteStore,i),l}async function i4(t,e,n,r,i){t.Pu=(E,b,I)=>async function(F,U,q,re){let $=U.view.Ga(q);$.ys&&($=await Y1(F.localStore,U.query,!1).then(({documents:H})=>U.view.Ga(H,$)));const G=re&&re.targetChanges.get(U.targetId),_e=re&&re.targetMismatches.get(U.targetId)!=null,Z=U.view.applyChanges($,F.isPrimaryClient,G,_e);return rv(F,U.targetId,Z.Ya),Z.snapshot}(t,E,b,I);const o=await Y1(t.localStore,e,!0),u=new J6(e,o.Ns),l=u.Ga(o.documents),d=Pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=u.applyChanges(l,t.isPrimaryClient,d);rv(t,n,p.Ya);const m=new Z6(e,n,u);return t.ru.set(e,m),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),p.snapshot}async function s4(t,e,n){const r=We(t),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(u=>!yf(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ug(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&G0(r.remoteStore,i.targetId),jg(r,i.targetId)}).catch(Pu)):(jg(r,i.targetId),await Ug(r.localStore,i.targetId,!0))}async function o4(t,e){const n=We(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),G0(n.remoteStore,r.targetId))}async function a4(t,e,n){const r=p4(t);try{const i=await function(u,l){const d=We(u),p=Zt.now(),m=l.reduce((I,N)=>I.add(N.key),rt());let E,b;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let N=rs(),F=rt();return d.Cs.getEntries(I,m).next(U=>{N=U,N.forEach((q,re)=>{re.isValidDocument()||(F=F.add(q))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,N)).next(U=>{E=U;const q=[];for(const re of l){const $=IL(re,E.get(re.key).overlayedDocument);$!=null&&q.push(new co(re.key,$,PA($.value.mapValue),kr.exists(!0)))}return d.mutationQueue.addMutationBatch(I,p,q,l)}).next(U=>{b=U;const q=U.applyToLocalDocumentSet(E,F);return d.documentOverlayCache.saveOverlays(I,U.batchId,q)})}).then(()=>({batchId:b.batchId,changes:zA(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,l,d){let p=u.uu[u.currentUser.toKey()];p||(p=new xt(Je)),p=p.insert(l,d),u.uu[u.currentUser.toKey()]=p}(r,i.batchId,n),await Dc(r,i.changes),await Af(r.remoteStore)}catch(i){const o=Z0(i,"Failed to persist write");n.reject(o)}}async function Sw(t,e){const n=We(t);try{const r=await T6(n.localStore,e);e.targetChanges.forEach((i,o)=>{const u=n._u.get(o);u&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.tu=!0:i.modifiedDocuments.size>0?dt(u.tu,14607):i.removedDocuments.size>0&&(dt(u.tu,42227),u.tu=!1))}),await Dc(n,r,e)}catch(r){await Pu(r)}}function nv(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((o,u)=>{const l=u.view.ga(e);l.snapshot&&i.push(l.snapshot)}),function(u,l){const d=We(u);d.onlineState=l;let p=!1;d.queries.forEach((m,E)=>{for(const b of E.Ra)b.ga(l)&&(p=!0)}),p&&ey(d)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function u4(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),o=i&&i.key;if(o){let u=new xt(Le.comparator);u=u.insert(o,An.newNoDocument(o,qe.min()));const l=rt().add(o),d=new vf(qe.min(),new Map,new xt(Je),u,l);await Sw(r,d),r.ou=r.ou.remove(o),r._u.delete(e),ny(r)}else await Ug(r.localStore,e,!1).then(()=>jg(r,e,n)).catch(Pu)}async function l4(t,e){const n=We(t),r=e.batch.batchId;try{const i=await _6(n.localStore,e);Rw(n,r,null),Cw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dc(n,i)}catch(i){await Pu(i)}}async function c4(t,e,n){const r=We(t);try{const i=await function(u,l){const d=We(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,l).next(E=>(dt(E!==null,37113),m=E.keys(),d.mutationQueue.removeMutationBatch(p,E))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(r.localStore,e);Rw(r,e,n),Cw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Dc(r,i)}catch(i){await Pu(i)}}function Cw(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function Rw(t,e,n){const r=We(t);let i=r.uu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||kw(t,r)})}function kw(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(G0(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),ny(t))}function rv(t,e,n){for(const r of n)r instanceof Iw?(t.au.addReference(r.key,e),d4(t,r)):r instanceof Aw?(Se(ty,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||kw(t,r.key)):Ve(19791,{Iu:r})}function d4(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(Se(ty,"New document in limbo: "+n),t.su.add(r),ny(t))}function ny(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Le(bt.fromString(e)),r=t.lu.next();t._u.set(r,new e4(n)),t.ou=t.ou.insert(n,r),pw(t.remoteStore,new qs(wi(U0(n.path)),r,"TargetPurposeLimboResolution",pf.le))}}async function Dc(t,e,n){const r=We(t),i=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((l,d)=>{u.push(r.Pu(d,e,n).then(p=>{var m;if((p||n)&&r.isPrimaryClient){const E=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,E?"current":"not-current")}if(p){i.push(p);const E=$0.Ps(d.targetId,p);o.push(E)}}))}),await Promise.all(u),r.nu.Q_(i),await async function(d,p){const m=We(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>de.forEach(p,b=>de.forEach(b.ls,I=>m.persistence.referenceDelegate.addReference(E,b.targetId,I)).next(()=>de.forEach(b.hs,I=>m.persistence.referenceDelegate.removeReference(E,b.targetId,I)))))}catch(E){if(!Ou(E))throw E;Se(Y0,"Failed to update sequence numbers: "+E)}for(const E of p){const b=E.targetId;if(!E.fromCache){const I=m.Ss.get(b),N=I.snapshotVersion,F=I.withLastLimboFreeSnapshotVersion(N);m.Ss=m.Ss.insert(b,F)}}}(r.localStore,o))}async function h4(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Se(ty,"User change. New user:",e.toKey());const r=await cw(n.localStore,e);n.currentUser=e,function(o,u){o.cu.forEach(l=>{l.forEach(d=>{d.reject(new ke(he.CANCELLED,u))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dc(n,r.Ms)}}function f4(t,e){const n=We(t),r=n._u.get(e);if(r&&r.tu)return rt().add(r.key);{let i=rt();const o=n.iu.get(e);if(!o)return i;for(const u of o){const l=n.ru.get(u);i=i.unionWith(l.view.Wa)}return i}}function Nw(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u4.bind(null,e),e.nu.Q_=Q6.bind(null,e.eventManager),e.nu.Tu=X6.bind(null,e.eventManager),e}function p4(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c4.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return E6(this.persistence,new m6,e.initialUser,this.serializer)}Ru(e){return new lw(W0.Ei,this.serializer)}Au(e){return new w6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class m4 extends Jh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){dt(this.persistence.referenceDelegate instanceof Qh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new e6(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new lw(r=>Qh.Ei(r,n),this.serializer)}}class Hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=h4.bind(null,this.syncEngine),await Y6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new K6}()}createDatastore(e){const n=bf(e.databaseInfo.databaseId),r=function(o){return new N6(o)}(e.databaseInfo);return function(o,u,l,d){return new D6(o,u,l,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,u,l){return new M6(r,i,o,u,l)}(this.localStore,this.datastore,e.asyncQueue,n=>nv(this.syncEngine,n,0),function(){return Q1.C()?new Q1:new S6}())}createSyncEngine(e,n){return function(i,o,u,l,d,p,m){const E=new t4(i,o,u,l,d,p);return m&&(E.hu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=We(i);Se(ta,"RemoteStore shutting down."),o.aa.add(5),await Oc(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hg.provider={build:()=>new Hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class g4{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=In.UNAUTHENTICATED,this.clientId=bA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Se(ro,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Se(ro,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Z0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zm(t,e){t.asyncQueue.verifyOperationInProgress(),Se(ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function iv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y4(t);Se(ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>J1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>J1(e.remoteStore,i)),t._onlineComponents=e}async function y4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(ro,"Using user provided OfflineComponentProvider");try{await zm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Eu("Error using user provided cache. Falling back to memory cache: "+n),await zm(t,new Jh)}}else Se(ro,"Using default OfflineComponentProvider"),await zm(t,new m4(void 0));return t._offlineComponents}async function Pw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(ro,"Using user provided OnlineComponentProvider"),await iv(t,t._uninitializedComponentsProvider._online)):(Se(ro,"Using default OnlineComponentProvider"),await iv(t,new Hg))),t._onlineComponents}function E4(t){return Pw(t).then(e=>e.syncEngine)}async function Ow(t){const e=await Pw(t),n=e.eventManager;return n.onListen=n4.bind(null,e.syncEngine),n.onUnlisten=s4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=r4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=o4.bind(null,e.syncEngine),n}function _4(t,e,n={}){const r=new Zi;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,l,d,p){const m=new xw({next:b=>{m.yu(),u.enqueueAndForget(()=>vw(o,E));const I=b.docs.has(l);!I&&b.fromCache?p.reject(new ke(he.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&b.fromCache&&d&&d.source==="server"?p.reject(new ke(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),E=new bw(U0(l.path),m,{includeMetadataChanges:!0,Fa:!0});return Tw(o,E)}(await Ow(t),t.asyncQueue,e,n,r)),r.promise}function T4(t,e,n={}){const r=new Zi;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,l,d,p){const m=new xw({next:b=>{m.yu(),u.enqueueAndForget(()=>vw(o,E)),b.fromCache&&d.source==="server"?p.reject(new ke(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),E=new bw(l,m,{includeMetadataChanges:!0,Fa:!0});return Tw(o,E)}(await Ow(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t,e,n){if(!n)throw new ke(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v4(t,e,n,r){if(e===!0&&r===!0)throw new ke(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ov(t){if(!Le.isDocumentKey(t))throw new ke(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function av(t){if(Le.isDocumentKey(t))throw new ke(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function ii(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wf(t);throw new ke(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="firestore.googleapis.com",uv=!0;class lv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mw,this.ssl=uv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:uv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JL)throw new ke(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ke(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ke(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ke(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RD;switch(r.type){case"firstParty":return new PD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sv.get(n);r&&(Se("ComponentProvider","Removing Datastore"),sv.delete(n),r.terminate())}(this),Promise.resolve()}}function b4(t,e,n,r={}){var i;const o=(t=ii(t,Sf))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o.host!==Mw&&o.host!==l&&Eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:l,ssl:!1,emulatorOptions:r});if(!Xs(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=In.MOCK_USER;else{p=nI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new ke(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new In(E)}t._authCredentials=new kD(new TA(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lu(this.firestore,e,this._query)}}class Ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class Qs extends Lu{constructor(e,n,r){super(e,n,U0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new Le(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function ry(t,e,...n){if(t=Nt(t),Lw("collection","path",e),t instanceof Sf){const r=bt.fromString(e,...n);return av(r),new Qs(t,null,r)}{if(!(t instanceof Ln||t instanceof Qs))throw new ke(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return av(r),new Qs(t.firestore,null,r)}}function _c(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=bA.newId()),Lw("doc","path",e),t instanceof Sf){const r=bt.fromString(e,...n);return ov(r),new Ln(t,null,new Le(r))}{if(!(t instanceof Ln||t instanceof Qs))throw new ke(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return ov(r),new Ln(t.firestore,t instanceof Qs?t.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="AsyncQueue";class dv{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new hw(this,"async_queue_retry"),this.ju=()=>{const r=Hm();r&&Se(cv,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Zi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ou(e))throw e;Se(cv,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,ns("INTERNAL UNHANDLED ERROR: ",hv(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=J0.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&Ve(47125,{ec:hv(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function hv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ua extends Sf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new dv,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dv(e),this._firestoreClient=void 0,await e}}}function I4(t,e){const n=typeof t=="object"?t:uf(),r=typeof t=="string"?t:qh,i=so(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Zb("firestore");o&&b4(i,...o)}return i}function iy(t){if(t._terminated)throw new ke(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||A4(t),t._firestoreClient}function A4(t){var e,n,r;const i=t._freezeSettings(),o=function(l,d,p,m){return new YD(l,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Dw(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new g4(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const d=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Au(yn.fromBase64String(e))}catch(n){throw new ke(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Au(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=/^__.*__$/;class S4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}class Fw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Uw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{oc:t})}}class ay{constructor(e,n,r,i,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Zh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Uw(this.oc)&&w4.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class C4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bf(e)}dc(e,n,r,i=!1){return new ay({oc:e,methodName:n,Ec:r,path:gn.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kf(t){const e=t._freezeSettings(),n=bf(t._databaseId);return new C4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Bw(t,e,n,r,i,o={}){const u=t.dc(o.merge||o.mergeFields?2:0,e,n,i);ly("Data must be an object, but it was:",u,r);const l=Vw(r,u);let d,p;if(o.merge)d=new cr(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const m=[];for(const E of o.mergeFields){const b=zg(e,E,n);if(!u.contains(b))throw new ke(he.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Hw(m,b)||m.push(b)}d=new cr(m),p=u.fieldTransforms.filter(E=>d.covers(E.field))}else d=null,p=u.fieldTransforms;return new S4(new Qn(l),d,p)}class Nf extends Rf{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}class uy extends Rf{_toFieldTransform(e){return new _L(e.path,new gc)}isEqual(e){return e instanceof uy}}function R4(t,e,n,r){const i=t.dc(1,e,n);ly("Data must be an object, but it was:",i,r);const o=[],u=Qn.empty();lo(r,(d,p)=>{const m=cy(e,d,n);p=Nt(p);const E=i.hc(m);if(p instanceof Nf)o.push(m);else{const b=Lc(p,E);b!=null&&(o.push(m),u.set(m,b))}});const l=new cr(o);return new Fw(u,l,i.fieldTransforms)}function k4(t,e,n,r,i,o){const u=t.dc(1,e,n),l=[zg(e,r,n)],d=[i];if(o.length%2!=0)throw new ke(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)l.push(zg(e,o[b])),d.push(o[b+1]);const p=[],m=Qn.empty();for(let b=l.length-1;b>=0;--b)if(!Hw(p,l[b])){const I=l[b];let N=d[b];N=Nt(N);const F=u.hc(I);if(N instanceof Nf)p.push(I);else{const U=Lc(N,F);U!=null&&(p.push(I),m.set(I,U))}}const E=new cr(p);return new Fw(m,E,u.fieldTransforms)}function N4(t,e,n,r=!1){return Lc(n,t.dc(r?4:3,e))}function Lc(t,e){if(jw(t=Nt(t)))return ly("Unsupported field value:",e,t),Vw(t,e);if(t instanceof Rf)return function(r,i){if(!Uw(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const l of r){let d=Lc(l,i.Pc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Zt.fromDate(r);return{timestampValue:Kh(i.serializer,o)}}if(r instanceof Zt){const o=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(i.serializer,o)}}if(r instanceof sy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Au)return{bytesValue:tw(i.serializer,r._byteString)};if(r instanceof Ln){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:z0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof oy)return function(u,l){return{mapValue:{fields:{[NA]:{stringValue:xA},[Wh]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw l.Tc("VectorValues must only contain numeric values.");return B0(l.serializer,p)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${wf(r)}`)}(t,e)}function Vw(t,e){const n={};return AA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,(r,i)=>{const o=Lc(i,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function jw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof sy||t instanceof Au||t instanceof Ln||t instanceof Rf||t instanceof oy)}function ly(t,e,n){if(!jw(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=wf(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function zg(t,e,n){if((e=Nt(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return cy(t,e);throw Zh("Field path arguments must be of type string or ",t,!1,void 0,n)}const x4=new RegExp("[~\\*/\\[\\]]");function cy(t,e,n){if(e.search(x4)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cf(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zh(t,e,n,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${i}`),d+=")"),new ke(he.INVALID_ARGUMENT,l+t+d)}function Hw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P4 extends zw{data(){return super.data()}}function dy(t,e){return typeof e=="string"?cy(t,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hy{}class D4 extends hy{}function L4(t,e,...n){let r=[];e instanceof hy&&r.push(e),r=r.concat(n),function(o){const u=o.filter(d=>d instanceof fy).length,l=o.filter(d=>d instanceof xf).length;if(u>1||u>0&&l>0)throw new ke(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class xf extends D4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xf(e,n,r)}_apply(e){const n=this._parse(e);return qw(e._query,n),new Lu(e.firestore,e.converter,Pg(e._query,n))}_parse(e){const n=kf(e.firestore);return function(o,u,l,d,p,m,E){let b;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ke(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){pv(E,m);const N=[];for(const F of E)N.push(fv(d,o,F));b={arrayValue:{values:N}}}else b=fv(d,o,E)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||pv(E,m),b=N4(l,u,E,m==="in"||m==="not-in");return $t.create(p,m,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function M4(t,e,n){const r=e,i=dy("where",t);return xf._create(i,r,n)}class fy extends hy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let u=i;const l=o.getFlattenedFilters();for(const d of l)qw(u,d),u=Pg(u,d)}(e._query,n),new Lu(e.firestore,e.converter,Pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fv(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new ke(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BA(e)&&n.indexOf("/")!==-1)throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bt.fromString(n));if(!Le.isDocumentKey(r))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return R1(t,new Le(r))}if(n instanceof Ln)return R1(t,n._key);throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(n)}.`)}function pv(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qw(t,e){const n=function(i,o){for(const u of i)for(const l of u.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ke(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class F4{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Wh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>Ut(u.doubleValue));return new oy(o)}convertGeoPoint(e){return new sy(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bt.fromString(e);dt(aw(r),9688,{name:e});const i=new pc(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return i.isEqual(n)||ns(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $w extends zw{constructor(e,n,r,i,o,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ch extends $w{data(e={}){return super.data(e)}}class U4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ch(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(l=>{const d=new Ch(i._firestore,i._userDataWriter,l.doc.key,l.doc,new zl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const d=new Ch(i._firestore,i._userDataWriter,l.doc.key,l.doc,new zl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return l.type!==0&&(p=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(u=u.add(l.doc),m=u.indexOf(l.doc.key)),{type:B4(l.type),doc:d,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function B4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){t=ii(t,Ln);const e=ii(t.firestore,ua);return _4(iy(e),t._key).then(n=>W4(e,t,n))}class Yw extends F4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Au(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function Gw(t){t=ii(t,Lu);const e=ii(t.firestore,ua),n=iy(e),r=new Yw(e);return O4(t._query),T4(n,t._query).then(i=>new U4(e,r,t,i))}function j4(t,e,n){t=ii(t,Ln);const r=ii(t.firestore,ua),i=Ww(t.converter,e);return Pf(r,[Bw(kf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,kr.none())])}function H4(t,e,n,...r){t=ii(t,Ln);const i=ii(t.firestore,ua),o=kf(i);let u;return u=typeof(e=Nt(e))=="string"||e instanceof Cf?k4(o,"updateDoc",t._key,e,n,r):R4(o,"updateDoc",t._key,e),Pf(i,[u.toMutation(t._key,kr.exists(!0))])}function z4(t){return Pf(ii(t.firestore,ua),[new V0(t._key,kr.none())])}function q4(t,e){const n=ii(t.firestore,ua),r=_c(t),i=Ww(t.converter,e);return Pf(n,[Bw(kf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}function Pf(t,e){return function(r,i){const o=new Zi;return r.asyncQueue.enqueueAndForget(async()=>a4(await E4(r),i,o)),o.promise}(iy(t),e)}function W4(t,e,n){const r=n.docs.get(e._key),i=new Yw(t);return new $w(t,i,e._key,r,new zl(n.hasPendingWrites,n.fromCache),e.converter)}function $4(){return new uy("serverTimestamp")}(function(e,n=!0){(function(i){xu=i})(sa),ni(new Nr("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),l=new ua(new ND(r.getProvider("auth-internal")),new OD(u,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ke(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(p.options.projectId,m)}(u,i),u);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Xn(g1,y1,e),Xn(g1,y1,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="firebasestorage.googleapis.com",Qw="storageBucket",Y4=2*60*1e3,G4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt extends Pr{constructor(e,n,r=0){super(qm(e),`Firebase Storage: ${n} (${qm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ot;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ot||(Ot={}));function qm(t){return"storage/"+t}function py(){const t="An unknown error occurred, please check the error payload for server response.";return new Dt(Ot.UNKNOWN,t)}function K4(t){return new Dt(Ot.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Q4(t){return new Dt(Ot.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function X4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Dt(Ot.UNAUTHENTICATED,t)}function J4(){return new Dt(Ot.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Z4(t){return new Dt(Ot.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function eM(){return new Dt(Ot.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tM(){return new Dt(Ot.CANCELED,"User canceled the upload/download.")}function nM(t){return new Dt(Ot.INVALID_URL,"Invalid URL '"+t+"'.")}function rM(t){return new Dt(Ot.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function iM(){return new Dt(Ot.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Qw+"' property when initializing the app?")}function sM(){return new Dt(Ot.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oM(){return new Dt(Ot.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aM(t){return new Dt(Ot.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qg(t){return new Dt(Ot.INVALID_ARGUMENT,t)}function Xw(){return new Dt(Ot.APP_DELETED,"The Firebase app was deleted.")}function uM(t){return new Dt(Ot.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xl(t,e){return new Dt(Ot.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xl(t){throw new Dt(Ot.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=dr.makeFromUrl(e,n)}catch{return new dr(e,"")}if(r.path==="")return r;throw rM(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const u="(/(.*))?$",l=new RegExp("^gs://"+i+u,"i"),d={bucket:1,path:3};function p(G){G.path_=decodeURIComponent(G.path)}const m="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",I=new RegExp(`^https?://${E}/${m}/b/${i}/o${b}`,"i"),N={bucket:1,path:3},F=n===Kw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",q=new RegExp(`^https?://${F}/${i}/${U}`,"i"),$=[{regex:l,indices:d,postModify:o},{regex:I,indices:N,postModify:p},{regex:q,indices:{bucket:1,path:2},postModify:p}];for(let G=0;G<$.length;G++){const _e=$[G],Z=_e.regex.exec(e);if(Z){const H=Z[_e.indices.bucket];let x=Z[_e.indices.path];x||(x=""),r=new dr(H,x),_e.postModify(r);break}}if(r==null)throw nM(e);return r}}class lM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t,e,n){let r=1,i=null,o=null,u=!1,l=0;function d(){return l===2}let p=!1;function m(...U){p||(p=!0,e.apply(null,U))}function E(U){i=setTimeout(()=>{i=null,t(I,d())},U)}function b(){o&&clearTimeout(o)}function I(U,...q){if(p){b();return}if(U){b(),m.call(null,U,...q);return}if(d()||u){b(),m.call(null,U,...q);return}r<64&&(r*=2);let $;l===1?(l=2,$=0):$=(r+Math.random())*1e3,E($)}let N=!1;function F(U){N||(N=!0,b(),!p&&(i!==null?(U||(l=2),clearTimeout(i),E(0)):U||(l=1)))}return E(0),o=setTimeout(()=>{u=!0,F(!0)},n),F}function dM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){return t!==void 0}function fM(t){return typeof t=="object"&&!Array.isArray(t)}function my(t){return typeof t=="string"||t instanceof String}function mv(t){return gy()&&t instanceof Blob}function gy(){return typeof Blob<"u"}function gv(t,e,n,r){if(r<e)throw qg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw qg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Jw(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var $o;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($o||($o={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n,r,i,o,u,l,d,p,m,E,b=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=l,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=E,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,N)=>{this.resolve_=I,this.reject_=N,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new hh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=l=>{const d=l.loaded,p=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const l=o.getErrorCode()===$o.NO_ERROR,d=o.getStatus();if(!l||pM(d,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===$o.ABORT;r(!1,new hh(!1,null,m));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new hh(p,o))})},n=(r,i)=>{const o=this.resolve_,u=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(l,l.getResponse());hM(d)?o(d):o()}catch(d){u(d)}else if(l!==null){const d=py();d.serverResponse=l.getErrorText(),this.errorCallback_?u(this.errorCallback_(l,d)):u(d)}else if(i.canceled){const d=this.appDelete_?Xw():tM();u(d)}else{const d=eM();u(d)}};this.canceled_?n(!1,new hh(!1,null,!0)):this.backoffId_=cM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function gM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _M(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function TM(t,e,n,r,i,o,u=!0){const l=Jw(t.urlParams),d=t.url+l,p=Object.assign({},t.headers);return EM(p,e),gM(p,n),yM(p,o),_M(p,r),new mM(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bM(...t){const e=vM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(gy())return new Blob(t);throw new Dt(Ot.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t){if(typeof atob>"u")throw aM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wm{constructor(e,n){this.data=e,this.contentType=n||null}}function wM(t,e){switch(t){case Ii.RAW:return new Wm(Zw(e));case Ii.BASE64:case Ii.BASE64URL:return new Wm(eS(t,e));case Ii.DATA_URL:return new Wm(CM(e),RM(e))}throw py()}function Zw(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=t.charCodeAt(++n);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function SM(t){let e;try{e=decodeURIComponent(t)}catch{throw Xl(Ii.DATA_URL,"Malformed data URL.")}return Zw(e)}function eS(t,e){switch(t){case Ii.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Xl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ii.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Xl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=AM(e)}catch(i){throw i.message.includes("polyfill")?i:Xl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class tS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xl(Ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=kM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function CM(t){const e=new tS(t);return e.base64?eS(Ii.BASE64,e.rest):SM(e.rest)}function RM(t){return new tS(t).contentType}function kM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){let r=0,i="";mv(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(mv(this.data_)){const r=this.data_,i=IM(r,e,n);return i===null?null:new Hs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Hs(r,!0)}}static getBlob(...e){if(gy()){const n=e.map(r=>r instanceof Hs?r.data_:r);return new Hs(bM.apply(null,n))}else{const n=e.map(u=>my(u)?wM(Ii.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(u=>{for(let l=0;l<u.length;l++)i[o++]=u[l]}),new Hs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t){let e;try{e=JSON.parse(t)}catch{return null}return fM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function rS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t,e){return e}class Dn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||PM}}let fh=null;function OM(t){return!my(t)||t.length<2?t:rS(t)}function iS(){if(fh)return fh;const t=[];t.push(new Dn("bucket")),t.push(new Dn("generation")),t.push(new Dn("metageneration")),t.push(new Dn("name","fullPath",!0));function e(o,u){return OM(u)}const n=new Dn("name");n.xform=e,t.push(n);function r(o,u){return u!==void 0?Number(u):u}const i=new Dn("size");return i.xform=r,t.push(i),t.push(new Dn("timeCreated")),t.push(new Dn("updated")),t.push(new Dn("md5Hash",null,!0)),t.push(new Dn("cacheControl",null,!0)),t.push(new Dn("contentDisposition",null,!0)),t.push(new Dn("contentEncoding",null,!0)),t.push(new Dn("contentLanguage",null,!0)),t.push(new Dn("contentType",null,!0)),t.push(new Dn("metadata","customMetadata",!0)),fh=t,fh}function DM(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new dr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function LM(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const u=n[o];r[u.local]=u.xform(r,e[u.server])}return DM(r,t),r}function sS(t,e,n){const r=nS(e);return r===null?null:LM(t,r,n)}function MM(t,e,n,r){const i=nS(e);if(i===null||!my(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(p=>{const m=t.bucket,E=t.fullPath,b="/b/"+u(m)+"/o/"+u(E),I=yy(b,n,r),N=Jw({alt:"media",token:p});return I+N})[0]}function FM(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class oS{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){if(!t)throw py()}function UM(t,e){function n(r,i){const o=sS(t,i,e);return aS(o!==null),o}return n}function BM(t,e){function n(r,i){const o=sS(t,i,e);return aS(o!==null),MM(o,i,t.host,t._protocol)}return n}function uS(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=J4():i=X4():n.getStatus()===402?i=Q4(t.bucket):n.getStatus()===403?i=Z4(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function VM(t){const e=uS(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=K4(t.path)),o.serverResponse=i.serverResponse,o}return n}function jM(t,e,n){const r=e.fullServerUrl(),i=yy(r,t.host,t._protocol),o="GET",u=t.maxOperationRetryTime,l=new oS(i,o,BM(t,n),u);return l.errorHandler=VM(e),l}function HM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function zM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=HM(null,e)),r}function qM(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function l(){let $="";for(let G=0;G<2;G++)$=$+Math.random().toString().slice(2);return $}const d=l();u["Content-Type"]="multipart/related; boundary="+d;const p=zM(e,r,i),m=FM(p,n),E="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+d+"--",I=Hs.getBlob(E,r,b);if(I===null)throw sM();const N={name:p.fullPath},F=yy(o,t.host,t._protocol),U="POST",q=t.maxUploadRetryTime,re=new oS(F,U,UM(t,n),q);return re.urlParams=N,re.headers=u,re.body=I.uploadData(),re.errorHandler=uS(e),re}class WM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$o.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$o.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$o.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw xl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $M extends WM{initXhr(){this.xhr_.responseType="text"}}function lS(){return new $M}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this._service=e,n instanceof dr?this._location=n:this._location=dr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new na(e,n)}get root(){const e=new dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rS(this._location.path)}get storage(){return this._service}get parent(){const e=NM(this._location.path);if(e===null)return null;const n=new dr(this._location.bucket,e);return new na(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uM(e)}}function YM(t,e,n){t._throwIfRoot("uploadBytes");const r=qM(t.storage,t._location,iS(),new Hs(e,!0),n);return t.storage.makeRequestWithTokens(r,lS).then(i=>({metadata:i,ref:t}))}function GM(t){t._throwIfRoot("getDownloadURL");const e=jM(t.storage,t._location,iS());return t.storage.makeRequestWithTokens(e,lS).then(n=>{if(n===null)throw oM();return n})}function KM(t,e){const n=xM(t._location.path,e),r=new dr(t._location.bucket,n);return new na(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){return/^[A-Za-z]+:\/\//.test(t)}function XM(t,e){return new na(t,e)}function cS(t,e){if(t instanceof Ey){const n=t;if(n._bucket==null)throw iM();const r=new na(n,n._bucket);return e!=null?cS(r,e):r}else return e!==void 0?KM(t,e):t}function JM(t,e){if(e&&QM(e)){if(t instanceof Ey)return XM(t,e);throw qg("To use ref(service, url), the first argument must be a Storage instance.")}else return cS(t,e)}function yv(t,e){const n=e==null?void 0:e[Qw];return n==null?null:dr.makeFromBucketSpec(n,t)}function ZM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:nI(i,t.app.options.projectId))}class Ey{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Kw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Y4,this._maxUploadRetryTime=G4,this._requests=new Set,i!=null?this._bucket=dr.makeFromBucketSpec(i,this._host):this._bucket=yv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=dr.makeFromBucketSpec(this._url,e):this._bucket=yv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new na(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new lM(Xw());{const u=TM(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Ev="@firebase/storage",_v="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="storage";function eF(t,e,n){return t=Nt(t),YM(t,e,n)}function tF(t){return t=Nt(t),GM(t)}function nF(t,e){return t=Nt(t),JM(t,e)}function rF(t=uf(),e){t=Nt(t);const r=so(t,dS).getImmediate({identifier:e}),i=Zb("storage");return i&&iF(r,...i),r}function iF(t,e,n,r={}){ZM(t,e,n,r)}function sF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ey(n,r,i,e,sa)}function oF(){ni(new Nr(dS,sF,"PUBLIC").setMultipleInstances(!0)),Xn(Ev,_v,""),Xn(Ev,_v,"esm2017")}oF();const aF={apiKey:"AIzaSyDhdfarzymyr-UCwASM8nrVsz3EC8iQGZQ",authDomain:"tangledoak-8d36f.firebaseapp.com",projectId:"tangledoak-8d36f",storageBucket:"tangledoak-8d36f.firebasestorage.app",messagingSenderId:"144819822531",appId:"1:144819822531:web:108d19707a17aa5827e776",measurementId:"G-J5LX00LFE4"},Of=lI(aF);AD(Of);const Tc=s3(Of),Yo=I4(Of),uF=rF(Of),lF=()=>{const[t,e]=ce.useState(""),[n,r]=ce.useState(""),[i,o]=ce.useState(""),[u,l]=ce.useState(""),[d,p]=ce.useState(!1),m=ra(),E=async I=>{I.preventDefault(),o(""),l(""),p(!0);try{(await(await WP(Tc,t,n)).user.getIdTokenResult()).claims.role==="vendor"?(o("Login successful! Redirecting to your dashboard..."),setTimeout(()=>m("/vendor-dashboard"),1e3)):l("Your account has not been approved as a vendor yet.")}catch(N){console.error(N),l("Invalid login. Please check your email and password.")}finally{p(!1)}},b=async()=>{o(""),l("");const I=new Gi;try{(await(await pO(Tc,I)).user.getIdTokenResult()).claims.role==="vendor"?(o("Login successful! Redirecting to your dashboard..."),setTimeout(()=>m("/vendor-dashboard"),1e3)):l("Your account has not been approved as a vendor yet.")}catch(N){console.error(N),l("Google sign-in failed. Please try again.")}};return v.jsxs("div",{className:"login-container",children:[v.jsx("img",{src:"/logo.svg",alt:"Tangled Oak logo",style:{width:"60px",margin:"0 auto 1rem"}}),v.jsx("h2",{className:"login-title",children:"Vendor Login"}),v.jsx("p",{className:"login-subtitle",children:"Access your Tangled Oak dashboard"}),v.jsxs("form",{onSubmit:E,className:"login-form",children:[v.jsx("input",{type:"email",placeholder:"Email",className:"login-input",value:t,onChange:I=>e(I.target.value),required:!0}),v.jsx("input",{type:"password",placeholder:"Password",className:"login-input",value:n,onChange:I=>r(I.target.value),required:!0}),v.jsx("button",{type:"submit",disabled:d,className:`login-button ${d?"login-button-disabled":""}`,children:d?"Logging in...":"Login"})]}),v.jsx("button",{onClick:b,className:"login-button",style:{marginTop:"1rem"},children:"Sign in with Google"}),i&&v.jsx("p",{style:{color:"#4A3F35",marginTop:"1rem"},children:i}),u&&v.jsx("p",{className:"error-message",children:u}),v.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#4A3F35"},children:["Dont have a vendor account?"," ",v.jsx(Jt,{to:"/vendor-register",style:{color:"#C98B6A",fontWeight:"bold"},children:"Register here"})]})]})},cF=()=>{const[t,e]=ce.useState(""),[n,r]=ce.useState(""),[i,o]=ce.useState(""),[u,l]=ce.useState(""),[d,p]=ce.useState(""),[m,E]=ce.useState(!1),b=ra(),I=async N=>{N.preventDefault(),l(""),p(""),E(!0);try{const U=(await qP(Tc,t,n)).user;await j4(_c(Yo,"vendorRequests",U.uid),{uid:U.uid,email:t,businessName:i,approved:!1,createdAt:new Date}),p("Registration successful! Awaiting admin approval."),setTimeout(()=>b("/vendor-login"),2e3)}catch(F){console.error(F),l("Registration failed. Try a different email or check your password.")}finally{E(!1)}};return v.jsxs("div",{className:"login-container",children:[v.jsx("img",{src:"/logo.svg",alt:"Tangled Oak logo",style:{width:"60px",margin:"0 auto 1rem"}}),v.jsx("h2",{className:"login-title",children:"Vendor Registration"}),v.jsx("p",{className:"login-subtitle",children:"Apply for a vendor account"}),v.jsxs("form",{onSubmit:I,className:"login-form",children:[v.jsx("input",{type:"text",placeholder:"Business Name",className:"login-input",value:i,onChange:N=>o(N.target.value),required:!0}),v.jsx("input",{type:"email",placeholder:"Email",className:"login-input",value:t,onChange:N=>e(N.target.value),required:!0}),v.jsx("input",{type:"password",placeholder:"Password",className:"login-input",value:n,onChange:N=>r(N.target.value),required:!0}),v.jsx("button",{type:"submit",disabled:m,className:`login-button ${m?"login-button-disabled":""}`,children:m?"Registering...":"Register"})]}),d&&v.jsx("p",{style:{color:"#4A3F35",marginTop:"1rem"},children:d}),u&&v.jsx("p",{className:"error-message",children:u}),v.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#4A3F35"},children:["Already have a vendor account?"," ",v.jsx(Jt,{to:"/vendor-login",style:{color:"#C98B6A",fontWeight:"bold"},children:"Login here"})]})]})},dF=()=>{const[t,e]=ce.useState([]),[n,r]=ce.useState(!0),[i,o]=ce.useState(""),u=async()=>{r(!0);try{const m=(await Gw(ry(Yo,"vendorRequests"))).docs.map(E=>({id:E.id,...E.data()}));e(m)}catch(p){console.error("Error fetching vendor requests:",p)}r(!1)},l=async p=>{try{await H4(_c(Yo,"vendorRequests",p.id),{approved:!0}),(await fetch("/approveVendor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:p.id})})).ok?o(`Approved ${p.businessName}`):o(`Failed to approve ${p.businessName}`),await u()}catch(m){console.error("Approval error:",m)}},d=async p=>{try{await z4(_c(Yo,"vendorRequests",p)),o("Rejected vendor registration."),await u()}catch(m){console.error("Error deleting vendor request:",m)}};return ce.useEffect(()=>{u()},[]),v.jsxs("div",{className:"admin-container",style:{padding:"2rem"},children:[v.jsx("h2",{children:"Pending Vendor Requests"}),i&&v.jsx("p",{style:{color:"#4A3F35"},children:i}),n?v.jsx("p",{children:"Loading..."}):t.length===0?v.jsx("p",{children:"No pending vendor requests."}):v.jsx("ul",{style:{listStyle:"none",padding:0},children:t.map(p=>v.jsxs("li",{style:{borderBottom:"1px solid #ccc",padding:"1rem 0"},children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Business:"})," ",p.businessName]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email:"})," ",p.email]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Approved:"})," ",p.approved?"Yes":"No"]}),!p.approved&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>l(p),style:{marginRight:"1rem"},children:"Approve"}),v.jsx("button",{onClick:()=>d(p.id),style:{color:"red"},children:"Reject"})]})]},p.id))})]})},pn=[];for(let t=0;t<256;++t)pn.push((t+256).toString(16).slice(1));function hF(t,e=0){return(pn[t[e+0]]+pn[t[e+1]]+pn[t[e+2]]+pn[t[e+3]]+"-"+pn[t[e+4]]+pn[t[e+5]]+"-"+pn[t[e+6]]+pn[t[e+7]]+"-"+pn[t[e+8]]+pn[t[e+9]]+"-"+pn[t[e+10]]+pn[t[e+11]]+pn[t[e+12]]+pn[t[e+13]]+pn[t[e+14]]+pn[t[e+15]]).toLowerCase()}let $m;const fF=new Uint8Array(16);function pF(){if(!$m){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$m=crypto.getRandomValues.bind(crypto)}return $m(fF)}const mF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Tv={randomUUID:mF};function gF(t,e,n){var i;if(Tv.randomUUID&&!t)return Tv.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??pF();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,hF(r)}const yF=()=>{const[t,e]=ce.useState(""),[n,r]=ce.useState(""),[i,o]=ce.useState("product"),[u,l]=ce.useState(""),[d,p]=ce.useState(!1),[m,E]=ce.useState(""),[b,I]=ce.useState(null),[N,F]=ce.useState(""),[U,q]=ce.useState(""),re=ra(),$=async G=>{if(G.preventDefault(),F(""),q(""),!t||!n||!m||!u&&!d){F("Please fill in all required fields.");return}try{let _e="";if(b){const Z=nF(uF,`listings/${gF()}`);await eF(Z,b),_e=await tF(Z)}await q4(ry(Yo,"listings"),{title:t,description:n,type:i,price:d?null:Number(u),trade:d,location:m,imageUrl:_e,createdAt:$4()}),q("Listing submitted! Redirecting..."),setTimeout(()=>re("/home"),1200)}catch(_e){console.error(_e),F("Failed to create listing.")}};return v.jsxs("div",{className:"form-container",children:[v.jsx("h2",{className:"login-title",children:"Create a New Listing"}),v.jsx("p",{className:"login-subtitle",children:"Showcase your handmade product or trade supplies"}),v.jsxs("form",{onSubmit:$,className:"listing-form",children:[v.jsx("input",{type:"text",placeholder:"Title",value:t,onChange:G=>e(G.target.value),required:!0}),v.jsx("textarea",{placeholder:"Description",value:n,onChange:G=>r(G.target.value),required:!0}),v.jsxs("select",{value:i,onChange:G=>o(G.target.value),children:[v.jsx("option",{value:"product",children:"Product"}),v.jsx("option",{value:"supply",children:"Supply"})]}),v.jsx("input",{type:"number",placeholder:"Price (optional if trading)",value:u,onChange:G=>l(G.target.value)}),v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[v.jsx("input",{type:"checkbox",checked:d,onChange:G=>p(G.target.checked)}),"Open to Trade"]}),v.jsx("input",{type:"text",placeholder:"Location (City, Province)",value:m,onChange:G=>E(G.target.value),required:!0}),v.jsx("input",{type:"file",accept:"image/*",onChange:G=>I(G.target.files[0])}),N&&v.jsx("p",{className:"error-message",children:N}),U&&v.jsx("p",{style:{color:"#4A3F35",marginTop:"1rem"},children:U}),v.jsx("button",{type:"submit",className:"login-button",children:"Submit Listing"})]})]})},EF=()=>{const[t,e]=ce.useState([]),[n,r]=ce.useState(null),[i,o]=ce.useState(!0);return ce.useEffect(()=>{const u=GP(Tc,async l=>{if(l){r(l.uid);const d=L4(ry(Yo,"listings"),M4("userId","==",l.uid)),m=(await Gw(d)).docs.map(E=>({id:E.id,...E.data()}));e(m),o(!1)}});return()=>u()},[]),i?v.jsx("p",{children:"Loading your listings..."}):v.jsxs("div",{className:"home-container",children:[v.jsx("h2",{className:"home-title",children:"My Listings"}),t.length===0?v.jsx("p",{className:"home-subtitle",children:"You havent added anything yet."}):v.jsx("div",{className:"home-grid",children:t.map(u=>v.jsxs(Jt,{to:`/listing/${u.id}`,className:"card",children:[u.imageUrl&&v.jsx("img",{src:u.imageUrl,alt:u.title,style:{width:"100%",height:"160px",objectFit:"cover",borderRadius:"0.5rem",marginBottom:"0.75rem"}}),v.jsx("h3",{children:u.title}),v.jsx("p",{style:{fontSize:"0.9rem",color:"#6B5F52"},children:u.price!==null?`$${u.price.toFixed(2)}`:"Trade Only"})]},u.id))})]})},_F=()=>{const{id:t}=h0(),e=ra(),[n,r]=ce.useState(null),[i,o]=ce.useState("");return ce.useEffect(()=>{(async()=>{try{const l=_c(Yo,"listings",t),d=await V4(l);d.exists()?r(d.data()):o("Listing not found.")}catch(l){console.error(l),o("Failed to fetch listing.")}})()},[t]),i?v.jsx("p",{className:"error-message",children:i}):n?v.jsxs("div",{className:"form-container",children:[v.jsx("button",{className:"logout-button",onClick:()=>e(-1),children:" Back"}),v.jsx("h2",{className:"login-title",children:n.title}),n.imageUrl&&v.jsx("img",{src:n.imageUrl,alt:n.title,style:{maxWidth:"100%",borderRadius:"1rem",margin:"1rem 0",boxShadow:"0 4px 12px rgba(0,0,0,0.05)"}}),v.jsx("p",{style:{marginBottom:"1rem"},children:n.description}),v.jsxs("p",{children:[v.jsx("strong",{children:"Type:"})," ",n.type==="supply"?"Supply":"Product"]}),n.price!==null&&v.jsxs("p",{children:[v.jsx("strong",{children:"Price:"})," $",n.price.toFixed(2)]}),n.trade&&v.jsxs("p",{children:[v.jsx("strong",{children:"Open to Trade"})," "]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Location:"})," ",n.location]})]}):v.jsx("p",{children:"Loading..."})},TF=()=>v.jsxs("div",{className:"confirmation-page",children:[v.jsx("h1",{children:" Thank You!"}),v.jsx("p",{children:"Your order has been placed successfully."}),v.jsx("p",{children:"We'll reach out when it's ready for pickup or shipment."}),v.jsx("a",{href:"/shop",className:"button",style:{marginTop:"1rem"},children:"Back to Shop"})]}),Wg=[{id:"crochet-face-scrubbies",title:"Crochet Face Scrubbies  A Quick & Easy Pattern",date:"2025-04-30",summary:"Learn how to make reusable, eco-friendly crochet face scrubbies in just a few rows. Perfect for gifts or self-care.",content:`
          Looking for an eco-friendly, handmade touch to your skincare routine? These reusable crochet face scrubbies are soft, durable, and perfect for gifting or daily use. They're quick to make and beginner-friendly.
      ![Crochet Scrubbies](public/views/images/scrubbiesPattern.jpg)
          **Supplies:**
          - Yarn: Bernat Handicrafter or Lily Sugarn Cream (cotton yarn)
          - Hook: 5 mm (U.S. H-8) crochet hook
          - Scissors
          - Tapestry needle
      
          **Stitches Used:**
          - ch  chain
          - sc  single crochet
          - Puff Stitch  Yarn over, insert hook and pull up a loop. Repeat 3 more times (4 loops total). Yarn over and pull through all loops. Chain 1 to close.
          - MC  Magic Circle (or chain 6 and slip stitch to form a ring)
      
          **Pattern:**
          Row 1: Magic Circle, work 10 sc into the circle. Slip stitch to first sc.  
          Row 2: Ch 2, puff stitch in same stitch and in each stitch around. (20 sts)  
          Row 3: Ch 2, puff stitch in each stitch around. Slip stitch to join. (40 sts)  
          Row 4: Ch 1, sc in each stitch around. Slip stitch to join.
      
          **Finishing:**  
          Fasten off and weave in the ends. Pull the magic circle tight to close. These scrubbies can be machine washed and reused endlessly.
      ![Crochet Scrubbies](public/views/images/scrubbies.jpg)
        `},{id:"mothers-day-gift-ideas",title:"Mother's Day Gift Ideas for Every Kind of Mom",date:"2025-05-01",summary:"Thoughtful handmade gift ideas perfect for moms, grandmas, aunts, or anyone you call family.",content:`
Mothers Day is a chance to show just how much the moms in our lives mean to us. Whether shes the one who raised you, a grandmother who always has your back, or an aunt whos more like a best friend, The Tangled Oak + Craft Collective has handmade gifts that speak directly to the heart. Here are some of our favorite gift ideas  all made by talented local vendors you can feel good about supporting.

1. For the Jewelry-Loving Mom  
If sparkle and statement pieces are her thing, our shop has no shortage of stunning options:  
- Cosmically Connected creates one-of-a-kind wire-wrapped gemstone pendants.  
- Ocean Soul Clay crafts vibrant polymer clay earrings in earthy and playful palettes.  
- Candy Dandy Crafts blends Indigenous beadwork with colorful, bold styles that make everyday feel special.  
- Spoons & Stuff by Christine turns vintage silverware into beautiful, story-rich jewelry.

 Browse Jewelry Collection: https://the-tangled-oak-craft-collective.square.site/shop/jewelry/2

2. For the Cozy and Creative Mom  
Celebrate her love of comfort and craftsmanship with beautifully handmade wearables and textiles:  
- Top to Toe Knits offers soft, cozy sweaters for those who live in layers.  
- Knit with Love by Carol makes knit shawls and a wide variety of hats.  
- Knits by Marsha Ann specializes in crochet handbags and towel toppers that hang right from the stove.

 Shop Clothing & Accessories: https://the-tangled-oak-craft-collective.square.site/shop/clothing--wearables/5

3. For the Homebody or Self-Care Queen  
Help her unwind with an at-home spa experience:  
- Soap & Seed makes skin-loving soaps, hand creams, sugar scrubs, and body sprays.  
- Old Soul Soap Company offers artisan soaps, body sprays, and fizzy bath bombs.  
- She Keeps Bees adds warmth with beeswax candles and soothing beeswax lip balms.

 Pamper Her  Bath & Body: https://the-tangled-oak-craft-collective.square.site/shop/bath--body/3

4. For the Foodie Mom  
A gift from the kitchen is always sweet  especially when its local:  
- Cheese and Stuffs curates delicious jam towers that pair beautifully with cheese boards.  
- Sleeping Giant Biscotti delivers crunchy, flavorful treats that are perfect with morning coffee.  
- She Keeps Bees brings natural sweetness with local honey in giftable glass jars.

 Explore Pantry + Snacks: https://the-tangled-oak-craft-collective.square.site/shop/pantry--snacks/17

5. For the Nature-Loving or Spiritually-Minded Mom  
Crystals, earthy textures, and handmade decor for her peaceful place:  
- A&S Crystals offers stone towers, raw gems, and thoughtful crystal bundles.  
- Spoons & Stuff by Christine makes radiant crystal suncatchers that reflect light and energy.  
- Tags & Tropics captures Northern beauty in their 8x10 prints and photo cards.  
- Mos Craftworks designs intricate paper shadow boxes with nature-inspired depth.

 See Crystals + Healing: https://the-tangled-oak-craft-collective.square.site/shop/crystals--healing/14

No matter who youre shopping for, theres something meaningful waiting here.  
Every item at The Tangled Oak is crafted with care and intention  just like the women were celebrating this Mothers Day.

 Visit Our Full Shop: https://the-tangled-oak-craft-collective.square.site/
    `}],vF=()=>{const t={"@context":"https://schema.org","@type":"Blog",name:"The Tangled Oak + Craft Collective Blog",url:"https://tangledoak.ca/blog",description:"A handmade marketplace blog featuring gift guides, maker stories, and seasonal inspiration.",publisher:{"@type":"Organization",name:"The Tangled Oak + Craft Collective"},blogPost:Wg.map(e=>({"@type":"BlogPosting",headline:e.title,datePublished:e.date,url:`https://tangledoak.ca/blog/${e.id}`,description:e.summary,author:{"@type":"Organization",name:"The Tangled Oak + Craft Collective"}}))};return v.jsxs("div",{className:"context-box",children:[v.jsxs(Ko,{children:[v.jsx("title",{children:"The Tangled Oak Blog | Craft Collective Stories"}),v.jsx("meta",{name:"description",content:"Discover handmade gift guides, behind-the-scenes artisan stories, and seasonal inspiration on The Tangled Oak + Craft Collective blog."}),v.jsx("script",{type:"application/ld+json",children:JSON.stringify(t)})]}),v.jsx("h1",{children:"Our Blog"}),Wg.map(e=>v.jsxs("div",{className:"soft-box",style:{marginBottom:"1.5rem"},children:[v.jsx("h2",{children:e.title}),v.jsx("p",{children:v.jsx("em",{children:new Date(e.date).toLocaleDateString()})}),v.jsx("p",{children:e.summary}),v.jsx(Jt,{to:`/blog/${e.id}`,className:"button",children:"Read More"})]},e.id))]})};function vv(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const u=n.slice(i,r).trim();(u||!o)&&e.push(u),i=r+1,r=n.indexOf(",",i)}return e}function hS(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const bF=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,IF=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,AF={};function bv(t,e){return(AF.jsx?IF:bF).test(t)}const wF=/[ \t\n\f\r]/g;function SF(t){return typeof t=="object"?t.type==="text"?Iv(t.value):!1:Iv(t)}function Iv(t){return t.replace(wF,"")===""}let Mc=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Mc.prototype.normal={};Mc.prototype.property={};Mc.prototype.space=void 0;function fS(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Mc(n,r,e)}function vc(t){return t.toLowerCase()}let er=class{constructor(e,n){this.attribute=n,this.property=e}};er.prototype.attribute="";er.prototype.booleanish=!1;er.prototype.boolean=!1;er.prototype.commaOrSpaceSeparated=!1;er.prototype.commaSeparated=!1;er.prototype.defined=!1;er.prototype.mustUseProperty=!1;er.prototype.number=!1;er.prototype.overloadedBoolean=!1;er.prototype.property="";er.prototype.spaceSeparated=!1;er.prototype.space=void 0;let CF=0;const Ye=la(),qt=la(),pS=la(),Te=la(),gt=la(),mu=la(),ur=la();function la(){return 2**++CF}const $g=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ye,booleanish:qt,commaOrSpaceSeparated:ur,commaSeparated:mu,number:Te,overloadedBoolean:pS,spaceSeparated:gt},Symbol.toStringTag,{value:"Module"})),Ym=Object.keys($g);let _y=class extends er{constructor(e,n,r,i){let o=-1;if(super(e,n),Av(this,"space",i),typeof r=="number")for(;++o<Ym.length;){const u=Ym[o];Av(this,Ym[o],(r&$g[u])===$g[u])}}};_y.prototype.defined=!0;function Av(t,e,n){n&&(t[e]=n)}function Mu(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new _y(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[vc(r)]=r,n[vc(o.attribute)]=r}return new Mc(e,n,t.space)}const mS=Mu({properties:{ariaActiveDescendant:null,ariaAtomic:qt,ariaAutoComplete:null,ariaBusy:qt,ariaChecked:qt,ariaColCount:Te,ariaColIndex:Te,ariaColSpan:Te,ariaControls:gt,ariaCurrent:null,ariaDescribedBy:gt,ariaDetails:null,ariaDisabled:qt,ariaDropEffect:gt,ariaErrorMessage:null,ariaExpanded:qt,ariaFlowTo:gt,ariaGrabbed:qt,ariaHasPopup:null,ariaHidden:qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gt,ariaLevel:Te,ariaLive:null,ariaModal:qt,ariaMultiLine:qt,ariaMultiSelectable:qt,ariaOrientation:null,ariaOwns:gt,ariaPlaceholder:null,ariaPosInSet:Te,ariaPressed:qt,ariaReadOnly:qt,ariaRelevant:null,ariaRequired:qt,ariaRoleDescription:gt,ariaRowCount:Te,ariaRowIndex:Te,ariaRowSpan:Te,ariaSelected:qt,ariaSetSize:Te,ariaSort:null,ariaValueMax:Te,ariaValueMin:Te,ariaValueNow:Te,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function gS(t,e){return e in t?t[e]:e}function yS(t,e){return gS(t,e.toLowerCase())}const RF=Mu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:mu,acceptCharset:gt,accessKey:gt,action:null,allow:null,allowFullScreen:Ye,allowPaymentRequest:Ye,allowUserMedia:Ye,alt:null,as:null,async:Ye,autoCapitalize:null,autoComplete:gt,autoFocus:Ye,autoPlay:Ye,blocking:gt,capture:null,charSet:null,checked:Ye,cite:null,className:gt,cols:Te,colSpan:null,content:null,contentEditable:qt,controls:Ye,controlsList:gt,coords:Te|mu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ye,defer:Ye,dir:null,dirName:null,disabled:Ye,download:pS,draggable:qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ye,formTarget:null,headers:gt,height:Te,hidden:Ye,high:Te,href:null,hrefLang:null,htmlFor:gt,httpEquiv:gt,id:null,imageSizes:null,imageSrcSet:null,inert:Ye,inputMode:null,integrity:null,is:null,isMap:Ye,itemId:null,itemProp:gt,itemRef:gt,itemScope:Ye,itemType:gt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ye,low:Te,manifest:null,max:null,maxLength:Te,media:null,method:null,min:null,minLength:Te,multiple:Ye,muted:Ye,name:null,nonce:null,noModule:Ye,noValidate:Ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ye,optimum:Te,pattern:null,ping:gt,placeholder:null,playsInline:Ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ye,referrerPolicy:null,rel:gt,required:Ye,reversed:Ye,rows:Te,rowSpan:Te,sandbox:gt,scope:null,scoped:Ye,seamless:Ye,selected:Ye,shadowRootClonable:Ye,shadowRootDelegatesFocus:Ye,shadowRootMode:null,shape:null,size:Te,sizes:null,slot:null,span:Te,spellCheck:qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Te,step:null,style:null,tabIndex:Te,target:null,title:null,translate:null,type:null,typeMustMatch:Ye,useMap:null,value:qt,width:Te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gt,axis:null,background:null,bgColor:null,border:Te,borderColor:null,bottomMargin:Te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ye,declare:Ye,event:null,face:null,frame:null,frameBorder:null,hSpace:Te,leftMargin:Te,link:null,longDesc:null,lowSrc:null,marginHeight:Te,marginWidth:Te,noResize:Ye,noHref:Ye,noShade:Ye,noWrap:Ye,object:null,profile:null,prompt:null,rev:null,rightMargin:Te,rules:null,scheme:null,scrolling:qt,standby:null,summary:null,text:null,topMargin:Te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ye,disableRemotePlayback:Ye,prefix:null,property:null,results:Te,security:null,unselectable:null},space:"html",transform:yS}),kF=Mu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ur,accentHeight:Te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Te,amplitude:Te,arabicForm:null,ascent:Te,attributeName:null,attributeType:null,azimuth:Te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Te,by:null,calcMode:null,capHeight:Te,className:gt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Te,diffuseConstant:Te,direction:null,display:null,dur:null,divisor:Te,dominantBaseline:null,download:Ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:Te,enableBackground:null,end:null,event:null,exponent:Te,externalResourcesRequired:null,fill:null,fillOpacity:Te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:mu,g2:mu,glyphName:mu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Te,horizOriginX:Te,horizOriginY:Te,id:null,ideographic:Te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Te,k:Te,k1:Te,k2:Te,k3:Te,k4:Te,kernelMatrix:ur,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Te,overlineThickness:Te,paintOrder:null,panose1:null,path:null,pathLength:Te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Te,pointsAtY:Te,pointsAtZ:Te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ur,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ur,rev:ur,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ur,requiredFeatures:ur,requiredFonts:ur,requiredFormats:ur,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Te,specularExponent:Te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Te,strikethroughThickness:Te,string:null,stroke:null,strokeDashArray:ur,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Te,strokeOpacity:Te,strokeWidth:null,style:null,surfaceScale:Te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ur,tabIndex:Te,tableValues:null,target:null,targetX:Te,targetY:Te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ur,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Te,underlineThickness:Te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Te,values:null,vAlphabetic:Te,vMathematical:Te,vectorEffect:null,vHanging:Te,vIdeographic:Te,version:null,vertAdvY:Te,vertOriginX:Te,vertOriginY:Te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:gS}),ES=Mu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),_S=Mu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:yS}),TS=Mu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),NF={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xF=/[A-Z]/g,wv=/-[a-z]/g,PF=/^data[-\w.:]+$/i;function Ty(t,e){const n=vc(e);let r=e,i=er;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&PF.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(wv,DF);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!wv.test(o)){let u=o.replace(xF,OF);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}i=_y}return new i(r,e)}function OF(t){return"-"+t.toLowerCase()}function DF(t){return t.charAt(1).toUpperCase()}const Df=fS([mS,RF,ES,_S,TS],"html"),Fu=fS([mS,kF,ES,_S,TS],"svg");function Sv(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function vS(t){return t.join(" ").trim()}var nu={},Gm,Cv;function LF(){if(Cv)return Gm;Cv=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,l=/^\s+|\s+$/g,d=`
`,p="/",m="*",E="",b="comment",I="declaration";Gm=function(F,U){if(typeof F!="string")throw new TypeError("First argument must be a string");if(!F)return[];U=U||{};var q=1,re=1;function $(C){var te=C.match(e);te&&(q+=te.length);var ae=C.lastIndexOf(d);re=~ae?C.length-ae:re+C.length}function G(){var C={line:q,column:re};return function(te){return te.position=new _e(C),x(),te}}function _e(C){this.start=C,this.end={line:q,column:re},this.source=U.source}_e.prototype.content=F;function Z(C){var te=new Error(U.source+":"+q+":"+re+": "+C);if(te.reason=C,te.filename=U.source,te.line=q,te.column=re,te.source=F,!U.silent)throw te}function H(C){var te=C.exec(F);if(te){var ae=te[0];return $(ae),F=F.slice(ae.length),te}}function x(){H(n)}function M(C){var te;for(C=C||[];te=j();)te!==!1&&C.push(te);return C}function j(){var C=G();if(!(p!=F.charAt(0)||m!=F.charAt(1))){for(var te=2;E!=F.charAt(te)&&(m!=F.charAt(te)||p!=F.charAt(te+1));)++te;if(te+=2,E===F.charAt(te-1))return Z("End of comment missing");var ae=F.slice(2,te-2);return re+=2,$(ae),F=F.slice(te),re+=2,C({type:b,comment:ae})}}function P(){var C=G(),te=H(r);if(te){if(j(),!H(i))return Z("property missing ':'");var ae=H(o),Ce=C({type:I,property:N(te[0].replace(t,E)),value:ae?N(ae[0].replace(t,E)):E});return H(u),Ce}}function O(){var C=[];M(C);for(var te;te=P();)te!==!1&&(C.push(te),M(C));return C}return x(),O()};function N(F){return F?F.replace(l,E):E}return Gm}var Rv;function MF(){if(Rv)return nu;Rv=1;var t=nu&&nu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nu,"__esModule",{value:!0}),nu.default=n;var e=t(LF());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var u=(0,e.default)(r),l=typeof i=="function";return u.forEach(function(d){if(d.type==="declaration"){var p=d.property,m=d.value;l?i(p,m,d):m&&(o=o||{},o[p]=m)}}),o}return nu}var Pl={},kv;function FF(){if(kv)return Pl;kv=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(p){return!p||n.test(p)||t.test(p)},u=function(p,m){return m.toUpperCase()},l=function(p,m){return"".concat(m,"-")},d=function(p,m){return m===void 0&&(m={}),o(p)?p:(p=p.toLowerCase(),m.reactCompat?p=p.replace(i,l):p=p.replace(r,l),p.replace(e,u))};return Pl.camelCase=d,Pl}var Ol,Nv;function UF(){if(Nv)return Ol;Nv=1;var t=Ol&&Ol.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(MF()),n=FF();function r(i,o){var u={};return!i||typeof i!="string"||(0,e.default)(i,function(l,d){l&&d&&(u[(0,n.camelCase)(l,o)]=d)}),u}return r.default=r,Ol=r,Ol}var BF=UF();const VF=is(BF),Lf=bS("end"),ki=bS("start");function bS(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function jF(t){const e=ki(t),n=Lf(t);if(e&&n)return{start:e,end:n}}function Jl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?xv(t.position):"start"in t||"end"in t?xv(t):"line"in t||"column"in t?Yg(t):""}function Yg(t){return Pv(t&&t.line)+":"+Pv(t&&t.column)}function xv(t){return Yg(t&&t.start)+"-"+Yg(t&&t.end)}function Pv(t){return t&&typeof t=="number"?t:1}class Sn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(u=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?o.ruleId=r:(o.source=r.slice(0,d),o.ruleId=r.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=Jl(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Sn.prototype.file="";Sn.prototype.name="";Sn.prototype.reason="";Sn.prototype.message="";Sn.prototype.stack="";Sn.prototype.column=void 0;Sn.prototype.line=void 0;Sn.prototype.ancestors=void 0;Sn.prototype.cause=void 0;Sn.prototype.fatal=void 0;Sn.prototype.place=void 0;Sn.prototype.ruleId=void 0;Sn.prototype.source=void 0;const vy={}.hasOwnProperty,HF=new Map,zF=/[A-Z]/g,qF=new Set(["table","tbody","thead","tfoot","tr"]),WF=new Set(["td","th"]),IS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function $F(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=e5(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=ZF(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Fu:Df,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=AS(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function AS(t,e,n){if(e.type==="element")return YF(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return GF(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return QF(t,e,n);if(e.type==="mdxjsEsm")return KF(t,e);if(e.type==="root")return XF(t,e,n);if(e.type==="text")return JF(t,e)}function YF(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Fu,t.schema=i),t.ancestors.push(e);const o=SS(t,e.tagName,!1),u=t5(t,e);let l=Iy(t,e);return qF.has(e.tagName)&&(l=l.filter(function(d){return typeof d=="string"?!SF(d):!0})),wS(t,u,o,e),by(u,l),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function GF(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}bc(t,e.position)}function KF(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);bc(t,e.position)}function QF(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Fu,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:SS(t,e.name,!0),u=n5(t,e),l=Iy(t,e);return wS(t,u,o,e),by(u,l),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function XF(t,e,n){const r={};return by(r,Iy(t,e)),t.create(e,t.Fragment,r,n)}function JF(t,e){return e.value}function wS(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function by(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function ZF(t,e,n){return r;function r(i,o,u,l){const p=Array.isArray(u.children)?n:e;return l?p(o,u,l):p(o,u)}}function e5(t,e){return n;function n(r,i,o,u){const l=Array.isArray(o.children),d=ki(r);return e(i,o,u,l,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function t5(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&vy.call(e.properties,i)){const o=r5(t,i,e.properties[i]);if(o){const[u,l]=o;t.tableCellAlignToStyle&&u==="align"&&typeof l=="string"&&WF.has(e.tagName)?r=l:n[u]=l}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function n5(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const u=o.expression;u.type;const l=u.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else bc(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,o=t.evaluater.evaluateExpression(l.expression)}else bc(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Iy(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:HF;for(;++r<e.children.length;){const o=e.children[r];let u;if(t.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const p=i.get(d)||0;u=d+"-"+p,i.set(d,p+1)}}const l=AS(t,o,u);l!==void 0&&n.push(l)}return n}function r5(t,e,n){const r=Ty(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?hS(n):vS(n)),r.property==="style"){let i=typeof n=="object"?n:i5(t,String(n));return t.stylePropertyNameCase==="css"&&(i=s5(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?NF[r.property]||r.property:r.attribute,n]}}function i5(t,e){try{return VF(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Sn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=IS+"#cannot-parse-style-attribute",i}}function SS(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,u;for(;++o<i.length;){const l=bv(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};u=u?{type:"MemberExpression",object:u,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}r=u}else r=bv(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return vy.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);bc(t)}function bc(t,e){const n=new Sn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=IS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function s5(t){const e={};let n;for(n in t)vy.call(t,n)&&(e[o5(n)]=t[n]);return e}function o5(t){let e=t.replace(zF,a5);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function a5(t){return"-"+t.toLowerCase()}const Km={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},u5={};function l5(t,e){const n=u5,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return CS(t,r,i)}function CS(t,e,n){if(c5(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Ov(t.children,e,n)}return Array.isArray(t)?Ov(t,e,n):""}function Ov(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=CS(t[i],e,n);return r.join("")}function c5(t){return!!(t&&typeof t=="object")}const Dv=document.createElement("i");function Ay(t){const e="&"+t+";";Dv.innerHTML=e;const n=Dv.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ri(t,e,n,r){const i=t.length;let o=0,u;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<r.length;)u=r.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function Cr(t,e){return t.length>0?(Ri(t,t.length,0,e),t):e}const Lv={}.hasOwnProperty;function d5(t){const e={};let n=-1;for(;++n<t.length;)h5(e,t[n]);return e}function h5(t,e){let n;for(n in e){const i=(Lv.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){Lv.call(i,u)||(i[u]=[]);const l=o[u];f5(i[u],Array.isArray(l)?l:l?[l]:[])}}}function f5(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ri(t,0,0,r)}function RS(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function gu(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const bi=ho(/[A-Za-z]/),hr=ho(/[\dA-Za-z]/),p5=ho(/[#-'*+\--9=?A-Z^-~]/);function Gg(t){return t!==null&&(t<32||t===127)}const Kg=ho(/\d/),m5=ho(/[\dA-Fa-f]/),g5=ho(/[!-/:-@[-`{-~]/);function ze(t){return t!==null&&t<-2}function Zn(t){return t!==null&&(t<0||t===32)}function ct(t){return t===-2||t===-1||t===32}const y5=ho(new RegExp("\\p{P}|\\p{S}","u")),E5=ho(/\s/);function ho(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Uu(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&hr(t.charCodeAt(n+1))&&hr(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const l=t.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(u=String.fromCharCode(o,l),i=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+i+1,u=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Et(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(d){return ct(d)?(t.enter(n),l(d)):e(d)}function l(d){return ct(d)&&o++<i?(t.consume(d),l):(t.exit(n),e(d))}}const _5={tokenize:T5};function T5(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Et(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),o(l)}function o(l){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,u(l)}function u(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return ze(l)?(t.consume(l),t.exit("chunkText"),o):(t.consume(l),u)}}const v5={tokenize:b5},Mv={tokenize:I5};function b5(t){const e=this,n=[];let r=0,i,o,u;return l;function l($){if(r<n.length){const G=n[r];return e.containerState=G[1],t.attempt(G[0].continuation,d,p)($)}return p($)}function d($){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&re();const G=e.events.length;let _e=G,Z;for(;_e--;)if(e.events[_e][0]==="exit"&&e.events[_e][1].type==="chunkFlow"){Z=e.events[_e][1].end;break}q(r);let H=G;for(;H<e.events.length;)e.events[H][1].end={...Z},H++;return Ri(e.events,_e+1,0,e.events.slice(G)),e.events.length=H,p($)}return l($)}function p($){if(r===n.length){if(!i)return b($);if(i.currentConstruct&&i.currentConstruct.concrete)return N($);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Mv,m,E)($)}function m($){return i&&re(),q(r),b($)}function E($){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,N($)}function b($){return e.containerState={},t.attempt(Mv,I,N)($)}function I($){return r++,n.push([e.currentConstruct,e.containerState]),b($)}function N($){if($===null){i&&re(),q(0),t.consume($);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),F($)}function F($){if($===null){U(t.exit("chunkFlow"),!0),q(0),t.consume($);return}return ze($)?(t.consume($),U(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume($),F)}function U($,G){const _e=e.sliceStream($);if(G&&_e.push(null),$.previous=o,o&&(o.next=$),o=$,i.defineSkip($.start),i.write(_e),e.parser.lazy[$.start.line]){let Z=i.events.length;for(;Z--;)if(i.events[Z][1].start.offset<u&&(!i.events[Z][1].end||i.events[Z][1].end.offset>u))return;const H=e.events.length;let x=H,M,j;for(;x--;)if(e.events[x][0]==="exit"&&e.events[x][1].type==="chunkFlow"){if(M){j=e.events[x][1].end;break}M=!0}for(q(r),Z=H;Z<e.events.length;)e.events[Z][1].end={...j},Z++;Ri(e.events,x+1,0,e.events.slice(H)),e.events.length=Z}}function q($){let G=n.length;for(;G-- >$;){const _e=n[G];e.containerState=_e[1],_e[0].exit.call(e,t)}n.length=$}function re(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function I5(t,e,n){return Et(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Fv(t){if(t===null||Zn(t)||E5(t))return 1;if(y5(t))return 2}function wy(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const Qg={name:"attention",resolveAll:A5,tokenize:w5};function A5(t,e){let n=-1,r,i,o,u,l,d,p,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const E={...t[r][1].end},b={...t[n][1].start};Uv(E,-d),Uv(b,d),u={type:d>1?"strongSequence":"emphasisSequence",start:E,end:{...t[r][1].end}},l={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:b},o={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:d>1?"strong":"emphasis",start:{...u.start},end:{...l.end}},t[r][1].end={...u.start},t[n][1].start={...l.end},p=[],t[r][1].end.offset-t[r][1].start.offset&&(p=Cr(p,[["enter",t[r][1],e],["exit",t[r][1],e]])),p=Cr(p,[["enter",i,e],["enter",u,e],["exit",u,e],["enter",o,e]]),p=Cr(p,wy(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),p=Cr(p,[["exit",o,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,p=Cr(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,Ri(t,r-1,n-r+3,p),n=r+p.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function w5(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Fv(r);let o;return u;function u(d){return o=d,t.enter("attentionSequence"),l(d)}function l(d){if(d===o)return t.consume(d),l;const p=t.exit("attentionSequence"),m=Fv(d),E=!m||m===2&&i||n.includes(d),b=!i||i===2&&m||n.includes(r);return p._open=!!(o===42?E:E&&(i||!b)),p._close=!!(o===42?b:b&&(m||!E)),e(d)}}function Uv(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const S5={name:"autolink",tokenize:C5};function C5(t,e,n){let r=0;return i;function i(I){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(I),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(I){return bi(I)?(t.consume(I),u):I===64?n(I):p(I)}function u(I){return I===43||I===45||I===46||hr(I)?(r=1,l(I)):p(I)}function l(I){return I===58?(t.consume(I),r=0,d):(I===43||I===45||I===46||hr(I))&&r++<32?(t.consume(I),l):(r=0,p(I))}function d(I){return I===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(I),t.exit("autolinkMarker"),t.exit("autolink"),e):I===null||I===32||I===60||Gg(I)?n(I):(t.consume(I),d)}function p(I){return I===64?(t.consume(I),m):p5(I)?(t.consume(I),p):n(I)}function m(I){return hr(I)?E(I):n(I)}function E(I){return I===46?(t.consume(I),r=0,m):I===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(I),t.exit("autolinkMarker"),t.exit("autolink"),e):b(I)}function b(I){if((I===45||hr(I))&&r++<63){const N=I===45?b:E;return t.consume(I),N}return n(I)}}const Mf={partial:!0,tokenize:R5};function R5(t,e,n){return r;function r(o){return ct(o)?Et(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||ze(o)?e(o):n(o)}}const kS={continuation:{tokenize:N5},exit:x5,name:"blockQuote",tokenize:k5};function k5(t,e,n){const r=this;return i;function i(u){if(u===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return ct(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function N5(t,e,n){const r=this;return i;function i(u){return ct(u)?Et(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(kS,e,n)(u)}}function x5(t){t.exit("blockQuote")}const NS={name:"characterEscape",tokenize:P5};function P5(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return g5(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const xS={name:"characterReference",tokenize:O5};function O5(t,e,n){const r=this;let i=0,o,u;return l;function l(E){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),d}function d(E){return E===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(E),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),o=31,u=hr,m(E))}function p(E){return E===88||E===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(E),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=m5,m):(t.enter("characterReferenceValue"),o=7,u=Kg,m(E))}function m(E){if(E===59&&i){const b=t.exit("characterReferenceValue");return u===hr&&!Ay(r.sliceSerialize(b))?n(E):(t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(E)&&i++<o?(t.consume(E),m):n(E)}}const Bv={partial:!0,tokenize:L5},Vv={concrete:!0,name:"codeFenced",tokenize:D5};function D5(t,e,n){const r=this,i={partial:!0,tokenize:_e};let o=0,u=0,l;return d;function d(Z){return p(Z)}function p(Z){const H=r.events[r.events.length-1];return o=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,l=Z,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(Z)}function m(Z){return Z===l?(u++,t.consume(Z),m):u<3?n(Z):(t.exit("codeFencedFenceSequence"),ct(Z)?Et(t,E,"whitespace")(Z):E(Z))}function E(Z){return Z===null||ze(Z)?(t.exit("codeFencedFence"),r.interrupt?e(Z):t.check(Bv,F,G)(Z)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),b(Z))}function b(Z){return Z===null||ze(Z)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),E(Z)):ct(Z)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Et(t,I,"whitespace")(Z)):Z===96&&Z===l?n(Z):(t.consume(Z),b)}function I(Z){return Z===null||ze(Z)?E(Z):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),N(Z))}function N(Z){return Z===null||ze(Z)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),E(Z)):Z===96&&Z===l?n(Z):(t.consume(Z),N)}function F(Z){return t.attempt(i,G,U)(Z)}function U(Z){return t.enter("lineEnding"),t.consume(Z),t.exit("lineEnding"),q}function q(Z){return o>0&&ct(Z)?Et(t,re,"linePrefix",o+1)(Z):re(Z)}function re(Z){return Z===null||ze(Z)?t.check(Bv,F,G)(Z):(t.enter("codeFlowValue"),$(Z))}function $(Z){return Z===null||ze(Z)?(t.exit("codeFlowValue"),re(Z)):(t.consume(Z),$)}function G(Z){return t.exit("codeFenced"),e(Z)}function _e(Z,H,x){let M=0;return j;function j(ae){return Z.enter("lineEnding"),Z.consume(ae),Z.exit("lineEnding"),P}function P(ae){return Z.enter("codeFencedFence"),ct(ae)?Et(Z,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ae):O(ae)}function O(ae){return ae===l?(Z.enter("codeFencedFenceSequence"),C(ae)):x(ae)}function C(ae){return ae===l?(M++,Z.consume(ae),C):M>=u?(Z.exit("codeFencedFenceSequence"),ct(ae)?Et(Z,te,"whitespace")(ae):te(ae)):x(ae)}function te(ae){return ae===null||ze(ae)?(Z.exit("codeFencedFence"),H(ae)):x(ae)}}}function L5(t,e,n){const r=this;return i;function i(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const Qm={name:"codeIndented",tokenize:F5},M5={partial:!0,tokenize:U5};function F5(t,e,n){const r=this;return i;function i(p){return t.enter("codeIndented"),Et(t,o,"linePrefix",5)(p)}function o(p){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?u(p):n(p)}function u(p){return p===null?d(p):ze(p)?t.attempt(M5,u,d)(p):(t.enter("codeFlowValue"),l(p))}function l(p){return p===null||ze(p)?(t.exit("codeFlowValue"),u(p)):(t.consume(p),l)}function d(p){return t.exit("codeIndented"),e(p)}}function U5(t,e,n){const r=this;return i;function i(u){return r.parser.lazy[r.now().line]?n(u):ze(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),i):Et(t,o,"linePrefix",5)(u)}function o(u){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(u):ze(u)?i(u):n(u)}}const B5={name:"codeText",previous:j5,resolve:V5,tokenize:H5};function V5(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function j5(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function H5(t,e,n){let r=0,i,o;return u;function u(E){return t.enter("codeText"),t.enter("codeTextSequence"),l(E)}function l(E){return E===96?(t.consume(E),r++,l):(t.exit("codeTextSequence"),d(E))}function d(E){return E===null?n(E):E===32?(t.enter("space"),t.consume(E),t.exit("space"),d):E===96?(o=t.enter("codeTextSequence"),i=0,m(E)):ze(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),d):(t.enter("codeTextData"),p(E))}function p(E){return E===null||E===32||E===96||ze(E)?(t.exit("codeTextData"),d(E)):(t.consume(E),p)}function m(E){return E===96?(t.consume(E),i++,m):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(E)):(o.type="codeTextData",p(E))}}class z5{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Dl(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Dl(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Dl(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Dl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Dl(this.left,n.reverse())}}}function Dl(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function PS(t){const e={};let n=-1,r,i,o,u,l,d,p;const m=new z5(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,q5(m,n)),n=e[n],p=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(u=m.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(i&&(m.get(i)[1].type="lineEndingBlank"),u[1].type="lineEnding",i=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;i&&(r[1].end={...m.get(i)[1].start},l=m.slice(i,n),l.unshift(r),m.splice(i,n-i+1,l))}}return Ri(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!p}function q5(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const l=u.events,d=[],p={};let m,E,b=-1,I=n,N=0,F=0;const U=[F];for(;I;){for(;t.get(++i)[1]!==I;);o.push(i),I._tokenizer||(m=r.sliceStream(I),I.next||m.push(null),E&&u.defineSkip(I.start),I._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(m),I._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),E=I,I=I.next}for(I=n;++b<l.length;)l[b][0]==="exit"&&l[b-1][0]==="enter"&&l[b][1].type===l[b-1][1].type&&l[b][1].start.line!==l[b][1].end.line&&(F=b+1,U.push(F),I._tokenizer=void 0,I.previous=void 0,I=I.next);for(u.events=[],I?(I._tokenizer=void 0,I.previous=void 0):U.pop(),b=U.length;b--;){const q=l.slice(U[b],U[b+1]),re=o.pop();d.push([re,re+q.length-1]),t.splice(re,2,q)}for(d.reverse(),b=-1;++b<d.length;)p[N+d[b][0]]=N+d[b][1],N+=d[b][1]-d[b][0]-1;return p}const W5={resolve:Y5,tokenize:G5},$5={partial:!0,tokenize:K5};function Y5(t){return PS(t),t}function G5(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?o(l):ze(l)?t.check($5,u,o)(l):(t.consume(l),i)}function o(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function u(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function K5(t,e,n){const r=this;return i;function i(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Et(t,o,"linePrefix")}function o(u){if(u===null||ze(u))return n(u);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function OS(t,e,n,r,i,o,u,l,d){const p=d||Number.POSITIVE_INFINITY;let m=0;return E;function E(q){return q===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(q),t.exit(o),b):q===null||q===32||q===41||Gg(q)?n(q):(t.enter(r),t.enter(u),t.enter(l),t.enter("chunkString",{contentType:"string"}),F(q))}function b(q){return q===62?(t.enter(o),t.consume(q),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),I(q))}function I(q){return q===62?(t.exit("chunkString"),t.exit(l),b(q)):q===null||q===60||ze(q)?n(q):(t.consume(q),q===92?N:I)}function N(q){return q===60||q===62||q===92?(t.consume(q),I):I(q)}function F(q){return!m&&(q===null||q===41||Zn(q))?(t.exit("chunkString"),t.exit(l),t.exit(u),t.exit(r),e(q)):m<p&&q===40?(t.consume(q),m++,F):q===41?(t.consume(q),m--,F):q===null||q===32||q===40||Gg(q)?n(q):(t.consume(q),q===92?U:F)}function U(q){return q===40||q===41||q===92?(t.consume(q),F):F(q)}}function DS(t,e,n,r,i,o){const u=this;let l=0,d;return p;function p(I){return t.enter(r),t.enter(i),t.consume(I),t.exit(i),t.enter(o),m}function m(I){return l>999||I===null||I===91||I===93&&!d||I===94&&!l&&"_hiddenFootnoteSupport"in u.parser.constructs?n(I):I===93?(t.exit(o),t.enter(i),t.consume(I),t.exit(i),t.exit(r),e):ze(I)?(t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),E(I))}function E(I){return I===null||I===91||I===93||ze(I)||l++>999?(t.exit("chunkString"),m(I)):(t.consume(I),d||(d=!ct(I)),I===92?b:E)}function b(I){return I===91||I===92||I===93?(t.consume(I),l++,E):E(I)}}function LS(t,e,n,r,i,o){let u;return l;function l(b){return b===34||b===39||b===40?(t.enter(r),t.enter(i),t.consume(b),t.exit(i),u=b===40?41:b,d):n(b)}function d(b){return b===u?(t.enter(i),t.consume(b),t.exit(i),t.exit(r),e):(t.enter(o),p(b))}function p(b){return b===u?(t.exit(o),d(u)):b===null?n(b):ze(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),Et(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===u||b===null||ze(b)?(t.exit("chunkString"),p(b)):(t.consume(b),b===92?E:m)}function E(b){return b===u||b===92?(t.consume(b),m):m(b)}}function Zl(t,e){let n;return r;function r(i){return ze(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):ct(i)?Et(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Q5={name:"definition",tokenize:J5},X5={partial:!0,tokenize:Z5};function J5(t,e,n){const r=this;let i;return o;function o(I){return t.enter("definition"),u(I)}function u(I){return DS.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(I)}function l(I){return i=gu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),I===58?(t.enter("definitionMarker"),t.consume(I),t.exit("definitionMarker"),d):n(I)}function d(I){return Zn(I)?Zl(t,p)(I):p(I)}function p(I){return OS(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(I)}function m(I){return t.attempt(X5,E,E)(I)}function E(I){return ct(I)?Et(t,b,"whitespace")(I):b(I)}function b(I){return I===null||ze(I)?(t.exit("definition"),r.parser.defined.push(i),e(I)):n(I)}}function Z5(t,e,n){return r;function r(l){return Zn(l)?Zl(t,i)(l):n(l)}function i(l){return LS(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return ct(l)?Et(t,u,"whitespace")(l):u(l)}function u(l){return l===null||ze(l)?e(l):n(l)}}const e9={name:"hardBreakEscape",tokenize:t9};function t9(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return ze(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const n9={name:"headingAtx",resolve:r9,tokenize:i9};function r9(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ri(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function i9(t,e,n){let r=0;return i;function i(m){return t.enter("atxHeading"),o(m)}function o(m){return t.enter("atxHeadingSequence"),u(m)}function u(m){return m===35&&r++<6?(t.consume(m),u):m===null||Zn(m)?(t.exit("atxHeadingSequence"),l(m)):n(m)}function l(m){return m===35?(t.enter("atxHeadingSequence"),d(m)):m===null||ze(m)?(t.exit("atxHeading"),e(m)):ct(m)?Et(t,l,"whitespace")(m):(t.enter("atxHeadingText"),p(m))}function d(m){return m===35?(t.consume(m),d):(t.exit("atxHeadingSequence"),l(m))}function p(m){return m===null||m===35||Zn(m)?(t.exit("atxHeadingText"),l(m)):(t.consume(m),p)}}const s9=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],jv=["pre","script","style","textarea"],o9={concrete:!0,name:"htmlFlow",resolveTo:l9,tokenize:c9},a9={partial:!0,tokenize:h9},u9={partial:!0,tokenize:d9};function l9(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function c9(t,e,n){const r=this;let i,o,u,l,d;return p;function p(L){return m(L)}function m(L){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(L),E}function E(L){return L===33?(t.consume(L),b):L===47?(t.consume(L),o=!0,F):L===63?(t.consume(L),i=3,r.interrupt?e:R):bi(L)?(t.consume(L),u=String.fromCharCode(L),U):n(L)}function b(L){return L===45?(t.consume(L),i=2,I):L===91?(t.consume(L),i=5,l=0,N):bi(L)?(t.consume(L),i=4,r.interrupt?e:R):n(L)}function I(L){return L===45?(t.consume(L),r.interrupt?e:R):n(L)}function N(L){const Oe="CDATA[";return L===Oe.charCodeAt(l++)?(t.consume(L),l===Oe.length?r.interrupt?e:O:N):n(L)}function F(L){return bi(L)?(t.consume(L),u=String.fromCharCode(L),U):n(L)}function U(L){if(L===null||L===47||L===62||Zn(L)){const Oe=L===47,je=u.toLowerCase();return!Oe&&!o&&jv.includes(je)?(i=1,r.interrupt?e(L):O(L)):s9.includes(u.toLowerCase())?(i=6,Oe?(t.consume(L),q):r.interrupt?e(L):O(L)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(L):o?re(L):$(L))}return L===45||hr(L)?(t.consume(L),u+=String.fromCharCode(L),U):n(L)}function q(L){return L===62?(t.consume(L),r.interrupt?e:O):n(L)}function re(L){return ct(L)?(t.consume(L),re):j(L)}function $(L){return L===47?(t.consume(L),j):L===58||L===95||bi(L)?(t.consume(L),G):ct(L)?(t.consume(L),$):j(L)}function G(L){return L===45||L===46||L===58||L===95||hr(L)?(t.consume(L),G):_e(L)}function _e(L){return L===61?(t.consume(L),Z):ct(L)?(t.consume(L),_e):$(L)}function Z(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),d=L,H):ct(L)?(t.consume(L),Z):x(L)}function H(L){return L===d?(t.consume(L),d=null,M):L===null||ze(L)?n(L):(t.consume(L),H)}function x(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||Zn(L)?_e(L):(t.consume(L),x)}function M(L){return L===47||L===62||ct(L)?$(L):n(L)}function j(L){return L===62?(t.consume(L),P):n(L)}function P(L){return L===null||ze(L)?O(L):ct(L)?(t.consume(L),P):n(L)}function O(L){return L===45&&i===2?(t.consume(L),Ce):L===60&&i===1?(t.consume(L),K):L===62&&i===4?(t.consume(L),W):L===63&&i===3?(t.consume(L),R):L===93&&i===5?(t.consume(L),Ie):ze(L)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(a9,le,C)(L)):L===null||ze(L)?(t.exit("htmlFlowData"),C(L)):(t.consume(L),O)}function C(L){return t.check(u9,te,le)(L)}function te(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),ae}function ae(L){return L===null||ze(L)?C(L):(t.enter("htmlFlowData"),O(L))}function Ce(L){return L===45?(t.consume(L),R):O(L)}function K(L){return L===47?(t.consume(L),u="",ie):O(L)}function ie(L){if(L===62){const Oe=u.toLowerCase();return jv.includes(Oe)?(t.consume(L),W):O(L)}return bi(L)&&u.length<8?(t.consume(L),u+=String.fromCharCode(L),ie):O(L)}function Ie(L){return L===93?(t.consume(L),R):O(L)}function R(L){return L===62?(t.consume(L),W):L===45&&i===2?(t.consume(L),R):O(L)}function W(L){return L===null||ze(L)?(t.exit("htmlFlowData"),le(L)):(t.consume(L),W)}function le(L){return t.exit("htmlFlow"),e(L)}}function d9(t,e,n){const r=this;return i;function i(u){return ze(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function h9(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Mf,e,n)}}const f9={name:"htmlText",tokenize:p9};function p9(t,e,n){const r=this;let i,o,u;return l;function l(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),d}function d(R){return R===33?(t.consume(R),p):R===47?(t.consume(R),_e):R===63?(t.consume(R),$):bi(R)?(t.consume(R),x):n(R)}function p(R){return R===45?(t.consume(R),m):R===91?(t.consume(R),o=0,N):bi(R)?(t.consume(R),re):n(R)}function m(R){return R===45?(t.consume(R),I):n(R)}function E(R){return R===null?n(R):R===45?(t.consume(R),b):ze(R)?(u=E,K(R)):(t.consume(R),E)}function b(R){return R===45?(t.consume(R),I):E(R)}function I(R){return R===62?Ce(R):R===45?b(R):E(R)}function N(R){const W="CDATA[";return R===W.charCodeAt(o++)?(t.consume(R),o===W.length?F:N):n(R)}function F(R){return R===null?n(R):R===93?(t.consume(R),U):ze(R)?(u=F,K(R)):(t.consume(R),F)}function U(R){return R===93?(t.consume(R),q):F(R)}function q(R){return R===62?Ce(R):R===93?(t.consume(R),q):F(R)}function re(R){return R===null||R===62?Ce(R):ze(R)?(u=re,K(R)):(t.consume(R),re)}function $(R){return R===null?n(R):R===63?(t.consume(R),G):ze(R)?(u=$,K(R)):(t.consume(R),$)}function G(R){return R===62?Ce(R):$(R)}function _e(R){return bi(R)?(t.consume(R),Z):n(R)}function Z(R){return R===45||hr(R)?(t.consume(R),Z):H(R)}function H(R){return ze(R)?(u=H,K(R)):ct(R)?(t.consume(R),H):Ce(R)}function x(R){return R===45||hr(R)?(t.consume(R),x):R===47||R===62||Zn(R)?M(R):n(R)}function M(R){return R===47?(t.consume(R),Ce):R===58||R===95||bi(R)?(t.consume(R),j):ze(R)?(u=M,K(R)):ct(R)?(t.consume(R),M):Ce(R)}function j(R){return R===45||R===46||R===58||R===95||hr(R)?(t.consume(R),j):P(R)}function P(R){return R===61?(t.consume(R),O):ze(R)?(u=P,K(R)):ct(R)?(t.consume(R),P):M(R)}function O(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),i=R,C):ze(R)?(u=O,K(R)):ct(R)?(t.consume(R),O):(t.consume(R),te)}function C(R){return R===i?(t.consume(R),i=void 0,ae):R===null?n(R):ze(R)?(u=C,K(R)):(t.consume(R),C)}function te(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||Zn(R)?M(R):(t.consume(R),te)}function ae(R){return R===47||R===62||Zn(R)?M(R):n(R)}function Ce(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):n(R)}function K(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),ie}function ie(R){return ct(R)?Et(t,Ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):Ie(R)}function Ie(R){return t.enter("htmlTextData"),u(R)}}const Sy={name:"labelEnd",resolveAll:E9,resolveTo:_9,tokenize:T9},m9={tokenize:v9},g9={tokenize:b9},y9={tokenize:I9};function E9(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Ri(t,0,t.length,n),t}function _9(t,e){let n=t.length,r=0,i,o,u,l;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(u=n);const d={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},m={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[u-2][1].start}};return l=[["enter",d,e],["enter",p,e]],l=Cr(l,t.slice(o+1,o+r+3)),l=Cr(l,[["enter",m,e]]),l=Cr(l,wy(e.parser.constructs.insideSpan.null,t.slice(o+r+4,u-3),e)),l=Cr(l,[["exit",m,e],t[u-2],t[u-1],["exit",p,e]]),l=Cr(l,t.slice(u+1)),l=Cr(l,[["exit",d,e]]),Ri(t,o,t.length,l),t}function T9(t,e,n){const r=this;let i=r.events.length,o,u;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return l;function l(b){return o?o._inactive?E(b):(u=r.parser.defined.includes(gu(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(b),t.exit("labelMarker"),t.exit("labelEnd"),d):n(b)}function d(b){return b===40?t.attempt(m9,m,u?m:E)(b):b===91?t.attempt(g9,m,u?p:E)(b):u?m(b):E(b)}function p(b){return t.attempt(y9,m,E)(b)}function m(b){return e(b)}function E(b){return o._balanced=!0,n(b)}}function v9(t,e,n){return r;function r(E){return t.enter("resource"),t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),i}function i(E){return Zn(E)?Zl(t,o)(E):o(E)}function o(E){return E===41?m(E):OS(t,u,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(E)}function u(E){return Zn(E)?Zl(t,d)(E):m(E)}function l(E){return n(E)}function d(E){return E===34||E===39||E===40?LS(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(E):m(E)}function p(E){return Zn(E)?Zl(t,m)(E):m(E)}function m(E){return E===41?(t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),t.exit("resource"),e):n(E)}}function b9(t,e,n){const r=this;return i;function i(l){return DS.call(r,t,o,u,"reference","referenceMarker","referenceString")(l)}function o(l){return r.parser.defined.includes(gu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function u(l){return n(l)}}function I9(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const A9={name:"labelStartImage",resolveAll:Sy.resolveAll,tokenize:w9};function w9(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),o}function o(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),u):n(l)}function u(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const S9={name:"labelStartLink",resolveAll:Sy.resolveAll,tokenize:C9};function C9(t,e,n){const r=this;return i;function i(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const Xm={name:"lineEnding",tokenize:R9};function R9(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Et(t,e,"linePrefix")}}const Rh={name:"thematicBreak",tokenize:k9};function k9(t,e,n){let r=0,i;return o;function o(p){return t.enter("thematicBreak"),u(p)}function u(p){return i=p,l(p)}function l(p){return p===i?(t.enter("thematicBreakSequence"),d(p)):r>=3&&(p===null||ze(p))?(t.exit("thematicBreak"),e(p)):n(p)}function d(p){return p===i?(t.consume(p),r++,d):(t.exit("thematicBreakSequence"),ct(p)?Et(t,l,"whitespace")(p):l(p))}}const Yn={continuation:{tokenize:O9},exit:L9,name:"list",tokenize:P9},N9={partial:!0,tokenize:M9},x9={partial:!0,tokenize:D9};function P9(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,u=0;return l;function l(I){const N=r.containerState.type||(I===42||I===43||I===45?"listUnordered":"listOrdered");if(N==="listUnordered"?!r.containerState.marker||I===r.containerState.marker:Kg(I)){if(r.containerState.type||(r.containerState.type=N,t.enter(N,{_container:!0})),N==="listUnordered")return t.enter("listItemPrefix"),I===42||I===45?t.check(Rh,n,p)(I):p(I);if(!r.interrupt||I===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(I)}return n(I)}function d(I){return Kg(I)&&++u<10?(t.consume(I),d):(!r.interrupt||u<2)&&(r.containerState.marker?I===r.containerState.marker:I===41||I===46)?(t.exit("listItemValue"),p(I)):n(I)}function p(I){return t.enter("listItemMarker"),t.consume(I),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||I,t.check(Mf,r.interrupt?n:m,t.attempt(N9,b,E))}function m(I){return r.containerState.initialBlankLine=!0,o++,b(I)}function E(I){return ct(I)?(t.enter("listItemPrefixWhitespace"),t.consume(I),t.exit("listItemPrefixWhitespace"),b):n(I)}function b(I){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(I)}}function O9(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Mf,i,o);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Et(t,e,"listItemIndent",r.containerState.size+1)(l)}function o(l){return r.containerState.furtherBlankLines||!ct(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(x9,e,u)(l))}function u(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Et(t,t.attempt(Yn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function D9(t,e,n){const r=this;return Et(t,i,"listItemIndent",r.containerState.size+1);function i(o){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(o):n(o)}}function L9(t){t.exit(this.containerState.type)}function M9(t,e,n){const r=this;return Et(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const u=r.events[r.events.length-1];return!ct(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const Hv={name:"setextUnderline",resolveTo:F9,tokenize:U9};function F9(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",u,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function U9(t,e,n){const r=this;let i;return o;function o(p){let m=r.events.length,E;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){E=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||E)?(t.enter("setextHeadingLine"),i=p,u(p)):n(p)}function u(p){return t.enter("setextHeadingLineSequence"),l(p)}function l(p){return p===i?(t.consume(p),l):(t.exit("setextHeadingLineSequence"),ct(p)?Et(t,d,"lineSuffix")(p):d(p))}function d(p){return p===null||ze(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}const B9={tokenize:V9};function V9(t){const e=this,n=t.attempt(Mf,r,t.attempt(this.parser.constructs.flowInitial,i,Et(t,t.attempt(this.parser.constructs.flow,i,t.attempt(W5,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const j9={resolveAll:FS()},H9=MS("string"),z9=MS("text");function MS(t){return{resolveAll:FS(t==="text"?q9:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,u,l);return u;function u(m){return p(m)?o(m):l(m)}function l(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),d}function d(m){return p(m)?(n.exit("data"),o(m)):(n.consume(m),d)}function p(m){if(m===null)return!0;const E=i[m];let b=-1;if(E)for(;++b<E.length;){const I=E[b];if(!I.previous||I.previous.call(r,r.previous))return!0}return!1}}}function FS(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function q9(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,u=-1,l=0,d;for(;o--;){const p=i[o];if(typeof p=="string"){for(u=p.length;p.charCodeAt(u-1)===32;)l++,u--;if(u)break;u=-1}else if(p===-2)d=!0,l++;else if(p!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const p={type:n===t.length||d||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:r.start._bufferIndex+u,_index:r.start._index+o,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}const W9={42:Yn,43:Yn,45:Yn,48:Yn,49:Yn,50:Yn,51:Yn,52:Yn,53:Yn,54:Yn,55:Yn,56:Yn,57:Yn,62:kS},$9={91:Q5},Y9={[-2]:Qm,[-1]:Qm,32:Qm},G9={35:n9,42:Rh,45:[Hv,Rh],60:o9,61:Hv,95:Rh,96:Vv,126:Vv},K9={38:xS,92:NS},Q9={[-5]:Xm,[-4]:Xm,[-3]:Xm,33:A9,38:xS,42:Qg,60:[S5,f9],91:S9,92:[e9,NS],93:Sy,95:Qg,96:B5},X9={null:[Qg,j9]},J9={null:[42,95]},Z9={null:[]},eU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:J9,contentInitial:$9,disable:Z9,document:W9,flow:G9,flowInitial:Y9,insideSpan:X9,string:K9,text:Q9},Symbol.toStringTag,{value:"Module"}));function tU(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let u=[],l=[];const d={attempt:H(_e),check:H(Z),consume:re,enter:$,exit:G,interrupt:H(Z,{interrupt:!0})},p={code:null,containerState:{},defineSkip:F,events:[],now:N,parser:t,previous:null,sliceSerialize:b,sliceStream:I,write:E};let m=e.tokenize.call(p,d);return e.resolveAll&&o.push(e),p;function E(P){return u=Cr(u,P),U(),u[u.length-1]!==null?[]:(x(e,0),p.events=wy(o,p.events,p),p.events)}function b(P,O){return rU(I(P),O)}function I(P){return nU(u,P)}function N(){const{_bufferIndex:P,_index:O,line:C,column:te,offset:ae}=r;return{_bufferIndex:P,_index:O,line:C,column:te,offset:ae}}function F(P){i[P.line]=P.column,j()}function U(){let P;for(;r._index<u.length;){const O=u[r._index];if(typeof O=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<O.length;)q(O.charCodeAt(r._bufferIndex));else q(O)}}function q(P){m=m(P)}function re(P){ze(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,j()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=P}function $(P,O){const C=O||{};return C.type=P,C.start=N(),p.events.push(["enter",C,p]),l.push(C),C}function G(P){const O=l.pop();return O.end=N(),p.events.push(["exit",O,p]),O}function _e(P,O){x(P,O.from)}function Z(P,O){O.restore()}function H(P,O){return C;function C(te,ae,Ce){let K,ie,Ie,R;return Array.isArray(te)?le(te):"tokenize"in te?le([te]):W(te);function W(De){return Xe;function Xe(Qe){const at=Qe!==null&&De[Qe],_t=Qe!==null&&De.null,Mn=[...Array.isArray(at)?at:at?[at]:[],...Array.isArray(_t)?_t:_t?[_t]:[]];return le(Mn)(Qe)}}function le(De){return K=De,ie=0,De.length===0?Ce:L(De[ie])}function L(De){return Xe;function Xe(Qe){return R=M(),Ie=De,De.partial||(p.currentConstruct=De),De.name&&p.parser.constructs.disable.null.includes(De.name)?je():De.tokenize.call(O?Object.assign(Object.create(p),O):p,d,Oe,je)(Qe)}}function Oe(De){return P(Ie,R),ae}function je(De){return R.restore(),++ie<K.length?L(K[ie]):Ce}}}function x(P,O){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&Ri(p.events,O,p.events.length-O,P.resolve(p.events.slice(O),p)),P.resolveTo&&(p.events=P.resolveTo(p.events,p))}function M(){const P=N(),O=p.previous,C=p.currentConstruct,te=p.events.length,ae=Array.from(l);return{from:te,restore:Ce};function Ce(){r=P,p.previous=O,p.currentConstruct=C,p.events.length=te,l=ae,j()}}function j(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function nU(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let u;if(n===i)u=[t[n].slice(r,o)];else{if(u=t.slice(n,i),r>-1){const l=u[0];typeof l=="string"?u[0]=l.slice(r):u.shift()}o>0&&u.push(t[i].slice(0,o))}return u}function rU(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&i)continue;u=" ";break}default:u=String.fromCharCode(o)}i=o===-2,r.push(u)}return r.join("")}function iU(t){const r={constructs:d5([eU,...(t||{}).extensions||[]]),content:i(_5),defined:[],document:i(v5),flow:i(B9),lazy:{},string:i(H9),text:i(z9)};return r;function i(o){return u;function u(l){return tU(r,o,l)}}}function sU(t){for(;!PS(t););return t}const zv=/[\0\t\n\r]/g;function oU(){let t=1,e="",n=!0,r;return i;function i(o,u,l){const d=[];let p,m,E,b,I;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),E=0,e="",n&&(o.charCodeAt(0)===65279&&E++,n=void 0);E<o.length;){if(zv.lastIndex=E,p=zv.exec(o),b=p&&p.index!==void 0?p.index:o.length,I=o.charCodeAt(b),!p){e=o.slice(E);break}if(I===10&&E===b&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),E<b&&(d.push(o.slice(E,b)),t+=b-E),I){case 0:{d.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,d.push(-2);t++<m;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}E=b+1}return l&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}const aU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function uU(t){return t.replace(aU,lU)}function lU(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return RS(n.slice(o?2:1),o?16:10)}return Ay(n)||t}const US={}.hasOwnProperty;function cU(t,e,n){return typeof e!="string"&&(n=e,e=void 0),dU(n)(sU(iU(n).document().write(oU()(t,e,!0))))}function dU(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Pi),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(xi),blockQuote:o(_t),characterEscape:M,characterReference:M,codeFenced:o(Mn),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Mn,u),codeText:o(os,u),codeTextData:M,data:M,codeFlowValue:M,definition:o(oi),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(Ni),hardBreakEscape:o(as),hardBreakTrailing:o(as),htmlFlow:o(us,u),htmlFlowData:M,htmlText:o(us,u),htmlTextData:M,image:o(ha),label:u,link:o(Pi),listItem:o(Dr),listItemValue:b,listOrdered:o(pr,E),listUnordered:o(pr),paragraph:o(fo),reference:L,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(xi),strong:o(ls),thematicBreak:o(po)},exit:{atxHeading:d(),atxHeadingSequence:_e,autolink:d(),autolinkEmail:at,autolinkProtocol:Qe,blockQuote:d(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:je,characterReferenceMarkerNumeric:je,characterReferenceValue:De,characterReference:Xe,codeFenced:d(U),codeFencedFence:F,codeFencedFenceInfo:I,codeFencedFenceMeta:N,codeFlowValue:j,codeIndented:d(q),codeText:d(ae),codeTextData:j,data:j,definition:d(),definitionDestinationString:G,definitionLabelString:re,definitionTitleString:$,emphasis:d(),hardBreakEscape:d(O),hardBreakTrailing:d(O),htmlFlow:d(C),htmlFlowData:j,htmlText:d(te),htmlTextData:j,image:d(K),label:Ie,labelText:ie,lineEnding:P,link:d(Ce),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Oe,resourceDestinationString:R,resourceTitleString:W,resource:le,setextHeading:d(x),setextHeadingLineSequence:H,setextHeadingText:Z,strong:d(),thematicBreak:d()}};BS(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(se){let ge={type:"root",children:[]};const Me={stack:[ge],tokenStack:[],config:e,enter:l,exit:p,buffer:u,resume:m,data:n},Ke=[];let tt=-1;for(;++tt<se.length;)if(se[tt][1].type==="listOrdered"||se[tt][1].type==="listUnordered")if(se[tt][0]==="enter")Ke.push(tt);else{const Yt=Ke.pop();tt=i(se,Yt,tt)}for(tt=-1;++tt<se.length;){const Yt=e[se[tt][0]];US.call(Yt,se[tt][1].type)&&Yt[se[tt][1].type].call(Object.assign({sliceSerialize:se[tt][2].sliceSerialize},Me),se[tt][1])}if(Me.tokenStack.length>0){const Yt=Me.tokenStack[Me.tokenStack.length-1];(Yt[1]||qv).call(Me,void 0,Yt[0])}for(ge.position={start:Ms(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:Ms(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},tt=-1;++tt<e.transforms.length;)ge=e.transforms[tt](ge)||ge;return ge}function i(se,ge,Me){let Ke=ge-1,tt=-1,Yt=!1,Rn,kn,Lr,Mr;for(;++Ke<=Me;){const Gt=se[Ke];switch(Gt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Gt[0]==="enter"?tt++:tt--,Mr=void 0;break}case"lineEndingBlank":{Gt[0]==="enter"&&(Rn&&!Mr&&!tt&&!Lr&&(Lr=Ke),Mr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Mr=void 0}if(!tt&&Gt[0]==="enter"&&Gt[1].type==="listItemPrefix"||tt===-1&&Gt[0]==="exit"&&(Gt[1].type==="listUnordered"||Gt[1].type==="listOrdered")){if(Rn){let mr=Ke;for(kn=void 0;mr--;){const ln=se[mr];if(ln[1].type==="lineEnding"||ln[1].type==="lineEndingBlank"){if(ln[0]==="exit")continue;kn&&(se[kn][1].type="lineEndingBlank",Yt=!0),ln[1].type="lineEnding",kn=mr}else if(!(ln[1].type==="linePrefix"||ln[1].type==="blockQuotePrefix"||ln[1].type==="blockQuotePrefixWhitespace"||ln[1].type==="blockQuoteMarker"||ln[1].type==="listItemIndent"))break}Lr&&(!kn||Lr<kn)&&(Rn._spread=!0),Rn.end=Object.assign({},kn?se[kn][1].start:Gt[1].end),se.splice(kn||Ke,0,["exit",Rn,Gt[2]]),Ke++,Me++}if(Gt[1].type==="listItemPrefix"){const mr={type:"listItem",_spread:!1,start:Object.assign({},Gt[1].start),end:void 0};Rn=mr,se.splice(Ke,0,["enter",mr,Gt[2]]),Ke++,Me++,Lr=void 0,Mr=!0}}}return se[ge][1]._spread=Yt,Me}function o(se,ge){return Me;function Me(Ke){l.call(this,se(Ke),Ke),ge&&ge.call(this,Ke)}}function u(){this.stack.push({type:"fragment",children:[]})}function l(se,ge,Me){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([ge,Me||void 0]),se.position={start:Ms(ge.start),end:void 0}}function d(se){return ge;function ge(Me){se&&se.call(this,Me),p.call(this,Me)}}function p(se,ge){const Me=this.stack.pop(),Ke=this.tokenStack.pop();if(Ke)Ke[0].type!==se.type&&(ge?ge.call(this,se,Ke[0]):(Ke[1]||qv).call(this,se,Ke[0]));else throw new Error("Cannot close `"+se.type+"` ("+Jl({start:se.start,end:se.end})+"): its not open");Me.position.end=Ms(se.end)}function m(){return l5(this.stack.pop())}function E(){this.data.expectingFirstListItemValue=!0}function b(se){if(this.data.expectingFirstListItemValue){const ge=this.stack[this.stack.length-2];ge.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function I(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.lang=se}function N(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.meta=se}function F(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function U(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function q(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.value=se.replace(/(\r?\n|\r)$/g,"")}function re(se){const ge=this.resume(),Me=this.stack[this.stack.length-1];Me.label=ge,Me.identifier=gu(this.sliceSerialize(se)).toLowerCase()}function $(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.title=se}function G(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.url=se}function _e(se){const ge=this.stack[this.stack.length-1];if(!ge.depth){const Me=this.sliceSerialize(se).length;ge.depth=Me}}function Z(){this.data.setextHeadingSlurpLineEnding=!0}function H(se){const ge=this.stack[this.stack.length-1];ge.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function x(){this.data.setextHeadingSlurpLineEnding=void 0}function M(se){const Me=this.stack[this.stack.length-1].children;let Ke=Me[Me.length-1];(!Ke||Ke.type!=="text")&&(Ke=cs(),Ke.position={start:Ms(se.start),end:void 0},Me.push(Ke)),this.stack.push(Ke)}function j(se){const ge=this.stack.pop();ge.value+=this.sliceSerialize(se),ge.position.end=Ms(se.end)}function P(se){const ge=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Me=ge.children[ge.children.length-1];Me.position.end=Ms(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ge.type)&&(M.call(this,se),j.call(this,se))}function O(){this.data.atHardBreak=!0}function C(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.value=se}function te(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.value=se}function ae(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.value=se}function Ce(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=ge,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function K(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=ge,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function ie(se){const ge=this.sliceSerialize(se),Me=this.stack[this.stack.length-2];Me.label=uU(ge),Me.identifier=gu(ge).toLowerCase()}function Ie(){const se=this.stack[this.stack.length-1],ge=this.resume(),Me=this.stack[this.stack.length-1];if(this.data.inReference=!0,Me.type==="link"){const Ke=se.children;Me.children=Ke}else Me.alt=ge}function R(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.url=se}function W(){const se=this.resume(),ge=this.stack[this.stack.length-1];ge.title=se}function le(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function Oe(se){const ge=this.resume(),Me=this.stack[this.stack.length-1];Me.label=ge,Me.identifier=gu(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function je(se){this.data.characterReferenceType=se.type}function De(se){const ge=this.sliceSerialize(se),Me=this.data.characterReferenceType;let Ke;Me?(Ke=RS(ge,Me==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ke=Ay(ge);const tt=this.stack[this.stack.length-1];tt.value+=Ke}function Xe(se){const ge=this.stack.pop();ge.position.end=Ms(se.end)}function Qe(se){j.call(this,se);const ge=this.stack[this.stack.length-1];ge.url=this.sliceSerialize(se)}function at(se){j.call(this,se);const ge=this.stack[this.stack.length-1];ge.url="mailto:"+this.sliceSerialize(se)}function _t(){return{type:"blockquote",children:[]}}function Mn(){return{type:"code",lang:null,meta:null,value:""}}function os(){return{type:"inlineCode",value:""}}function oi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ni(){return{type:"emphasis",children:[]}}function xi(){return{type:"heading",depth:0,children:[]}}function as(){return{type:"break"}}function us(){return{type:"html",value:""}}function ha(){return{type:"image",title:null,url:"",alt:null}}function Pi(){return{type:"link",title:null,url:"",children:[]}}function pr(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function Dr(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function fo(){return{type:"paragraph",children:[]}}function ls(){return{type:"strong",children:[]}}function cs(){return{type:"text",value:""}}function po(){return{type:"thematicBreak"}}}function Ms(t){return{line:t.line,column:t.column,offset:t.offset}}function BS(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?BS(t,r):hU(t,r)}}function hU(t,e){let n;for(n in e)if(US.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function qv(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Jl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Jl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Jl({start:e.start,end:e.end})+") is still open")}function fU(t){const e=this;e.parser=n;function n(r){return cU(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function pU(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function mU(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function gU(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function yU(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function EU(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function _U(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Uu(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let u,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=o+1,l+=1,t.footnoteCounts.set(r,l);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,d);const p={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,p),t.applyData(e,p)}function TU(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function vU(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function VS(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const u=i[i.length-1];return u&&u.type==="text"?u.value+=r:i.push({type:"text",value:r}),i}function bU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return VS(t,e);const i={src:Uu(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function IU(t,e){const n={src:Uu(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function AU(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function wU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return VS(t,e);const i={href:Uu(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function SU(t,e){const n={href:Uu(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function CU(t,e,n){const r=t.all(e),i=n?RU(n):jS(e),o={},u=[];if(typeof e.checked=="boolean"){const m=r[0];let E;m&&m.type==="element"&&m.tagName==="p"?E=m:(E={type:"element",tagName:"p",properties:{},children:[]},r.unshift(E)),E.children.length>0&&E.children.unshift({type:"text",value:" "}),E.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const m=r[l];(i||l!==0||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!i?u.push(...m.children):u.push(m)}const d=r[r.length-1];d&&(i||d.type!=="element"||d.tagName!=="p")&&u.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,p),t.applyData(e,p)}function RU(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=jS(n[r])}return e}function jS(t){const e=t.spread;return e??t.children.length>1}function kU(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const u=r[i];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function NU(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xU(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function PU(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function OU(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),i.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=ki(e.children[1]),d=Lf(e.children[e.children.length-1]);l&&d&&(u.position={start:l,end:d}),i.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function DU(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,l=u?u.length:e.children.length;let d=-1;const p=[];for(;++d<l;){const E=e.children[d],b={},I=u?u[d]:void 0;I&&(b.align=I);let N={type:"element",tagName:o,properties:b,children:[]};E&&(N.children=t.all(E),t.patch(E,N),N=t.applyData(E,N)),p.push(N)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(e,m),t.applyData(e,m)}function LU(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Wv=9,$v=32;function MU(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(Yv(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(Yv(e.slice(i),i>0,!1)),o.join("")}function Yv(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===Wv||o===$v;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===Wv||o===$v;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function FU(t,e){const n={type:"text",value:MU(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function UU(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const BU={blockquote:pU,break:mU,code:gU,delete:yU,emphasis:EU,footnoteReference:_U,heading:TU,html:vU,imageReference:bU,image:IU,inlineCode:AU,linkReference:wU,link:SU,listItem:CU,list:kU,paragraph:NU,root:xU,strong:PU,table:OU,tableCell:LU,tableRow:DU,text:FU,thematicBreak:UU,toml:ph,yaml:ph,definition:ph,footnoteDefinition:ph};function ph(){}const HS=-1,Ff=0,ec=1,ef=2,Cy=3,Ry=4,ky=5,Ny=6,zS=7,qS=8,Gv=typeof self=="object"?self:globalThis,VU=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,u]=e[i];switch(o){case Ff:case HS:return n(u,i);case ec:{const l=n([],i);for(const d of u)l.push(r(d));return l}case ef:{const l=n({},i);for(const[d,p]of u)l[r(d)]=r(p);return l}case Cy:return n(new Date(u),i);case Ry:{const{source:l,flags:d}=u;return n(new RegExp(l,d),i)}case ky:{const l=n(new Map,i);for(const[d,p]of u)l.set(r(d),r(p));return l}case Ny:{const l=n(new Set,i);for(const d of u)l.add(r(d));return l}case zS:{const{name:l,message:d}=u;return n(new Gv[l](d),i)}case qS:return n(BigInt(u),i);case"BigInt":return n(Object(BigInt(u)),i);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:l}=new Uint8Array(u);return n(new DataView(l),u)}}return n(new Gv[o](u),i)};return r},Kv=t=>VU(new Map,t)(0),ru="",{toString:jU}={},{keys:HU}=Object,Ll=t=>{const e=typeof t;if(e!=="object"||!t)return[Ff,e];const n=jU.call(t).slice(8,-1);switch(n){case"Array":return[ec,ru];case"Object":return[ef,ru];case"Date":return[Cy,ru];case"RegExp":return[Ry,ru];case"Map":return[ky,ru];case"Set":return[Ny,ru];case"DataView":return[ec,n]}return n.includes("Array")?[ec,n]:n.includes("Error")?[zS,n]:[ef,n]},mh=([t,e])=>t===Ff&&(e==="function"||e==="symbol"),zU=(t,e,n,r)=>{const i=(u,l)=>{const d=r.push(u)-1;return n.set(l,d),d},o=u=>{if(n.has(u))return n.get(u);let[l,d]=Ll(u);switch(l){case Ff:{let m=u;switch(d){case"bigint":l=qS,m=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);m=null;break;case"undefined":return i([HS],u)}return i([l,m],u)}case ec:{if(d){let b=u;return d==="DataView"?b=new Uint8Array(u.buffer):d==="ArrayBuffer"&&(b=new Uint8Array(u)),i([d,[...b]],u)}const m=[],E=i([l,m],u);for(const b of u)m.push(o(b));return E}case ef:{if(d)switch(d){case"BigInt":return i([d,u.toString()],u);case"Boolean":case"Number":case"String":return i([d,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const m=[],E=i([l,m],u);for(const b of HU(u))(t||!mh(Ll(u[b])))&&m.push([o(b),o(u[b])]);return E}case Cy:return i([l,u.toISOString()],u);case Ry:{const{source:m,flags:E}=u;return i([l,{source:m,flags:E}],u)}case ky:{const m=[],E=i([l,m],u);for(const[b,I]of u)(t||!(mh(Ll(b))||mh(Ll(I))))&&m.push([o(b),o(I)]);return E}case Ny:{const m=[],E=i([l,m],u);for(const b of u)(t||!mh(Ll(b)))&&m.push(o(b));return E}}const{message:p}=u;return i([l,{name:d,message:p}],u)};return o},Qv=(t,{json:e,lossy:n}={})=>{const r=[];return zU(!(e||n),!!e,new Map,r)(t),r},wu=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Kv(Qv(t,e)):structuredClone(t):(t,e)=>Kv(Qv(t,e));function qU(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function WU(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function $U(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||qU,r=t.options.footnoteBackLabel||WU,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let d=-1;for(;++d<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[d]);if(!p)continue;const m=t.all(p),E=String(p.identifier).toUpperCase(),b=Uu(E.toLowerCase());let I=0;const N=[],F=t.footnoteCounts.get(E);for(;F!==void 0&&++I<=F;){N.length>0&&N.push({type:"text",value:" "});let re=typeof n=="string"?n:n(d,I);typeof re=="string"&&(re={type:"text",value:re}),N.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+b+(I>1?"-"+I:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,I),className:["data-footnote-backref"]},children:Array.isArray(re)?re:[re]})}const U=m[m.length-1];if(U&&U.type==="element"&&U.tagName==="p"){const re=U.children[U.children.length-1];re&&re.type==="text"?re.value+=" ":U.children.push({type:"text",value:" "}),U.children.push(...N)}else m.push(...N);const q={type:"element",tagName:"li",properties:{id:e+"fn-"+b},children:t.wrap(m,!0)};t.patch(p,q),l.push(q)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...wu(u),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const WS=function(t){if(t==null)return QU;if(typeof t=="function")return Uf(t);if(typeof t=="object")return Array.isArray(t)?YU(t):GU(t);if(typeof t=="string")return KU(t);throw new Error("Expected function, string, or object as test")};function YU(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=WS(t[n]);return Uf(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function GU(t){const e=t;return Uf(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function KU(t){return Uf(e);function e(n){return n&&n.type===t}}function Uf(t){return e;function e(n,r,i){return!!(XU(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function QU(){return!0}function XU(t){return t!==null&&typeof t=="object"&&"type"in t}const $S=[],JU=!0,Xv=!1,ZU="skip";function e8(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=WS(i),u=r?-1:1;l(t,void 0,[])();function l(d,p,m){const E=d&&typeof d=="object"?d:{};if(typeof E.type=="string"){const I=typeof E.tagName=="string"?E.tagName:typeof E.name=="string"?E.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(d.type+(I?"<"+I+">":""))+")"})}return b;function b(){let I=$S,N,F,U;if((!e||o(d,p,m[m.length-1]||void 0))&&(I=t8(n(d,m)),I[0]===Xv))return I;if("children"in d&&d.children){const q=d;if(q.children&&I[0]!==ZU)for(F=(r?q.children.length:-1)+u,U=m.concat(q);F>-1&&F<q.children.length;){const re=q.children[F];if(N=l(re,F,U)(),N[0]===Xv)return N;F=typeof N[1]=="number"?N[1]:F+u}}return I}}}function t8(t){return Array.isArray(t)?t:typeof t=="number"?[JU,t]:t==null?$S:[t]}function xy(t,e,n,r){let i,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,i=n):(o=e,u=n,i=r),e8(t,o,l,i);function l(d,p){const m=p[p.length-1],E=m?m.children.indexOf(d):void 0;return u(d,E,m)}}const Xg={}.hasOwnProperty,n8={};function r8(t,e){const n=e||n8,r=new Map,i=new Map,o=new Map,u={...BU,...n.handlers},l={all:p,applyData:s8,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:u,one:d,options:n,patch:i8,wrap:a8};return xy(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const E=m.type==="definition"?r:i,b=String(m.identifier).toUpperCase();E.has(b)||E.set(b,m)}}),l;function d(m,E){const b=m.type,I=l.handlers[b];if(Xg.call(l.handlers,b)&&I)return I(l,m,E);if(l.options.passThrough&&l.options.passThrough.includes(b)){if("children"in m){const{children:F,...U}=m,q=wu(U);return q.children=l.all(m),q}return wu(m)}return(l.options.unknownHandler||o8)(l,m,E)}function p(m){const E=[];if("children"in m){const b=m.children;let I=-1;for(;++I<b.length;){const N=l.one(b[I],m);if(N){if(I&&b[I-1].type==="break"&&(!Array.isArray(N)&&N.type==="text"&&(N.value=Jv(N.value)),!Array.isArray(N)&&N.type==="element")){const F=N.children[0];F&&F.type==="text"&&(F.value=Jv(F.value))}Array.isArray(N)?E.push(...N):E.push(N)}}}return E}}function i8(t,e){t.position&&(e.position=jF(t))}function s8(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,wu(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function o8(t,e){const n=e.data||{},r="value"in e&&!(Xg.call(n,"hProperties")||Xg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function a8(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Jv(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Zv(t,e){const n=r8(t,e),r=n.one(t,void 0),i=$U(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function u8(t,e){return t&&"run"in t?async function(n,r){const i=Zv(n,{file:r,...e});await t.run(i,r)}:function(n,r){return Zv(n,{file:r,...t||e})}}function eb(t){if(t)throw t}var Jm,tb;function l8(){if(tb)return Jm;tb=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},o=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var m=t.call(p,"constructor"),E=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!m&&!E)return!1;var b;for(b in p);return typeof b>"u"||t.call(p,b)},u=function(p,m){n&&m.name==="__proto__"?n(p,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):p[m.name]=m.newValue},l=function(p,m){if(m==="__proto__")if(t.call(p,m)){if(r)return r(p,m).value}else return;return p[m]};return Jm=function d(){var p,m,E,b,I,N,F=arguments[0],U=1,q=arguments.length,re=!1;for(typeof F=="boolean"&&(re=F,F=arguments[1]||{},U=2),(F==null||typeof F!="object"&&typeof F!="function")&&(F={});U<q;++U)if(p=arguments[U],p!=null)for(m in p)E=l(F,m),b=l(p,m),F!==b&&(re&&b&&(o(b)||(I=i(b)))?(I?(I=!1,N=E&&i(E)?E:[]):N=E&&o(E)?E:{},u(F,{name:m,newValue:d(re,N,b)})):typeof b<"u"&&u(F,{name:m,newValue:b}));return F},Jm}var c8=l8();const Zm=is(c8);function Jg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function d8(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const u=i.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);l(null,...i);function l(d,...p){const m=t[++o];let E=-1;if(d){u(d);return}for(;++E<i.length;)(p[E]===null||p[E]===void 0)&&(p[E]=i[E]);i=p,m?h8(m,l)(...p):u(null,...p)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function h8(t,e){let n;return r;function r(...u){const l=t.length>u.length;let d;l&&u.push(i);try{d=t.apply(this,u)}catch(p){const m=p;if(l&&n)throw m;return i(m)}l||(d&&d.then&&typeof d.then=="function"?d.then(o,i):d instanceof Error?i(d):o(d))}function i(u,...l){n||(n=!0,e(u,...l))}function o(u){i(null,u)}}const _i={basename:f8,dirname:p8,extname:m8,join:g8,sep:"/"};function f8(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Fc(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else u<0&&(o=!0,u=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function p8(t){if(Fc(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function m8(t){Fc(t);let e=t.length,n=-1,r=0,i=-1,o=0,u;for(;e--;){const l=t.codePointAt(e);if(l===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),l===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function g8(...t){let e=-1,n;for(;++e<t.length;)Fc(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":y8(n)}function y8(t){Fc(t);const e=t.codePointAt(0)===47;let n=E8(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function E8(t,e){let n="",r=0,i=-1,o=0,u=-1,l,d;for(;++u<=t.length;){if(u<t.length)l=t.codePointAt(u);else{if(l===47)break;l=47}if(l===47){if(!(i===u-1||o===1))if(i!==u-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),i=u,o=0;continue}}else if(n.length>0){n="",r=0,i=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,u):n=t.slice(i+1,u),r=u-i-1;i=u,o=0}else l===46&&o>-1?o++:o=-1}return n}function Fc(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const _8={cwd:T8};function T8(){return"/"}function Zg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function v8(t){if(typeof t=="string")t=new URL(t);else if(!Zg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return b8(t)}function b8(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const eg=["history","path","basename","stem","extname","dirname"];class YS{constructor(e){let n;e?Zg(e)?n={path:e}:typeof e=="string"||I8(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":_8.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<eg.length;){const o=eg[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)eg.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?_i.basename(this.path):void 0}set basename(e){ng(e,"basename"),tg(e,"basename"),this.path=_i.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?_i.dirname(this.path):void 0}set dirname(e){nb(this.basename,"dirname"),this.path=_i.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?_i.extname(this.path):void 0}set extname(e){if(tg(e,"extname"),nb(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_i.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Zg(e)&&(e=v8(e)),ng(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?_i.basename(this.path,this.extname):void 0}set stem(e){ng(e,"stem"),tg(e,"stem"),this.path=_i.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Sn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function tg(t,e){if(t&&t.includes(_i.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+_i.sep+"`")}function ng(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function nb(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function I8(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const A8=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},w8={}.hasOwnProperty;class Py extends A8{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=d8()}copy(){const e=new Py;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Zm(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(sg("data",this.frozen),this.namespace[e]=n,this):w8.call(this.namespace,e)&&this.namespace[e]||void 0:e?(sg("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=gh(e),r=this.parser||this.Parser;return rg("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),rg("process",this.parser||this.Parser),ig("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,u){const l=gh(e),d=r.parse(l);r.run(d,l,function(m,E,b){if(m||!E||!b)return p(m);const I=E,N=r.stringify(I,b);R8(N)?b.value=N:b.result=N,p(m,b)});function p(m,E){m||!E?u(m):o?o(E):n(void 0,E)}}}processSync(e){let n=!1,r;return this.freeze(),rg("processSync",this.parser||this.Parser),ig("processSync",this.compiler||this.Compiler),this.process(e,i),ib("processSync","process",n),r;function i(o,u){n=!0,eb(o),r=u}}run(e,n,r){rb(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(u,l){const d=gh(n);i.run(e,d,p);function p(m,E,b){const I=E||e;m?l(m):u?u(I):r(void 0,I,b)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),ib("runSync","run",r),i;function o(u,l){eb(u),i=l,r=!0}}stringify(e,n){this.freeze();const r=gh(n),i=this.compiler||this.Compiler;return ig("stringify",i),rb(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(sg("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(p){if(typeof p=="function")d(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[m,...E]=p;d(m,E)}else u(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function u(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(p.plugins),p.settings&&(i.settings=Zm(!0,i.settings,p.settings))}function l(p){let m=-1;if(p!=null)if(Array.isArray(p))for(;++m<p.length;){const E=p[m];o(E)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function d(p,m){let E=-1,b=-1;for(;++E<r.length;)if(r[E][0]===p){b=E;break}if(b===-1)r.push([p,...m]);else if(m.length>0){let[I,...N]=m;const F=r[b][1];Jg(F)&&Jg(I)&&(I=Zm(!0,F,I)),r[b]=[p,I,...N]}}}}const S8=new Py().freeze();function rg(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function ig(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function sg(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function rb(t){if(!Jg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function ib(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function gh(t){return C8(t)?t:new YS(t)}function C8(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function R8(t){return typeof t=="string"||k8(t)}function k8(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const N8="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",sb=[],ob={allowDangerousHtml:!0},x8=/^(https?|ircs?|mailto|xmpp)$/i,P8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function O8(t){const e=D8(t),n=L8(t);return M8(e.runSync(e.parse(n),n),t)}function D8(t){const e=t.rehypePlugins||sb,n=t.remarkPlugins||sb,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...ob}:ob;return S8().use(fU).use(n).use(u8,r).use(e)}function L8(t){const e=t.children||"",n=new YS;return typeof e=="string"&&(n.value=e),n}function M8(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,u=e.skipHtml,l=e.unwrapDisallowed,d=e.urlTransform||F8;for(const m of P8)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+N8+m.id,void 0);return xy(t,p),$F(t,{Fragment:v.Fragment,components:i,ignoreInvalidStyle:!0,jsx:v.jsx,jsxs:v.jsxs,passKeys:!0,passNode:!0});function p(m,E,b){if(m.type==="raw"&&b&&typeof E=="number")return u?b.children.splice(E,1):b.children[E]={type:"text",value:m.value},E;if(m.type==="element"){let I;for(I in Km)if(Object.hasOwn(Km,I)&&Object.hasOwn(m.properties,I)){const N=m.properties[I],F=Km[I];(F===null||F.includes(m.tagName))&&(m.properties[I]=d(String(N||""),I,m))}}if(m.type==="element"){let I=n?!n.includes(m.tagName):o?o.includes(m.tagName):!1;if(!I&&r&&typeof E=="number"&&(I=!r(m,E,b)),I&&b&&typeof E=="number")return l&&m.children?b.children.splice(E,1,...m.children):b.children.splice(E,1),E}}}function F8(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||x8.test(t.slice(0,e))?t:""}const ab=/[#.]/g;function U8(t,e){const n=t||"",r={};let i=0,o,u;for(;i<n.length;){ab.lastIndex=i;const l=ab.exec(n),d=n.slice(i,l?l.index:n.length);d&&(o?o==="#"?r.id=d:Array.isArray(r.className)?r.className.push(d):r.className=[d]:u=d,i+=d.length),l&&(o=l[0],i++)}return{type:"element",tagName:u||e||"div",properties:r,children:[]}}function GS(t,e,n){const r=n?H8(n):void 0;function i(o,u,...l){let d;if(o==null){d={type:"root",children:[]};const p=u;l.unshift(p)}else{d=U8(o,e);const p=d.tagName.toLowerCase(),m=r?r.get(p):void 0;if(d.tagName=m||p,B8(u))l.unshift(u);else for(const[E,b]of Object.entries(u))V8(t,d.properties,E,b)}for(const p of l)e0(d.children,p);return d.type==="element"&&d.tagName==="template"&&(d.content={type:"root",children:d.children},d.children=[]),d}return i}function B8(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const u of o)if(typeof u!="number"&&typeof u!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function V8(t,e,n,r){const i=Ty(t,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=Sv(r):i.commaSeparated?o=vv(r):i.commaOrSpaceSeparated?o=Sv(vv(r).join(" ")):o=ub(i,i.property,r):Array.isArray(r)?o=[...r]:o=i.property==="style"?j8(r):String(r);if(Array.isArray(o)){const u=[];for(const l of o)u.push(ub(i,i.property,l));o=u}i.property==="className"&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[i.property]=o}}function e0(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)e0(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?e0(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function ub(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||vc(n)===vc(e)))return!0}return n}function j8(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function H8(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const z8=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],q8=GS(Df,"div"),W8=GS(Fu,"g",z8);function $8(t){const e=String(t),n=[];return{toOffset:i,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=e.length){let u=0;for(;;){let l=n[u];if(l===void 0){const d=lb(e,n[u-1]);l=d===-1?e.length+1:d+1,n[u]=l}if(l>o)return{line:u+1,column:o-(u>0?n[u-1]:0)+1,offset:o};u++}}}function i(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const l=n[n.length-1],d=lb(e,l),p=d===-1?e.length+1:d+1;if(l===p)break;n.push(p)}const u=(o.line>1?n[o.line-2]:0)+o.column-1;if(u<n[o.line-1])return u}}}function lb(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const qo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},KS={}.hasOwnProperty,Y8=Object.prototype;function G8(t,e){const n=e||{};return Oy({file:n.file||void 0,location:!1,schema:n.space==="svg"?Fu:Df,verbose:n.verbose||!1},t)}function Oy(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},kh(t,r,n),n}case"#document":case"#document-fragment":{const r=e,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:QS(t,e.childNodes),data:{quirksMode:i}},t.file&&t.location){const o=String(t.file),u=$8(o),l=u.toPoint(0),d=u.toPoint(o.length);n.position={start:l,end:d}}return n}case"#documentType":{const r=e;return n={type:"doctype"},kh(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},kh(t,r,n),n}default:return n=K8(t,e),n}}function QS(t,e){let n=-1;const r=[];for(;++n<e.length;){const i=Oy(t,e[n]);r.push(i)}return r}function K8(t,e){const n=t.schema;t.schema=e.namespaceURI===qo.svg?Fu:Df;let r=-1;const i={};for(;++r<e.attrs.length;){const l=e.attrs[r],d=(l.prefix?l.prefix+":":"")+l.name;KS.call(Y8,d)||(i[d]=l.value)}const u=(t.schema.space==="svg"?W8:q8)(e.tagName,i,QS(t,e.childNodes));if(kh(t,e,u),u.tagName==="template"){const l=e,d=l.sourceCodeLocation,p=d&&d.startTag&&uu(d.startTag),m=d&&d.endTag&&uu(d.endTag),E=Oy(t,l.content);p&&m&&t.file&&(E.position={start:p.end,end:m.start}),u.content=E}return t.schema=n,u}function kh(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=Q8(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function Q8(t,e,n){const r=uu(n);if(e.type==="element"){const i=e.children[e.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),t.verbose){const o={};let u;if(n.attrs)for(u in n.attrs)KS.call(n.attrs,u)&&(o[Ty(t.schema,u).property]=uu(n.attrs[u]));n.startTag;const l=uu(n.startTag),d=n.endTag?uu(n.endTag):void 0,p={opening:l};d&&(p.closing=d),p.properties=o,e.data={position:p}}}return r}function uu(t){const e=cb({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=cb({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function cb(t){return t.line&&t.column?t:void 0}class Uc{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Uc.prototype.property={};Uc.prototype.normal={};Uc.prototype.space=null;function XS(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Uc(n,r,e)}function t0(t){return t.toLowerCase()}class Or{constructor(e,n){this.property=e,this.attribute=n}}Or.prototype.space=null;Or.prototype.boolean=!1;Or.prototype.booleanish=!1;Or.prototype.overloadedBoolean=!1;Or.prototype.number=!1;Or.prototype.commaSeparated=!1;Or.prototype.spaceSeparated=!1;Or.prototype.commaOrSpaceSeparated=!1;Or.prototype.mustUseProperty=!1;Or.prototype.defined=!1;let X8=0;const Ge=ca(),Wt=ca(),JS=ca(),ve=ca(),yt=ca(),yu=ca(),lr=ca();function ca(){return 2**++X8}const n0=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:Wt,commaOrSpaceSeparated:lr,commaSeparated:yu,number:ve,overloadedBoolean:JS,spaceSeparated:yt},Symbol.toStringTag,{value:"Module"})),og=Object.keys(n0);class Dy extends Or{constructor(e,n,r,i){let o=-1;if(super(e,n),db(this,"space",i),typeof r=="number")for(;++o<og.length;){const u=og[o];db(this,og[o],(r&n0[u])===n0[u])}}}Dy.prototype.defined=!0;function db(t,e,n){n&&(t[e]=n)}const J8={}.hasOwnProperty;function Bu(t){const e={},n={};let r;for(r in t.properties)if(J8.call(t.properties,r)){const i=t.properties[r],o=new Dy(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[t0(r)]=r,n[t0(o.attribute)]=r}return new Uc(e,n,t.space)}const ZS=Bu({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),eC=Bu({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function tC(t,e){return e in t?t[e]:e}function nC(t,e){return tC(t,e.toLowerCase())}const rC=Bu({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:nC,properties:{xmlns:null,xmlnsXLink:null}}),iC=Bu({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Wt,ariaAutoComplete:null,ariaBusy:Wt,ariaChecked:Wt,ariaColCount:ve,ariaColIndex:ve,ariaColSpan:ve,ariaControls:yt,ariaCurrent:null,ariaDescribedBy:yt,ariaDetails:null,ariaDisabled:Wt,ariaDropEffect:yt,ariaErrorMessage:null,ariaExpanded:Wt,ariaFlowTo:yt,ariaGrabbed:Wt,ariaHasPopup:null,ariaHidden:Wt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yt,ariaLevel:ve,ariaLive:null,ariaModal:Wt,ariaMultiLine:Wt,ariaMultiSelectable:Wt,ariaOrientation:null,ariaOwns:yt,ariaPlaceholder:null,ariaPosInSet:ve,ariaPressed:Wt,ariaReadOnly:Wt,ariaRelevant:null,ariaRequired:Wt,ariaRoleDescription:yt,ariaRowCount:ve,ariaRowIndex:ve,ariaRowSpan:ve,ariaSelected:Wt,ariaSetSize:ve,ariaSort:null,ariaValueMax:ve,ariaValueMin:ve,ariaValueNow:ve,ariaValueText:null,role:null}}),Z8=Bu({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:nC,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:yu,acceptCharset:yt,accessKey:yt,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:yt,autoFocus:Ge,autoPlay:Ge,blocking:yt,capture:null,charSet:null,checked:Ge,cite:null,className:yt,cols:ve,colSpan:null,content:null,contentEditable:Wt,controls:Ge,controlsList:yt,coords:ve|yu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:JS,draggable:Wt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:yt,height:ve,hidden:Ge,high:ve,href:null,hrefLang:null,htmlFor:yt,httpEquiv:yt,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:yt,itemRef:yt,itemScope:Ge,itemType:yt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:ve,manifest:null,max:null,maxLength:ve,media:null,method:null,min:null,minLength:ve,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:ve,pattern:null,ping:yt,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:yt,required:Ge,reversed:Ge,rows:ve,rowSpan:ve,sandbox:yt,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:ve,sizes:null,slot:null,span:ve,spellCheck:Wt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ve,step:null,style:null,tabIndex:ve,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:Wt,width:ve,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yt,axis:null,background:null,bgColor:null,border:ve,borderColor:null,bottomMargin:ve,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:ve,leftMargin:ve,link:null,longDesc:null,lowSrc:null,marginHeight:ve,marginWidth:ve,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:ve,rules:null,scheme:null,scrolling:Wt,standby:null,summary:null,text:null,topMargin:ve,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ve,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:ve,security:null,unselectable:null}}),eB=Bu({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:tC,properties:{about:lr,accentHeight:ve,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ve,amplitude:ve,arabicForm:null,ascent:ve,attributeName:null,attributeType:null,azimuth:ve,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ve,by:null,calcMode:null,capHeight:ve,className:yt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ve,diffuseConstant:ve,direction:null,display:null,dur:null,divisor:ve,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:ve,enableBackground:null,end:null,event:null,exponent:ve,externalResourcesRequired:null,fill:null,fillOpacity:ve,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:yu,g2:yu,glyphName:yu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ve,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ve,horizOriginX:ve,horizOriginY:ve,id:null,ideographic:ve,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ve,k:ve,k1:ve,k2:ve,k3:ve,k4:ve,kernelMatrix:lr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ve,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ve,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ve,overlineThickness:ve,paintOrder:null,panose1:null,path:null,pathLength:ve,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ve,pointsAtY:ve,pointsAtZ:ve,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:lr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:lr,rev:lr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:lr,requiredFeatures:lr,requiredFonts:lr,requiredFormats:lr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ve,specularExponent:ve,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ve,strikethroughThickness:ve,string:null,stroke:null,strokeDashArray:lr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ve,strokeOpacity:ve,strokeWidth:null,style:null,surfaceScale:ve,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:lr,tabIndex:ve,tableValues:null,target:null,targetX:ve,targetY:ve,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:lr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ve,underlineThickness:ve,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ve,values:null,vAlphabetic:ve,vMathematical:ve,vectorEffect:null,vHanging:ve,vIdeographic:ve,version:null,vertAdvY:ve,vertOriginX:ve,vertOriginY:ve,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ve,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),tB=/^data[-\w.:]+$/i,hb=/-[a-z]/g,nB=/[A-Z]/g;function rB(t,e){const n=t0(e);let r=e,i=Or;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&tB.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(hb,sB);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!hb.test(o)){let u=o.replace(nB,iB);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}i=Dy}return new i(r,e)}function iB(t){return"-"+t.toLowerCase()}function sB(t){return t.charAt(1).toUpperCase()}const oB=XS([eC,ZS,rC,iC,Z8],"html"),sC=XS([eC,ZS,rC,iC,eB],"svg"),fb={}.hasOwnProperty;function oC(t,e){const n=e||{};function r(i,...o){let u=r.invalid;const l=r.handlers;if(i&&fb.call(i,t)){const d=String(i[t]);u=fb.call(l,d)?l[d]:r.unknown}if(u)return u.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const aB={},uB={}.hasOwnProperty,aC=oC("type",{handlers:{root:cB,element:mB,text:fB,comment:pB,doctype:hB}});function lB(t,e){const r=(e||aB).space;return aC(t,r==="svg"?sC:oB)}function cB(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Ly(t.children,n,e),Vu(t,n),n}function dB(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Ly(t.children,n,e),Vu(t,n),n}function hB(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Vu(t,e),e}function fB(t){const e={nodeName:"#text",value:t.value,parentNode:null};return Vu(t,e),e}function pB(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return Vu(t,e),e}function mB(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=sC);const i=[];let o;if(t.properties){for(o in t.properties)if(o!=="children"&&uB.call(t.properties,o)){const d=gB(r,o,t.properties[o]);d&&i.push(d)}}const u=r.space,l={nodeName:t.tagName,tagName:t.tagName,attrs:i,namespaceURI:qo[u],childNodes:[],parentNode:null};return l.childNodes=Ly(t.children,l,r),Vu(t,l),t.tagName==="template"&&t.content&&(l.content=dB(t.content,r)),l}function gB(t,e,n){const r=rB(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?hS(n):vS(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=i.name.indexOf(":");o<0?i.prefix="":(i.name=i.name.slice(o+1),i.prefix=r.attribute.slice(0,o)),i.namespace=qo[r.space]}return i}function Ly(t,e,n){let r=-1;const i=[];if(t)for(;++r<t.length;){const o=aC(t[r],n);o.parentNode=e,i.push(o)}return i}function Vu(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const yB=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],EB=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),St="";var k;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(k||(k={}));const Wn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function uC(t){return t>=55296&&t<=57343}function _B(t){return t>=56320&&t<=57343}function TB(t,e){return(t-55296)*1024+9216+e}function lC(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function cC(t){return t>=64976&&t<=65007||EB.has(t)}var ue;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ue||(ue={}));const vB=65536;class bB{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=vB,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:i,offset:o}=this,u=i+n,l=o+n;return{code:e,startLine:r,endLine:r,startCol:u,endCol:u,startOffset:l,endOffset:l}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(_B(n))return this.pos++,this._addGap(),TB(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,k.EOF;return this._err(ue.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,k.EOF;const r=this.html.charCodeAt(n);return r===k.CARRIAGE_RETURN?k.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,k.EOF;let e=this.html.charCodeAt(this.pos);return e===k.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,k.LINE_FEED):e===k.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,uC(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===k.LINE_FEED||e===k.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){lC(e)?this._err(ue.controlCharacterInInputStream):cC(e)&&this._err(ue.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var et;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(et||(et={}));function dC(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const IB=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),AB=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function wB(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=AB.get(t))!==null&&e!==void 0?e:t}var un;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(un||(un={}));const SB=32;var Ws;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Ws||(Ws={}));function r0(t){return t>=un.ZERO&&t<=un.NINE}function CB(t){return t>=un.UPPER_A&&t<=un.UPPER_F||t>=un.LOWER_A&&t<=un.LOWER_F}function RB(t){return t>=un.UPPER_A&&t<=un.UPPER_Z||t>=un.LOWER_A&&t<=un.LOWER_Z||r0(t)}function kB(t){return t===un.EQUALS||RB(t)}var on;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(on||(on={}));var Ki;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Ki||(Ki={}));class NB{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=on.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ki.Strict}startEntity(e){this.decodeMode=e,this.state=on.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case on.EntityStart:return e.charCodeAt(n)===un.NUM?(this.state=on.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=on.NamedEntity,this.stateNamedEntity(e,n));case on.NumericStart:return this.stateNumericStart(e,n);case on.NumericDecimal:return this.stateNumericDecimal(e,n);case on.NumericHex:return this.stateNumericHex(e,n);case on.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|SB)===un.LOWER_X?(this.state=on.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=on.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const o=r-n;this.result=this.result*Math.pow(i,o)+Number.parseInt(e.substr(n,o),i),this.consumed+=o}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(r0(i)||CB(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(r0(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===un.SEMI)this.consumed+=1;else if(this.decodeMode===Ki.Strict)return 0;return this.emitCodePoint(wB(this.result),this.consumed),this.errors&&(e!==un.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&Ws.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const u=e.charCodeAt(n);if(this.treeIndex=xB(r,i,this.treeIndex+Math.max(1,o),u),this.treeIndex<0)return this.result===0||this.decodeMode===Ki.Attribute&&(o===0||kB(u))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&Ws.VALUE_LENGTH)>>14,o!==0){if(u===un.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Ki.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&Ws.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~Ws.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case on.NamedEntity:return this.result!==0&&(this.decodeMode!==Ki.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case on.NumericDecimal:return this.emitNumericEntity(0,2);case on.NumericHex:return this.emitNumericEntity(0,3);case on.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case on.EntityStart:return 0}}}function xB(t,e,n,r){const i=(e&Ws.BRANCH_LENGTH)>>7,o=e&Ws.JUMP_TABLE;if(i===0)return o!==0&&r===o?n:-1;if(o){const d=r-o;return d<0||d>=i?-1:t[n+d]-1}let u=n,l=u+i-1;for(;u<=l;){const d=u+l>>>1,p=t[d];if(p<r)u=d+1;else if(p>r)l=d-1;else return t[d+i]}return-1}var pe;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(pe||(pe={}));var Go;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Go||(Go={}));var Rr;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Rr||(Rr={}));var J;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(J||(J={}));var g;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(g||(g={}));const PB=new Map([[J.A,g.A],[J.ADDRESS,g.ADDRESS],[J.ANNOTATION_XML,g.ANNOTATION_XML],[J.APPLET,g.APPLET],[J.AREA,g.AREA],[J.ARTICLE,g.ARTICLE],[J.ASIDE,g.ASIDE],[J.B,g.B],[J.BASE,g.BASE],[J.BASEFONT,g.BASEFONT],[J.BGSOUND,g.BGSOUND],[J.BIG,g.BIG],[J.BLOCKQUOTE,g.BLOCKQUOTE],[J.BODY,g.BODY],[J.BR,g.BR],[J.BUTTON,g.BUTTON],[J.CAPTION,g.CAPTION],[J.CENTER,g.CENTER],[J.CODE,g.CODE],[J.COL,g.COL],[J.COLGROUP,g.COLGROUP],[J.DD,g.DD],[J.DESC,g.DESC],[J.DETAILS,g.DETAILS],[J.DIALOG,g.DIALOG],[J.DIR,g.DIR],[J.DIV,g.DIV],[J.DL,g.DL],[J.DT,g.DT],[J.EM,g.EM],[J.EMBED,g.EMBED],[J.FIELDSET,g.FIELDSET],[J.FIGCAPTION,g.FIGCAPTION],[J.FIGURE,g.FIGURE],[J.FONT,g.FONT],[J.FOOTER,g.FOOTER],[J.FOREIGN_OBJECT,g.FOREIGN_OBJECT],[J.FORM,g.FORM],[J.FRAME,g.FRAME],[J.FRAMESET,g.FRAMESET],[J.H1,g.H1],[J.H2,g.H2],[J.H3,g.H3],[J.H4,g.H4],[J.H5,g.H5],[J.H6,g.H6],[J.HEAD,g.HEAD],[J.HEADER,g.HEADER],[J.HGROUP,g.HGROUP],[J.HR,g.HR],[J.HTML,g.HTML],[J.I,g.I],[J.IMG,g.IMG],[J.IMAGE,g.IMAGE],[J.INPUT,g.INPUT],[J.IFRAME,g.IFRAME],[J.KEYGEN,g.KEYGEN],[J.LABEL,g.LABEL],[J.LI,g.LI],[J.LINK,g.LINK],[J.LISTING,g.LISTING],[J.MAIN,g.MAIN],[J.MALIGNMARK,g.MALIGNMARK],[J.MARQUEE,g.MARQUEE],[J.MATH,g.MATH],[J.MENU,g.MENU],[J.META,g.META],[J.MGLYPH,g.MGLYPH],[J.MI,g.MI],[J.MO,g.MO],[J.MN,g.MN],[J.MS,g.MS],[J.MTEXT,g.MTEXT],[J.NAV,g.NAV],[J.NOBR,g.NOBR],[J.NOFRAMES,g.NOFRAMES],[J.NOEMBED,g.NOEMBED],[J.NOSCRIPT,g.NOSCRIPT],[J.OBJECT,g.OBJECT],[J.OL,g.OL],[J.OPTGROUP,g.OPTGROUP],[J.OPTION,g.OPTION],[J.P,g.P],[J.PARAM,g.PARAM],[J.PLAINTEXT,g.PLAINTEXT],[J.PRE,g.PRE],[J.RB,g.RB],[J.RP,g.RP],[J.RT,g.RT],[J.RTC,g.RTC],[J.RUBY,g.RUBY],[J.S,g.S],[J.SCRIPT,g.SCRIPT],[J.SEARCH,g.SEARCH],[J.SECTION,g.SECTION],[J.SELECT,g.SELECT],[J.SOURCE,g.SOURCE],[J.SMALL,g.SMALL],[J.SPAN,g.SPAN],[J.STRIKE,g.STRIKE],[J.STRONG,g.STRONG],[J.STYLE,g.STYLE],[J.SUB,g.SUB],[J.SUMMARY,g.SUMMARY],[J.SUP,g.SUP],[J.TABLE,g.TABLE],[J.TBODY,g.TBODY],[J.TEMPLATE,g.TEMPLATE],[J.TEXTAREA,g.TEXTAREA],[J.TFOOT,g.TFOOT],[J.TD,g.TD],[J.TH,g.TH],[J.THEAD,g.THEAD],[J.TITLE,g.TITLE],[J.TR,g.TR],[J.TRACK,g.TRACK],[J.TT,g.TT],[J.U,g.U],[J.UL,g.UL],[J.SVG,g.SVG],[J.VAR,g.VAR],[J.WBR,g.WBR],[J.XMP,g.XMP]]);function ju(t){var e;return(e=PB.get(t))!==null&&e!==void 0?e:g.UNKNOWN}const Ee=g,OB={[pe.HTML]:new Set([Ee.ADDRESS,Ee.APPLET,Ee.AREA,Ee.ARTICLE,Ee.ASIDE,Ee.BASE,Ee.BASEFONT,Ee.BGSOUND,Ee.BLOCKQUOTE,Ee.BODY,Ee.BR,Ee.BUTTON,Ee.CAPTION,Ee.CENTER,Ee.COL,Ee.COLGROUP,Ee.DD,Ee.DETAILS,Ee.DIR,Ee.DIV,Ee.DL,Ee.DT,Ee.EMBED,Ee.FIELDSET,Ee.FIGCAPTION,Ee.FIGURE,Ee.FOOTER,Ee.FORM,Ee.FRAME,Ee.FRAMESET,Ee.H1,Ee.H2,Ee.H3,Ee.H4,Ee.H5,Ee.H6,Ee.HEAD,Ee.HEADER,Ee.HGROUP,Ee.HR,Ee.HTML,Ee.IFRAME,Ee.IMG,Ee.INPUT,Ee.LI,Ee.LINK,Ee.LISTING,Ee.MAIN,Ee.MARQUEE,Ee.MENU,Ee.META,Ee.NAV,Ee.NOEMBED,Ee.NOFRAMES,Ee.NOSCRIPT,Ee.OBJECT,Ee.OL,Ee.P,Ee.PARAM,Ee.PLAINTEXT,Ee.PRE,Ee.SCRIPT,Ee.SECTION,Ee.SELECT,Ee.SOURCE,Ee.STYLE,Ee.SUMMARY,Ee.TABLE,Ee.TBODY,Ee.TD,Ee.TEMPLATE,Ee.TEXTAREA,Ee.TFOOT,Ee.TH,Ee.THEAD,Ee.TITLE,Ee.TR,Ee.TRACK,Ee.UL,Ee.WBR,Ee.XMP]),[pe.MATHML]:new Set([Ee.MI,Ee.MO,Ee.MN,Ee.MS,Ee.MTEXT,Ee.ANNOTATION_XML]),[pe.SVG]:new Set([Ee.TITLE,Ee.FOREIGN_OBJECT,Ee.DESC]),[pe.XLINK]:new Set,[pe.XML]:new Set,[pe.XMLNS]:new Set},i0=new Set([Ee.H1,Ee.H2,Ee.H3,Ee.H4,Ee.H5,Ee.H6]);J.STYLE,J.SCRIPT,J.XMP,J.IFRAME,J.NOEMBED,J.NOFRAMES,J.PLAINTEXT;var D;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(D||(D={}));const Bt={DATA:D.DATA,RCDATA:D.RCDATA,RAWTEXT:D.RAWTEXT,SCRIPT_DATA:D.SCRIPT_DATA,PLAINTEXT:D.PLAINTEXT,CDATA_SECTION:D.CDATA_SECTION};function DB(t){return t>=k.DIGIT_0&&t<=k.DIGIT_9}function ql(t){return t>=k.LATIN_CAPITAL_A&&t<=k.LATIN_CAPITAL_Z}function LB(t){return t>=k.LATIN_SMALL_A&&t<=k.LATIN_SMALL_Z}function Fs(t){return LB(t)||ql(t)}function pb(t){return Fs(t)||DB(t)}function yh(t){return t+32}function hC(t){return t===k.SPACE||t===k.LINE_FEED||t===k.TABULATION||t===k.FORM_FEED}function mb(t){return hC(t)||t===k.SOLIDUS||t===k.GREATER_THAN_SIGN}function MB(t){return t===k.NULL?ue.nullCharacterReference:t>1114111?ue.characterReferenceOutsideUnicodeRange:uC(t)?ue.surrogateCharacterReference:cC(t)?ue.noncharacterCharacterReference:lC(t)||t===k.CARRIAGE_RETURN?ue.controlCharacterReference:null}class FB{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=D.DATA,this.returnState=D.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new bB(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new NB(IB,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ue.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(ue.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=MB(r);i&&this._err(i,1)}}:void 0)}_err(e,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:et.START_TAG,tagName:"",tagID:g.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:et.END_TAG,tagName:"",tagID:g.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:et.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:et.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(dC(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ue.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=ju(e.tagName),e.type===et.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(ue.endTagWithAttributes),e.selfClosing&&this._err(ue.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case et.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case et.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case et.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:et.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=hC(e)?et.WHITESPACE_CHARACTER:e===k.NULL?et.NULL_CHARACTER:et.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(et.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=D.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ki.Attribute:Ki.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===D.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===D.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===D.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case D.DATA:{this._stateData(e);break}case D.RCDATA:{this._stateRcdata(e);break}case D.RAWTEXT:{this._stateRawtext(e);break}case D.SCRIPT_DATA:{this._stateScriptData(e);break}case D.PLAINTEXT:{this._statePlaintext(e);break}case D.TAG_OPEN:{this._stateTagOpen(e);break}case D.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case D.TAG_NAME:{this._stateTagName(e);break}case D.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case D.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case D.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case D.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case D.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case D.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case D.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case D.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case D.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case D.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case D.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case D.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case D.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case D.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case D.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case D.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case D.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case D.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case D.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case D.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case D.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case D.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case D.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case D.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case D.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case D.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case D.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case D.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case D.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case D.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case D.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case D.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case D.BOGUS_COMMENT:{this._stateBogusComment(e);break}case D.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case D.COMMENT_START:{this._stateCommentStart(e);break}case D.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case D.COMMENT:{this._stateComment(e);break}case D.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case D.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case D.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case D.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case D.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case D.COMMENT_END:{this._stateCommentEnd(e);break}case D.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case D.DOCTYPE:{this._stateDoctype(e);break}case D.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case D.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case D.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case D.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case D.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case D.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case D.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case D.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case D.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case D.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case D.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case D.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case D.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case D.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case D.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case D.CDATA_SECTION:{this._stateCdataSection(e);break}case D.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case D.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case D.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case D.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case k.LESS_THAN_SIGN:{this.state=D.TAG_OPEN;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this._emitCodePoint(e);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case k.AMPERSAND:{this._startCharacterReference();break}case k.LESS_THAN_SIGN:{this.state=D.RCDATA_LESS_THAN_SIGN;break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(St);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case k.LESS_THAN_SIGN:{this.state=D.RAWTEXT_LESS_THAN_SIGN;break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(St);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case k.LESS_THAN_SIGN:{this.state=D.SCRIPT_DATA_LESS_THAN_SIGN;break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(St);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case k.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(St);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Fs(e))this._createStartTagToken(),this.state=D.TAG_NAME,this._stateTagName(e);else switch(e){case k.EXCLAMATION_MARK:{this.state=D.MARKUP_DECLARATION_OPEN;break}case k.SOLIDUS:{this.state=D.END_TAG_OPEN;break}case k.QUESTION_MARK:{this._err(ue.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=D.BOGUS_COMMENT,this._stateBogusComment(e);break}case k.EOF:{this._err(ue.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ue.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=D.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Fs(e))this._createEndTagToken(),this.state=D.TAG_NAME,this._stateTagName(e);else switch(e){case k.GREATER_THAN_SIGN:{this._err(ue.missingEndTagName),this.state=D.DATA;break}case k.EOF:{this._err(ue.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ue.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=D.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=D.BEFORE_ATTRIBUTE_NAME;break}case k.SOLIDUS:{this.state=D.SELF_CLOSING_START_TAG;break}case k.GREATER_THAN_SIGN:{this.state=D.DATA,this.emitCurrentTagToken();break}case k.NULL:{this._err(ue.unexpectedNullCharacter),n.tagName+=St;break}case k.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(ql(e)?yh(e):e)}}_stateRcdataLessThanSign(e){e===k.SOLIDUS?this.state=D.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=D.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Fs(e)?(this.state=D.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=D.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=D.BEFORE_ATTRIBUTE_NAME,!1;case k.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=D.SELF_CLOSING_START_TAG,!1;case k.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=D.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=D.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===k.SOLIDUS?this.state=D.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=D.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Fs(e)?(this.state=D.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=D.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=D.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case k.SOLIDUS:{this.state=D.SCRIPT_DATA_END_TAG_OPEN;break}case k.EXCLAMATION_MARK:{this.state=D.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=D.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Fs(e)?(this.state=D.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=D.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=D.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===k.HYPHEN_MINUS?(this.state=D.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=D.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===k.HYPHEN_MINUS?(this.state=D.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=D.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case k.HYPHEN_MINUS:{this.state=D.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=D.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(St);break}case k.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case k.HYPHEN_MINUS:{this.state=D.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=D.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this.state=D.SCRIPT_DATA_ESCAPED,this._emitChars(St);break}case k.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=D.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case k.HYPHEN_MINUS:{this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=D.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case k.GREATER_THAN_SIGN:{this.state=D.SCRIPT_DATA,this._emitChars(">");break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this.state=D.SCRIPT_DATA_ESCAPED,this._emitChars(St);break}case k.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=D.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===k.SOLIDUS?this.state=D.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Fs(e)?(this._emitChars("<"),this.state=D.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=D.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Fs(e)?(this.state=D.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=D.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=D.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Wn.SCRIPT,!1)&&mb(this.preprocessor.peek(Wn.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Wn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=D.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=D.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case k.HYPHEN_MINUS:{this.state=D.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=D.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this._emitChars(St);break}case k.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case k.HYPHEN_MINUS:{this.state=D.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=D.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this.state=D.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(St);break}case k.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=D.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case k.HYPHEN_MINUS:{this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=D.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case k.GREATER_THAN_SIGN:{this.state=D.SCRIPT_DATA,this._emitChars(">");break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this.state=D.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(St);break}case k.EOF:{this._err(ue.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=D.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===k.SOLIDUS?(this.state=D.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=D.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Wn.SCRIPT,!1)&&mb(this.preprocessor.peek(Wn.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Wn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=D.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=D.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.SOLIDUS:case k.GREATER_THAN_SIGN:case k.EOF:{this.state=D.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case k.EQUALS_SIGN:{this._err(ue.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=D.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=D.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:case k.SOLIDUS:case k.GREATER_THAN_SIGN:case k.EOF:{this._leaveAttrName(),this.state=D.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case k.EQUALS_SIGN:{this._leaveAttrName(),this.state=D.BEFORE_ATTRIBUTE_VALUE;break}case k.QUOTATION_MARK:case k.APOSTROPHE:case k.LESS_THAN_SIGN:{this._err(ue.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this.currentAttr.name+=St;break}default:this.currentAttr.name+=String.fromCodePoint(ql(e)?yh(e):e)}}_stateAfterAttributeName(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.SOLIDUS:{this.state=D.SELF_CLOSING_START_TAG;break}case k.EQUALS_SIGN:{this.state=D.BEFORE_ATTRIBUTE_VALUE;break}case k.GREATER_THAN_SIGN:{this.state=D.DATA,this.emitCurrentTagToken();break}case k.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=D.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.QUOTATION_MARK:{this.state=D.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this.state=D.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(ue.missingAttributeValue),this.state=D.DATA,this.emitCurrentTagToken();break}default:this.state=D.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case k.QUOTATION_MARK:{this.state=D.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this.currentAttr.value+=St;break}case k.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case k.APOSTROPHE:{this.state=D.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this.currentAttr.value+=St;break}case k.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this._leaveAttrValue(),this.state=D.BEFORE_ATTRIBUTE_NAME;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=D.DATA,this.emitCurrentTagToken();break}case k.NULL:{this._err(ue.unexpectedNullCharacter),this.currentAttr.value+=St;break}case k.QUOTATION_MARK:case k.APOSTROPHE:case k.LESS_THAN_SIGN:case k.EQUALS_SIGN:case k.GRAVE_ACCENT:{this._err(ue.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case k.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this._leaveAttrValue(),this.state=D.BEFORE_ATTRIBUTE_NAME;break}case k.SOLIDUS:{this._leaveAttrValue(),this.state=D.SELF_CLOSING_START_TAG;break}case k.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=D.DATA,this.emitCurrentTagToken();break}case k.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this._err(ue.missingWhitespaceBetweenAttributes),this.state=D.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case k.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=D.DATA,this.emitCurrentTagToken();break}case k.EOF:{this._err(ue.eofInTag),this._emitEOFToken();break}default:this._err(ue.unexpectedSolidusInTag),this.state=D.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case k.GREATER_THAN_SIGN:{this.state=D.DATA,this.emitCurrentComment(n);break}case k.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case k.NULL:{this._err(ue.unexpectedNullCharacter),n.data+=St;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Wn.DASH_DASH,!0)?(this._createCommentToken(Wn.DASH_DASH.length+1),this.state=D.COMMENT_START):this._consumeSequenceIfMatch(Wn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Wn.DOCTYPE.length+1),this.state=D.DOCTYPE):this._consumeSequenceIfMatch(Wn.CDATA_START,!0)?this.inForeignNode?this.state=D.CDATA_SECTION:(this._err(ue.cdataInHtmlContent),this._createCommentToken(Wn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=D.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ue.incorrectlyOpenedComment),this._createCommentToken(2),this.state=D.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case k.HYPHEN_MINUS:{this.state=D.COMMENT_START_DASH;break}case k.GREATER_THAN_SIGN:{this._err(ue.abruptClosingOfEmptyComment),this.state=D.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=D.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case k.HYPHEN_MINUS:{this.state=D.COMMENT_END;break}case k.GREATER_THAN_SIGN:{this._err(ue.abruptClosingOfEmptyComment),this.state=D.DATA,this.emitCurrentComment(n);break}case k.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=D.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case k.HYPHEN_MINUS:{this.state=D.COMMENT_END_DASH;break}case k.LESS_THAN_SIGN:{n.data+="<",this.state=D.COMMENT_LESS_THAN_SIGN;break}case k.NULL:{this._err(ue.unexpectedNullCharacter),n.data+=St;break}case k.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case k.EXCLAMATION_MARK:{n.data+="!",this.state=D.COMMENT_LESS_THAN_SIGN_BANG;break}case k.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=D.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===k.HYPHEN_MINUS?this.state=D.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=D.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===k.HYPHEN_MINUS?this.state=D.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=D.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==k.GREATER_THAN_SIGN&&e!==k.EOF&&this._err(ue.nestedComment),this.state=D.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case k.HYPHEN_MINUS:{this.state=D.COMMENT_END;break}case k.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=D.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case k.GREATER_THAN_SIGN:{this.state=D.DATA,this.emitCurrentComment(n);break}case k.EXCLAMATION_MARK:{this.state=D.COMMENT_END_BANG;break}case k.HYPHEN_MINUS:{n.data+="-";break}case k.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=D.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case k.HYPHEN_MINUS:{n.data+="--!",this.state=D.COMMENT_END_DASH;break}case k.GREATER_THAN_SIGN:{this._err(ue.incorrectlyClosedComment),this.state=D.DATA,this.emitCurrentComment(n);break}case k.EOF:{this._err(ue.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=D.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=D.BEFORE_DOCTYPE_NAME;break}case k.GREATER_THAN_SIGN:{this.state=D.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case k.EOF:{this._err(ue.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingWhitespaceBeforeDoctypeName),this.state=D.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(ql(e))this._createDoctypeToken(String.fromCharCode(yh(e))),this.state=D.DOCTYPE_NAME;else switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.NULL:{this._err(ue.unexpectedNullCharacter),this._createDoctypeToken(St),this.state=D.DOCTYPE_NAME;break}case k.GREATER_THAN_SIGN:{this._err(ue.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=D.DATA;break}case k.EOF:{this._err(ue.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=D.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=D.AFTER_DOCTYPE_NAME;break}case k.GREATER_THAN_SIGN:{this.state=D.DATA,this.emitCurrentDoctype(n);break}case k.NULL:{this._err(ue.unexpectedNullCharacter),n.name+=St;break}case k.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(ql(e)?yh(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.GREATER_THAN_SIGN:{this.state=D.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Wn.PUBLIC,!1)?this.state=D.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Wn.SYSTEM,!1)?this.state=D.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ue.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=D.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=D.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case k.QUOTATION_MARK:{this._err(ue.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=D.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this._err(ue.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=D.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(ue.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=D.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=D.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.QUOTATION_MARK:{n.publicId="",this.state=D.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{n.publicId="",this.state=D.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(ue.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=D.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=D.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case k.QUOTATION_MARK:{this.state=D.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case k.NULL:{this._err(ue.unexpectedNullCharacter),n.publicId+=St;break}case k.GREATER_THAN_SIGN:{this._err(ue.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=D.DATA;break}case k.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case k.APOSTROPHE:{this.state=D.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case k.NULL:{this._err(ue.unexpectedNullCharacter),n.publicId+=St;break}case k.GREATER_THAN_SIGN:{this._err(ue.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=D.DATA;break}case k.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=D.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case k.GREATER_THAN_SIGN:{this.state=D.DATA,this.emitCurrentDoctype(n);break}case k.QUOTATION_MARK:{this._err(ue.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=D.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this._err(ue.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=D.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=D.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=D.DATA;break}case k.QUOTATION_MARK:{n.systemId="",this.state=D.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{n.systemId="",this.state=D.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=D.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=D.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case k.QUOTATION_MARK:{this._err(ue.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=D.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this._err(ue.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=D.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(ue.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=D.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=D.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.QUOTATION_MARK:{n.systemId="",this.state=D.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{n.systemId="",this.state=D.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(ue.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=D.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=D.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case k.QUOTATION_MARK:{this.state=D.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case k.NULL:{this._err(ue.unexpectedNullCharacter),n.systemId+=St;break}case k.GREATER_THAN_SIGN:{this._err(ue.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=D.DATA;break}case k.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case k.APOSTROPHE:{this.state=D.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case k.NULL:{this._err(ue.unexpectedNullCharacter),n.systemId+=St;break}case k.GREATER_THAN_SIGN:{this._err(ue.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=D.DATA;break}case k.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=D.DATA;break}case k.EOF:{this._err(ue.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ue.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=D.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case k.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=D.DATA;break}case k.NULL:{this._err(ue.unexpectedNullCharacter);break}case k.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case k.RIGHT_SQUARE_BRACKET:{this.state=D.CDATA_SECTION_BRACKET;break}case k.EOF:{this._err(ue.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===k.RIGHT_SQUARE_BRACKET?this.state=D.CDATA_SECTION_END:(this._emitChars("]"),this.state=D.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case k.GREATER_THAN_SIGN:{this.state=D.DATA;break}case k.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=D.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(k.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&pb(this.preprocessor.peek(1))?D.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){pb(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===k.SEMICOLON&&this._err(ue.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const fC=new Set([g.DD,g.DT,g.LI,g.OPTGROUP,g.OPTION,g.P,g.RB,g.RP,g.RT,g.RTC]),gb=new Set([...fC,g.CAPTION,g.COLGROUP,g.TBODY,g.TD,g.TFOOT,g.TH,g.THEAD,g.TR]),tf=new Set([g.APPLET,g.CAPTION,g.HTML,g.MARQUEE,g.OBJECT,g.TABLE,g.TD,g.TEMPLATE,g.TH]),UB=new Set([...tf,g.OL,g.UL]),BB=new Set([...tf,g.BUTTON]),yb=new Set([g.ANNOTATION_XML,g.MI,g.MN,g.MO,g.MS,g.MTEXT]),Eb=new Set([g.DESC,g.FOREIGN_OBJECT,g.TITLE]),VB=new Set([g.TR,g.TEMPLATE,g.HTML]),jB=new Set([g.TBODY,g.TFOOT,g.THEAD,g.TEMPLATE,g.HTML]),HB=new Set([g.TABLE,g.TEMPLATE,g.HTML]),zB=new Set([g.TD,g.TH]);class qB{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=g.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===g.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===pe.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const i=this._indexOf(e)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==pe.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(i0,pe.HTML)}popUntilTableCellPopped(){this.popUntilPopped(zB,pe.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(HB,pe.HTML)}clearBackToTableBodyContext(){this.clearBackTo(jB,pe.HTML)}clearBackToTableRowContext(){this.clearBackTo(VB,pe.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===g.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===g.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case pe.HTML:{if(i===e)return!0;if(n.has(i))return!1;break}case pe.SVG:{if(Eb.has(i))return!1;break}case pe.MATHML:{if(yb.has(i))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,tf)}hasInListItemScope(e){return this.hasInDynamicScope(e,UB)}hasInButtonScope(e){return this.hasInDynamicScope(e,BB)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case pe.HTML:{if(i0.has(n))return!0;if(tf.has(n))return!1;break}case pe.SVG:{if(Eb.has(n))return!1;break}case pe.MATHML:{if(yb.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===pe.HTML)switch(this.tagIDs[n]){case e:return!0;case g.TABLE:case g.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===pe.HTML)switch(this.tagIDs[e]){case g.TBODY:case g.THEAD:case g.TFOOT:return!0;case g.TABLE:case g.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===pe.HTML)switch(this.tagIDs[n]){case e:return!0;case g.OPTION:case g.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&fC.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&gb.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&gb.has(this.currentTagId);)this.pop()}}const ag=3;var vi;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(vi||(vi={}));const _b={type:vi.Marker};class WB{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],i=n.length,o=this.treeAdapter.getTagName(e),u=this.treeAdapter.getNamespaceURI(e);for(let l=0;l<this.entries.length;l++){const d=this.entries[l];if(d.type===vi.Marker)break;const{element:p}=d;if(this.treeAdapter.getTagName(p)===o&&this.treeAdapter.getNamespaceURI(p)===u){const m=this.treeAdapter.getAttrList(p);m.length===i&&r.push({idx:l,attrs:m})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<ag)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<ag)return;const i=new Map(n.map(u=>[u.name,u.value]));let o=0;for(let u=0;u<r.length;u++){const l=r[u];l.attrs.every(d=>i.get(d.name)===d.value)&&(o+=1,o>=ag&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(_b)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:vi.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:vi.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(_b);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===vi.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===vi.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===vi.Element&&n.element===e)}}const Us={createDocument(){return{nodeName:"#document",mode:Rr.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const i=t.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=e,i.publicId=n,i.systemId=r;else{const o={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};Us.appendChild(t,o)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(Us.isTextNode(n)){n.value+=e;return}}Us.appendChild(t,Us.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&Us.isTextNode(r)?r.value+=e:Us.insertBefore(t,Us.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},pC="html",$B="about:legacy-compat",YB="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",mC=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],GB=[...mC,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],KB=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),gC=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],QB=[...gC,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Tb(t,e){return e.some(n=>t.startsWith(n))}function XB(t){return t.name===pC&&t.publicId===null&&(t.systemId===null||t.systemId===$B)}function JB(t){if(t.name!==pC)return Rr.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===YB)return Rr.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),KB.has(n))return Rr.QUIRKS;let r=e===null?GB:mC;if(Tb(n,r))return Rr.QUIRKS;if(r=e===null?gC:QB,Tb(n,r))return Rr.LIMITED_QUIRKS}return Rr.NO_QUIRKS}const vb={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},ZB="definitionurl",eV="definitionURL",tV=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),nV=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:pe.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:pe.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:pe.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:pe.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:pe.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:pe.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:pe.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:pe.XML}],["xml:space",{prefix:"xml",name:"space",namespace:pe.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:pe.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:pe.XMLNS}]]),rV=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),iV=new Set([g.B,g.BIG,g.BLOCKQUOTE,g.BODY,g.BR,g.CENTER,g.CODE,g.DD,g.DIV,g.DL,g.DT,g.EM,g.EMBED,g.H1,g.H2,g.H3,g.H4,g.H5,g.H6,g.HEAD,g.HR,g.I,g.IMG,g.LI,g.LISTING,g.MENU,g.META,g.NOBR,g.OL,g.P,g.PRE,g.RUBY,g.S,g.SMALL,g.SPAN,g.STRONG,g.STRIKE,g.SUB,g.SUP,g.TABLE,g.TT,g.U,g.UL,g.VAR]);function sV(t){const e=t.tagID;return e===g.FONT&&t.attrs.some(({name:r})=>r===Go.COLOR||r===Go.SIZE||r===Go.FACE)||iV.has(e)}function yC(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===ZB){t.attrs[e].name=eV;break}}function EC(t){for(let e=0;e<t.attrs.length;e++){const n=tV.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function My(t){for(let e=0;e<t.attrs.length;e++){const n=nV.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function oV(t){const e=rV.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=ju(t.tagName))}function aV(t,e){return e===pe.MATHML&&(t===g.MI||t===g.MO||t===g.MN||t===g.MS||t===g.MTEXT)}function uV(t,e,n){if(e===pe.MATHML&&t===g.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Go.ENCODING){const i=n[r].value.toLowerCase();return i===vb.TEXT_HTML||i===vb.APPLICATION_XML}}return e===pe.SVG&&(t===g.FOREIGN_OBJECT||t===g.DESC||t===g.TITLE)}function lV(t,e,n,r){return(!r||r===pe.HTML)&&uV(t,e,n)||(!r||r===pe.MATHML)&&aV(t,e)}const cV="hidden",dV=8,hV=3;var V;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(V||(V={}));const fV={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},_C=new Set([g.TABLE,g.TBODY,g.TFOOT,g.THEAD,g.TR]),bb={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Us,onParseError:null};class Ib{constructor(e,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=V.INITIAL,this.originalInsertionMode=V.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...bb,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new FB(this.options,this),this.activeFormattingElements=new WB(this.treeAdapter),this.fragmentContextID=r?ju(this.treeAdapter.getTagName(r)):g.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new qB(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...bb,...n};e??(e=r.treeAdapter.createElement(J.TEMPLATE,pe.HTML,[]));const i=r.treeAdapter.createElement("documentmock",pe.HTML,[]),o=new this(r,i,e);return o.fragmentContextID===g.TEMPLATE&&o.tmplInsertionModeStack.unshift(V.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var i;if(!this.onParseError)return;const o=(i=e.location)!==null&&i!==void 0?i:fV,u={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(u)}onItemPush(e,n,r){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,e,this.openElements.current),n){let o,u;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,u=this.fragmentContextID):{current:o,currentTagId:u}=this.openElements,this._setContextModes(o,u)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===pe.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,pe.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=V.TEXT}switchToPlaintextParsing(){this.insertionMode=V.TEXT,this.originalInsertionMode=V.IN_BODY,this.tokenizer.state=Bt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===J.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==pe.HTML))switch(this.fragmentContextID){case g.TITLE:case g.TEXTAREA:{this.tokenizer.state=Bt.RCDATA;break}case g.STYLE:case g.XMP:case g.IFRAME:case g.NOEMBED:case g.NOFRAMES:case g.NOSCRIPT:{this.tokenizer.state=Bt.RAWTEXT;break}case g.SCRIPT:{this.tokenizer.state=Bt.SCRIPT_DATA;break}case g.PLAINTEXT:{this.tokenizer.state=Bt.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),e.location){const u=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));u&&this.treeAdapter.setNodeSourceCodeLocation(u,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,pe.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,pe.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(J.HTML,pe.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,g.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(n),o=r?i.lastIndexOf(r):i.length,u=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(u)){const{endLine:d,endCol:p,endOffset:m}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(u,{endLine:d,endCol:p,endOffset:m})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(u,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(e),o=n.type===et.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,o)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===g.SVG&&this.treeAdapter.getTagName(n)===J.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===pe.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===g.MGLYPH||e.tagID===g.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,pe.HTML)}_processToken(e){switch(e.type){case et.CHARACTER:{this.onCharacter(e);break}case et.NULL_CHARACTER:{this.onNullCharacter(e);break}case et.COMMENT:{this.onComment(e);break}case et.DOCTYPE:{this.onDoctype(e);break}case et.START_TAG:{this._processStartTag(e);break}case et.END_TAG:{this.onEndTag(e);break}case et.EOF:{this.onEof(e);break}case et.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const i=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return lV(e,i,o,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===vi.Marker||this.openElements.contains(i.element)),r=n===-1?e-1:n-1;for(let i=r;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=V.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(g.P),this.openElements.popUntilTagNamePopped(g.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case g.TR:{this.insertionMode=V.IN_ROW;return}case g.TBODY:case g.THEAD:case g.TFOOT:{this.insertionMode=V.IN_TABLE_BODY;return}case g.CAPTION:{this.insertionMode=V.IN_CAPTION;return}case g.COLGROUP:{this.insertionMode=V.IN_COLUMN_GROUP;return}case g.TABLE:{this.insertionMode=V.IN_TABLE;return}case g.BODY:{this.insertionMode=V.IN_BODY;return}case g.FRAMESET:{this.insertionMode=V.IN_FRAMESET;return}case g.SELECT:{this._resetInsertionModeForSelect(e);return}case g.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case g.HTML:{this.insertionMode=this.headElement?V.AFTER_HEAD:V.BEFORE_HEAD;return}case g.TD:case g.TH:{if(e>0){this.insertionMode=V.IN_CELL;return}break}case g.HEAD:{if(e>0){this.insertionMode=V.IN_HEAD;return}break}}this.insertionMode=V.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===g.TEMPLATE)break;if(r===g.TABLE){this.insertionMode=V.IN_SELECT_IN_TABLE;return}}this.insertionMode=V.IN_SELECT}_isElementCausesFosterParenting(e){return _C.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case g.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===pe.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case g.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return OB[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){z7(this,e);return}switch(this.insertionMode){case V.INITIAL:{Ml(this,e);break}case V.BEFORE_HTML:{tc(this,e);break}case V.BEFORE_HEAD:{nc(this,e);break}case V.IN_HEAD:{rc(this,e);break}case V.IN_HEAD_NO_SCRIPT:{ic(this,e);break}case V.AFTER_HEAD:{sc(this,e);break}case V.IN_BODY:case V.IN_CAPTION:case V.IN_CELL:case V.IN_TEMPLATE:{vC(this,e);break}case V.TEXT:case V.IN_SELECT:case V.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case V.IN_TABLE:case V.IN_TABLE_BODY:case V.IN_ROW:{ug(this,e);break}case V.IN_TABLE_TEXT:{CC(this,e);break}case V.IN_COLUMN_GROUP:{nf(this,e);break}case V.AFTER_BODY:{rf(this,e);break}case V.AFTER_AFTER_BODY:{Nh(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){H7(this,e);return}switch(this.insertionMode){case V.INITIAL:{Ml(this,e);break}case V.BEFORE_HTML:{tc(this,e);break}case V.BEFORE_HEAD:{nc(this,e);break}case V.IN_HEAD:{rc(this,e);break}case V.IN_HEAD_NO_SCRIPT:{ic(this,e);break}case V.AFTER_HEAD:{sc(this,e);break}case V.TEXT:{this._insertCharacters(e);break}case V.IN_TABLE:case V.IN_TABLE_BODY:case V.IN_ROW:{ug(this,e);break}case V.IN_COLUMN_GROUP:{nf(this,e);break}case V.AFTER_BODY:{rf(this,e);break}case V.AFTER_AFTER_BODY:{Nh(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){s0(this,e);return}switch(this.insertionMode){case V.INITIAL:case V.BEFORE_HTML:case V.BEFORE_HEAD:case V.IN_HEAD:case V.IN_HEAD_NO_SCRIPT:case V.AFTER_HEAD:case V.IN_BODY:case V.IN_TABLE:case V.IN_CAPTION:case V.IN_COLUMN_GROUP:case V.IN_TABLE_BODY:case V.IN_ROW:case V.IN_CELL:case V.IN_SELECT:case V.IN_SELECT_IN_TABLE:case V.IN_TEMPLATE:case V.IN_FRAMESET:case V.AFTER_FRAMESET:{s0(this,e);break}case V.IN_TABLE_TEXT:{Fl(this,e);break}case V.AFTER_BODY:{TV(this,e);break}case V.AFTER_AFTER_BODY:case V.AFTER_AFTER_FRAMESET:{vV(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case V.INITIAL:{bV(this,e);break}case V.BEFORE_HEAD:case V.IN_HEAD:case V.IN_HEAD_NO_SCRIPT:case V.AFTER_HEAD:{this._err(e,ue.misplacedDoctype);break}case V.IN_TABLE_TEXT:{Fl(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,ue.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?q7(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case V.INITIAL:{Ml(this,e);break}case V.BEFORE_HTML:{IV(this,e);break}case V.BEFORE_HEAD:{wV(this,e);break}case V.IN_HEAD:{si(this,e);break}case V.IN_HEAD_NO_SCRIPT:{RV(this,e);break}case V.AFTER_HEAD:{NV(this,e);break}case V.IN_BODY:{Cn(this,e);break}case V.IN_TABLE:{Su(this,e);break}case V.IN_TABLE_TEXT:{Fl(this,e);break}case V.IN_CAPTION:{S7(this,e);break}case V.IN_COLUMN_GROUP:{By(this,e);break}case V.IN_TABLE_BODY:{jf(this,e);break}case V.IN_ROW:{Hf(this,e);break}case V.IN_CELL:{k7(this,e);break}case V.IN_SELECT:{NC(this,e);break}case V.IN_SELECT_IN_TABLE:{x7(this,e);break}case V.IN_TEMPLATE:{O7(this,e);break}case V.AFTER_BODY:{L7(this,e);break}case V.IN_FRAMESET:{M7(this,e);break}case V.AFTER_FRAMESET:{U7(this,e);break}case V.AFTER_AFTER_BODY:{V7(this,e);break}case V.AFTER_AFTER_FRAMESET:{j7(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?W7(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case V.INITIAL:{Ml(this,e);break}case V.BEFORE_HTML:{AV(this,e);break}case V.BEFORE_HEAD:{SV(this,e);break}case V.IN_HEAD:{CV(this,e);break}case V.IN_HEAD_NO_SCRIPT:{kV(this,e);break}case V.AFTER_HEAD:{xV(this,e);break}case V.IN_BODY:{Vf(this,e);break}case V.TEXT:{g7(this,e);break}case V.IN_TABLE:{Ic(this,e);break}case V.IN_TABLE_TEXT:{Fl(this,e);break}case V.IN_CAPTION:{C7(this,e);break}case V.IN_COLUMN_GROUP:{R7(this,e);break}case V.IN_TABLE_BODY:{o0(this,e);break}case V.IN_ROW:{kC(this,e);break}case V.IN_CELL:{N7(this,e);break}case V.IN_SELECT:{xC(this,e);break}case V.IN_SELECT_IN_TABLE:{P7(this,e);break}case V.IN_TEMPLATE:{D7(this,e);break}case V.AFTER_BODY:{OC(this,e);break}case V.IN_FRAMESET:{F7(this,e);break}case V.AFTER_FRAMESET:{B7(this,e);break}case V.AFTER_AFTER_BODY:{Nh(this,e);break}}}onEof(e){switch(this.insertionMode){case V.INITIAL:{Ml(this,e);break}case V.BEFORE_HTML:{tc(this,e);break}case V.BEFORE_HEAD:{nc(this,e);break}case V.IN_HEAD:{rc(this,e);break}case V.IN_HEAD_NO_SCRIPT:{ic(this,e);break}case V.AFTER_HEAD:{sc(this,e);break}case V.IN_BODY:case V.IN_TABLE:case V.IN_CAPTION:case V.IN_COLUMN_GROUP:case V.IN_TABLE_BODY:case V.IN_ROW:case V.IN_CELL:case V.IN_SELECT:case V.IN_SELECT_IN_TABLE:{wC(this,e);break}case V.TEXT:{y7(this,e);break}case V.IN_TABLE_TEXT:{Fl(this,e);break}case V.IN_TEMPLATE:{PC(this,e);break}case V.AFTER_BODY:case V.IN_FRAMESET:case V.AFTER_FRAMESET:case V.AFTER_AFTER_BODY:case V.AFTER_AFTER_FRAMESET:{Uy(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===k.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case V.IN_HEAD:case V.IN_HEAD_NO_SCRIPT:case V.AFTER_HEAD:case V.TEXT:case V.IN_COLUMN_GROUP:case V.IN_SELECT:case V.IN_SELECT_IN_TABLE:case V.IN_FRAMESET:case V.AFTER_FRAMESET:{this._insertCharacters(e);break}case V.IN_BODY:case V.IN_CAPTION:case V.IN_CELL:case V.IN_TEMPLATE:case V.AFTER_BODY:case V.AFTER_AFTER_BODY:case V.AFTER_AFTER_FRAMESET:{TC(this,e);break}case V.IN_TABLE:case V.IN_TABLE_BODY:case V.IN_ROW:{ug(this,e);break}case V.IN_TABLE_TEXT:{SC(this,e);break}}}}function pV(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):AC(t,e),n}function mV(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const i=t.openElements.items[r];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[r])&&(n=i)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function gV(t,e,n){let r=e,i=t.openElements.getCommonAncestor(e);for(let o=0,u=i;u!==n;o++,u=i){i=t.openElements.getCommonAncestor(u);const l=t.activeFormattingElements.getElementEntry(u),d=l&&o>=hV;!l||d?(d&&t.activeFormattingElements.removeEntry(l),t.openElements.remove(u)):(u=yV(t,l),r===e&&(t.activeFormattingElements.bookmark=l),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(u,r),r=u)}return r}function yV(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function EV(t,e,n){const r=t.treeAdapter.getTagName(e),i=ju(r);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(n);else{const o=t.treeAdapter.getNamespaceURI(e);i===g.TEMPLATE&&o===pe.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function _V(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=t.treeAdapter.createElement(i.tagName,r,i.attrs);t._adoptNodes(e,o),t.treeAdapter.appendChild(e,o),t.activeFormattingElements.insertElementAfterBookmark(o,i),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,o,i.tagID)}function Fy(t,e){for(let n=0;n<dV;n++){const r=pV(t,e);if(!r)break;const i=mV(t,r);if(!i)break;t.activeFormattingElements.bookmark=r;const o=gV(t,i,r.element),u=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(o),u&&EV(t,u,o),_V(t,i,r)}}function s0(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function TV(t,e){t._appendCommentNode(e,t.openElements.items[0])}function vV(t,e){t._appendCommentNode(e,t.document)}function Uy(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const o=t.openElements.items[1],u=t.treeAdapter.getNodeSourceCodeLocation(o);u&&!u.endTag&&t._setEndLocation(o,e)}}}}function bV(t,e){t._setDocumentType(e);const n=e.forceQuirks?Rr.QUIRKS:JB(e);XB(e)||t._err(e,ue.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=V.BEFORE_HTML}function Ml(t,e){t._err(e,ue.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Rr.QUIRKS),t.insertionMode=V.BEFORE_HTML,t._processToken(e)}function IV(t,e){e.tagID===g.HTML?(t._insertElement(e,pe.HTML),t.insertionMode=V.BEFORE_HEAD):tc(t,e)}function AV(t,e){const n=e.tagID;(n===g.HTML||n===g.HEAD||n===g.BODY||n===g.BR)&&tc(t,e)}function tc(t,e){t._insertFakeRootElement(),t.insertionMode=V.BEFORE_HEAD,t._processToken(e)}function wV(t,e){switch(e.tagID){case g.HTML:{Cn(t,e);break}case g.HEAD:{t._insertElement(e,pe.HTML),t.headElement=t.openElements.current,t.insertionMode=V.IN_HEAD;break}default:nc(t,e)}}function SV(t,e){const n=e.tagID;n===g.HEAD||n===g.BODY||n===g.HTML||n===g.BR?nc(t,e):t._err(e,ue.endTagWithoutMatchingOpenElement)}function nc(t,e){t._insertFakeElement(J.HEAD,g.HEAD),t.headElement=t.openElements.current,t.insertionMode=V.IN_HEAD,t._processToken(e)}function si(t,e){switch(e.tagID){case g.HTML:{Cn(t,e);break}case g.BASE:case g.BASEFONT:case g.BGSOUND:case g.LINK:case g.META:{t._appendElement(e,pe.HTML),e.ackSelfClosing=!0;break}case g.TITLE:{t._switchToTextParsing(e,Bt.RCDATA);break}case g.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,Bt.RAWTEXT):(t._insertElement(e,pe.HTML),t.insertionMode=V.IN_HEAD_NO_SCRIPT);break}case g.NOFRAMES:case g.STYLE:{t._switchToTextParsing(e,Bt.RAWTEXT);break}case g.SCRIPT:{t._switchToTextParsing(e,Bt.SCRIPT_DATA);break}case g.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=V.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(V.IN_TEMPLATE);break}case g.HEAD:{t._err(e,ue.misplacedStartTagForHeadElement);break}default:rc(t,e)}}function CV(t,e){switch(e.tagID){case g.HEAD:{t.openElements.pop(),t.insertionMode=V.AFTER_HEAD;break}case g.BODY:case g.BR:case g.HTML:{rc(t,e);break}case g.TEMPLATE:{da(t,e);break}default:t._err(e,ue.endTagWithoutMatchingOpenElement)}}function da(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==g.TEMPLATE&&t._err(e,ue.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(g.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,ue.endTagWithoutMatchingOpenElement)}function rc(t,e){t.openElements.pop(),t.insertionMode=V.AFTER_HEAD,t._processToken(e)}function RV(t,e){switch(e.tagID){case g.HTML:{Cn(t,e);break}case g.BASEFONT:case g.BGSOUND:case g.HEAD:case g.LINK:case g.META:case g.NOFRAMES:case g.STYLE:{si(t,e);break}case g.NOSCRIPT:{t._err(e,ue.nestedNoscriptInHead);break}default:ic(t,e)}}function kV(t,e){switch(e.tagID){case g.NOSCRIPT:{t.openElements.pop(),t.insertionMode=V.IN_HEAD;break}case g.BR:{ic(t,e);break}default:t._err(e,ue.endTagWithoutMatchingOpenElement)}}function ic(t,e){const n=e.type===et.EOF?ue.openElementsLeftAfterEof:ue.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=V.IN_HEAD,t._processToken(e)}function NV(t,e){switch(e.tagID){case g.HTML:{Cn(t,e);break}case g.BODY:{t._insertElement(e,pe.HTML),t.framesetOk=!1,t.insertionMode=V.IN_BODY;break}case g.FRAMESET:{t._insertElement(e,pe.HTML),t.insertionMode=V.IN_FRAMESET;break}case g.BASE:case g.BASEFONT:case g.BGSOUND:case g.LINK:case g.META:case g.NOFRAMES:case g.SCRIPT:case g.STYLE:case g.TEMPLATE:case g.TITLE:{t._err(e,ue.abandonedHeadElementChild),t.openElements.push(t.headElement,g.HEAD),si(t,e),t.openElements.remove(t.headElement);break}case g.HEAD:{t._err(e,ue.misplacedStartTagForHeadElement);break}default:sc(t,e)}}function xV(t,e){switch(e.tagID){case g.BODY:case g.HTML:case g.BR:{sc(t,e);break}case g.TEMPLATE:{da(t,e);break}default:t._err(e,ue.endTagWithoutMatchingOpenElement)}}function sc(t,e){t._insertFakeElement(J.BODY,g.BODY),t.insertionMode=V.IN_BODY,Bf(t,e)}function Bf(t,e){switch(e.type){case et.CHARACTER:{vC(t,e);break}case et.WHITESPACE_CHARACTER:{TC(t,e);break}case et.COMMENT:{s0(t,e);break}case et.START_TAG:{Cn(t,e);break}case et.END_TAG:{Vf(t,e);break}case et.EOF:{wC(t,e);break}}}function TC(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function vC(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function PV(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function OV(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function DV(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,pe.HTML),t.insertionMode=V.IN_FRAMESET)}function LV(t,e){t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._insertElement(e,pe.HTML)}function MV(t,e){t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&i0.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,pe.HTML)}function FV(t,e){t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._insertElement(e,pe.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function UV(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._insertElement(e,pe.HTML),n||(t.formElement=t.openElements.current))}function BV(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const i=t.openElements.tagIDs[r];if(n===g.LI&&i===g.LI||(n===g.DD||n===g.DT)&&(i===g.DD||i===g.DT)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.popUntilTagNamePopped(i);break}if(i!==g.ADDRESS&&i!==g.DIV&&i!==g.P&&t._isSpecialElement(t.openElements.items[r],i))break}t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._insertElement(e,pe.HTML)}function VV(t,e){t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._insertElement(e,pe.HTML),t.tokenizer.state=Bt.PLAINTEXT}function jV(t,e){t.openElements.hasInScope(g.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(g.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,pe.HTML),t.framesetOk=!1}function HV(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(J.A);n&&(Fy(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,pe.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function zV(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,pe.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function qV(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(g.NOBR)&&(Fy(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,pe.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function WV(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,pe.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function $V(t,e){t.treeAdapter.getDocumentMode(t.document)!==Rr.QUIRKS&&t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._insertElement(e,pe.HTML),t.framesetOk=!1,t.insertionMode=V.IN_TABLE}function bC(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,pe.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function IC(t){const e=dC(t,Go.TYPE);return e!=null&&e.toLowerCase()===cV}function YV(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,pe.HTML),IC(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function GV(t,e){t._appendElement(e,pe.HTML),e.ackSelfClosing=!0}function KV(t,e){t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._appendElement(e,pe.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function QV(t,e){e.tagName=J.IMG,e.tagID=g.IMG,bC(t,e)}function XV(t,e){t._insertElement(e,pe.HTML),t.skipNextNewLine=!0,t.tokenizer.state=Bt.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=V.TEXT}function JV(t,e){t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,Bt.RAWTEXT)}function ZV(t,e){t.framesetOk=!1,t._switchToTextParsing(e,Bt.RAWTEXT)}function Ab(t,e){t._switchToTextParsing(e,Bt.RAWTEXT)}function e7(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,pe.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===V.IN_TABLE||t.insertionMode===V.IN_CAPTION||t.insertionMode===V.IN_TABLE_BODY||t.insertionMode===V.IN_ROW||t.insertionMode===V.IN_CELL?V.IN_SELECT_IN_TABLE:V.IN_SELECT}function t7(t,e){t.openElements.currentTagId===g.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,pe.HTML)}function n7(t,e){t.openElements.hasInScope(g.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,pe.HTML)}function r7(t,e){t.openElements.hasInScope(g.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(g.RTC),t._insertElement(e,pe.HTML)}function i7(t,e){t._reconstructActiveFormattingElements(),yC(e),My(e),e.selfClosing?t._appendElement(e,pe.MATHML):t._insertElement(e,pe.MATHML),e.ackSelfClosing=!0}function s7(t,e){t._reconstructActiveFormattingElements(),EC(e),My(e),e.selfClosing?t._appendElement(e,pe.SVG):t._insertElement(e,pe.SVG),e.ackSelfClosing=!0}function wb(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,pe.HTML)}function Cn(t,e){switch(e.tagID){case g.I:case g.S:case g.B:case g.U:case g.EM:case g.TT:case g.BIG:case g.CODE:case g.FONT:case g.SMALL:case g.STRIKE:case g.STRONG:{zV(t,e);break}case g.A:{HV(t,e);break}case g.H1:case g.H2:case g.H3:case g.H4:case g.H5:case g.H6:{MV(t,e);break}case g.P:case g.DL:case g.OL:case g.UL:case g.DIV:case g.DIR:case g.NAV:case g.MAIN:case g.MENU:case g.ASIDE:case g.CENTER:case g.FIGURE:case g.FOOTER:case g.HEADER:case g.HGROUP:case g.DIALOG:case g.DETAILS:case g.ADDRESS:case g.ARTICLE:case g.SEARCH:case g.SECTION:case g.SUMMARY:case g.FIELDSET:case g.BLOCKQUOTE:case g.FIGCAPTION:{LV(t,e);break}case g.LI:case g.DD:case g.DT:{BV(t,e);break}case g.BR:case g.IMG:case g.WBR:case g.AREA:case g.EMBED:case g.KEYGEN:{bC(t,e);break}case g.HR:{KV(t,e);break}case g.RB:case g.RTC:{n7(t,e);break}case g.RT:case g.RP:{r7(t,e);break}case g.PRE:case g.LISTING:{FV(t,e);break}case g.XMP:{JV(t,e);break}case g.SVG:{s7(t,e);break}case g.HTML:{PV(t,e);break}case g.BASE:case g.LINK:case g.META:case g.STYLE:case g.TITLE:case g.SCRIPT:case g.BGSOUND:case g.BASEFONT:case g.TEMPLATE:{si(t,e);break}case g.BODY:{OV(t,e);break}case g.FORM:{UV(t,e);break}case g.NOBR:{qV(t,e);break}case g.MATH:{i7(t,e);break}case g.TABLE:{$V(t,e);break}case g.INPUT:{YV(t,e);break}case g.PARAM:case g.TRACK:case g.SOURCE:{GV(t,e);break}case g.IMAGE:{QV(t,e);break}case g.BUTTON:{jV(t,e);break}case g.APPLET:case g.OBJECT:case g.MARQUEE:{WV(t,e);break}case g.IFRAME:{ZV(t,e);break}case g.SELECT:{e7(t,e);break}case g.OPTION:case g.OPTGROUP:{t7(t,e);break}case g.NOEMBED:case g.NOFRAMES:{Ab(t,e);break}case g.FRAMESET:{DV(t,e);break}case g.TEXTAREA:{XV(t,e);break}case g.NOSCRIPT:{t.options.scriptingEnabled?Ab(t,e):wb(t,e);break}case g.PLAINTEXT:{VV(t,e);break}case g.COL:case g.TH:case g.TD:case g.TR:case g.HEAD:case g.FRAME:case g.TBODY:case g.TFOOT:case g.THEAD:case g.CAPTION:case g.COLGROUP:break;default:wb(t,e)}}function o7(t,e){if(t.openElements.hasInScope(g.BODY)&&(t.insertionMode=V.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function a7(t,e){t.openElements.hasInScope(g.BODY)&&(t.insertionMode=V.AFTER_BODY,OC(t,e))}function u7(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function l7(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(g.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(g.FORM):n&&t.openElements.remove(n))}function c7(t){t.openElements.hasInButtonScope(g.P)||t._insertFakeElement(J.P,g.P),t._closePElement()}function d7(t){t.openElements.hasInListItemScope(g.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(g.LI),t.openElements.popUntilTagNamePopped(g.LI))}function h7(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function f7(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function p7(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function m7(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(J.BR,g.BR),t.openElements.pop(),t.framesetOk=!1}function AC(t,e){const n=e.tagName,r=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const o=t.openElements.items[i],u=t.openElements.tagIDs[i];if(r===u&&(r!==g.UNKNOWN||t.treeAdapter.getTagName(o)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(o,u))break}}function Vf(t,e){switch(e.tagID){case g.A:case g.B:case g.I:case g.S:case g.U:case g.EM:case g.TT:case g.BIG:case g.CODE:case g.FONT:case g.NOBR:case g.SMALL:case g.STRIKE:case g.STRONG:{Fy(t,e);break}case g.P:{c7(t);break}case g.DL:case g.UL:case g.OL:case g.DIR:case g.DIV:case g.NAV:case g.PRE:case g.MAIN:case g.MENU:case g.ASIDE:case g.BUTTON:case g.CENTER:case g.FIGURE:case g.FOOTER:case g.HEADER:case g.HGROUP:case g.DIALOG:case g.ADDRESS:case g.ARTICLE:case g.DETAILS:case g.SEARCH:case g.SECTION:case g.SUMMARY:case g.LISTING:case g.FIELDSET:case g.BLOCKQUOTE:case g.FIGCAPTION:{u7(t,e);break}case g.LI:{d7(t);break}case g.DD:case g.DT:{h7(t,e);break}case g.H1:case g.H2:case g.H3:case g.H4:case g.H5:case g.H6:{f7(t);break}case g.BR:{m7(t);break}case g.BODY:{o7(t,e);break}case g.HTML:{a7(t,e);break}case g.FORM:{l7(t);break}case g.APPLET:case g.OBJECT:case g.MARQUEE:{p7(t,e);break}case g.TEMPLATE:{da(t,e);break}default:AC(t,e)}}function wC(t,e){t.tmplInsertionModeStack.length>0?PC(t,e):Uy(t,e)}function g7(t,e){var n;e.tagID===g.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function y7(t,e){t._err(e,ue.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function ug(t,e){if(t.openElements.currentTagId!==void 0&&_C.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=V.IN_TABLE_TEXT,e.type){case et.CHARACTER:{CC(t,e);break}case et.WHITESPACE_CHARACTER:{SC(t,e);break}}else Bc(t,e)}function E7(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,pe.HTML),t.insertionMode=V.IN_CAPTION}function _7(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,pe.HTML),t.insertionMode=V.IN_COLUMN_GROUP}function T7(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(J.COLGROUP,g.COLGROUP),t.insertionMode=V.IN_COLUMN_GROUP,By(t,e)}function v7(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,pe.HTML),t.insertionMode=V.IN_TABLE_BODY}function b7(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(J.TBODY,g.TBODY),t.insertionMode=V.IN_TABLE_BODY,jf(t,e)}function I7(t,e){t.openElements.hasInTableScope(g.TABLE)&&(t.openElements.popUntilTagNamePopped(g.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function A7(t,e){IC(e)?t._appendElement(e,pe.HTML):Bc(t,e),e.ackSelfClosing=!0}function w7(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,pe.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Su(t,e){switch(e.tagID){case g.TD:case g.TH:case g.TR:{b7(t,e);break}case g.STYLE:case g.SCRIPT:case g.TEMPLATE:{si(t,e);break}case g.COL:{T7(t,e);break}case g.FORM:{w7(t,e);break}case g.TABLE:{I7(t,e);break}case g.TBODY:case g.TFOOT:case g.THEAD:{v7(t,e);break}case g.INPUT:{A7(t,e);break}case g.CAPTION:{E7(t,e);break}case g.COLGROUP:{_7(t,e);break}default:Bc(t,e)}}function Ic(t,e){switch(e.tagID){case g.TABLE:{t.openElements.hasInTableScope(g.TABLE)&&(t.openElements.popUntilTagNamePopped(g.TABLE),t._resetInsertionMode());break}case g.TEMPLATE:{da(t,e);break}case g.BODY:case g.CAPTION:case g.COL:case g.COLGROUP:case g.HTML:case g.TBODY:case g.TD:case g.TFOOT:case g.TH:case g.THEAD:case g.TR:break;default:Bc(t,e)}}function Bc(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,Bf(t,e),t.fosterParentingEnabled=n}function SC(t,e){t.pendingCharacterTokens.push(e)}function CC(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function Fl(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)Bc(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const RC=new Set([g.CAPTION,g.COL,g.COLGROUP,g.TBODY,g.TD,g.TFOOT,g.TH,g.THEAD,g.TR]);function S7(t,e){const n=e.tagID;RC.has(n)?t.openElements.hasInTableScope(g.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(g.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=V.IN_TABLE,Su(t,e)):Cn(t,e)}function C7(t,e){const n=e.tagID;switch(n){case g.CAPTION:case g.TABLE:{t.openElements.hasInTableScope(g.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(g.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=V.IN_TABLE,n===g.TABLE&&Ic(t,e));break}case g.BODY:case g.COL:case g.COLGROUP:case g.HTML:case g.TBODY:case g.TD:case g.TFOOT:case g.TH:case g.THEAD:case g.TR:break;default:Vf(t,e)}}function By(t,e){switch(e.tagID){case g.HTML:{Cn(t,e);break}case g.COL:{t._appendElement(e,pe.HTML),e.ackSelfClosing=!0;break}case g.TEMPLATE:{si(t,e);break}default:nf(t,e)}}function R7(t,e){switch(e.tagID){case g.COLGROUP:{t.openElements.currentTagId===g.COLGROUP&&(t.openElements.pop(),t.insertionMode=V.IN_TABLE);break}case g.TEMPLATE:{da(t,e);break}case g.COL:break;default:nf(t,e)}}function nf(t,e){t.openElements.currentTagId===g.COLGROUP&&(t.openElements.pop(),t.insertionMode=V.IN_TABLE,t._processToken(e))}function jf(t,e){switch(e.tagID){case g.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,pe.HTML),t.insertionMode=V.IN_ROW;break}case g.TH:case g.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(J.TR,g.TR),t.insertionMode=V.IN_ROW,Hf(t,e);break}case g.CAPTION:case g.COL:case g.COLGROUP:case g.TBODY:case g.TFOOT:case g.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE,Su(t,e));break}default:Su(t,e)}}function o0(t,e){const n=e.tagID;switch(e.tagID){case g.TBODY:case g.TFOOT:case g.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE);break}case g.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE,Ic(t,e));break}case g.BODY:case g.CAPTION:case g.COL:case g.COLGROUP:case g.HTML:case g.TD:case g.TH:case g.TR:break;default:Ic(t,e)}}function Hf(t,e){switch(e.tagID){case g.TH:case g.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,pe.HTML),t.insertionMode=V.IN_CELL,t.activeFormattingElements.insertMarker();break}case g.CAPTION:case g.COL:case g.COLGROUP:case g.TBODY:case g.TFOOT:case g.THEAD:case g.TR:{t.openElements.hasInTableScope(g.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE_BODY,jf(t,e));break}default:Su(t,e)}}function kC(t,e){switch(e.tagID){case g.TR:{t.openElements.hasInTableScope(g.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE_BODY);break}case g.TABLE:{t.openElements.hasInTableScope(g.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE_BODY,o0(t,e));break}case g.TBODY:case g.TFOOT:case g.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(g.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=V.IN_TABLE_BODY,o0(t,e));break}case g.BODY:case g.CAPTION:case g.COL:case g.COLGROUP:case g.HTML:case g.TD:case g.TH:break;default:Ic(t,e)}}function k7(t,e){const n=e.tagID;RC.has(n)?(t.openElements.hasInTableScope(g.TD)||t.openElements.hasInTableScope(g.TH))&&(t._closeTableCell(),Hf(t,e)):Cn(t,e)}function N7(t,e){const n=e.tagID;switch(n){case g.TD:case g.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=V.IN_ROW);break}case g.TABLE:case g.TBODY:case g.TFOOT:case g.THEAD:case g.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),kC(t,e));break}case g.BODY:case g.CAPTION:case g.COL:case g.COLGROUP:case g.HTML:break;default:Vf(t,e)}}function NC(t,e){switch(e.tagID){case g.HTML:{Cn(t,e);break}case g.OPTION:{t.openElements.currentTagId===g.OPTION&&t.openElements.pop(),t._insertElement(e,pe.HTML);break}case g.OPTGROUP:{t.openElements.currentTagId===g.OPTION&&t.openElements.pop(),t.openElements.currentTagId===g.OPTGROUP&&t.openElements.pop(),t._insertElement(e,pe.HTML);break}case g.HR:{t.openElements.currentTagId===g.OPTION&&t.openElements.pop(),t.openElements.currentTagId===g.OPTGROUP&&t.openElements.pop(),t._appendElement(e,pe.HTML),e.ackSelfClosing=!0;break}case g.INPUT:case g.KEYGEN:case g.TEXTAREA:case g.SELECT:{t.openElements.hasInSelectScope(g.SELECT)&&(t.openElements.popUntilTagNamePopped(g.SELECT),t._resetInsertionMode(),e.tagID!==g.SELECT&&t._processStartTag(e));break}case g.SCRIPT:case g.TEMPLATE:{si(t,e);break}}}function xC(t,e){switch(e.tagID){case g.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===g.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===g.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===g.OPTGROUP&&t.openElements.pop();break}case g.OPTION:{t.openElements.currentTagId===g.OPTION&&t.openElements.pop();break}case g.SELECT:{t.openElements.hasInSelectScope(g.SELECT)&&(t.openElements.popUntilTagNamePopped(g.SELECT),t._resetInsertionMode());break}case g.TEMPLATE:{da(t,e);break}}}function x7(t,e){const n=e.tagID;n===g.CAPTION||n===g.TABLE||n===g.TBODY||n===g.TFOOT||n===g.THEAD||n===g.TR||n===g.TD||n===g.TH?(t.openElements.popUntilTagNamePopped(g.SELECT),t._resetInsertionMode(),t._processStartTag(e)):NC(t,e)}function P7(t,e){const n=e.tagID;n===g.CAPTION||n===g.TABLE||n===g.TBODY||n===g.TFOOT||n===g.THEAD||n===g.TR||n===g.TD||n===g.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(g.SELECT),t._resetInsertionMode(),t.onEndTag(e)):xC(t,e)}function O7(t,e){switch(e.tagID){case g.BASE:case g.BASEFONT:case g.BGSOUND:case g.LINK:case g.META:case g.NOFRAMES:case g.SCRIPT:case g.STYLE:case g.TEMPLATE:case g.TITLE:{si(t,e);break}case g.CAPTION:case g.COLGROUP:case g.TBODY:case g.TFOOT:case g.THEAD:{t.tmplInsertionModeStack[0]=V.IN_TABLE,t.insertionMode=V.IN_TABLE,Su(t,e);break}case g.COL:{t.tmplInsertionModeStack[0]=V.IN_COLUMN_GROUP,t.insertionMode=V.IN_COLUMN_GROUP,By(t,e);break}case g.TR:{t.tmplInsertionModeStack[0]=V.IN_TABLE_BODY,t.insertionMode=V.IN_TABLE_BODY,jf(t,e);break}case g.TD:case g.TH:{t.tmplInsertionModeStack[0]=V.IN_ROW,t.insertionMode=V.IN_ROW,Hf(t,e);break}default:t.tmplInsertionModeStack[0]=V.IN_BODY,t.insertionMode=V.IN_BODY,Cn(t,e)}}function D7(t,e){e.tagID===g.TEMPLATE&&da(t,e)}function PC(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(g.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):Uy(t,e)}function L7(t,e){e.tagID===g.HTML?Cn(t,e):rf(t,e)}function OC(t,e){var n;if(e.tagID===g.HTML){if(t.fragmentContext||(t.insertionMode=V.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===g.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else rf(t,e)}function rf(t,e){t.insertionMode=V.IN_BODY,Bf(t,e)}function M7(t,e){switch(e.tagID){case g.HTML:{Cn(t,e);break}case g.FRAMESET:{t._insertElement(e,pe.HTML);break}case g.FRAME:{t._appendElement(e,pe.HTML),e.ackSelfClosing=!0;break}case g.NOFRAMES:{si(t,e);break}}}function F7(t,e){e.tagID===g.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==g.FRAMESET&&(t.insertionMode=V.AFTER_FRAMESET))}function U7(t,e){switch(e.tagID){case g.HTML:{Cn(t,e);break}case g.NOFRAMES:{si(t,e);break}}}function B7(t,e){e.tagID===g.HTML&&(t.insertionMode=V.AFTER_AFTER_FRAMESET)}function V7(t,e){e.tagID===g.HTML?Cn(t,e):Nh(t,e)}function Nh(t,e){t.insertionMode=V.IN_BODY,Bf(t,e)}function j7(t,e){switch(e.tagID){case g.HTML:{Cn(t,e);break}case g.NOFRAMES:{si(t,e);break}}}function H7(t,e){e.chars=St,t._insertCharacters(e)}function z7(t,e){t._insertCharacters(e),t.framesetOk=!1}function DC(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==pe.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function q7(t,e){if(sV(e))DC(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===pe.MATHML?yC(e):r===pe.SVG&&(oV(e),EC(e)),My(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function W7(t,e){if(e.tagID===g.P||e.tagID===g.BR){DC(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===pe.HTML){t._endTagOutsideForeignContent(e);break}const i=t.treeAdapter.getTagName(r);if(i.toLowerCase()===e.tagName){e.tagName=i,t.openElements.shortenToLength(n);break}}}J.AREA,J.BASE,J.BASEFONT,J.BGSOUND,J.BR,J.COL,J.EMBED,J.FRAME,J.HR,J.IMG,J.INPUT,J.KEYGEN,J.LINK,J.META,J.PARAM,J.SOURCE,J.TRACK,J.WBR;const $7=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,Y7=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Sb={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function LC(t,e){const n=rj(t),r=oC("type",{handlers:{root:G7,element:K7,text:Q7,comment:FC,doctype:X7,raw:Z7},unknown:ej}),i={parser:n?new Ib(Sb):Ib.getFragmentParser(void 0,Sb),handle(l){r(l,i)},stitches:!1,options:e||{}};r(t,i),Hu(i,ki());const o=n?i.parser.document:i.parser.getFragment(),u=G8(o,{file:i.options.file});return i.stitches&&xy(u,"comment",function(l,d,p){const m=l;if(m.value.stitch&&p&&d!==void 0){const E=p.children;return E[d]=m.value.stitch,d}}),u.type==="root"&&u.children.length===1&&u.children[0].type===t.type?u.children[0]:u}function MC(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function G7(t,e){MC(t.children,e)}function K7(t,e){tj(t,e),MC(t.children,e),nj(t,e)}function Q7(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:et.CHARACTER,chars:t.value,location:Vc(t)};Hu(e,ki(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function X7(t,e){const n={type:et.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Vc(t)};Hu(e,ki(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function J7(t,e){e.stitches=!0;const n=ij(t);if("children"in t&&"children"in n){const r=LC({type:"root",children:t.children},e.options);n.children=r.children}FC({type:"comment",value:{stitch:n}},e)}function FC(t,e){const n=t.value,r={type:et.COMMENT,data:n,location:Vc(t)};Hu(e,ki(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function Z7(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,UC(e,ki(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace($7,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function ej(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))J7(n,e);else{let r="";throw Y7.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Hu(t,e){UC(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=Bt.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function UC(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function tj(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===Bt.PLAINTEXT)return;Hu(e,ki(t));const r=e.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:qo.html;i===qo.html&&n==="svg"&&(i=qo.svg);const o=lB({...t,children:[]},{space:i===qo.svg?"svg":"html"}),u={type:et.START_TAG,tagName:n,tagID:ju(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:Vc(t)};e.parser.currentToken=u,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function nj(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&yB.includes(n)||e.parser.tokenizer.state===Bt.PLAINTEXT)return;Hu(e,Lf(t));const r={type:et.END_TAG,tagName:n,tagID:ju(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Vc(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===Bt.RCDATA||e.parser.tokenizer.state===Bt.RAWTEXT||e.parser.tokenizer.state===Bt.SCRIPT_DATA)&&(e.parser.tokenizer.state=Bt.DATA)}function rj(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function Vc(t){const e=ki(t)||{line:void 0,column:void 0,offset:void 0},n=Lf(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function ij(t){return"children"in t?wu({...t,children:[]}):wu(t)}function sj(t){return function(e,n){return LC(e,{...t,file:n})}}const oj=()=>{const{slug:t}=h0(),e=Wg.find(n=>n.id===t);return e?v.jsxs("div",{className:"blog-container",children:[v.jsx("h1",{className:"blog-title",children:e.title}),v.jsx("p",{className:"blog-date",children:new Date(e.date).toLocaleDateString()}),v.jsx("div",{className:"blog-content",children:v.jsx(O8,{rehypePlugins:[sj],children:e.content})}),v.jsx(Jt,{to:"/blog",className:"back-button",children:" Back to Blog"})]}):v.jsx("div",{className:"blog-container",children:"Post not found."})},aj=()=>v.jsxs("div",{className:"context-box",children:[v.jsx("h1",{children:"Craft Ideas"}),v.jsx("p",{children:"Coming soon..."})]}),uj=()=>v.jsxs("header",{className:"header",children:[v.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:v.jsx(Jt,{to:"/",children:v.jsx("img",{src:"/views/images/wordsLogo2.png",height:"130",width:"380",alt:"Tangled Oak Word Logo",style:{boxShadow:"none",border:"none"}})})}),v.jsxs("div",{className:"nav-links",children:[v.jsx(Jt,{to:"/",className:"nav-link",children:"Home"}),v.jsx(Jt,{to:"/shop",className:"nav-link",children:"Shop"}),v.jsx(Jt,{to:"/about",className:"nav-link",children:"About Us"}),v.jsx(Jt,{to:"/blog",className:"nav-link",children:"Blog"}),v.jsx(Jt,{to:"/craft",className:"nav-link",children:"Craft Ideas"}),v.jsx(Jt,{to:"/cart",className:"nav-link",children:" Cart"})]})]}),lj=()=>v.jsxs("footer",{className:"footer",children:[v.jsxs("div",{className:"footer-container",children:[v.jsxs("div",{className:"footer-section social-media",children:[v.jsx("h2",{children:"Follow Us"}),v.jsxs("div",{className:"social-icons",children:[v.jsx("a",{href:"https://www.facebook.com/profile.php?id=61556577491923",target:"_blank",rel:"noopener noreferrer",children:v.jsx("img",{src:"/views/images/facebook.png",alt:"Facebook"})}),v.jsx("a",{href:"https://www.instagram.com/tangledoakcraft/",target:"_blank",rel:"noopener noreferrer",children:v.jsx("img",{src:"/views/images/instagram.png",alt:"Instagram"})}),v.jsx("a",{href:"https://www.pinterest.com/tangledoakcraft",target:"_blank",rel:"noopener noreferrer",children:v.jsx("img",{src:"/views/images/pinterest.png",alt:"Pinterest"})})]})]}),v.jsxs("div",{className:"footer-section quick-links",children:[v.jsx("h2",{children:"Quick Links"}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx(Jt,{to:"/contact",children:"Contact Us"})}),v.jsx("li",{children:v.jsx(Jt,{to:"/shipping-policy",children:"Shipping & Returns"})}),v.jsx("li",{children:v.jsx(Jt,{to:"/faq",children:"FAQ"})})]})]}),v.jsxs("div",{className:"footer-section legal",children:[v.jsx("h2",{children:"Legal"}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx(Jt,{to:"/privacy-policy",children:"Privacy Policy"})}),v.jsx("li",{children:v.jsx(Jt,{to:"/terms",children:"Terms & Conditions"})}),v.jsx("li",{children:v.jsx(Jt,{to:"/vendor-login",className:"nav-link",style:{fontSize:"0.8rem",opacity:.6},children:"Vendor Portal"})})]})]})]}),v.jsx("div",{className:"copyright",children:v.jsx("p",{style:{fontSize:"8px"},children:" 2024 The Tangled Oak + Craft Collective. All Rights Reserved."})})]}),lg=({children:t,requiredRole:e})=>{const[n,r]=ce.useState(null);return ce.useEffect(()=>{const i=Tc.onAuthStateChanged(async o=>{if(!o){r(!1);return}const l=(await o.getIdTokenResult(!0)).claims.role;r(!e||l===e)});return()=>i()},[e]),n===null?v.jsx("p",{children:"Loading..."}):n===!1?v.jsx(zR,{to:"/vendor-login",replace:!0}):t},cj=()=>v.jsxs(JR,{children:[v.jsx(uj,{}),v.jsx("div",{className:"main-content",children:v.jsxs(WR,{children:[v.jsx(Ft,{path:"/",element:v.jsx(Uk,{})}),v.jsx(Ft,{path:"/shop",element:v.jsx(Zk,{})}),v.jsx(Ft,{path:"/product/:productId",element:v.jsx(eN,{})}),v.jsx(Ft,{path:"/cart",element:v.jsx(sN,{})}),v.jsx(Ft,{path:"/about",element:v.jsx(oN,{})}),v.jsx(Ft,{path:"/contact",element:v.jsx(aN,{})}),v.jsx(Ft,{path:"/faq",element:v.jsx(uN,{})}),v.jsx(Ft,{path:"/shipping-policy",element:v.jsx(lN,{})}),v.jsx(Ft,{path:"/privacy-policy",element:v.jsx(cN,{})}),v.jsx(Ft,{path:"/terms",element:v.jsx(dN,{})}),v.jsx(Ft,{path:"/vendor-login",element:v.jsx(lF,{})}),v.jsx(Ft,{path:"/vendor-register",element:v.jsx(cF,{})}),v.jsx(Ft,{path:"/admin/approvals",element:v.jsx(lg,{requiredRole:"vendor",children:v.jsx(dF,{})})}),v.jsx(Ft,{path:"/my-listings/new",element:v.jsx(lg,{requiredRole:"vendor",children:v.jsx(yF,{})})}),v.jsx(Ft,{path:"/my-listings",element:v.jsx(lg,{requiredRole:"vendor",children:v.jsx(EF,{})})}),v.jsx(Ft,{path:"/listing/:listingId",element:v.jsx(_F,{})}),v.jsx(Ft,{path:"/order-confirmation",element:v.jsx(TF,{})}),v.jsx(Ft,{path:"/blog",element:v.jsx(vF,{})}),v.jsx(Ft,{path:"/blog/:slug",element:v.jsx(oj,{})}),v.jsx(Ft,{path:"/craft-ideas",element:v.jsx(aj,{})})]})}),v.jsx(lj,{})]}),dj=Z2.createRoot(document.getElementById("root"));dj.render(v.jsx(rN,{children:v.jsx(cj,{})}));
