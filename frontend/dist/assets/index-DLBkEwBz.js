function aS(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function $s(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function lS(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var df={exports:{}},dl={},ff={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function uS(){if($y)return Oe;$y=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,F={};function L(V,G,pe){this.props=V,this.context=G,this.refs=F,this.updater=pe||A}L.prototype.isReactComponent={},L.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},L.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Q(){}Q.prototype=L.prototype;function W(V,G,pe){this.props=V,this.context=G,this.refs=F,this.updater=pe||A}var ne=W.prototype=new Q;ne.constructor=W,D(ne,L.prototype),ne.isPureReactComponent=!0;var Z=Array.isArray,ve=Object.prototype.hasOwnProperty,_e={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function R(V,G,pe){var Pe,be={},De=null,Ue=null;if(G!=null)for(Pe in G.ref!==void 0&&(Ue=G.ref),G.key!==void 0&&(De=""+G.key),G)ve.call(G,Pe)&&!M.hasOwnProperty(Pe)&&(be[Pe]=G[Pe]);var $e=arguments.length-2;if($e===1)be.children=pe;else if(1<$e){for(var Ke=Array($e),Ct=0;Ct<$e;Ct++)Ke[Ct]=arguments[Ct+2];be.children=Ke}if(V&&V.defaultProps)for(Pe in $e=V.defaultProps,$e)be[Pe]===void 0&&(be[Pe]=$e[Pe]);return{$$typeof:n,type:V,key:De,ref:Ue,props:be,_owner:_e.current}}function k(V,G){return{$$typeof:n,type:V.type,key:G,ref:V.ref,props:V.props,_owner:V._owner}}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function x(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(pe){return G[pe]})}var b=/\/+/g;function C(V,G){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):G.toString(36)}function se(V,G,pe,Pe,be){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(De){case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=V,be=be(Ue),V=Pe===""?"."+C(Ue,0):Pe,Z(be)?(pe="",V!=null&&(pe=V.replace(b,"$&/")+"/"),se(be,G,pe,"",function(Ct){return Ct})):be!=null&&(O(be)&&(be=k(be,pe+(!be.key||Ue&&Ue.key===be.key?"":(""+be.key).replace(b,"$&/")+"/")+V)),G.push(be)),1;if(Ue=0,Pe=Pe===""?".":Pe+":",Z(V))for(var $e=0;$e<V.length;$e++){De=V[$e];var Ke=Pe+C(De,$e);Ue+=se(De,G,pe,Ke,be)}else if(Ke=I(V),typeof Ke=="function")for(V=Ke.call(V),$e=0;!(De=V.next()).done;)De=De.value,Ke=Pe+C(De,$e++),Ue+=se(De,G,pe,Ke,be);else if(De==="object")throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Ue}function ae(V,G,pe){if(V==null)return V;var Pe=[],be=0;return se(V,Pe,"","",function(De){return G.call(pe,De,be++)}),Pe}function Ae(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(pe){(V._status===0||V._status===-1)&&(V._status=1,V._result=pe)},function(pe){(V._status===0||V._status===-1)&&(V._status=2,V._result=pe)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var $={current:null},K={transition:null},ue={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:K,ReactCurrentOwner:_e};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:ae,forEach:function(V,G,pe){ae(V,function(){G.apply(this,arguments)},pe)},count:function(V){var G=0;return ae(V,function(){G++}),G},toArray:function(V){return ae(V,function(G){return G})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Oe.Component=L,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=W,Oe.StrictMode=i,Oe.Suspense=f,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Oe.act=ie,Oe.cloneElement=function(V,G,pe){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Pe=D({},V.props),be=V.key,De=V.ref,Ue=V._owner;if(G!=null){if(G.ref!==void 0&&(De=G.ref,Ue=_e.current),G.key!==void 0&&(be=""+G.key),V.type&&V.type.defaultProps)var $e=V.type.defaultProps;for(Ke in G)ve.call(G,Ke)&&!M.hasOwnProperty(Ke)&&(Pe[Ke]=G[Ke]===void 0&&$e!==void 0?$e[Ke]:G[Ke])}var Ke=arguments.length-2;if(Ke===1)Pe.children=pe;else if(1<Ke){$e=Array(Ke);for(var Ct=0;Ct<Ke;Ct++)$e[Ct]=arguments[Ct+2];Pe.children=$e}return{$$typeof:n,type:V.type,key:be,ref:De,props:Pe,_owner:Ue}},Oe.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Oe.createElement=R,Oe.createFactory=function(V){var G=R.bind(null,V);return G.type=V,G},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(V){return{$$typeof:d,render:V}},Oe.isValidElement=O,Oe.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:Ae}},Oe.memo=function(V,G){return{$$typeof:m,type:V,compare:G===void 0?null:G}},Oe.startTransition=function(V){var G=K.transition;K.transition={};try{V()}finally{K.transition=G}},Oe.unstable_act=ie,Oe.useCallback=function(V,G){return $.current.useCallback(V,G)},Oe.useContext=function(V){return $.current.useContext(V)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(V){return $.current.useDeferredValue(V)},Oe.useEffect=function(V,G){return $.current.useEffect(V,G)},Oe.useId=function(){return $.current.useId()},Oe.useImperativeHandle=function(V,G,pe){return $.current.useImperativeHandle(V,G,pe)},Oe.useInsertionEffect=function(V,G){return $.current.useInsertionEffect(V,G)},Oe.useLayoutEffect=function(V,G){return $.current.useLayoutEffect(V,G)},Oe.useMemo=function(V,G){return $.current.useMemo(V,G)},Oe.useReducer=function(V,G,pe){return $.current.useReducer(V,G,pe)},Oe.useRef=function(V){return $.current.useRef(V)},Oe.useState=function(V){return $.current.useState(V)},Oe.useSyncExternalStore=function(V,G,pe){return $.current.useSyncExternalStore(V,G,pe)},Oe.useTransition=function(){return $.current.useTransition()},Oe.version="18.3.1",Oe}var qy;function ua(){return qy||(qy=1,ff.exports=uS()),ff.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function cS(){if(Hy)return dl;Hy=1;var n=ua(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,m){var _,E={},I=null,A=null;m!==void 0&&(I=""+m),f.key!==void 0&&(I=""+f.key),f.ref!==void 0&&(A=f.ref);for(_ in f)i.call(f,_)&&!a.hasOwnProperty(_)&&(E[_]=f[_]);if(d&&d.defaultProps)for(_ in f=d.defaultProps,f)E[_]===void 0&&(E[_]=f[_]);return{$$typeof:e,type:d,key:I,ref:A,props:E,_owner:o.current}}return dl.Fragment=t,dl.jsx=c,dl.jsxs=c,dl}var Wy;function hS(){return Wy||(Wy=1,df.exports=cS()),df.exports}var v=hS(),Y=ua();const Qo=$s(Y),dS=aS({__proto__:null,default:Qo},[Y]);var vc={},pf={exports:{}},un={},mf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function fS(){return Ky||(Ky=1,function(n){function e(K,ue){var ie=K.length;K.push(ue);e:for(;0<ie;){var V=ie-1>>>1,G=K[V];if(0<o(G,ue))K[V]=ue,K[ie]=G,ie=V;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var ue=K[0],ie=K.pop();if(ie!==ue){K[0]=ie;e:for(var V=0,G=K.length,pe=G>>>1;V<pe;){var Pe=2*(V+1)-1,be=K[Pe],De=Pe+1,Ue=K[De];if(0>o(be,ie))De<G&&0>o(Ue,be)?(K[V]=Ue,K[De]=ie,V=De):(K[V]=be,K[Pe]=ie,V=Pe);else if(De<G&&0>o(Ue,ie))K[V]=Ue,K[De]=ie,V=De;else break e}}return ue}function o(K,ue){var ie=K.sortIndex-ue.sortIndex;return ie!==0?ie:K.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var f=[],m=[],_=1,E=null,I=3,A=!1,D=!1,F=!1,L=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(K){for(var ue=t(m);ue!==null;){if(ue.callback===null)i(m);else if(ue.startTime<=K)i(m),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=t(m)}}function Z(K){if(F=!1,ne(K),!D)if(t(f)!==null)D=!0,Ae(ve);else{var ue=t(m);ue!==null&&$(Z,ue.startTime-K)}}function ve(K,ue){D=!1,F&&(F=!1,Q(R),R=-1),A=!0;var ie=I;try{for(ne(ue),E=t(f);E!==null&&(!(E.expirationTime>ue)||K&&!x());){var V=E.callback;if(typeof V=="function"){E.callback=null,I=E.priorityLevel;var G=V(E.expirationTime<=ue);ue=n.unstable_now(),typeof G=="function"?E.callback=G:E===t(f)&&i(f),ne(ue)}else i(f);E=t(f)}if(E!==null)var pe=!0;else{var Pe=t(m);Pe!==null&&$(Z,Pe.startTime-ue),pe=!1}return pe}finally{E=null,I=ie,A=!1}}var _e=!1,M=null,R=-1,k=5,O=-1;function x(){return!(n.unstable_now()-O<k)}function b(){if(M!==null){var K=n.unstable_now();O=K;var ue=!0;try{ue=M(!0,K)}finally{ue?C():(_e=!1,M=null)}}else _e=!1}var C;if(typeof W=="function")C=function(){W(b)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ae=se.port2;se.port1.onmessage=b,C=function(){ae.postMessage(null)}}else C=function(){L(b,0)};function Ae(K){M=K,_e||(_e=!0,C())}function $(K,ue){R=L(function(){K(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){D||A||(D=!0,Ae(ve))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(K){switch(I){case 1:case 2:case 3:var ue=3;break;default:ue=I}var ie=I;I=ue;try{return K()}finally{I=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,ue){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ie=I;I=K;try{return ue()}finally{I=ie}},n.unstable_scheduleCallback=function(K,ue,ie){var V=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?V+ie:V):ie=V,K){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ie+G,K={id:_++,callback:ue,priorityLevel:K,startTime:ie,expirationTime:G,sortIndex:-1},ie>V?(K.sortIndex=ie,e(m,K),t(f)===null&&K===t(m)&&(F?(Q(R),R=-1):F=!0,$(Z,ie-V))):(K.sortIndex=G,e(f,K),D||A||(D=!0,Ae(ve))),K},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(K){var ue=I;return function(){var ie=I;I=ue;try{return K.apply(this,arguments)}finally{I=ie}}}}(gf)),gf}var Gy;function pS(){return Gy||(Gy=1,mf.exports=fS()),mf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function mS(){if(Qy)return un;Qy=1;var n=ua(),e=pS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function I(r){return f.call(E,r)?!0:f.call(_,r)?!1:m.test(r)?E[r]=!0:(_[r]=!0,!1)}function A(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function D(r,s,l,h){if(s===null||typeof s>"u"||A(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function F(r,s,l,h,p,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new F(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];L[s]=new F(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new F(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new F(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new F(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new F(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new F(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new F(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new F(r,5,!1,r.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function W(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(Q,W);L[s]=new F(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(Q,W);L[s]=new F(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(Q,W);L[s]=new F(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new F(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new F(r,1,!1,r.toLowerCase(),null,!0,!0)});function ne(r,s,l,h){var p=L.hasOwnProperty(s)?L[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,l,p,h)&&(l=null),h||p===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var Z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ve=Symbol.for("react.element"),_e=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),x=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),K=Symbol.iterator;function ue(r){return r===null||typeof r!="object"?null:(r=K&&r[K]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Object.assign,V;function G(r){if(V===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+r}var pe=!1;function Pe(r,s){if(!r||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var h=q}Reflect.construct(r,[],s)}else{try{s.call()}catch(q){h=q}r.call(s.prototype)}else{try{throw Error()}catch(q){h=q}r()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var p=q.stack.split(`
`),y=h.stack.split(`
`),T=p.length-1,P=y.length-1;1<=T&&0<=P&&p[T]!==y[P];)P--;for(;1<=T&&0<=P;T--,P--)if(p[T]!==y[P]){if(T!==1||P!==1)do if(T--,P--,0>P||p[T]!==y[P]){var N=`
`+p[T].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=T&&0<=P);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?G(r):""}function be(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case _e:return"Portal";case k:return"Profiler";case R:return"StrictMode";case C:return"Suspense";case se:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case x:return(r.displayName||"Context")+".Consumer";case O:return(r._context.displayName||"Context")+".Provider";case b:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ae:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case Ae:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function $e(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ke(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ct(r){var s=Ke(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Rr(r){r._valueTracker||(r._valueTracker=Ct(r))}function Ys(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Ke(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function ni(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function es(r,s){var l=s.checked;return ie({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Xs(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=$e(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function va(r,s){s=s.checked,s!=null&&ne(r,"checked",s,!1)}function _a(r,s){va(r,s);var l=$e(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Js(r,s.type,l):s.hasOwnProperty("defaultValue")&&Js(r,s.type,$e(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function ru(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Js(r,s,l){(s!=="number"||ni(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Pr=Array.isArray;function kr(r,s,l,h){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&h&&(r[l].defaultSelected=!0)}else{for(l=""+$e(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function wa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Zs(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Pr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:$e(l)}}function eo(r,s){var l=$e(s.value),h=$e(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Ea(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function _t(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?_t(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var xr,Ta=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=xr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ri(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ns=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(r){ns.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ts[s]=ts[r]})});function Ia(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ts.hasOwnProperty(r)&&ts[r]?(""+s).trim():s+"px"}function Sa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Ia(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,p):r[l]=p}}var Aa=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ca(r,s){if(s){if(Aa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ra(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rs=null;function to(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var no=null,Cn=null,ur=null;function ro(r){if(r=Xa(r)){if(typeof no!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ou(s),no(r.stateNode,r.type,s))}}function cr(r){Cn?ur?ur.push(r):ur=[r]:Cn=r}function Pa(){if(Cn){var r=Cn,s=ur;if(ur=Cn=null,ro(r),s)for(r=0;r<s.length;r++)ro(s[r])}}function is(r,s){return r(s)}function ka(){}var br=!1;function xa(r,s,l){if(br)return r(s,l);br=!0;try{return is(r,s,l)}finally{br=!1,(Cn!==null||ur!==null)&&(ka(),Pa())}}function ct(r,s){var l=r.stateNode;if(l===null)return null;var h=Ou(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var io=!1;if(d)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){io=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{io=!1}function ss(r,s,l,h,p,y,T,P,N){var q=Array.prototype.slice.call(arguments,3);try{s.apply(l,q)}catch(te){this.onError(te)}}var os=!1,so=null,zn=!1,ba=null,Fh={onError:function(r){os=!0,so=r}};function oo(r,s,l,h,p,y,T,P,N){os=!1,so=null,ss.apply(Fh,arguments)}function iu(r,s,l,h,p,y,T,P,N){if(oo.apply(this,arguments),os){if(os){var q=so;os=!1,so=null}else throw Error(t(198));zn||(zn=!0,ba=q)}}function $n(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function as(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function qn(r){if($n(r)!==r)throw Error(t(188))}function su(r){var s=r.alternate;if(!s){if(s=$n(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return qn(p),r;if(y===h)return qn(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var T=!1,P=p.child;P;){if(P===l){T=!0,l=p,h=y;break}if(P===h){T=!0,h=p,l=y;break}P=P.sibling}if(!T){for(P=y.child;P;){if(P===l){T=!0,l=y,h=p;break}if(P===h){T=!0,h=y,l=p;break}P=P.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Na(r){return r=su(r),r!==null?ao(r):null}function ao(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ao(r);if(s!==null)return s;r=r.sibling}return null}var lo=e.unstable_scheduleCallback,Oa=e.unstable_cancelCallback,ou=e.unstable_shouldYield,Uh=e.unstable_requestPaint,Ge=e.unstable_now,au=e.unstable_getCurrentPriorityLevel,ls=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,Rn=e.unstable_NormalPriority,Da=e.unstable_LowPriority,lu=e.unstable_IdlePriority,us=null,gn=null;function uu(r){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(us,r,void 0,(r.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:hu,La=Math.log,cu=Math.LN2;function hu(r){return r>>>=0,r===0?32:31-(La(r)/cu|0)|0}var uo=64,co=4194304;function si(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function cs(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,p=r.suspendedLanes,y=r.pingedLanes,T=l&268435455;if(T!==0){var P=T&~p;P!==0?h=si(P):(y&=T,y!==0&&(h=si(y)))}else T=l&~p,T!==0?h=si(T):y!==0&&(h=si(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Qt(s),p=1<<l,h|=r[l],s&=~p;return h}function Bh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var T=31-Qt(y),P=1<<T,N=p[T];N===-1?((P&l)===0||(P&h)!==0)&&(p[T]=Bh(P,s)):N<=s&&(r.expiredLanes|=P),y&=~P}}function yn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function hs(){var r=uo;return uo<<=1,(uo&4194240)===0&&(uo=64),r}function oi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function ai(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Qt(s),r[s]=l}function We(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Qt(l),y=1<<p;s[p]=0,h[p]=-1,r[p]=-1,l&=~y}}function li(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Qt(l),p=1<<h;p&s|r[h]&s&&(r[h]|=s),l&=~p}}var Ve=0;function ui(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var du,ho,fu,pu,mu,Ma=!1,hr=[],Nt=null,Hn=null,Wn=null,ci=new Map,Pn=new Map,dr=[],zh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gu(r,s){switch(r){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":ci.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(s.pointerId)}}function tn(r,s,l,h,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Xa(s),s!==null&&ho(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function $h(r,s,l,h,p){switch(s){case"focusin":return Nt=tn(Nt,r,s,l,h,p),!0;case"dragenter":return Hn=tn(Hn,r,s,l,h,p),!0;case"mouseover":return Wn=tn(Wn,r,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return ci.set(y,tn(ci.get(y)||null,r,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,Pn.set(y,tn(Pn.get(y)||null,r,s,l,h,p)),!0}return!1}function yu(r){var s=gs(r.target);if(s!==null){var l=$n(s);if(l!==null){if(s=l.tag,s===13){if(s=as(l),s!==null){r.blockedOn=s,mu(r.priority,function(){fu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Or(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=fo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);rs=h,l.target.dispatchEvent(h),rs=null}else return s=Xa(l),s!==null&&ho(s),r.blockedOn=l,!1;s.shift()}return!0}function ds(r,s,l){Or(r)&&l.delete(s)}function vu(){Ma=!1,Nt!==null&&Or(Nt)&&(Nt=null),Hn!==null&&Or(Hn)&&(Hn=null),Wn!==null&&Or(Wn)&&(Wn=null),ci.forEach(ds),Pn.forEach(ds)}function Kn(r,s){r.blockedOn===s&&(r.blockedOn=null,Ma||(Ma=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vu)))}function Gn(r){function s(p){return Kn(p,r)}if(0<hr.length){Kn(hr[0],r);for(var l=1;l<hr.length;l++){var h=hr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Nt!==null&&Kn(Nt,r),Hn!==null&&Kn(Hn,r),Wn!==null&&Kn(Wn,r),ci.forEach(s),Pn.forEach(s),l=0;l<dr.length;l++)h=dr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<dr.length&&(l=dr[0],l.blockedOn===null);)yu(l),l.blockedOn===null&&dr.shift()}var Dr=Z.ReactCurrentBatchConfig,hi=!0;function Ze(r,s,l,h){var p=Ve,y=Dr.transition;Dr.transition=null;try{Ve=1,Va(r,s,l,h)}finally{Ve=p,Dr.transition=y}}function qh(r,s,l,h){var p=Ve,y=Dr.transition;Dr.transition=null;try{Ve=4,Va(r,s,l,h)}finally{Ve=p,Dr.transition=y}}function Va(r,s,l,h){if(hi){var p=fo(r,s,l,h);if(p===null)td(r,s,h,fs,l),gu(r,h);else if($h(p,r,s,l,h))h.stopPropagation();else if(gu(r,h),s&4&&-1<zh.indexOf(r)){for(;p!==null;){var y=Xa(p);if(y!==null&&du(y),y=fo(r,s,l,h),y===null&&td(r,s,h,fs,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else td(r,s,h,null,l)}}var fs=null;function fo(r,s,l,h){if(fs=null,r=to(h),r=gs(r),r!==null)if(s=$n(r),s===null)r=null;else if(l=s.tag,l===13){if(r=as(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return fs=r,null}function ja(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(au()){case ls:return 1;case ii:return 4;case Rn:case Da:return 16;case lu:return 536870912;default:return 16}default:return 16}}var vn=null,po=null,nn=null;function Fa(){if(nn)return nn;var r,s=po,l=s.length,h,p="value"in vn?vn.value:vn.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var T=l-r;for(h=1;h<=T&&s[l-h]===p[y-h];h++);return nn=p.slice(r,1<h?1-h:void 0)}function mo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function fr(){return!0}function Ua(){return!1}function Ot(r){function s(l,h,p,y,T){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(l=r[P],this[P]=l?l(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?fr:Ua,this.isPropagationStopped=Ua,this}return ie(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),s}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=Ot(Qn),pr=ie({},Qn,{view:0,detail:0}),Hh=Ot(pr),yo,Lr,di,ps=ie({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==di&&(di&&r.type==="mousemove"?(yo=r.screenX-di.screenX,Lr=r.screenY-di.screenY):Lr=yo=0,di=r),yo)},movementY:function(r){return"movementY"in r?r.movementY:Lr}}),vo=Ot(ps),Ba=ie({},ps,{dataTransfer:0}),_u=Ot(Ba),_o=ie({},pr,{relatedTarget:0}),wo=Ot(_o),wu=ie({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=Ot(wu),Eu=ie({},Qn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Tu=Ot(Eu),Iu=ie({},Qn,{data:0}),za=Ot(Iu),Eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Su[r])?!!s[r]:!1}function mr(){return Au}var u=ie({},pr,{key:function(r){if(r.key){var s=Eo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=mo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(r){return r.type==="keypress"?mo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?mo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Ot(u),w=ie({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Ot(w),U=ie({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),H=Ot(U),le=ie({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Ot(le),Et=ie({},ps,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),je=Ot(Et),Rt=[9,13,27,32],pt=d&&"CompositionEvent"in window,kn=null;d&&"documentMode"in document&&(kn=document.documentMode);var _n=d&&"TextEvent"in window&&!kn,ms=d&&(!pt||kn&&8<kn&&11>=kn),To=" ",Vm=!1;function jm(r,s){switch(r){case"keyup":return Rt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Io=!1;function iI(r,s){switch(r){case"compositionend":return Fm(s);case"keypress":return s.which!==32?null:(Vm=!0,To);case"textInput":return r=s.data,r===To&&Vm?null:r;default:return null}}function sI(r,s){if(Io)return r==="compositionend"||!pt&&jm(r,s)?(r=Fa(),nn=po=vn=null,Io=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ms&&s.locale!=="ko"?null:s.data;default:return null}}var oI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!oI[r.type]:s==="textarea"}function Bm(r,s,l,h){cr(h),s=xu(s,"onChange"),0<s.length&&(l=new go("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var $a=null,qa=null;function aI(r){sg(r,0)}function Cu(r){var s=Po(r);if(Ys(s))return r}function lI(r,s){if(r==="change")return s}var zm=!1;if(d){var Wh;if(d){var Kh="oninput"in document;if(!Kh){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),Kh=typeof $m.oninput=="function"}Wh=Kh}else Wh=!1;zm=Wh&&(!document.documentMode||9<document.documentMode)}function qm(){$a&&($a.detachEvent("onpropertychange",Hm),qa=$a=null)}function Hm(r){if(r.propertyName==="value"&&Cu(qa)){var s=[];Bm(s,qa,r,to(r)),xa(aI,s)}}function uI(r,s,l){r==="focusin"?(qm(),$a=s,qa=l,$a.attachEvent("onpropertychange",Hm)):r==="focusout"&&qm()}function cI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Cu(qa)}function hI(r,s){if(r==="click")return Cu(s)}function dI(r,s){if(r==="input"||r==="change")return Cu(s)}function fI(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Yn=typeof Object.is=="function"?Object.is:fI;function Ha(r,s){if(Yn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!Yn(r[p],s[p]))return!1}return!0}function Wm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Km(r,s){var l=Wm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wm(l)}}function Gm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Gm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Qm(){for(var r=window,s=ni();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ni(r.document)}return s}function Gh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function pI(r){var s=Qm(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Gm(l.ownerDocument.documentElement,l)){if(h!==null&&Gh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!r.extend&&y>h&&(p=h,h=y,y=p),p=Km(l,y);var T=Km(l,h);p&&T&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var mI=d&&"documentMode"in document&&11>=document.documentMode,So=null,Qh=null,Wa=null,Yh=!1;function Ym(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yh||So==null||So!==ni(h)||(h=So,"selectionStart"in h&&Gh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Wa&&Ha(Wa,h)||(Wa=h,h=xu(Qh,"onSelect"),0<h.length&&(s=new go("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=So)))}function Ru(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Ao={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},Xh={},Xm={};d&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Pu(r){if(Xh[r])return Xh[r];if(!Ao[r])return r;var s=Ao[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Xm)return Xh[r]=s[l];return r}var Jm=Pu("animationend"),Zm=Pu("animationiteration"),eg=Pu("animationstart"),tg=Pu("transitionend"),ng=new Map,rg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(r,s){ng.set(r,s),a(s,[r])}for(var Jh=0;Jh<rg.length;Jh++){var Zh=rg[Jh],gI=Zh.toLowerCase(),yI=Zh[0].toUpperCase()+Zh.slice(1);fi(gI,"on"+yI)}fi(Jm,"onAnimationEnd"),fi(Zm,"onAnimationIteration"),fi(eg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(tg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function ig(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,iu(h,s,void 0,r),r.currentTarget=null}function sg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var T=h.length-1;0<=T;T--){var P=h[T],N=P.instance,q=P.currentTarget;if(P=P.listener,N!==y&&p.isPropagationStopped())break e;ig(p,P,q),y=N}else for(T=0;T<h.length;T++){if(P=h[T],N=P.instance,q=P.currentTarget,P=P.listener,N!==y&&p.isPropagationStopped())break e;ig(p,P,q),y=N}}}if(zn)throw r=ba,zn=!1,ba=null,r}function Ye(r,s){var l=s[ad];l===void 0&&(l=s[ad]=new Set);var h=r+"__bubble";l.has(h)||(og(s,r,2,!1),l.add(h))}function ed(r,s,l){var h=0;s&&(h|=4),og(l,r,h,s)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Ga(r){if(!r[ku]){r[ku]=!0,i.forEach(function(l){l!=="selectionchange"&&(vI.has(l)||ed(l,!1,r),ed(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ku]||(s[ku]=!0,ed("selectionchange",!1,s))}}function og(r,s,l,h){switch(ja(s)){case 1:var p=Ze;break;case 4:p=qh;break;default:p=Va}l=p.bind(null,s,l,r),p=void 0,!io||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function td(r,s,l,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var P=h.stateNode.containerInfo;if(P===p||P.nodeType===8&&P.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var N=T.tag;if((N===3||N===4)&&(N=T.stateNode.containerInfo,N===p||N.nodeType===8&&N.parentNode===p))return;T=T.return}for(;P!==null;){if(T=gs(P),T===null)return;if(N=T.tag,N===5||N===6){h=y=T;continue e}P=P.parentNode}}h=h.return}xa(function(){var q=y,te=to(l),re=[];e:{var ee=ng.get(r);if(ee!==void 0){var ce=go,me=r;switch(r){case"keypress":if(mo(l)===0)break e;case"keydown":case"keyup":ce=g;break;case"focusin":me="focus",ce=wo;break;case"focusout":me="blur",ce=wo;break;case"beforeblur":case"afterblur":ce=wo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=H;break;case Jm:case Zm:case eg:ce=Mr;break;case tg:ce=He;break;case"scroll":ce=Hh;break;case"wheel":ce=je;break;case"copy":case"cut":case"paste":ce=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=S}var ge=(s&4)!==0,ht=!ge&&r==="scroll",B=ge?ee!==null?ee+"Capture":null:ee;ge=[];for(var j=q,z;j!==null;){z=j;var oe=z.stateNode;if(z.tag===5&&oe!==null&&(z=oe,B!==null&&(oe=ct(j,B),oe!=null&&ge.push(Qa(j,oe,z)))),ht)break;j=j.return}0<ge.length&&(ee=new ce(ee,me,null,l,te),re.push({event:ee,listeners:ge}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",ee&&l!==rs&&(me=l.relatedTarget||l.fromElement)&&(gs(me)||me[Vr]))break e;if((ce||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(me=l.relatedTarget||l.toElement,ce=q,me=me?gs(me):null,me!==null&&(ht=$n(me),me!==ht||me.tag!==5&&me.tag!==6)&&(me=null)):(ce=null,me=q),ce!==me)){if(ge=vo,oe="onMouseLeave",B="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(ge=S,oe="onPointerLeave",B="onPointerEnter",j="pointer"),ht=ce==null?ee:Po(ce),z=me==null?ee:Po(me),ee=new ge(oe,j+"leave",ce,l,te),ee.target=ht,ee.relatedTarget=z,oe=null,gs(te)===q&&(ge=new ge(B,j+"enter",me,l,te),ge.target=z,ge.relatedTarget=ht,oe=ge),ht=oe,ce&&me)t:{for(ge=ce,B=me,j=0,z=ge;z;z=Co(z))j++;for(z=0,oe=B;oe;oe=Co(oe))z++;for(;0<j-z;)ge=Co(ge),j--;for(;0<z-j;)B=Co(B),z--;for(;j--;){if(ge===B||B!==null&&ge===B.alternate)break t;ge=Co(ge),B=Co(B)}ge=null}else ge=null;ce!==null&&ag(re,ee,ce,ge,!1),me!==null&&ht!==null&&ag(re,ht,me,ge,!0)}}e:{if(ee=q?Po(q):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var ye=lI;else if(Um(ee))if(zm)ye=dI;else{ye=cI;var Ee=uI}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ye=hI);if(ye&&(ye=ye(r,q))){Bm(re,ye,l,te);break e}Ee&&Ee(r,ee,q),r==="focusout"&&(Ee=ee._wrapperState)&&Ee.controlled&&ee.type==="number"&&Js(ee,"number",ee.value)}switch(Ee=q?Po(q):window,r){case"focusin":(Um(Ee)||Ee.contentEditable==="true")&&(So=Ee,Qh=q,Wa=null);break;case"focusout":Wa=Qh=So=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Ym(re,l,te);break;case"selectionchange":if(mI)break;case"keydown":case"keyup":Ym(re,l,te)}var Te;if(pt)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Io?jm(r,l)&&(Ce="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(ms&&l.locale!=="ko"&&(Io||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Io&&(Te=Fa()):(vn=te,po="value"in vn?vn.value:vn.textContent,Io=!0)),Ee=xu(q,Ce),0<Ee.length&&(Ce=new za(Ce,r,null,l,te),re.push({event:Ce,listeners:Ee}),Te?Ce.data=Te:(Te=Fm(l),Te!==null&&(Ce.data=Te)))),(Te=_n?iI(r,l):sI(r,l))&&(q=xu(q,"onBeforeInput"),0<q.length&&(te=new za("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:q}),te.data=Te))}sg(re,s)})}function Qa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function xu(r,s){for(var l=s+"Capture",h=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ct(r,l),y!=null&&h.unshift(Qa(r,y,p)),y=ct(r,s),y!=null&&h.push(Qa(r,y,p))),r=r.return}return h}function Co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ag(r,s,l,h,p){for(var y=s._reactName,T=[];l!==null&&l!==h;){var P=l,N=P.alternate,q=P.stateNode;if(N!==null&&N===h)break;P.tag===5&&q!==null&&(P=q,p?(N=ct(l,y),N!=null&&T.unshift(Qa(l,N,P))):p||(N=ct(l,y),N!=null&&T.push(Qa(l,N,P)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var _I=/\r\n?/g,wI=/\u0000|\uFFFD/g;function lg(r){return(typeof r=="string"?r:""+r).replace(_I,`
`).replace(wI,"")}function bu(r,s,l){if(s=lg(s),lg(r)!==s&&l)throw Error(t(425))}function Nu(){}var nd=null,rd=null;function id(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sd=typeof setTimeout=="function"?setTimeout:void 0,EI=typeof clearTimeout=="function"?clearTimeout:void 0,ug=typeof Promise=="function"?Promise:void 0,TI=typeof queueMicrotask=="function"?queueMicrotask:typeof ug<"u"?function(r){return ug.resolve(null).then(r).catch(II)}:sd;function II(r){setTimeout(function(){throw r})}function od(r,s){var l=s,h=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){r.removeChild(p),Gn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Gn(s)}function pi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function cg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),gr="__reactFiber$"+Ro,Ya="__reactProps$"+Ro,Vr="__reactContainer$"+Ro,ad="__reactEvents$"+Ro,SI="__reactListeners$"+Ro,AI="__reactHandles$"+Ro;function gs(r){var s=r[gr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Vr]||l[gr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=cg(r);r!==null;){if(l=r[gr])return l;r=cg(r)}return s}r=l,l=r.parentNode}return null}function Xa(r){return r=r[gr]||r[Vr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Po(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ou(r){return r[Ya]||null}var ld=[],ko=-1;function mi(r){return{current:r}}function Xe(r){0>ko||(r.current=ld[ko],ld[ko]=null,ko--)}function Qe(r,s){ko++,ld[ko]=r.current,r.current=s}var gi={},Bt=mi(gi),rn=mi(!1),ys=gi;function xo(r,s){var l=r.type.contextTypes;if(!l)return gi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function sn(r){return r=r.childContextTypes,r!=null}function Du(){Xe(rn),Xe(Bt)}function hg(r,s,l){if(Bt.current!==gi)throw Error(t(168));Qe(Bt,s),Qe(rn,l)}function dg(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Ue(r)||"Unknown",p));return ie({},l,h)}function Lu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||gi,ys=Bt.current,Qe(Bt,r),Qe(rn,rn.current),!0}function fg(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=dg(r,s,ys),h.__reactInternalMemoizedMergedChildContext=r,Xe(rn),Xe(Bt),Qe(Bt,r)):Xe(rn),Qe(rn,l)}var jr=null,Mu=!1,ud=!1;function pg(r){jr===null?jr=[r]:jr.push(r)}function CI(r){Mu=!0,pg(r)}function yi(){if(!ud&&jr!==null){ud=!0;var r=0,s=Ve;try{var l=jr;for(Ve=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}jr=null,Mu=!1}catch(p){throw jr!==null&&(jr=jr.slice(r+1)),lo(ls,yi),p}finally{Ve=s,ud=!1}}return null}var bo=[],No=0,Vu=null,ju=0,xn=[],bn=0,vs=null,Fr=1,Ur="";function _s(r,s){bo[No++]=ju,bo[No++]=Vu,Vu=r,ju=s}function mg(r,s,l){xn[bn++]=Fr,xn[bn++]=Ur,xn[bn++]=vs,vs=r;var h=Fr;r=Ur;var p=32-Qt(h)-1;h&=~(1<<p),l+=1;var y=32-Qt(s)+p;if(30<y){var T=p-p%5;y=(h&(1<<T)-1).toString(32),h>>=T,p-=T,Fr=1<<32-Qt(s)+p|l<<p|h,Ur=y+r}else Fr=1<<y|l<<p|h,Ur=r}function cd(r){r.return!==null&&(_s(r,1),mg(r,1,0))}function hd(r){for(;r===Vu;)Vu=bo[--No],bo[No]=null,ju=bo[--No],bo[No]=null;for(;r===vs;)vs=xn[--bn],xn[bn]=null,Ur=xn[--bn],xn[bn]=null,Fr=xn[--bn],xn[bn]=null}var wn=null,En=null,et=!1,Xn=null;function gg(r,s){var l=Ln(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function yg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,wn=r,En=pi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,wn=r,En=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=vs!==null?{id:Fr,overflow:Ur}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Ln(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,wn=r,En=null,!0):!1;default:return!1}}function dd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function fd(r){if(et){var s=En;if(s){var l=s;if(!yg(r,s)){if(dd(r))throw Error(t(418));s=pi(l.nextSibling);var h=wn;s&&yg(r,s)?gg(h,l):(r.flags=r.flags&-4097|2,et=!1,wn=r)}}else{if(dd(r))throw Error(t(418));r.flags=r.flags&-4097|2,et=!1,wn=r}}}function vg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;wn=r}function Fu(r){if(r!==wn)return!1;if(!et)return vg(r),et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!id(r.type,r.memoizedProps)),s&&(s=En)){if(dd(r))throw _g(),Error(t(418));for(;s;)gg(r,s),s=pi(s.nextSibling)}if(vg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){En=pi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}En=null}}else En=wn?pi(r.stateNode.nextSibling):null;return!0}function _g(){for(var r=En;r;)r=pi(r.nextSibling)}function Oo(){En=wn=null,et=!1}function pd(r){Xn===null?Xn=[r]:Xn.push(r)}var RI=Z.ReactCurrentBatchConfig;function Ja(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var p=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var P=p.refs;T===null?delete P[y]:P[y]=T},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Uu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function wg(r){var s=r._init;return s(r._payload)}function Eg(r){function s(B,j){if(r){var z=B.deletions;z===null?(B.deletions=[j],B.flags|=16):z.push(j)}}function l(B,j){if(!r)return null;for(;j!==null;)s(B,j),j=j.sibling;return null}function h(B,j){for(B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function p(B,j){return B=Ai(B,j),B.index=0,B.sibling=null,B}function y(B,j,z){return B.index=z,r?(z=B.alternate,z!==null?(z=z.index,z<j?(B.flags|=2,j):z):(B.flags|=2,j)):(B.flags|=1048576,j)}function T(B){return r&&B.alternate===null&&(B.flags|=2),B}function P(B,j,z,oe){return j===null||j.tag!==6?(j=of(z,B.mode,oe),j.return=B,j):(j=p(j,z),j.return=B,j)}function N(B,j,z,oe){var ye=z.type;return ye===M?te(B,j,z.props.children,oe,z.key):j!==null&&(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ae&&wg(ye)===j.type)?(oe=p(j,z.props),oe.ref=Ja(B,j,z),oe.return=B,oe):(oe=cc(z.type,z.key,z.props,null,B.mode,oe),oe.ref=Ja(B,j,z),oe.return=B,oe)}function q(B,j,z,oe){return j===null||j.tag!==4||j.stateNode.containerInfo!==z.containerInfo||j.stateNode.implementation!==z.implementation?(j=af(z,B.mode,oe),j.return=B,j):(j=p(j,z.children||[]),j.return=B,j)}function te(B,j,z,oe,ye){return j===null||j.tag!==7?(j=Rs(z,B.mode,oe,ye),j.return=B,j):(j=p(j,z),j.return=B,j)}function re(B,j,z){if(typeof j=="string"&&j!==""||typeof j=="number")return j=of(""+j,B.mode,z),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ve:return z=cc(j.type,j.key,j.props,null,B.mode,z),z.ref=Ja(B,null,j),z.return=B,z;case _e:return j=af(j,B.mode,z),j.return=B,j;case Ae:var oe=j._init;return re(B,oe(j._payload),z)}if(Pr(j)||ue(j))return j=Rs(j,B.mode,z,null),j.return=B,j;Uu(B,j)}return null}function ee(B,j,z,oe){var ye=j!==null?j.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ye!==null?null:P(B,j,""+z,oe);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ve:return z.key===ye?N(B,j,z,oe):null;case _e:return z.key===ye?q(B,j,z,oe):null;case Ae:return ye=z._init,ee(B,j,ye(z._payload),oe)}if(Pr(z)||ue(z))return ye!==null?null:te(B,j,z,oe,null);Uu(B,z)}return null}function ce(B,j,z,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return B=B.get(z)||null,P(j,B,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ve:return B=B.get(oe.key===null?z:oe.key)||null,N(j,B,oe,ye);case _e:return B=B.get(oe.key===null?z:oe.key)||null,q(j,B,oe,ye);case Ae:var Ee=oe._init;return ce(B,j,z,Ee(oe._payload),ye)}if(Pr(oe)||ue(oe))return B=B.get(z)||null,te(j,B,oe,ye,null);Uu(j,oe)}return null}function me(B,j,z,oe){for(var ye=null,Ee=null,Te=j,Ce=j=0,xt=null;Te!==null&&Ce<z.length;Ce++){Te.index>Ce?(xt=Te,Te=null):xt=Te.sibling;var ze=ee(B,Te,z[Ce],oe);if(ze===null){Te===null&&(Te=xt);break}r&&Te&&ze.alternate===null&&s(B,Te),j=y(ze,j,Ce),Ee===null?ye=ze:Ee.sibling=ze,Ee=ze,Te=xt}if(Ce===z.length)return l(B,Te),et&&_s(B,Ce),ye;if(Te===null){for(;Ce<z.length;Ce++)Te=re(B,z[Ce],oe),Te!==null&&(j=y(Te,j,Ce),Ee===null?ye=Te:Ee.sibling=Te,Ee=Te);return et&&_s(B,Ce),ye}for(Te=h(B,Te);Ce<z.length;Ce++)xt=ce(Te,B,Ce,z[Ce],oe),xt!==null&&(r&&xt.alternate!==null&&Te.delete(xt.key===null?Ce:xt.key),j=y(xt,j,Ce),Ee===null?ye=xt:Ee.sibling=xt,Ee=xt);return r&&Te.forEach(function(Ci){return s(B,Ci)}),et&&_s(B,Ce),ye}function ge(B,j,z,oe){var ye=ue(z);if(typeof ye!="function")throw Error(t(150));if(z=ye.call(z),z==null)throw Error(t(151));for(var Ee=ye=null,Te=j,Ce=j=0,xt=null,ze=z.next();Te!==null&&!ze.done;Ce++,ze=z.next()){Te.index>Ce?(xt=Te,Te=null):xt=Te.sibling;var Ci=ee(B,Te,ze.value,oe);if(Ci===null){Te===null&&(Te=xt);break}r&&Te&&Ci.alternate===null&&s(B,Te),j=y(Ci,j,Ce),Ee===null?ye=Ci:Ee.sibling=Ci,Ee=Ci,Te=xt}if(ze.done)return l(B,Te),et&&_s(B,Ce),ye;if(Te===null){for(;!ze.done;Ce++,ze=z.next())ze=re(B,ze.value,oe),ze!==null&&(j=y(ze,j,Ce),Ee===null?ye=ze:Ee.sibling=ze,Ee=ze);return et&&_s(B,Ce),ye}for(Te=h(B,Te);!ze.done;Ce++,ze=z.next())ze=ce(Te,B,Ce,ze.value,oe),ze!==null&&(r&&ze.alternate!==null&&Te.delete(ze.key===null?Ce:ze.key),j=y(ze,j,Ce),Ee===null?ye=ze:Ee.sibling=ze,Ee=ze);return r&&Te.forEach(function(oS){return s(B,oS)}),et&&_s(B,Ce),ye}function ht(B,j,z,oe){if(typeof z=="object"&&z!==null&&z.type===M&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ve:e:{for(var ye=z.key,Ee=j;Ee!==null;){if(Ee.key===ye){if(ye=z.type,ye===M){if(Ee.tag===7){l(B,Ee.sibling),j=p(Ee,z.props.children),j.return=B,B=j;break e}}else if(Ee.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ae&&wg(ye)===Ee.type){l(B,Ee.sibling),j=p(Ee,z.props),j.ref=Ja(B,Ee,z),j.return=B,B=j;break e}l(B,Ee);break}else s(B,Ee);Ee=Ee.sibling}z.type===M?(j=Rs(z.props.children,B.mode,oe,z.key),j.return=B,B=j):(oe=cc(z.type,z.key,z.props,null,B.mode,oe),oe.ref=Ja(B,j,z),oe.return=B,B=oe)}return T(B);case _e:e:{for(Ee=z.key;j!==null;){if(j.key===Ee)if(j.tag===4&&j.stateNode.containerInfo===z.containerInfo&&j.stateNode.implementation===z.implementation){l(B,j.sibling),j=p(j,z.children||[]),j.return=B,B=j;break e}else{l(B,j);break}else s(B,j);j=j.sibling}j=af(z,B.mode,oe),j.return=B,B=j}return T(B);case Ae:return Ee=z._init,ht(B,j,Ee(z._payload),oe)}if(Pr(z))return me(B,j,z,oe);if(ue(z))return ge(B,j,z,oe);Uu(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,j!==null&&j.tag===6?(l(B,j.sibling),j=p(j,z),j.return=B,B=j):(l(B,j),j=of(z,B.mode,oe),j.return=B,B=j),T(B)):l(B,j)}return ht}var Do=Eg(!0),Tg=Eg(!1),Bu=mi(null),zu=null,Lo=null,md=null;function gd(){md=Lo=zu=null}function yd(r){var s=Bu.current;Xe(Bu),r._currentValue=s}function vd(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Mo(r,s){zu=r,md=Lo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(on=!0),r.firstContext=null)}function Nn(r){var s=r._currentValue;if(md!==r)if(r={context:r,memoizedValue:s,next:null},Lo===null){if(zu===null)throw Error(t(308));Lo=r,zu.dependencies={lanes:0,firstContext:r}}else Lo=Lo.next=r;return s}var ws=null;function _d(r){ws===null?ws=[r]:ws.push(r)}function Ig(r,s,l,h){var p=s.interleaved;return p===null?(l.next=l,_d(s)):(l.next=p.next,p.next=l),s.interleaved=l,Br(r,h)}function Br(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var vi=!1;function wd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function zr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function _i(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Be&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Br(r,l)}return p=h.interleaved,p===null?(s.next=s,_d(h)):(s.next=p.next,p.next=s),h.interleaved=s,Br(r,l)}function $u(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,li(r,l)}}function Ag(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function qu(r,s,l,h){var p=r.updateQueue;vi=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var N=P,q=N.next;N.next=null,T===null?y=q:T.next=q,T=N;var te=r.alternate;te!==null&&(te=te.updateQueue,P=te.lastBaseUpdate,P!==T&&(P===null?te.firstBaseUpdate=q:P.next=q,te.lastBaseUpdate=N))}if(y!==null){var re=p.baseState;T=0,te=q=N=null,P=y;do{var ee=P.lane,ce=P.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:ce,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var me=r,ge=P;switch(ee=s,ce=l,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){re=me.call(ce,re,ee);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ee=typeof me=="function"?me.call(ce,re,ee):me,ee==null)break e;re=ie({},re,ee);break e;case 2:vi=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,ee=p.effects,ee===null?p.effects=[P]:ee.push(P))}else ce={eventTime:ce,lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},te===null?(q=te=ce,N=re):te=te.next=ce,T|=ee;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;ee=P,P=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(N=re),p.baseState=N,p.firstBaseUpdate=q,p.lastBaseUpdate=te,s=p.shared.interleaved,s!==null){p=s;do T|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Is|=T,r.lanes=T,r.memoizedState=re}}function Cg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Za={},yr=mi(Za),el=mi(Za),tl=mi(Za);function Es(r){if(r===Za)throw Error(t(174));return r}function Ed(r,s){switch(Qe(tl,s),Qe(el,r),Qe(yr,Za),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:wt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=wt(s,r)}Xe(yr),Qe(yr,s)}function Vo(){Xe(yr),Xe(el),Xe(tl)}function Rg(r){Es(tl.current);var s=Es(yr.current),l=wt(s,r.type);s!==l&&(Qe(el,r),Qe(yr,l))}function Td(r){el.current===r&&(Xe(yr),Xe(el))}var rt=mi(0);function Hu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Id=[];function Sd(){for(var r=0;r<Id.length;r++)Id[r]._workInProgressVersionPrimary=null;Id.length=0}var Wu=Z.ReactCurrentDispatcher,Ad=Z.ReactCurrentBatchConfig,Ts=0,it=null,Tt=null,Pt=null,Ku=!1,nl=!1,rl=0,PI=0;function zt(){throw Error(t(321))}function Cd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Yn(r[l],s[l]))return!1;return!0}function Rd(r,s,l,h,p,y){if(Ts=y,it=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Wu.current=r===null||r.memoizedState===null?NI:OI,r=l(h,p),nl){y=0;do{if(nl=!1,rl=0,25<=y)throw Error(t(301));y+=1,Pt=Tt=null,s.updateQueue=null,Wu.current=DI,r=l(h,p)}while(nl)}if(Wu.current=Yu,s=Tt!==null&&Tt.next!==null,Ts=0,Pt=Tt=it=null,Ku=!1,s)throw Error(t(300));return r}function Pd(){var r=rl!==0;return rl=0,r}function vr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?it.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function On(){if(Tt===null){var r=it.alternate;r=r!==null?r.memoizedState:null}else r=Tt.next;var s=Pt===null?it.memoizedState:Pt.next;if(s!==null)Pt=s,Tt=r;else{if(r===null)throw Error(t(310));Tt=r,r={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Pt===null?it.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function il(r,s){return typeof s=="function"?s(r):s}function kd(r){var s=On(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=Tt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var P=T=null,N=null,q=y;do{var te=q.lane;if((Ts&te)===te)N!==null&&(N=N.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:r(h,q.action);else{var re={lane:te,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};N===null?(P=N=re,T=h):N=N.next=re,it.lanes|=te,Is|=te}q=q.next}while(q!==null&&q!==y);N===null?T=h:N.next=P,Yn(h,s.memoizedState)||(on=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=N,l.lastRenderedState=h}if(r=l.interleaved,r!==null){p=r;do y=p.lane,it.lanes|=y,Is|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function xd(r){var s=On(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=r(y,T.action),T=T.next;while(T!==p);Yn(y,s.memoizedState)||(on=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Pg(){}function kg(r,s){var l=it,h=On(),p=s(),y=!Yn(h.memoizedState,p);if(y&&(h.memoizedState=p,on=!0),h=h.queue,bd(Ng.bind(null,l,h,r),[r]),h.getSnapshot!==s||y||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,sl(9,bg.bind(null,l,h,p,s),void 0,null),kt===null)throw Error(t(349));(Ts&30)!==0||xg(l,s,p)}return p}function xg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function bg(r,s,l,h){s.value=l,s.getSnapshot=h,Og(s)&&Dg(r)}function Ng(r,s,l){return l(function(){Og(s)&&Dg(r)})}function Og(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Yn(r,l)}catch{return!0}}function Dg(r){var s=Br(r,1);s!==null&&tr(s,r,1,-1)}function Lg(r){var s=vr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:r},s.queue=r,r=r.dispatch=bI.bind(null,it,r),[s.memoizedState,r]}function sl(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function Mg(){return On().memoizedState}function Gu(r,s,l,h){var p=vr();it.flags|=r,p.memoizedState=sl(1|s,l,void 0,h===void 0?null:h)}function Qu(r,s,l,h){var p=On();h=h===void 0?null:h;var y=void 0;if(Tt!==null){var T=Tt.memoizedState;if(y=T.destroy,h!==null&&Cd(h,T.deps)){p.memoizedState=sl(s,l,y,h);return}}it.flags|=r,p.memoizedState=sl(1|s,l,y,h)}function Vg(r,s){return Gu(8390656,8,r,s)}function bd(r,s){return Qu(2048,8,r,s)}function jg(r,s){return Qu(4,2,r,s)}function Fg(r,s){return Qu(4,4,r,s)}function Ug(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Bg(r,s,l){return l=l!=null?l.concat([r]):null,Qu(4,4,Ug.bind(null,s,r),l)}function Nd(){}function zg(r,s){var l=On();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Cd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function $g(r,s){var l=On();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Cd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function qg(r,s,l){return(Ts&21)===0?(r.baseState&&(r.baseState=!1,on=!0),r.memoizedState=l):(Yn(l,s)||(l=hs(),it.lanes|=l,Is|=l,r.baseState=!0),s)}function kI(r,s){var l=Ve;Ve=l!==0&&4>l?l:4,r(!0);var h=Ad.transition;Ad.transition={};try{r(!1),s()}finally{Ve=l,Ad.transition=h}}function Hg(){return On().memoizedState}function xI(r,s,l){var h=Ii(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Wg(r))Kg(s,l);else if(l=Ig(r,s,l,h),l!==null){var p=Jt();tr(l,r,h,p),Gg(l,s,h)}}function bI(r,s,l){var h=Ii(r),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wg(r))Kg(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,P=y(T,l);if(p.hasEagerState=!0,p.eagerState=P,Yn(P,T)){var N=s.interleaved;N===null?(p.next=p,_d(s)):(p.next=N.next,N.next=p),s.interleaved=p;return}}catch{}finally{}l=Ig(r,s,p,h),l!==null&&(p=Jt(),tr(l,r,h,p),Gg(l,s,h))}}function Wg(r){var s=r.alternate;return r===it||s!==null&&s===it}function Kg(r,s){nl=Ku=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Gg(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,li(r,l)}}var Yu={readContext:Nn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},NI={readContext:Nn,useCallback:function(r,s){return vr().memoizedState=[r,s===void 0?null:s],r},useContext:Nn,useEffect:Vg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Gu(4194308,4,Ug.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Gu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Gu(4,2,r,s)},useMemo:function(r,s){var l=vr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=vr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=xI.bind(null,it,r),[h.memoizedState,r]},useRef:function(r){var s=vr();return r={current:r},s.memoizedState=r},useState:Lg,useDebugValue:Nd,useDeferredValue:function(r){return vr().memoizedState=r},useTransition:function(){var r=Lg(!1),s=r[0];return r=kI.bind(null,r[1]),vr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=it,p=vr();if(et){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),kt===null)throw Error(t(349));(Ts&30)!==0||xg(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Vg(Ng.bind(null,h,y,r),[r]),h.flags|=2048,sl(9,bg.bind(null,h,y,l,s),void 0,null),l},useId:function(){var r=vr(),s=kt.identifierPrefix;if(et){var l=Ur,h=Fr;l=(h&~(1<<32-Qt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=rl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=PI++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},OI={readContext:Nn,useCallback:zg,useContext:Nn,useEffect:bd,useImperativeHandle:Bg,useInsertionEffect:jg,useLayoutEffect:Fg,useMemo:$g,useReducer:kd,useRef:Mg,useState:function(){return kd(il)},useDebugValue:Nd,useDeferredValue:function(r){var s=On();return qg(s,Tt.memoizedState,r)},useTransition:function(){var r=kd(il)[0],s=On().memoizedState;return[r,s]},useMutableSource:Pg,useSyncExternalStore:kg,useId:Hg,unstable_isNewReconciler:!1},DI={readContext:Nn,useCallback:zg,useContext:Nn,useEffect:bd,useImperativeHandle:Bg,useInsertionEffect:jg,useLayoutEffect:Fg,useMemo:$g,useReducer:xd,useRef:Mg,useState:function(){return xd(il)},useDebugValue:Nd,useDeferredValue:function(r){var s=On();return Tt===null?s.memoizedState=r:qg(s,Tt.memoizedState,r)},useTransition:function(){var r=xd(il)[0],s=On().memoizedState;return[r,s]},useMutableSource:Pg,useSyncExternalStore:kg,useId:Hg,unstable_isNewReconciler:!1};function Jn(r,s){if(r&&r.defaultProps){s=ie({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Od(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:ie({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Xu={isMounted:function(r){return(r=r._reactInternals)?$n(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Jt(),p=Ii(r),y=zr(h,p);y.payload=s,l!=null&&(y.callback=l),s=_i(r,y,p),s!==null&&(tr(s,r,p,h),$u(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Jt(),p=Ii(r),y=zr(h,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=_i(r,y,p),s!==null&&(tr(s,r,p,h),$u(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Jt(),h=Ii(r),p=zr(l,h);p.tag=2,s!=null&&(p.callback=s),s=_i(r,p,h),s!==null&&(tr(s,r,h,l),$u(s,r,h))}};function Qg(r,s,l,h,p,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,T):s.prototype&&s.prototype.isPureReactComponent?!Ha(l,h)||!Ha(p,y):!0}function Yg(r,s,l){var h=!1,p=gi,y=s.contextType;return typeof y=="object"&&y!==null?y=Nn(y):(p=sn(s)?ys:Bt.current,h=s.contextTypes,y=(h=h!=null)?xo(r,p):gi),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Xu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function Xg(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Xu.enqueueReplaceState(s,s.state,null)}function Dd(r,s,l,h){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},wd(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Nn(y):(y=sn(s)?ys:Bt.current,p.context=xo(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Od(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Xu.enqueueReplaceState(p,p.state,null),qu(r,l,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function jo(r,s){try{var l="",h=s;do l+=be(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Ld(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Md(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var LI=typeof WeakMap=="function"?WeakMap:Map;function Jg(r,s,l){l=zr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){ic||(ic=!0,Xd=h),Md(r,s)},l}function Zg(r,s,l){l=zr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Md(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Md(r,s),typeof h!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function ey(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new LI;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),r=QI.bind(null,r,s,l),s.then(r,r))}function ty(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ny(r,s,l,h,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=zr(-1,1),s.tag=2,_i(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var MI=Z.ReactCurrentOwner,on=!1;function Xt(r,s,l,h){s.child=r===null?Tg(s,null,l,h):Do(s,r.child,l,h)}function ry(r,s,l,h,p){l=l.render;var y=s.ref;return Mo(s,p),h=Rd(r,s,l,h,y,p),l=Pd(),r!==null&&!on?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,$r(r,s,p)):(et&&l&&cd(s),s.flags|=1,Xt(r,s,h,p),s.child)}function iy(r,s,l,h,p){if(r===null){var y=l.type;return typeof y=="function"&&!sf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,sy(r,s,y,h,p)):(r=cc(l.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ha,l(T,h)&&r.ref===s.ref)return $r(r,s,p)}return s.flags|=1,r=Ai(y,h),r.ref=s.ref,r.return=s,s.child=r}function sy(r,s,l,h,p){if(r!==null){var y=r.memoizedProps;if(Ha(y,h)&&r.ref===s.ref)if(on=!1,s.pendingProps=h=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(on=!0);else return s.lanes=r.lanes,$r(r,s,p)}return Vd(r,s,l,h,p)}function oy(r,s,l){var h=s.pendingProps,p=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Uo,Tn),Tn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Qe(Uo,Tn),Tn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Qe(Uo,Tn),Tn|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,Qe(Uo,Tn),Tn|=h;return Xt(r,s,p,l),s.child}function ay(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Vd(r,s,l,h,p){var y=sn(l)?ys:Bt.current;return y=xo(s,y),Mo(s,p),l=Rd(r,s,l,h,y,p),h=Pd(),r!==null&&!on?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,$r(r,s,p)):(et&&h&&cd(s),s.flags|=1,Xt(r,s,l,p),s.child)}function ly(r,s,l,h,p){if(sn(l)){var y=!0;Lu(s)}else y=!1;if(Mo(s,p),s.stateNode===null)Zu(r,s),Yg(s,l,h),Dd(s,l,h,p),h=!0;else if(r===null){var T=s.stateNode,P=s.memoizedProps;T.props=P;var N=T.context,q=l.contextType;typeof q=="object"&&q!==null?q=Nn(q):(q=sn(l)?ys:Bt.current,q=xo(s,q));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==h||N!==q)&&Xg(s,T,h,q),vi=!1;var ee=s.memoizedState;T.state=ee,qu(s,h,T,p),N=s.memoizedState,P!==h||ee!==N||rn.current||vi?(typeof te=="function"&&(Od(s,l,te,h),N=s.memoizedState),(P=vi||Qg(s,l,P,h,ee,N,q))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=N),T.props=h,T.state=N,T.context=q,h=P):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,Sg(r,s),P=s.memoizedProps,q=s.type===s.elementType?P:Jn(s.type,P),T.props=q,re=s.pendingProps,ee=T.context,N=l.contextType,typeof N=="object"&&N!==null?N=Nn(N):(N=sn(l)?ys:Bt.current,N=xo(s,N));var ce=l.getDerivedStateFromProps;(te=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==re||ee!==N)&&Xg(s,T,h,N),vi=!1,ee=s.memoizedState,T.state=ee,qu(s,h,T,p);var me=s.memoizedState;P!==re||ee!==me||rn.current||vi?(typeof ce=="function"&&(Od(s,l,ce,h),me=s.memoizedState),(q=vi||Qg(s,l,q,h,ee,me,N)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,me,N),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,me,N)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=me),T.props=h,T.state=me,T.context=N,h=q):(typeof T.componentDidUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),h=!1)}return jd(r,s,l,h,y,p)}function jd(r,s,l,h,p,y){ay(r,s);var T=(s.flags&128)!==0;if(!h&&!T)return p&&fg(s,l,!1),$r(r,s,y);h=s.stateNode,MI.current=s;var P=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&T?(s.child=Do(s,r.child,null,y),s.child=Do(s,null,P,y)):Xt(r,s,P,y),s.memoizedState=h.state,p&&fg(s,l,!0),s.child}function uy(r){var s=r.stateNode;s.pendingContext?hg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&hg(r,s.context,!1),Ed(r,s.containerInfo)}function cy(r,s,l,h,p){return Oo(),pd(p),s.flags|=256,Xt(r,s,l,h),s.child}var Fd={dehydrated:null,treeContext:null,retryLane:0};function Ud(r){return{baseLanes:r,cachePool:null,transitions:null}}function hy(r,s,l){var h=s.pendingProps,p=rt.current,y=!1,T=(s.flags&128)!==0,P;if((P=T)||(P=r!==null&&r.memoizedState===null?!1:(p&2)!==0),P?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Qe(rt,p&1),r===null)return fd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,r=h.fallback,y?(h=s.mode,y=s.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=hc(T,h,0,null),r=Rs(r,h,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Ud(l),s.memoizedState=Fd,r):Bd(s,T));if(p=r.memoizedState,p!==null&&(P=p.dehydrated,P!==null))return VI(r,s,T,h,P,p,l);if(y){y=h.fallback,T=s.mode,p=r.child,P=p.sibling;var N={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=N,s.deletions=null):(h=Ai(p,N),h.subtreeFlags=p.subtreeFlags&14680064),P!==null?y=Ai(P,y):(y=Rs(y,T,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,T=r.child.memoizedState,T=T===null?Ud(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=r.childLanes&~l,s.memoizedState=Fd,h}return y=r.child,r=y.sibling,h=Ai(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Bd(r,s){return s=hc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ju(r,s,l,h){return h!==null&&pd(h),Do(s,r.child,null,l),r=Bd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function VI(r,s,l,h,p,y,T){if(l)return s.flags&256?(s.flags&=-257,h=Ld(Error(t(422))),Ju(r,s,T,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=hc({mode:"visible",children:h.children},p,0,null),y=Rs(y,p,T,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&Do(s,r.child,null,T),s.child.memoizedState=Ud(T),s.memoizedState=Fd,y);if((s.mode&1)===0)return Ju(r,s,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var P=h.dgst;return h=P,y=Error(t(419)),h=Ld(y,h,void 0),Ju(r,s,T,h)}if(P=(T&r.childLanes)!==0,on||P){if(h=kt,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Br(r,p),tr(h,r,p,-1))}return rf(),h=Ld(Error(t(421))),Ju(r,s,T,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=YI.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,En=pi(p.nextSibling),wn=s,et=!0,Xn=null,r!==null&&(xn[bn++]=Fr,xn[bn++]=Ur,xn[bn++]=vs,Fr=r.id,Ur=r.overflow,vs=s),s=Bd(s,h.children),s.flags|=4096,s)}function dy(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),vd(r.return,s,l)}function zd(r,s,l,h,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function fy(r,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(Xt(r,s,h.children,l),h=rt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&dy(r,l,s);else if(r.tag===19)dy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Qe(rt,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Hu(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),zd(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Hu(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}zd(s,!0,l,null,y);break;case"together":zd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function $r(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Is|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Ai(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ai(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function jI(r,s,l){switch(s.tag){case 3:uy(s),Oo();break;case 5:Rg(s);break;case 1:sn(s.type)&&Lu(s);break;case 4:Ed(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;Qe(Bu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Qe(rt,rt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?hy(r,s,l):(Qe(rt,rt.current&1),r=$r(r,s,l),r!==null?r.sibling:null);Qe(rt,rt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return fy(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Qe(rt,rt.current),h)break;return null;case 22:case 23:return s.lanes=0,oy(r,s,l)}return $r(r,s,l)}var py,$d,my,gy;py=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},$d=function(){},my=function(r,s,l,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,Es(yr.current);var y=null;switch(l){case"input":p=es(r,p),h=es(r,h),y=[];break;case"select":p=ie({},p,{value:void 0}),h=ie({},h,{value:void 0}),y=[];break;case"textarea":p=wa(r,p),h=wa(r,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Nu)}Ca(l,h);var T;l=null;for(q in p)if(!h.hasOwnProperty(q)&&p.hasOwnProperty(q)&&p[q]!=null)if(q==="style"){var P=p[q];for(T in P)P.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?y||(y=[]):(y=y||[]).push(q,null));for(q in h){var N=h[q];if(P=p!=null?p[q]:void 0,h.hasOwnProperty(q)&&N!==P&&(N!=null||P!=null))if(q==="style")if(P){for(T in P)!P.hasOwnProperty(T)||N&&N.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in N)N.hasOwnProperty(T)&&P[T]!==N[T]&&(l||(l={}),l[T]=N[T])}else l||(y||(y=[]),y.push(q,l)),l=N;else q==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,P=P?P.__html:void 0,N!=null&&P!==N&&(y=y||[]).push(q,N)):q==="children"?typeof N!="string"&&typeof N!="number"||(y=y||[]).push(q,""+N):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(N!=null&&q==="onScroll"&&Ye("scroll",r),y||P===N||(y=[])):(y=y||[]).push(q,N))}l&&(y=y||[]).push("style",l);var q=y;(s.updateQueue=q)&&(s.flags|=4)}},gy=function(r,s,l,h){l!==h&&(s.flags|=4)};function ol(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function $t(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function FI(r,s,l){var h=s.pendingProps;switch(hd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return sn(s.type)&&Du(),$t(s),null;case 3:return h=s.stateNode,Vo(),Xe(rn),Xe(Bt),Sd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Fu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xn!==null&&(ef(Xn),Xn=null))),$d(r,s),$t(s),null;case 5:Td(s);var p=Es(tl.current);if(l=s.type,r!==null&&s.stateNode!=null)my(r,s,l,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return $t(s),null}if(r=Es(yr.current),Fu(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[gr]=s,h[Ya]=y,r=(s.mode&1)!==0,l){case"dialog":Ye("cancel",h),Ye("close",h);break;case"iframe":case"object":case"embed":Ye("load",h);break;case"video":case"audio":for(p=0;p<Ka.length;p++)Ye(Ka[p],h);break;case"source":Ye("error",h);break;case"img":case"image":case"link":Ye("error",h),Ye("load",h);break;case"details":Ye("toggle",h);break;case"input":Xs(h,y),Ye("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ye("invalid",h);break;case"textarea":Zs(h,y),Ye("invalid",h)}Ca(l,y),p=null;for(var T in y)if(y.hasOwnProperty(T)){var P=y[T];T==="children"?typeof P=="string"?h.textContent!==P&&(y.suppressHydrationWarning!==!0&&bu(h.textContent,P,r),p=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&bu(h.textContent,P,r),p=["children",""+P]):o.hasOwnProperty(T)&&P!=null&&T==="onScroll"&&Ye("scroll",h)}switch(l){case"input":Rr(h),ru(h,y,!0);break;case"textarea":Rr(h),Ea(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Nu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=_t(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(l,{is:h.is}):(r=T.createElement(l),l==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,l),r[gr]=s,r[Ya]=h,py(r,s,!1,!1),s.stateNode=r;e:{switch(T=Ra(l,h),l){case"dialog":Ye("cancel",r),Ye("close",r),p=h;break;case"iframe":case"object":case"embed":Ye("load",r),p=h;break;case"video":case"audio":for(p=0;p<Ka.length;p++)Ye(Ka[p],r);p=h;break;case"source":Ye("error",r),p=h;break;case"img":case"image":case"link":Ye("error",r),Ye("load",r),p=h;break;case"details":Ye("toggle",r),p=h;break;case"input":Xs(r,h),p=es(r,h),Ye("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=ie({},h,{value:void 0}),Ye("invalid",r);break;case"textarea":Zs(r,h),p=wa(r,h),Ye("invalid",r);break;default:p=h}Ca(l,p),P=p;for(y in P)if(P.hasOwnProperty(y)){var N=P[y];y==="style"?Sa(r,N):y==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Ta(r,N)):y==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&ri(r,N):typeof N=="number"&&ri(r,""+N):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?N!=null&&y==="onScroll"&&Ye("scroll",r):N!=null&&ne(r,y,N,T))}switch(l){case"input":Rr(r),ru(r,h,!1);break;case"textarea":Rr(r),Ea(r);break;case"option":h.value!=null&&r.setAttribute("value",""+$e(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?kr(r,!!h.multiple,y,!1):h.defaultValue!=null&&kr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Nu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(r&&s.stateNode!=null)gy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=Es(tl.current),Es(yr.current),Fu(s)){if(h=s.stateNode,l=s.memoizedProps,h[gr]=s,(y=h.nodeValue!==l)&&(r=wn,r!==null))switch(r.tag){case 3:bu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&bu(h.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[gr]=s,s.stateNode=h}return $t(s),null;case 13:if(Xe(rt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&En!==null&&(s.mode&1)!==0&&(s.flags&128)===0)_g(),Oo(),s.flags|=98560,y=!1;else if(y=Fu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[gr]=s}else Oo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),y=!1}else Xn!==null&&(ef(Xn),Xn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(rt.current&1)!==0?It===0&&(It=3):rf())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return Vo(),$d(r,s),r===null&&Ga(s.stateNode.containerInfo),$t(s),null;case 10:return yd(s.type._context),$t(s),null;case 17:return sn(s.type)&&Du(),$t(s),null;case 19:if(Xe(rt),y=s.memoizedState,y===null)return $t(s),null;if(h=(s.flags&128)!==0,T=y.rendering,T===null)if(h)ol(y,!1);else{if(It!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=Hu(r),T!==null){for(s.flags|=128,ol(y,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,r=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,r=T.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Qe(rt,rt.current&1|2),s.child}r=r.sibling}y.tail!==null&&Ge()>Bo&&(s.flags|=128,h=!0,ol(y,!1),s.lanes=4194304)}else{if(!h)if(r=Hu(T),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ol(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!et)return $t(s),null}else 2*Ge()-y.renderingStartTime>Bo&&l!==1073741824&&(s.flags|=128,h=!0,ol(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(l=y.last,l!==null?l.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ge(),s.sibling=null,l=rt.current,Qe(rt,h?l&1|2:l&1),s):($t(s),null);case 22:case 23:return nf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Tn&1073741824)!==0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function UI(r,s){switch(hd(s),s.tag){case 1:return sn(s.type)&&Du(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Vo(),Xe(rn),Xe(Bt),Sd(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Td(s),null;case 13:if(Xe(rt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Oo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Xe(rt),null;case 4:return Vo(),null;case 10:return yd(s.type._context),null;case 22:case 23:return nf(),null;case 24:return null;default:return null}}var ec=!1,qt=!1,BI=typeof WeakSet=="function"?WeakSet:Set,de=null;function Fo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){at(r,s,h)}else l.current=null}function qd(r,s,l){try{l()}catch(h){at(r,s,h)}}var yy=!1;function zI(r,s){if(nd=hi,r=Qm(),Gh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,P=-1,N=-1,q=0,te=0,re=r,ee=null;t:for(;;){for(var ce;re!==l||p!==0&&re.nodeType!==3||(P=T+p),re!==y||h!==0&&re.nodeType!==3||(N=T+h),re.nodeType===3&&(T+=re.nodeValue.length),(ce=re.firstChild)!==null;)ee=re,re=ce;for(;;){if(re===r)break t;if(ee===l&&++q===p&&(P=T),ee===y&&++te===h&&(N=T),(ce=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ce}l=P===-1||N===-1?null:{start:P,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(rd={focusedElem:r,selectionRange:l},hi=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,ht=me.memoizedState,B=s.stateNode,j=B.getSnapshotBeforeUpdate(s.elementType===s.type?ge:Jn(s.type,ge),ht);B.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){at(s,s.return,oe)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return me=yy,yy=!1,me}function al(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&qd(s,l,y)}p=p.next}while(p!==h)}}function tc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Hd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function vy(r){var s=r.alternate;s!==null&&(r.alternate=null,vy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[gr],delete s[Ya],delete s[ad],delete s[SI],delete s[AI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function _y(r){return r.tag===5||r.tag===3||r.tag===4}function wy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_y(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Wd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Nu));else if(h!==4&&(r=r.child,r!==null))for(Wd(r,s,l),r=r.sibling;r!==null;)Wd(r,s,l),r=r.sibling}function Kd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Kd(r,s,l),r=r.sibling;r!==null;)Kd(r,s,l),r=r.sibling}var Dt=null,Zn=!1;function wi(r,s,l){for(l=l.child;l!==null;)Ey(r,s,l),l=l.sibling}function Ey(r,s,l){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(us,l)}catch{}switch(l.tag){case 5:qt||Fo(l,s);case 6:var h=Dt,p=Zn;Dt=null,wi(r,s,l),Dt=h,Zn=p,Dt!==null&&(Zn?(r=Dt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Dt.removeChild(l.stateNode));break;case 18:Dt!==null&&(Zn?(r=Dt,l=l.stateNode,r.nodeType===8?od(r.parentNode,l):r.nodeType===1&&od(r,l),Gn(r)):od(Dt,l.stateNode));break;case 4:h=Dt,p=Zn,Dt=l.stateNode.containerInfo,Zn=!0,wi(r,s,l),Dt=h,Zn=p;break;case 0:case 11:case 14:case 15:if(!qt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&qd(l,s,T),p=p.next}while(p!==h)}wi(r,s,l);break;case 1:if(!qt&&(Fo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(P){at(l,s,P)}wi(r,s,l);break;case 21:wi(r,s,l);break;case 22:l.mode&1?(qt=(h=qt)||l.memoizedState!==null,wi(r,s,l),qt=h):wi(r,s,l);break;default:wi(r,s,l)}}function Ty(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new BI),s.forEach(function(h){var p=XI.bind(null,r,h);l.has(h)||(l.add(h),h.then(p,p))})}}function er(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=r,T=s,P=T;e:for(;P!==null;){switch(P.tag){case 5:Dt=P.stateNode,Zn=!1;break e;case 3:Dt=P.stateNode.containerInfo,Zn=!0;break e;case 4:Dt=P.stateNode.containerInfo,Zn=!0;break e}P=P.return}if(Dt===null)throw Error(t(160));Ey(y,T,p),Dt=null,Zn=!1;var N=p.alternate;N!==null&&(N.return=null),p.return=null}catch(q){at(p,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Iy(s,r),s=s.sibling}function Iy(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(er(s,r),_r(r),h&4){try{al(3,r,r.return),tc(3,r)}catch(ge){at(r,r.return,ge)}try{al(5,r,r.return)}catch(ge){at(r,r.return,ge)}}break;case 1:er(s,r),_r(r),h&512&&l!==null&&Fo(l,l.return);break;case 5:if(er(s,r),_r(r),h&512&&l!==null&&Fo(l,l.return),r.flags&32){var p=r.stateNode;try{ri(p,"")}catch(ge){at(r,r.return,ge)}}if(h&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,T=l!==null?l.memoizedProps:y,P=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&va(p,y),Ra(P,T);var q=Ra(P,y);for(T=0;T<N.length;T+=2){var te=N[T],re=N[T+1];te==="style"?Sa(p,re):te==="dangerouslySetInnerHTML"?Ta(p,re):te==="children"?ri(p,re):ne(p,te,re,q)}switch(P){case"input":_a(p,y);break;case"textarea":eo(p,y);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ce=y.value;ce!=null?kr(p,!!y.multiple,ce,!1):ee!==!!y.multiple&&(y.defaultValue!=null?kr(p,!!y.multiple,y.defaultValue,!0):kr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ya]=y}catch(ge){at(r,r.return,ge)}}break;case 6:if(er(s,r),_r(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(ge){at(r,r.return,ge)}}break;case 3:if(er(s,r),_r(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Gn(s.containerInfo)}catch(ge){at(r,r.return,ge)}break;case 4:er(s,r),_r(r);break;case 13:er(s,r),_r(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Yd=Ge())),h&4&&Ty(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(qt=(q=qt)||te,er(s,r),qt=q):er(s,r),_r(r),h&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!te&&(r.mode&1)!==0)for(de=r,te=r.child;te!==null;){for(re=de=te;de!==null;){switch(ee=de,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:al(4,ee,ee.return);break;case 1:Fo(ee,ee.return);var me=ee.stateNode;if(typeof me.componentWillUnmount=="function"){h=ee,l=ee.return;try{s=h,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(ge){at(h,l,ge)}}break;case 5:Fo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Cy(re);continue}}ce!==null?(ce.return=ee,de=ce):Cy(re)}te=te.sibling}e:for(te=null,re=r;;){if(re.tag===5){if(te===null){te=re;try{p=re.stateNode,q?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=re.stateNode,N=re.memoizedProps.style,T=N!=null&&N.hasOwnProperty("display")?N.display:null,P.style.display=Ia("display",T))}catch(ge){at(r,r.return,ge)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=q?"":re.memoizedProps}catch(ge){at(r,r.return,ge)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:er(s,r),_r(r),h&4&&Ty(r);break;case 21:break;default:er(s,r),_r(r)}}function _r(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(_y(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ri(p,""),h.flags&=-33);var y=wy(r);Kd(r,y,p);break;case 3:case 4:var T=h.stateNode.containerInfo,P=wy(r);Wd(r,P,T);break;default:throw Error(t(161))}}catch(N){at(r,r.return,N)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function $I(r,s,l){de=r,Sy(r)}function Sy(r,s,l){for(var h=(r.mode&1)!==0;de!==null;){var p=de,y=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||ec;if(!T){var P=p.alternate,N=P!==null&&P.memoizedState!==null||qt;P=ec;var q=qt;if(ec=T,(qt=N)&&!q)for(de=p;de!==null;)T=de,N=T.child,T.tag===22&&T.memoizedState!==null?Ry(p):N!==null?(N.return=T,de=N):Ry(p);for(;y!==null;)de=y,Sy(y),y=y.sibling;de=p,ec=P,qt=q}Ay(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,de=y):Ay(r)}}function Ay(r){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:qt||tc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!qt)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Jn(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Cg(s,y,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Cg(s,T,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var N=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var te=q.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Gn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||s.flags&512&&Hd(s)}catch(ee){at(s,s.return,ee)}}if(s===r){de=null;break}if(l=s.sibling,l!==null){l.return=s.return,de=l;break}de=s.return}}function Cy(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var l=s.sibling;if(l!==null){l.return=s.return,de=l;break}de=s.return}}function Ry(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{tc(4,s)}catch(N){at(s,l,N)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(N){at(s,p,N)}}var y=s.return;try{Hd(s)}catch(N){at(s,y,N)}break;case 5:var T=s.return;try{Hd(s)}catch(N){at(s,T,N)}}}catch(N){at(s,s.return,N)}if(s===r){de=null;break}var P=s.sibling;if(P!==null){P.return=s.return,de=P;break}de=s.return}}var qI=Math.ceil,nc=Z.ReactCurrentDispatcher,Gd=Z.ReactCurrentOwner,Dn=Z.ReactCurrentBatchConfig,Be=0,kt=null,mt=null,Lt=0,Tn=0,Uo=mi(0),It=0,ll=null,Is=0,rc=0,Qd=0,ul=null,an=null,Yd=0,Bo=1/0,qr=null,ic=!1,Xd=null,Ei=null,sc=!1,Ti=null,oc=0,cl=0,Jd=null,ac=-1,lc=0;function Jt(){return(Be&6)!==0?Ge():ac!==-1?ac:ac=Ge()}function Ii(r){return(r.mode&1)===0?1:(Be&2)!==0&&Lt!==0?Lt&-Lt:RI.transition!==null?(lc===0&&(lc=hs()),lc):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:ja(r.type)),r)}function tr(r,s,l,h){if(50<cl)throw cl=0,Jd=null,Error(t(185));ai(r,l,h),((Be&2)===0||r!==kt)&&(r===kt&&((Be&2)===0&&(rc|=l),It===4&&Si(r,Lt)),ln(r,h),l===1&&Be===0&&(s.mode&1)===0&&(Bo=Ge()+500,Mu&&yi()))}function ln(r,s){var l=r.callbackNode;Nr(r,s);var h=cs(r,r===kt?Lt:0);if(h===0)l!==null&&Oa(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&Oa(l),s===1)r.tag===0?CI(ky.bind(null,r)):pg(ky.bind(null,r)),TI(function(){(Be&6)===0&&yi()}),l=null;else{switch(ui(h)){case 1:l=ls;break;case 4:l=ii;break;case 16:l=Rn;break;case 536870912:l=lu;break;default:l=Rn}l=Vy(l,Py.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Py(r,s){if(ac=-1,lc=0,(Be&6)!==0)throw Error(t(327));var l=r.callbackNode;if(zo()&&r.callbackNode!==l)return null;var h=cs(r,r===kt?Lt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=uc(r,h);else{s=h;var p=Be;Be|=2;var y=by();(kt!==r||Lt!==s)&&(qr=null,Bo=Ge()+500,As(r,s));do try{KI();break}catch(P){xy(r,P)}while(!0);gd(),nc.current=y,Be=p,mt!==null?s=0:(kt=null,Lt=0,s=It)}if(s!==0){if(s===2&&(p=yn(r),p!==0&&(h=p,s=Zd(r,p))),s===1)throw l=ll,As(r,0),Si(r,h),ln(r,Ge()),l;if(s===6)Si(r,h);else{if(p=r.current.alternate,(h&30)===0&&!HI(p)&&(s=uc(r,h),s===2&&(y=yn(r),y!==0&&(h=y,s=Zd(r,y))),s===1))throw l=ll,As(r,0),Si(r,h),ln(r,Ge()),l;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Cs(r,an,qr);break;case 3:if(Si(r,h),(h&130023424)===h&&(s=Yd+500-Ge(),10<s)){if(cs(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){Jt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=sd(Cs.bind(null,r,an,qr),s);break}Cs(r,an,qr);break;case 4:if(Si(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var T=31-Qt(h);y=1<<T,T=s[T],T>p&&(p=T),h&=~y}if(h=p,h=Ge()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*qI(h/1960))-h,10<h){r.timeoutHandle=sd(Cs.bind(null,r,an,qr),h);break}Cs(r,an,qr);break;case 5:Cs(r,an,qr);break;default:throw Error(t(329))}}}return ln(r,Ge()),r.callbackNode===l?Py.bind(null,r):null}function Zd(r,s){var l=ul;return r.current.memoizedState.isDehydrated&&(As(r,s).flags|=256),r=uc(r,s),r!==2&&(s=an,an=l,s!==null&&ef(s)),r}function ef(r){an===null?an=r:an.push.apply(an,r)}function HI(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Yn(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Si(r,s){for(s&=~Qd,s&=~rc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Qt(s),h=1<<l;r[l]=-1,s&=~h}}function ky(r){if((Be&6)!==0)throw Error(t(327));zo();var s=cs(r,0);if((s&1)===0)return ln(r,Ge()),null;var l=uc(r,s);if(r.tag!==0&&l===2){var h=yn(r);h!==0&&(s=h,l=Zd(r,h))}if(l===1)throw l=ll,As(r,0),Si(r,s),ln(r,Ge()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Cs(r,an,qr),ln(r,Ge()),null}function tf(r,s){var l=Be;Be|=1;try{return r(s)}finally{Be=l,Be===0&&(Bo=Ge()+500,Mu&&yi())}}function Ss(r){Ti!==null&&Ti.tag===0&&(Be&6)===0&&zo();var s=Be;Be|=1;var l=Dn.transition,h=Ve;try{if(Dn.transition=null,Ve=1,r)return r()}finally{Ve=h,Dn.transition=l,Be=s,(Be&6)===0&&yi()}}function nf(){Tn=Uo.current,Xe(Uo)}function As(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,EI(l)),mt!==null)for(l=mt.return;l!==null;){var h=l;switch(hd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Du();break;case 3:Vo(),Xe(rn),Xe(Bt),Sd();break;case 5:Td(h);break;case 4:Vo();break;case 13:Xe(rt);break;case 19:Xe(rt);break;case 10:yd(h.type._context);break;case 22:case 23:nf()}l=l.return}if(kt=r,mt=r=Ai(r.current,null),Lt=Tn=s,It=0,ll=null,Qd=rc=Is=0,an=ul=null,ws!==null){for(s=0;s<ws.length;s++)if(l=ws[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=p,h.next=T}l.pending=h}ws=null}return r}function xy(r,s){do{var l=mt;try{if(gd(),Wu.current=Yu,Ku){for(var h=it.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Ku=!1}if(Ts=0,Pt=Tt=it=null,nl=!1,rl=0,Gd.current=null,l===null||l.return===null){It=1,ll=s,mt=null;break}e:{var y=r,T=l.return,P=l,N=s;if(s=Lt,P.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var q=N,te=P,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ce=ty(T);if(ce!==null){ce.flags&=-257,ny(ce,T,P,y,s),ce.mode&1&&ey(y,q,s),s=ce,N=q;var me=s.updateQueue;if(me===null){var ge=new Set;ge.add(N),s.updateQueue=ge}else me.add(N);break e}else{if((s&1)===0){ey(y,q,s),rf();break e}N=Error(t(426))}}else if(et&&P.mode&1){var ht=ty(T);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),ny(ht,T,P,y,s),pd(jo(N,P));break e}}y=N=jo(N,P),It!==4&&(It=2),ul===null?ul=[y]:ul.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=Jg(y,N,s);Ag(y,B);break e;case 1:P=N;var j=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Ei===null||!Ei.has(z)))){y.flags|=65536,s&=-s,y.lanes|=s;var oe=Zg(y,P,s);Ag(y,oe);break e}}y=y.return}while(y!==null)}Oy(l)}catch(ye){s=ye,mt===l&&l!==null&&(mt=l=l.return);continue}break}while(!0)}function by(){var r=nc.current;return nc.current=Yu,r===null?Yu:r}function rf(){(It===0||It===3||It===2)&&(It=4),kt===null||(Is&268435455)===0&&(rc&268435455)===0||Si(kt,Lt)}function uc(r,s){var l=Be;Be|=2;var h=by();(kt!==r||Lt!==s)&&(qr=null,As(r,s));do try{WI();break}catch(p){xy(r,p)}while(!0);if(gd(),Be=l,nc.current=h,mt!==null)throw Error(t(261));return kt=null,Lt=0,It}function WI(){for(;mt!==null;)Ny(mt)}function KI(){for(;mt!==null&&!ou();)Ny(mt)}function Ny(r){var s=My(r.alternate,r,Tn);r.memoizedProps=r.pendingProps,s===null?Oy(r):mt=s,Gd.current=null}function Oy(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=FI(l,s,Tn),l!==null){mt=l;return}}else{if(l=UI(l,s),l!==null){l.flags&=32767,mt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{It=6,mt=null;return}}if(s=s.sibling,s!==null){mt=s;return}mt=s=r}while(s!==null);It===0&&(It=5)}function Cs(r,s,l){var h=Ve,p=Dn.transition;try{Dn.transition=null,Ve=1,GI(r,s,l,h)}finally{Dn.transition=p,Ve=h}return null}function GI(r,s,l,h){do zo();while(Ti!==null);if((Be&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(We(r,y),r===kt&&(mt=kt=null,Lt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||sc||(sc=!0,Vy(Rn,function(){return zo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Dn.transition,Dn.transition=null;var T=Ve;Ve=1;var P=Be;Be|=4,Gd.current=null,zI(r,l),Iy(l,r),pI(rd),hi=!!nd,rd=nd=null,r.current=l,$I(l),Uh(),Be=P,Ve=T,Dn.transition=y}else r.current=l;if(sc&&(sc=!1,Ti=r,oc=p),y=r.pendingLanes,y===0&&(Ei=null),uu(l.stateNode),ln(r,Ge()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(ic)throw ic=!1,r=Xd,Xd=null,r;return(oc&1)!==0&&r.tag!==0&&zo(),y=r.pendingLanes,(y&1)!==0?r===Jd?cl++:(cl=0,Jd=r):cl=0,yi(),null}function zo(){if(Ti!==null){var r=ui(oc),s=Dn.transition,l=Ve;try{if(Dn.transition=null,Ve=16>r?16:r,Ti===null)var h=!1;else{if(r=Ti,Ti=null,oc=0,(Be&6)!==0)throw Error(t(331));var p=Be;for(Be|=4,de=r.current;de!==null;){var y=de,T=y.child;if((de.flags&16)!==0){var P=y.deletions;if(P!==null){for(var N=0;N<P.length;N++){var q=P[N];for(de=q;de!==null;){var te=de;switch(te.tag){case 0:case 11:case 15:al(8,te,y)}var re=te.child;if(re!==null)re.return=te,de=re;else for(;de!==null;){te=de;var ee=te.sibling,ce=te.return;if(vy(te),te===q){de=null;break}if(ee!==null){ee.return=ce,de=ee;break}de=ce}}}var me=y.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var ht=ge.sibling;ge.sibling=null,ge=ht}while(ge!==null)}}de=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,de=T;else e:for(;de!==null;){if(y=de,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:al(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,de=B;break e}de=y.return}}var j=r.current;for(de=j;de!==null;){T=de;var z=T.child;if((T.subtreeFlags&2064)!==0&&z!==null)z.return=T,de=z;else e:for(T=j;de!==null;){if(P=de,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:tc(9,P)}}catch(ye){at(P,P.return,ye)}if(P===T){de=null;break e}var oe=P.sibling;if(oe!==null){oe.return=P.return,de=oe;break e}de=P.return}}if(Be=p,yi(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(us,r)}catch{}h=!0}return h}finally{Ve=l,Dn.transition=s}}return!1}function Dy(r,s,l){s=jo(l,s),s=Jg(r,s,1),r=_i(r,s,1),s=Jt(),r!==null&&(ai(r,1,s),ln(r,s))}function at(r,s,l){if(r.tag===3)Dy(r,r,l);else for(;s!==null;){if(s.tag===3){Dy(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ei===null||!Ei.has(h))){r=jo(l,r),r=Zg(s,r,1),s=_i(s,r,1),r=Jt(),s!==null&&(ai(s,1,r),ln(s,r));break}}s=s.return}}function QI(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Jt(),r.pingedLanes|=r.suspendedLanes&l,kt===r&&(Lt&l)===l&&(It===4||It===3&&(Lt&130023424)===Lt&&500>Ge()-Yd?As(r,0):Qd|=l),ln(r,s)}function Ly(r,s){s===0&&((r.mode&1)===0?s=1:(s=co,co<<=1,(co&130023424)===0&&(co=4194304)));var l=Jt();r=Br(r,s),r!==null&&(ai(r,s,l),ln(r,l))}function YI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Ly(r,l)}function XI(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Ly(r,l)}var My;My=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||rn.current)on=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return on=!1,jI(r,s,l);on=(r.flags&131072)!==0}else on=!1,et&&(s.flags&1048576)!==0&&mg(s,ju,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Zu(r,s),r=s.pendingProps;var p=xo(s,Bt.current);Mo(s,l),p=Rd(null,s,h,r,p,l);var y=Pd();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,sn(h)?(y=!0,Lu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,wd(s),p.updater=Xu,s.stateNode=p,p._reactInternals=s,Dd(s,h,r,l),s=jd(null,s,h,!0,y,l)):(s.tag=0,et&&y&&cd(s),Xt(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Zu(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=ZI(h),r=Jn(h,r),p){case 0:s=Vd(null,s,h,r,l);break e;case 1:s=ly(null,s,h,r,l);break e;case 11:s=ry(null,s,h,r,l);break e;case 14:s=iy(null,s,h,Jn(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Jn(h,p),Vd(r,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Jn(h,p),ly(r,s,h,p,l);case 3:e:{if(uy(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,Sg(r,s),qu(s,h,null,l);var T=s.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=jo(Error(t(423)),s),s=cy(r,s,h,l,p);break e}else if(h!==p){p=jo(Error(t(424)),s),s=cy(r,s,h,l,p);break e}else for(En=pi(s.stateNode.containerInfo.firstChild),wn=s,et=!0,Xn=null,l=Tg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Oo(),h===p){s=$r(r,s,l);break e}Xt(r,s,h,l)}s=s.child}return s;case 5:return Rg(s),r===null&&fd(s),h=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,T=p.children,id(h,p)?T=null:y!==null&&id(h,y)&&(s.flags|=32),ay(r,s),Xt(r,s,T,l),s.child;case 6:return r===null&&fd(s),null;case 13:return hy(r,s,l);case 4:return Ed(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Do(s,null,h,l):Xt(r,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Jn(h,p),ry(r,s,h,p,l);case 7:return Xt(r,s,s.pendingProps,l),s.child;case 8:return Xt(r,s,s.pendingProps.children,l),s.child;case 12:return Xt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,T=p.value,Qe(Bu,h._currentValue),h._currentValue=T,y!==null)if(Yn(y.value,T)){if(y.children===p.children&&!rn.current){s=$r(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var P=y.dependencies;if(P!==null){T=y.child;for(var N=P.firstContext;N!==null;){if(N.context===h){if(y.tag===1){N=zr(-1,l&-l),N.tag=2;var q=y.updateQueue;if(q!==null){q=q.shared;var te=q.pending;te===null?N.next=N:(N.next=te.next,te.next=N),q.pending=N}}y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),vd(y.return,l,s),P.lanes|=l;break}N=N.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,P=T.alternate,P!==null&&(P.lanes|=l),vd(T,l,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Xt(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,Mo(s,l),p=Nn(p),h=h(p),s.flags|=1,Xt(r,s,h,l),s.child;case 14:return h=s.type,p=Jn(h,s.pendingProps),p=Jn(h.type,p),iy(r,s,h,p,l);case 15:return sy(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Jn(h,p),Zu(r,s),s.tag=1,sn(h)?(r=!0,Lu(s)):r=!1,Mo(s,l),Yg(s,h,p),Dd(s,h,p,l),jd(null,s,h,!0,r,l);case 19:return fy(r,s,l);case 22:return oy(r,s,l)}throw Error(t(156,s.tag))};function Vy(r,s){return lo(r,s)}function JI(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(r,s,l,h){return new JI(r,s,l,h)}function sf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ZI(r){if(typeof r=="function")return sf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===b)return 11;if(r===ae)return 14}return 2}function Ai(r,s){var l=r.alternate;return l===null?(l=Ln(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function cc(r,s,l,h,p,y){var T=2;if(h=r,typeof r=="function")sf(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case M:return Rs(l.children,p,y,s);case R:T=8,p|=8;break;case k:return r=Ln(12,l,s,p|2),r.elementType=k,r.lanes=y,r;case C:return r=Ln(13,l,s,p),r.elementType=C,r.lanes=y,r;case se:return r=Ln(19,l,s,p),r.elementType=se,r.lanes=y,r;case $:return hc(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:T=10;break e;case x:T=9;break e;case b:T=11;break e;case ae:T=14;break e;case Ae:T=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Ln(T,l,s,p),s.elementType=r,s.type=h,s.lanes=y,s}function Rs(r,s,l,h){return r=Ln(7,r,h,s),r.lanes=l,r}function hc(r,s,l,h){return r=Ln(22,r,h,s),r.elementType=$,r.lanes=l,r.stateNode={isHidden:!1},r}function of(r,s,l){return r=Ln(6,r,null,s),r.lanes=l,r}function af(r,s,l){return s=Ln(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function eS(r,s,l,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oi(0),this.expirationTimes=oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function lf(r,s,l,h,p,y,T,P,N){return r=new eS(r,s,l,P,N),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Ln(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},wd(y),r}function tS(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_e,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function jy(r){if(!r)return gi;r=r._reactInternals;e:{if($n(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(sn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(sn(l))return dg(r,l,s)}return s}function Fy(r,s,l,h,p,y,T,P,N){return r=lf(l,h,!0,r,p,y,T,P,N),r.context=jy(null),l=r.current,h=Jt(),p=Ii(l),y=zr(h,p),y.callback=s??null,_i(l,y,p),r.current.lanes=p,ai(r,p,h),ln(r,h),r}function dc(r,s,l,h){var p=s.current,y=Jt(),T=Ii(p);return l=jy(l),s.context===null?s.context=l:s.pendingContext=l,s=zr(y,T),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=_i(p,s,T),r!==null&&(tr(r,p,T,y),$u(r,p,T)),T}function fc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Uy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function uf(r,s){Uy(r,s),(r=r.alternate)&&Uy(r,s)}function nS(){return null}var By=typeof reportError=="function"?reportError:function(r){console.error(r)};function cf(r){this._internalRoot=r}pc.prototype.render=cf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));dc(r,s,null,null)},pc.prototype.unmount=cf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ss(function(){dc(null,r,null,null)}),s[Vr]=null}};function pc(r){this._internalRoot=r}pc.prototype.unstable_scheduleHydration=function(r){if(r){var s=pu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<dr.length&&s!==0&&s<dr[l].priority;l++);dr.splice(l,0,r),l===0&&yu(r)}};function hf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function mc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function zy(){}function rS(r,s,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var q=fc(T);y.call(q)}}var T=Fy(s,h,r,0,null,!1,!1,"",zy);return r._reactRootContainer=T,r[Vr]=T.current,Ga(r.nodeType===8?r.parentNode:r),Ss(),T}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var P=h;h=function(){var q=fc(N);P.call(q)}}var N=lf(r,0,!1,null,null,!1,!1,"",zy);return r._reactRootContainer=N,r[Vr]=N.current,Ga(r.nodeType===8?r.parentNode:r),Ss(function(){dc(s,N,l,h)}),N}function gc(r,s,l,h,p){var y=l._reactRootContainer;if(y){var T=y;if(typeof p=="function"){var P=p;p=function(){var N=fc(T);P.call(N)}}dc(s,T,r,p)}else T=rS(l,s,r,p,h);return fc(T)}du=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=si(s.pendingLanes);l!==0&&(li(s,l|1),ln(s,Ge()),(Be&6)===0&&(Bo=Ge()+500,yi()))}break;case 13:Ss(function(){var h=Br(r,1);if(h!==null){var p=Jt();tr(h,r,1,p)}}),uf(r,1)}},ho=function(r){if(r.tag===13){var s=Br(r,134217728);if(s!==null){var l=Jt();tr(s,r,134217728,l)}uf(r,134217728)}},fu=function(r){if(r.tag===13){var s=Ii(r),l=Br(r,s);if(l!==null){var h=Jt();tr(l,r,s,h)}uf(r,s)}},pu=function(){return Ve},mu=function(r,s){var l=Ve;try{return Ve=r,s()}finally{Ve=l}},no=function(r,s,l){switch(s){case"input":if(_a(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var p=Ou(h);if(!p)throw Error(t(90));Ys(h),_a(h,p)}}}break;case"textarea":eo(r,l);break;case"select":s=l.value,s!=null&&kr(r,!!l.multiple,s,!1)}},is=tf,ka=Ss;var iS={usingClientEntryPoint:!1,Events:[Xa,Po,Ou,cr,Pa,tf]},hl={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sS={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Na(r),r===null?null:r.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||nS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{us=yc.inject(sS),gn=yc}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iS,un.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(s))throw Error(t(200));return tS(r,s,null,l)},un.createRoot=function(r,s){if(!hf(r))throw Error(t(299));var l=!1,h="",p=By;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=lf(r,1,!1,null,null,l,!1,h,p),r[Vr]=s.current,Ga(r.nodeType===8?r.parentNode:r),new cf(s)},un.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Na(s),r=r===null?null:r.stateNode,r},un.flushSync=function(r){return Ss(r)},un.hydrate=function(r,s,l){if(!mc(s))throw Error(t(200));return gc(null,r,s,!0,l)},un.hydrateRoot=function(r,s,l){if(!hf(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",T=By;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Fy(s,null,r,1,l??null,p,!1,y,T),r[Vr]=s.current,Ga(r),h)for(r=0;r<h.length;r++)l=h[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new pc(s)},un.render=function(r,s,l){if(!mc(s))throw Error(t(200));return gc(null,r,s,!1,l)},un.unmountComponentAtNode=function(r){if(!mc(r))throw Error(t(40));return r._reactRootContainer?(Ss(function(){gc(null,null,r,!1,function(){r._reactRootContainer=null,r[Vr]=null})}),!0):!1},un.unstable_batchedUpdates=tf,un.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!mc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return gc(r,s,l,!1,h)},un.version="18.3.1-next-f1338f8080-20240426",un}var Yy;function Cp(){if(Yy)return pf.exports;Yy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pf.exports=mS(),pf.exports}var Xy;function gS(){if(Xy)return vc;Xy=1;var n=Cp();return vc.createRoot=n.createRoot,vc.hydrateRoot=n.hydrateRoot,vc}var yS=gS();const vS=$s(yS);Cp();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xl.apply(this,arguments)}var Oi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Oi||(Oi={}));const Jy="popstate";function _S(n){n===void 0&&(n={});function e(i,o){let{pathname:a,search:c,hash:d}=i.location;return Hf("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Bc(o)}return ES(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vw(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wS(){return Math.random().toString(36).substr(2,8)}function Zy(n,e){return{usr:n.state,key:n.key,idx:e}}function Hf(n,e,t,i){return t===void 0&&(t=null),xl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ca(e):e,{state:t,key:e&&e.key||i||wS()})}function Bc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ca(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function ES(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d=Oi.Pop,f=null,m=_();m==null&&(m=0,c.replaceState(xl({},c.state,{idx:m}),""));function _(){return(c.state||{idx:null}).idx}function E(){d=Oi.Pop;let L=_(),Q=L==null?null:L-m;m=L,f&&f({action:d,location:F.location,delta:Q})}function I(L,Q){d=Oi.Push;let W=Hf(F.location,L,Q);m=_()+1;let ne=Zy(W,m),Z=F.createHref(W);try{c.pushState(ne,"",Z)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;o.location.assign(Z)}a&&f&&f({action:d,location:F.location,delta:1})}function A(L,Q){d=Oi.Replace;let W=Hf(F.location,L,Q);m=_();let ne=Zy(W,m),Z=F.createHref(W);c.replaceState(ne,"",Z),a&&f&&f({action:d,location:F.location,delta:0})}function D(L){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,W=typeof L=="string"?L:Bc(L);return W=W.replace(/ $/,"%20"),ft(Q,"No window.location.(origin|href) available to create URL for href: "+W),new URL(W,Q)}let F={get action(){return d},get location(){return n(o,c)},listen(L){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Jy,E),f=L,()=>{o.removeEventListener(Jy,E),f=null}},createHref(L){return e(o,L)},createURL:D,encodeLocation(L){let Q=D(L);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:I,replace:A,go(L){return c.go(L)}};return F}var ev;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(ev||(ev={}));function TS(n,e,t){return t===void 0&&(t="/"),IS(n,e,t)}function IS(n,e,t,i){let o=typeof e=="string"?ca(e):e,a=Rp(o.pathname||"/",t);if(a==null)return null;let c=_w(n);SS(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=MS(a);d=OS(c[f],m)}return d}function _w(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(a,c,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(ft(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let m=Li([i,f.relativePath]),_=t.concat(f);a.children&&a.children.length>0&&(ft(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),_w(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:bS(m,a.index),routesMeta:_})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let f of ww(a.path))o(a,c,f)}),e}function ww(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=ww(i.join("/")),d=[];return d.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...c),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function SS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:NS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const AS=/^:[\w-]+$/,CS=3,RS=2,PS=1,kS=10,xS=-2,tv=n=>n==="*";function bS(n,e){let t=n.split("/"),i=t.length;return t.some(tv)&&(i+=xS),e&&(i+=RS),t.filter(o=>!tv(o)).reduce((o,a)=>o+(AS.test(a)?CS:a===""?PS:kS),i)}function NS(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function OS(n,e,t){let{routesMeta:i}=n,o={},a="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],m=d===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=DS({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},_),I=f.route;if(!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Li([a,E.pathname]),pathnameBase:US(Li([a,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(a=Li([a,E.pathnameBase]))}return c}function DS(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=LS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((m,_,E)=>{let{paramName:I,isOptional:A}=_;if(I==="*"){let F=d[E]||"";c=a.slice(0,a.length-F.length).replace(/(.)\/+$/,"$1")}const D=d[E];return A&&!D?m[I]=void 0:m[I]=(D||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:n}}function LS(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),vw(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function MS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vw(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Rp(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function VS(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ca(n):n;return{pathname:t?t.startsWith("/")?t:jS(t,e):e,search:BS(i),hash:zS(o)}}function jS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function yf(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Pp(n,e){let t=FS(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function kp(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=ca(n):(o=xl({},n),ft(!o.pathname||!o.pathname.includes("?"),yf("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),yf("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),yf("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}d=E>=0?e[E]:"/"}let f=VS(o,d),m=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||_)&&(f.pathname+="/"),f}const Li=n=>n.join("/").replace(/\/\/+/g,"/"),US=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),BS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $S(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Ew=["post","put","patch","delete"];new Set(Ew);const qS=["get",...Ew];new Set(qS);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bl.apply(this,arguments)}const xp=Y.createContext(null),HS=Y.createContext(null),Ki=Y.createContext(null),ch=Y.createContext(null),ti=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),Tw=Y.createContext(null);function WS(n,e){let{relative:t}=e===void 0?{}:e;ha()||ft(!1);let{basename:i,navigator:o}=Y.useContext(Ki),{hash:a,pathname:c,search:d}=Aw(n,{relative:t}),f=c;return i!=="/"&&(f=c==="/"?i:Li([i,c])),o.createHref({pathname:f,search:d,hash:a})}function ha(){return Y.useContext(ch)!=null}function Hl(){return ha()||ft(!1),Y.useContext(ch).location}function Iw(n){Y.useContext(Ki).static||Y.useLayoutEffect(n)}function qs(){let{isDataRoute:n}=Y.useContext(ti);return n?sA():KS()}function KS(){ha()||ft(!1);let n=Y.useContext(xp),{basename:e,future:t,navigator:i}=Y.useContext(Ki),{matches:o}=Y.useContext(ti),{pathname:a}=Hl(),c=JSON.stringify(Pp(o,t.v7_relativeSplatPath)),d=Y.useRef(!1);return Iw(()=>{d.current=!0}),Y.useCallback(function(m,_){if(_===void 0&&(_={}),!d.current)return;if(typeof m=="number"){i.go(m);return}let E=kp(m,JSON.parse(c),a,_.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Li([e,E.pathname])),(_.replace?i.replace:i.push)(E,_.state,_)},[e,i,c,a,n])}function Sw(){let{matches:n}=Y.useContext(ti),e=n[n.length-1];return e?e.params:{}}function Aw(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=Y.useContext(Ki),{matches:o}=Y.useContext(ti),{pathname:a}=Hl(),c=JSON.stringify(Pp(o,i.v7_relativeSplatPath));return Y.useMemo(()=>kp(n,JSON.parse(c),a,t==="path"),[n,c,a,t])}function GS(n,e){return QS(n,e)}function QS(n,e,t,i){ha()||ft(!1);let{navigator:o,static:a}=Y.useContext(Ki),{matches:c}=Y.useContext(ti),d=c[c.length-1],f=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let _=Hl(),E;if(e){var I;let Q=typeof e=="string"?ca(e):e;m==="/"||(I=Q.pathname)!=null&&I.startsWith(m)||ft(!1),E=Q}else E=_;let A=E.pathname||"/",D=A;if(m!=="/"){let Q=m.replace(/^\//,"").split("/");D="/"+A.replace(/^\//,"").split("/").slice(Q.length).join("/")}let F=TS(n,{pathname:D}),L=eA(F&&F.map(Q=>Object.assign({},Q,{params:Object.assign({},f,Q.params),pathname:Li([m,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?m:Li([m,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),c,t,i);return e&&L?Y.createElement(ch.Provider,{value:{location:bl({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Oi.Pop}},L):L}function YS(){let n=iA(),e=$S(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:o},t):null,null)}const XS=Y.createElement(YS,null);class JS extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Y.createElement(ti.Provider,{value:this.props.routeContext},Y.createElement(Tw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZS(n){let{routeContext:e,match:t,children:i}=n,o=Y.useContext(xp);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(ti.Provider,{value:e},i)}function eA(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let _=c.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id])!==void 0);_>=0||ft(!1),c=c.slice(0,Math.min(c.length,_+1))}let f=!1,m=-1;if(t&&i&&i.v7_partialHydration)for(let _=0;_<c.length;_++){let E=c[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=_),E.route.id){let{loaderData:I,errors:A}=t,D=E.route.loader&&I[E.route.id]===void 0&&(!A||A[E.route.id]===void 0);if(E.route.lazy||D){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((_,E,I)=>{let A,D=!1,F=null,L=null;t&&(A=d&&E.route.id?d[E.route.id]:void 0,F=E.route.errorElement||XS,f&&(m<0&&I===0?(oA("route-fallback"),D=!0,L=null):m===I&&(D=!0,L=E.route.hydrateFallbackElement||null)));let Q=e.concat(c.slice(0,I+1)),W=()=>{let ne;return A?ne=F:D?ne=L:E.route.Component?ne=Y.createElement(E.route.Component,null):E.route.element?ne=E.route.element:ne=_,Y.createElement(ZS,{match:E,routeContext:{outlet:_,matches:Q,isDataRoute:t!=null},children:ne})};return t&&(E.route.ErrorBoundary||E.route.errorElement||I===0)?Y.createElement(JS,{location:t.location,revalidation:t.revalidation,component:F,error:A,children:W(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):W()},null)}var Cw=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Cw||{}),Rw=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Rw||{});function tA(n){let e=Y.useContext(xp);return e||ft(!1),e}function nA(n){let e=Y.useContext(HS);return e||ft(!1),e}function rA(n){let e=Y.useContext(ti);return e||ft(!1),e}function Pw(n){let e=rA(),t=e.matches[e.matches.length-1];return t.route.id||ft(!1),t.route.id}function iA(){var n;let e=Y.useContext(Tw),t=nA(),i=Pw();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function sA(){let{router:n}=tA(Cw.UseNavigateStable),e=Pw(Rw.UseNavigateStable),t=Y.useRef(!1);return Iw(()=>{t.current=!0}),Y.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,bl({fromRouteId:e},a)))},[n,e])}const nv={};function oA(n,e,t){nv[n]||(nv[n]=!0)}function aA(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function lA(n){let{to:e,replace:t,state:i,relative:o}=n;ha()||ft(!1);let{future:a,static:c}=Y.useContext(Ki),{matches:d}=Y.useContext(ti),{pathname:f}=Hl(),m=qs(),_=kp(e,Pp(d,a.v7_relativeSplatPath),f,o==="path"),E=JSON.stringify(_);return Y.useEffect(()=>m(JSON.parse(E),{replace:t,state:i,relative:o}),[m,E,o,t,i]),null}function gt(n){ft(!1)}function uA(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Oi.Pop,navigator:a,static:c=!1,future:d}=n;ha()&&ft(!1);let f=e.replace(/^\/*/,"/"),m=Y.useMemo(()=>({basename:f,navigator:a,static:c,future:bl({v7_relativeSplatPath:!1},d)}),[f,d,a,c]);typeof i=="string"&&(i=ca(i));let{pathname:_="/",search:E="",hash:I="",state:A=null,key:D="default"}=i,F=Y.useMemo(()=>{let L=Rp(_,f);return L==null?null:{location:{pathname:L,search:E,hash:I,state:A,key:D},navigationType:o}},[f,_,E,I,A,D,o]);return F==null?null:Y.createElement(Ki.Provider,{value:m},Y.createElement(ch.Provider,{children:t,value:F}))}function cA(n){let{children:e,location:t}=n;return GS(Wf(e),t)}new Promise(()=>{});function Wf(n,e){e===void 0&&(e=[]);let t=[];return Y.Children.forEach(n,(i,o)=>{if(!Y.isValidElement(i))return;let a=[...e,o];if(i.type===Y.Fragment){t.push.apply(t,Wf(i.props.children,a));return}i.type!==gt&&ft(!1),!i.props.index||!i.props.children||ft(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Wf(i.props.children,a)),t.push(c)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kf(){return Kf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Kf.apply(this,arguments)}function hA(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function dA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function fA(n,e){return n.button===0&&(!e||e==="_self")&&!dA(n)}const pA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mA="6";try{window.__reactRouterVersion=mA}catch{}const gA="startTransition",rv=dS[gA];function yA(n){let{basename:e,children:t,future:i,window:o}=n,a=Y.useRef();a.current==null&&(a.current=_S({window:o,v5Compat:!0}));let c=a.current,[d,f]=Y.useState({action:c.action,location:c.location}),{v7_startTransition:m}=i||{},_=Y.useCallback(E=>{m&&rv?rv(()=>f(E)):f(E)},[f,m]);return Y.useLayoutEffect(()=>c.listen(_),[c,_]),Y.useEffect(()=>aA(i),[i]),Y.createElement(uA,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:i})}const vA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=Y.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:a,replace:c,state:d,target:f,to:m,preventScrollReset:_,viewTransition:E}=e,I=hA(e,pA),{basename:A}=Y.useContext(Ki),D,F=!1;if(typeof m=="string"&&_A.test(m)&&(D=m,vA))try{let ne=new URL(window.location.href),Z=m.startsWith("//")?new URL(ne.protocol+m):new URL(m),ve=Rp(Z.pathname,A);Z.origin===ne.origin&&ve!=null?m=ve+Z.search+Z.hash:F=!0}catch{}let L=WS(m,{relative:o}),Q=wA(m,{replace:c,state:d,target:f,preventScrollReset:_,relative:o,viewTransition:E});function W(ne){i&&i(ne),ne.defaultPrevented||Q(ne)}return Y.createElement("a",Kf({},I,{href:D||L,onClick:F||a?i:W,ref:t,target:f}))});var iv;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(iv||(iv={}));var sv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(sv||(sv={}));function wA(n,e){let{target:t,replace:i,state:o,preventScrollReset:a,relative:c,viewTransition:d}=e===void 0?{}:e,f=qs(),m=Hl(),_=Aw(n,{relative:c});return Y.useCallback(E=>{if(fA(E,t)){E.preventDefault();let I=i!==void 0?i:Bc(m)===Bc(_);f(n,{replace:I,state:o,preventScrollReset:a,relative:c,viewTransition:d})}},[m,f,_,i,o,t,n,a,c,d])}var vf={exports:{}},_f,ov;function EA(){if(ov)return _f;ov=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _f=n,_f}var wf,av;function TA(){if(av)return wf;av=1;var n=EA();function e(){}function t(){}return t.resetWarningCache=e,wf=function(){function i(c,d,f,m,_,E){if(E!==n){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}i.isRequired=i;function o(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},wf}var lv;function bp(){return lv||(lv=1,vf.exports=TA()()),vf.exports}var IA=bp();const tt=$s(IA);var Ef,uv;function SA(){if(uv)return Ef;uv=1;function n(d){return d&&typeof d=="object"&&"default"in d?d.default:d}var e=ua(),t=n(e);function i(d,f,m){return f in d?Object.defineProperty(d,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[f]=m,d}function o(d,f){d.prototype=Object.create(f.prototype),d.prototype.constructor=d,d.__proto__=f}var a=!!(typeof window<"u"&&window.document&&window.document.createElement);function c(d,f,m){if(typeof d!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof f!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof m<"u"&&typeof m!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function _(E){return E.displayName||E.name||"Component"}return function(I){if(typeof I!="function")throw new Error("Expected WrappedComponent to be a React component.");var A=[],D;function F(){D=d(A.map(function(Q){return Q.props})),L.canUseDOM?f(D):m&&(D=m(D))}var L=function(Q){o(W,Q);function W(){return Q.apply(this,arguments)||this}W.peek=function(){return D},W.rewind=function(){if(W.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var ve=D;return D=void 0,A=[],ve};var ne=W.prototype;return ne.UNSAFE_componentWillMount=function(){A.push(this),F()},ne.componentDidUpdate=function(){F()},ne.componentWillUnmount=function(){var ve=A.indexOf(this);A.splice(ve,1),F()},ne.render=function(){return t.createElement(I,this.props)},W}(e.PureComponent);return i(L,"displayName","SideEffect("+_(I)+")"),i(L,"canUseDOM",a),L}}return Ef=c,Ef}var AA=SA();const CA=$s(AA);var Tf,cv;function RA(){if(cv)return Tf;cv=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(a,c){if(a===c)return!0;if(a&&c&&typeof a=="object"&&typeof c=="object"){if(a.constructor!==c.constructor)return!1;var d,f,m;if(Array.isArray(a)){if(d=a.length,d!=c.length)return!1;for(f=d;f--!==0;)if(!o(a[f],c[f]))return!1;return!0}var _;if(e&&a instanceof Map&&c instanceof Map){if(a.size!==c.size)return!1;for(_=a.entries();!(f=_.next()).done;)if(!c.has(f.value[0]))return!1;for(_=a.entries();!(f=_.next()).done;)if(!o(f.value[1],c.get(f.value[0])))return!1;return!0}if(t&&a instanceof Set&&c instanceof Set){if(a.size!==c.size)return!1;for(_=a.entries();!(f=_.next()).done;)if(!c.has(f.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(c)){if(d=a.length,d!=c.length)return!1;for(f=d;f--!==0;)if(a[f]!==c[f])return!1;return!0}if(a.constructor===RegExp)return a.source===c.source&&a.flags===c.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof c.valueOf=="function")return a.valueOf()===c.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof c.toString=="function")return a.toString()===c.toString();if(m=Object.keys(a),d=m.length,d!==Object.keys(c).length)return!1;for(f=d;f--!==0;)if(!Object.prototype.hasOwnProperty.call(c,m[f]))return!1;if(n&&a instanceof Element)return!1;for(f=d;f--!==0;)if(!((m[f]==="_owner"||m[f]==="__v"||m[f]==="__o")&&a.$$typeof)&&!o(a[m[f]],c[m[f]]))return!1;return!0}return a!==a&&c!==c}return Tf=function(c,d){try{return o(c,d)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},Tf}var PA=RA();const kA=$s(PA);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var If,hv;function xA(){if(hv)return If;hv=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function i(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function o(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var c={},d=0;d<10;d++)c["_"+String.fromCharCode(d)]=d;var f=Object.getOwnPropertyNames(c).map(function(_){return c[_]});if(f.join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(_){m[_]=_}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return If=o()?Object.assign:function(a,c){for(var d,f=i(a),m,_=1;_<arguments.length;_++){d=Object(arguments[_]);for(var E in d)e.call(d,E)&&(f[E]=d[E]);if(n){m=n(d);for(var I=0;I<m.length;I++)t.call(d,m[I])&&(f[m[I]]=d[m[I]])}}return f},If}var bA=xA();const NA=$s(bA);var Os={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},xe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(xe).map(function(n){return xe[n]});var nt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},zc={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Nl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},OA=Object.keys(zc).reduce(function(n,e){return n[zc[e]]=e,n},{}),DA=[xe.NOSCRIPT,xe.SCRIPT,xe.STYLE],rr="data-react-helmet",LA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},MA=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},VA=function(){function n(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),cn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jA=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},dv=function(n,e){var t={};for(var i in n)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},FA=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},Gf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},UA=function(e){var t=Yo(e,xe.TITLE),i=Yo(e,Nl.TITLE_TEMPLATE);if(i&&t)return i.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var o=Yo(e,Nl.DEFAULT_TITLE);return t||o||void 0},BA=function(e){return Yo(e,Nl.ON_CHANGE_CLIENT_STATE)||function(){}},Sf=function(e,t){return t.filter(function(i){return typeof i[e]<"u"}).map(function(i){return i[e]}).reduce(function(i,o){return cn({},i,o)},{})},zA=function(e,t){return t.filter(function(i){return typeof i[xe.BASE]<"u"}).map(function(i){return i[xe.BASE]}).reverse().reduce(function(i,o){if(!i.length)for(var a=Object.keys(o),c=0;c<a.length;c++){var d=a[c],f=d.toLowerCase();if(e.indexOf(f)!==-1&&o[f])return i.concat(o)}return i},[])},fl=function(e,t,i){var o={};return i.filter(function(a){return Array.isArray(a[e])?!0:(typeof a[e]<"u"&&WA("Helmet: "+e+' should be of type "Array". Instead found type "'+LA(a[e])+'"'),!1)}).map(function(a){return a[e]}).reverse().reduce(function(a,c){var d={};c.filter(function(I){for(var A=void 0,D=Object.keys(I),F=0;F<D.length;F++){var L=D[F],Q=L.toLowerCase();t.indexOf(Q)!==-1&&!(A===nt.REL&&I[A].toLowerCase()==="canonical")&&!(Q===nt.REL&&I[Q].toLowerCase()==="stylesheet")&&(A=Q),t.indexOf(L)!==-1&&(L===nt.INNER_HTML||L===nt.CSS_TEXT||L===nt.ITEM_PROP)&&(A=L)}if(!A||!I[A])return!1;var W=I[A].toLowerCase();return o[A]||(o[A]={}),d[A]||(d[A]={}),o[A][W]?!1:(d[A][W]=!0,!0)}).reverse().forEach(function(I){return a.push(I)});for(var f=Object.keys(d),m=0;m<f.length;m++){var _=f[m],E=NA({},o[_],d[_]);o[_]=E}return a},[]).reverse()},Yo=function(e,t){for(var i=e.length-1;i>=0;i--){var o=e[i];if(o.hasOwnProperty(t))return o[t]}return null},$A=function(e){return{baseTag:zA([nt.HREF,nt.TARGET],e),bodyAttributes:Sf(Os.BODY,e),defer:Yo(e,Nl.DEFER),encode:Yo(e,Nl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Sf(Os.HTML,e),linkTags:fl(xe.LINK,[nt.REL,nt.HREF],e),metaTags:fl(xe.META,[nt.NAME,nt.CHARSET,nt.HTTPEQUIV,nt.PROPERTY,nt.ITEM_PROP],e),noscriptTags:fl(xe.NOSCRIPT,[nt.INNER_HTML],e),onChangeClientState:BA(e),scriptTags:fl(xe.SCRIPT,[nt.SRC,nt.INNER_HTML],e),styleTags:fl(xe.STYLE,[nt.CSS_TEXT],e),title:UA(e),titleAttributes:Sf(Os.TITLE,e)}},Qf=function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){Qf(e)},0)}}(),fv=function(e){return clearTimeout(e)},qA=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Qf:global.requestAnimationFrame||Qf,HA=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||fv:global.cancelAnimationFrame||fv,WA=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},pl=null,KA=function(e){pl&&HA(pl),e.defer?pl=qA(function(){pv(e,function(){pl=null})}):(pv(e),pl=null)},pv=function(e,t){var i=e.baseTag,o=e.bodyAttributes,a=e.htmlAttributes,c=e.linkTags,d=e.metaTags,f=e.noscriptTags,m=e.onChangeClientState,_=e.scriptTags,E=e.styleTags,I=e.title,A=e.titleAttributes;Yf(xe.BODY,o),Yf(xe.HTML,a),GA(I,A);var D={baseTag:$o(xe.BASE,i),linkTags:$o(xe.LINK,c),metaTags:$o(xe.META,d),noscriptTags:$o(xe.NOSCRIPT,f),scriptTags:$o(xe.SCRIPT,_),styleTags:$o(xe.STYLE,E)},F={},L={};Object.keys(D).forEach(function(Q){var W=D[Q],ne=W.newTags,Z=W.oldTags;ne.length&&(F[Q]=ne),Z.length&&(L[Q]=D[Q].oldTags)}),t&&t(),m(e,F,L)},kw=function(e){return Array.isArray(e)?e.join(""):e},GA=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=kw(e)),Yf(xe.TITLE,t)},Yf=function(e,t){var i=document.getElementsByTagName(e)[0];if(i){for(var o=i.getAttribute(rr),a=o?o.split(","):[],c=[].concat(a),d=Object.keys(t),f=0;f<d.length;f++){var m=d[f],_=t[m]||"";i.getAttribute(m)!==_&&i.setAttribute(m,_),a.indexOf(m)===-1&&a.push(m);var E=c.indexOf(m);E!==-1&&c.splice(E,1)}for(var I=c.length-1;I>=0;I--)i.removeAttribute(c[I]);a.length===c.length?i.removeAttribute(rr):i.getAttribute(rr)!==d.join(",")&&i.setAttribute(rr,d.join(","))}},$o=function(e,t){var i=document.head||document.querySelector(xe.HEAD),o=i.querySelectorAll(e+"["+rr+"]"),a=Array.prototype.slice.call(o),c=[],d=void 0;return t&&t.length&&t.forEach(function(f){var m=document.createElement(e);for(var _ in f)if(f.hasOwnProperty(_))if(_===nt.INNER_HTML)m.innerHTML=f.innerHTML;else if(_===nt.CSS_TEXT)m.styleSheet?m.styleSheet.cssText=f.cssText:m.appendChild(document.createTextNode(f.cssText));else{var E=typeof f[_]>"u"?"":f[_];m.setAttribute(_,E)}m.setAttribute(rr,"true"),a.some(function(I,A){return d=A,m.isEqualNode(I)})?a.splice(d,1):c.push(m)}),a.forEach(function(f){return f.parentNode.removeChild(f)}),c.forEach(function(f){return i.appendChild(f)}),{oldTags:a,newTags:c}},xw=function(e){return Object.keys(e).reduce(function(t,i){var o=typeof e[i]<"u"?i+'="'+e[i]+'"':""+i;return t?t+" "+o:o},"")},QA=function(e,t,i,o){var a=xw(i),c=kw(t);return a?"<"+e+" "+rr+'="true" '+a+">"+Gf(c,o)+"</"+e+">":"<"+e+" "+rr+'="true">'+Gf(c,o)+"</"+e+">"},YA=function(e,t,i){return t.reduce(function(o,a){var c=Object.keys(a).filter(function(m){return!(m===nt.INNER_HTML||m===nt.CSS_TEXT)}).reduce(function(m,_){var E=typeof a[_]>"u"?_:_+'="'+Gf(a[_],i)+'"';return m?m+" "+E:E},""),d=a.innerHTML||a.cssText||"",f=DA.indexOf(e)===-1;return o+"<"+e+" "+rr+'="true" '+c+(f?"/>":">"+d+"</"+e+">")},"")},bw=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,o){return i[zc[o]||o]=e[o],i},t)},XA=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,o){return i[OA[o]||o]=e[o],i},t)},JA=function(e,t,i){var o,a=(o={key:t},o[rr]=!0,o),c=bw(i,a);return[Qo.createElement(xe.TITLE,c,t)]},ZA=function(e,t){return t.map(function(i,o){var a,c=(a={key:o},a[rr]=!0,a);return Object.keys(i).forEach(function(d){var f=zc[d]||d;if(f===nt.INNER_HTML||f===nt.CSS_TEXT){var m=i.innerHTML||i.cssText;c.dangerouslySetInnerHTML={__html:m}}else c[f]=i[d]}),Qo.createElement(e,c)})},Hr=function(e,t,i){switch(e){case xe.TITLE:return{toComponent:function(){return JA(e,t.title,t.titleAttributes)},toString:function(){return QA(e,t.title,t.titleAttributes,i)}};case Os.BODY:case Os.HTML:return{toComponent:function(){return bw(t)},toString:function(){return xw(t)}};default:return{toComponent:function(){return ZA(e,t)},toString:function(){return YA(e,t,i)}}}},Nw=function(e){var t=e.baseTag,i=e.bodyAttributes,o=e.encode,a=e.htmlAttributes,c=e.linkTags,d=e.metaTags,f=e.noscriptTags,m=e.scriptTags,_=e.styleTags,E=e.title,I=E===void 0?"":E,A=e.titleAttributes;return{base:Hr(xe.BASE,t,o),bodyAttributes:Hr(Os.BODY,i,o),htmlAttributes:Hr(Os.HTML,a,o),link:Hr(xe.LINK,c,o),meta:Hr(xe.META,d,o),noscript:Hr(xe.NOSCRIPT,f,o),script:Hr(xe.SCRIPT,m,o),style:Hr(xe.STYLE,_,o),title:Hr(xe.TITLE,{title:I,titleAttributes:A},o)}},eC=function(e){var t,i;return i=t=function(o){jA(a,o);function a(){return MA(this,a),FA(this,o.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(d){return!kA(this.props,d)},a.prototype.mapNestedChildrenToProps=function(d,f){if(!f)return null;switch(d.type){case xe.SCRIPT:case xe.NOSCRIPT:return{innerHTML:f};case xe.STYLE:return{cssText:f}}throw new Error("<"+d.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(d){var f,m=d.child,_=d.arrayTypeChildren,E=d.newChildProps,I=d.nestedChildren;return cn({},_,(f={},f[m.type]=[].concat(_[m.type]||[],[cn({},E,this.mapNestedChildrenToProps(m,I))]),f))},a.prototype.mapObjectTypeChildren=function(d){var f,m,_=d.child,E=d.newProps,I=d.newChildProps,A=d.nestedChildren;switch(_.type){case xe.TITLE:return cn({},E,(f={},f[_.type]=A,f.titleAttributes=cn({},I),f));case xe.BODY:return cn({},E,{bodyAttributes:cn({},I)});case xe.HTML:return cn({},E,{htmlAttributes:cn({},I)})}return cn({},E,(m={},m[_.type]=cn({},I),m))},a.prototype.mapArrayTypeChildrenToProps=function(d,f){var m=cn({},f);return Object.keys(d).forEach(function(_){var E;m=cn({},m,(E={},E[_]=d[_],E))}),m},a.prototype.warnOnInvalidChildren=function(d,f){return!0},a.prototype.mapChildrenToProps=function(d,f){var m=this,_={};return Qo.Children.forEach(d,function(E){if(!(!E||!E.props)){var I=E.props,A=I.children,D=dv(I,["children"]),F=XA(D);switch(m.warnOnInvalidChildren(E,A),E.type){case xe.LINK:case xe.META:case xe.NOSCRIPT:case xe.SCRIPT:case xe.STYLE:_=m.flattenArrayTypeChildren({child:E,arrayTypeChildren:_,newChildProps:F,nestedChildren:A});break;default:f=m.mapObjectTypeChildren({child:E,newProps:f,newChildProps:F,nestedChildren:A});break}}}),f=this.mapArrayTypeChildrenToProps(_,f),f},a.prototype.render=function(){var d=this.props,f=d.children,m=dv(d,["children"]),_=cn({},m);return f&&(_=this.mapChildrenToProps(f,_)),Qo.createElement(e,_)},VA(a,null,[{key:"canUseDOM",set:function(d){e.canUseDOM=d}}]),a}(Qo.Component),t.propTypes={base:tt.object,bodyAttributes:tt.object,children:tt.oneOfType([tt.arrayOf(tt.node),tt.node]),defaultTitle:tt.string,defer:tt.bool,encodeSpecialCharacters:tt.bool,htmlAttributes:tt.object,link:tt.arrayOf(tt.object),meta:tt.arrayOf(tt.object),noscript:tt.arrayOf(tt.object),onChangeClientState:tt.func,script:tt.arrayOf(tt.object),style:tt.arrayOf(tt.object),title:tt.string,titleAttributes:tt.object,titleTemplate:tt.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var o=e.rewind();return o||(o=Nw({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),o},i},tC=function(){return null},nC=CA($A,KA,Nw)(tC),ta=eC(nC);ta.renderStatic=ta.rewind;const rC=()=>v.jsxs(v.Fragment,{children:[v.jsxs(ta,{children:[v.jsx("title",{children:"Home | Tangled Oak + Craft Collective"}),v.jsx("meta",{name:"description",content:"Discover locally made artisanal goods, unique crafts, and one-of-a-kind finds at Tangled Oak + Craft Collective in North Bay, Ontario."}),v.jsx("meta",{name:"keywords",content:"handmade crafts, local artisans, North Bay, Ontario, home decor, jewelry, pottery, woodworking, Canadian artisans"})]}),v.jsx("div",{className:"home-container",children:v.jsxs("div",{className:"main-content",children:[v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Featured Vendors"}),v.jsx("img",{src:"/views/images/feature.png",alt:"Featured Vendors in the store",className:"feature-img"}),v.jsx("br",{}),v.jsx("a",{href:"/shop",className:"button",children:"Browse All Products"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"About Us"}),v.jsxs("p",{children:["Founded with a passion for craftsmanship,",v.jsx("br",{}),"The Tangled Oak + Craft Collective brings together talented artisans from North Bay and beyond.",v.jsx("br",{}),"Every product tells a story, celebrating the artistry and dedication of makers."]}),v.jsx("a",{href:"/about",className:"button",children:"Learn More"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Discover Handmade Treasures, Crafted with Heart"}),v.jsx("img",{src:"/views/images/shopFront2.jpg",alt:"Storefront from sidewalk",className:"hero-img"}),v.jsx("div",{className:"hero-text",children:"Locally made artisanal goods, unique crafts, and one-of-a-kind finds."}),v.jsx("br",{}),v.jsx("a",{href:"https://the-tangled-oak-craft-collective.square.site",className:"button",target:"_blank",rel:"noopener noreferrer",children:"Shop Now"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Hours of Operation"}),v.jsxs("p",{className:"hours-text",children:["Monday: 11 AM - 4 PM",v.jsx("br",{}),"Tuesday: 11 AM -4 PM",v.jsx("br",{}),"Wednesday: 11 AM - 4 PM",v.jsx("br",{}),"Thursday: 11 AM - 4 PM",v.jsx("br",{}),"Friday: 11 AM - 4 PM",v.jsx("br",{}),"Saturday: 10 AM - 3 PM",v.jsx("br",{}),"Sunday: CLOSED ",v.jsx("br",{})]})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Where You Can Find Us"}),v.jsxs("p",{children:["150 Oak Street W, North Bay, ON",v.jsx("br",{}),"Email: store@tangledoak.ca",v.jsx("br",{}),"Phone: (705) 201-2300"]}),v.jsx("br",{}),v.jsxs("div",{className:"map-container",children:[v.jsx("h2",{children:"Find Us on the Map"}),v.jsx("iframe",{className:"map",width:"80%",style:{border:"2px solid #203a13"},loading:"lazy",allowFullScreen:!0,title:"Tangled Oak Location",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2755.934228632341!2d-79.46534059999999!3d46.311143699999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4d29aa9cbd52da61%3A0x5ba29b1fbf8394f9!2s150%20Oak%20St%20W%2C%20North%20Bay%2C%20ON%20P1B%202S7!5e0!3m2!1sen!2sca!4v1742343151470!5m2!1sen!2sca"})]})]})]})})]});var _c={exports:{}},Ri={},wc={exports:{}},Mn={},Ec={exports:{}},mv;function Ow(){return mv||(mv=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=_;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var t="none",i="contents",o=/^(input|select|textarea|button|object|iframe)$/;function a(E,I){return I.getPropertyValue("overflow")!=="visible"||E.scrollWidth<=0&&E.scrollHeight<=0}function c(E){var I=E.offsetWidth<=0&&E.offsetHeight<=0;if(I&&!E.innerHTML)return!0;try{var A=window.getComputedStyle(E),D=A.getPropertyValue("display");return I?D!==i&&a(E,A):D===t}catch{return console.warn("Failed to inspect element style"),!1}}function d(E){for(var I=E,A=E.getRootNode&&E.getRootNode();I&&I!==document.body;){if(A&&I===A&&(I=A.host.parentNode),c(I))return!1;I=I.parentNode}return!0}function f(E,I){var A=E.nodeName.toLowerCase(),D=o.test(A)&&!E.disabled||A==="a"&&E.href||I;return D&&d(E)}function m(E){var I=E.getAttribute("tabindex");I===null&&(I=void 0);var A=isNaN(I);return(A||I>=0)&&f(E,!A)}function _(E){var I=[].slice.call(E.querySelectorAll("*"),0).reduce(function(A,D){return A.concat(D.shadowRoot?_(D.shadowRoot):[D])},[]);return I.filter(m)}n.exports=e.default}(Ec,Ec.exports)),Ec.exports}var gv;function iC(){if(gv)return Mn;gv=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.resetState=c,Mn.log=d,Mn.handleBlur=f,Mn.handleFocus=m,Mn.markForFocusLater=_,Mn.returnFocus=E,Mn.popWithoutFocus=I,Mn.setupScopedFocus=A,Mn.teardownScopedFocus=D;var n=Ow(),e=t(n);function t(F){return F&&F.__esModule?F:{default:F}}var i=[],o=null,a=!1;function c(){i=[]}function d(){}function f(){a=!0}function m(){if(a){if(a=!1,!o)return;setTimeout(function(){if(!o.contains(document.activeElement)){var F=(0,e.default)(o)[0]||o;F.focus()}},0)}}function _(){i.push(document.activeElement)}function E(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,L=null;try{i.length!==0&&(L=i.pop(),L.focus({preventScroll:F}));return}catch{console.warn(["You tried to return focus to",L,"but it is not in the DOM anymore"].join(" "))}}function I(){i.length>0&&i.pop()}function A(F){o=F,window.addEventListener?(window.addEventListener("blur",f,!1),document.addEventListener("focus",m,!0)):(window.attachEvent("onBlur",f),document.attachEvent("onFocus",m))}function D(){o=null,window.addEventListener?(window.removeEventListener("blur",f),document.removeEventListener("focus",m)):(window.detachEvent("onBlur",f),document.detachEvent("onFocus",m))}return Mn}var Tc={exports:{}},yv;function sC(){return yv||(yv=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=Ow(),i=o(t);function o(d){return d&&d.__esModule?d:{default:d}}function a(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return d.activeElement.shadowRoot?a(d.activeElement.shadowRoot):d.activeElement}function c(d,f){var m=(0,i.default)(d);if(!m.length){f.preventDefault();return}var _=void 0,E=f.shiftKey,I=m[0],A=m[m.length-1],D=a();if(d===D){if(!E)return;_=A}if(A===D&&!E&&(_=I),I===D&&E&&(_=A),_){f.preventDefault(),_.focus();return}var F=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),L=F!=null&&F[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(L){var Q=m.indexOf(D);if(Q>-1&&(Q+=E?-1:1),_=m[Q],typeof _>"u"){f.preventDefault(),_=E?A:I,_.focus();return}f.preventDefault(),_.focus()}}n.exports=e.default}(Tc,Tc.exports)),Tc.exports}var nr={},Af,vv;function oC(){if(vv)return Af;vv=1;var n=function(){};return Af=n,Af}var wr={},Cf={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var _v;function aC(){return _v||(_v=1,function(n){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};n.exports?n.exports=t:window.ExecutionEnvironment=t})()}(Cf)),Cf.exports}var wv;function Np(){if(wv)return wr;wv=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.canUseDOM=wr.SafeNodeList=wr.SafeHTMLCollection=void 0;var n=aC(),e=t(n);function t(a){return a&&a.__esModule?a:{default:a}}var i=e.default,o=i.canUseDOM?window.HTMLElement:{};return wr.SafeHTMLCollection=i.canUseDOM?window.HTMLCollection:{},wr.SafeNodeList=i.canUseDOM?window.NodeList:{},wr.canUseDOM=i.canUseDOM,wr.default=o,wr}var Ev;function Dw(){if(Ev)return nr;Ev=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.resetState=a,nr.log=c,nr.assertNodeList=d,nr.setElement=f,nr.validateElement=m,nr.hide=_,nr.show=E,nr.documentNotReadyOrSSRTesting=I;var n=oC(),e=i(n),t=Np();function i(A){return A&&A.__esModule?A:{default:A}}var o=null;function a(){o&&(o.removeAttribute?o.removeAttribute("aria-hidden"):o.length!=null?o.forEach(function(A){return A.removeAttribute("aria-hidden")}):document.querySelectorAll(o).forEach(function(A){return A.removeAttribute("aria-hidden")})),o=null}function c(){}function d(A,D){if(!A||!A.length)throw new Error("react-modal: No elements were found for selector "+D+".")}function f(A){var D=A;if(typeof D=="string"&&t.canUseDOM){var F=document.querySelectorAll(D);d(F,D),D=F}return o=D||o,o}function m(A){var D=A||o;return D?Array.isArray(D)||D instanceof HTMLCollection||D instanceof NodeList?D:[D]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function _(A){var D=!0,F=!1,L=void 0;try{for(var Q=m(A)[Symbol.iterator](),W;!(D=(W=Q.next()).done);D=!0){var ne=W.value;ne.setAttribute("aria-hidden","true")}}catch(Z){F=!0,L=Z}finally{try{!D&&Q.return&&Q.return()}finally{if(F)throw L}}}function E(A){var D=!0,F=!1,L=void 0;try{for(var Q=m(A)[Symbol.iterator](),W;!(D=(W=Q.next()).done);D=!0){var ne=W.value;ne.removeAttribute("aria-hidden")}}catch(Z){F=!0,L=Z}finally{try{!D&&Q.return&&Q.return()}finally{if(F)throw L}}}function I(){o=null}return nr}var Ps={},Tv;function lC(){if(Tv)return Ps;Tv=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.resetState=i,Ps.log=o;var n={},e={};function t(m,_){m.classList.remove(_)}function i(){var m=document.getElementsByTagName("html")[0];for(var _ in n)t(m,n[_]);var E=document.body;for(var I in e)t(E,e[I]);n={},e={}}function o(){}var a=function(_,E){return _[E]||(_[E]=0),_[E]+=1,E},c=function(_,E){return _[E]&&(_[E]-=1),E},d=function(_,E,I){I.forEach(function(A){a(E,A),_.add(A)})},f=function(_,E,I){I.forEach(function(A){c(E,A),E[A]===0&&_.remove(A)})};return Ps.add=function(_,E){return d(_.classList,_.nodeName.toLowerCase()=="html"?n:e,E.split(" "))},Ps.remove=function(_,E){return f(_.classList,_.nodeName.toLowerCase()=="html"?n:e,E.split(" "))},Ps}var qo={},Iv;function Lw(){if(Iv)return qo;Iv=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.log=i,qo.resetState=o;function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}var e=function a(){var c=this;n(this,a),this.register=function(d){c.openInstances.indexOf(d)===-1&&(c.openInstances.push(d),c.emit("register"))},this.deregister=function(d){var f=c.openInstances.indexOf(d);f!==-1&&(c.openInstances.splice(f,1),c.emit("deregister"))},this.subscribe=function(d){c.subscribers.push(d)},this.emit=function(d){c.subscribers.forEach(function(f){return f(d,c.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},t=new e;function i(){console.log("portalOpenInstances ----------"),console.log(t.openInstances.length),t.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function o(){t=new e}return qo.default=t,qo}var ml={},Sv;function uC(){if(Sv)return ml;Sv=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.resetState=c,ml.log=d;var n=Lw(),e=t(n);function t(_){return _&&_.__esModule?_:{default:_}}var i=void 0,o=void 0,a=[];function c(){for(var _=[i,o],E=0;E<_.length;E++){var I=_[E];I&&I.parentNode&&I.parentNode.removeChild(I)}i=o=null,a=[]}function d(){console.log("bodyTrap ----------"),console.log(a.length);for(var _=[i,o],E=0;E<_.length;E++){var I=_[E],A=I||{};console.log(A.nodeName,A.className,A.id)}console.log("edn bodyTrap ----------")}function f(){a.length!==0&&a[a.length-1].focusContent()}function m(_,E){!i&&!o&&(i=document.createElement("div"),i.setAttribute("data-react-modal-body-trap",""),i.style.position="absolute",i.style.opacity="0",i.setAttribute("tabindex","0"),i.addEventListener("focus",f),o=i.cloneNode(),o.addEventListener("focus",f)),a=E,a.length>0?(document.body.firstChild!==i&&document.body.insertBefore(i,document.body.firstChild),document.body.lastChild!==o&&document.body.appendChild(o)):(i.parentElement&&i.parentElement.removeChild(i),o.parentElement&&o.parentElement.removeChild(o))}return e.default.subscribe(m),ml}var Av;function cC(){return Av||(Av=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(se){for(var ae=1;ae<arguments.length;ae++){var Ae=arguments[ae];for(var $ in Ae)Object.prototype.hasOwnProperty.call(Ae,$)&&(se[$]=Ae[$])}return se},i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},o=function(){function se(ae,Ae){for(var $=0;$<Ae.length;$++){var K=Ae[$];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(ae,K.key,K)}}return function(ae,Ae,$){return Ae&&se(ae.prototype,Ae),$&&se(ae,$),ae}}(),a=ua(),c=bp(),d=ve(c),f=iC(),m=Z(f),_=sC(),E=ve(_),I=Dw(),A=Z(I),D=lC(),F=Z(D),L=Np(),Q=ve(L),W=Lw(),ne=ve(W);uC();function Z(se){if(se&&se.__esModule)return se;var ae={};if(se!=null)for(var Ae in se)Object.prototype.hasOwnProperty.call(se,Ae)&&(ae[Ae]=se[Ae]);return ae.default=se,ae}function ve(se){return se&&se.__esModule?se:{default:se}}function _e(se,ae){if(!(se instanceof ae))throw new TypeError("Cannot call a class as a function")}function M(se,ae){if(!se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:se}function R(se,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);se.prototype=Object.create(ae&&ae.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(se,ae):se.__proto__=ae)}var k={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},O=function(ae){return ae.code==="Tab"||ae.keyCode===9},x=function(ae){return ae.code==="Escape"||ae.keyCode===27},b=0,C=function(se){R(ae,se);function ae(Ae){_e(this,ae);var $=M(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,Ae));return $.setOverlayRef=function(K){$.overlay=K,$.props.overlayRef&&$.props.overlayRef(K)},$.setContentRef=function(K){$.content=K,$.props.contentRef&&$.props.contentRef(K)},$.afterClose=function(){var K=$.props,ue=K.appElement,ie=K.ariaHideApp,V=K.htmlOpenClassName,G=K.bodyOpenClassName,pe=K.parentSelector,Pe=pe&&pe().ownerDocument||document;G&&F.remove(Pe.body,G),V&&F.remove(Pe.getElementsByTagName("html")[0],V),ie&&b>0&&(b-=1,b===0&&A.show(ue)),$.props.shouldFocusAfterRender&&($.props.shouldReturnFocusAfterClose?(m.returnFocus($.props.preventScroll),m.teardownScopedFocus()):m.popWithoutFocus()),$.props.onAfterClose&&$.props.onAfterClose(),ne.default.deregister($)},$.open=function(){$.beforeOpen(),$.state.afterOpen&&$.state.beforeClose?(clearTimeout($.closeTimer),$.setState({beforeClose:!1})):($.props.shouldFocusAfterRender&&(m.setupScopedFocus($.node),m.markForFocusLater()),$.setState({isOpen:!0},function(){$.openAnimationFrame=requestAnimationFrame(function(){$.setState({afterOpen:!0}),$.props.isOpen&&$.props.onAfterOpen&&$.props.onAfterOpen({overlayEl:$.overlay,contentEl:$.content})})}))},$.close=function(){$.props.closeTimeoutMS>0?$.closeWithTimeout():$.closeWithoutTimeout()},$.focusContent=function(){return $.content&&!$.contentHasFocus()&&$.content.focus({preventScroll:!0})},$.closeWithTimeout=function(){var K=Date.now()+$.props.closeTimeoutMS;$.setState({beforeClose:!0,closesAt:K},function(){$.closeTimer=setTimeout($.closeWithoutTimeout,$.state.closesAt-Date.now())})},$.closeWithoutTimeout=function(){$.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},$.afterClose)},$.handleKeyDown=function(K){O(K)&&(0,E.default)($.content,K),$.props.shouldCloseOnEsc&&x(K)&&(K.stopPropagation(),$.requestClose(K))},$.handleOverlayOnClick=function(K){$.shouldClose===null&&($.shouldClose=!0),$.shouldClose&&$.props.shouldCloseOnOverlayClick&&($.ownerHandlesClose()?$.requestClose(K):$.focusContent()),$.shouldClose=null},$.handleContentOnMouseUp=function(){$.shouldClose=!1},$.handleOverlayOnMouseDown=function(K){!$.props.shouldCloseOnOverlayClick&&K.target==$.overlay&&K.preventDefault()},$.handleContentOnClick=function(){$.shouldClose=!1},$.handleContentOnMouseDown=function(){$.shouldClose=!1},$.requestClose=function(K){return $.ownerHandlesClose()&&$.props.onRequestClose(K)},$.ownerHandlesClose=function(){return $.props.onRequestClose},$.shouldBeClosed=function(){return!$.state.isOpen&&!$.state.beforeClose},$.contentHasFocus=function(){return document.activeElement===$.content||$.content.contains(document.activeElement)},$.buildClassName=function(K,ue){var ie=(typeof ue>"u"?"undefined":i(ue))==="object"?ue:{base:k[K],afterOpen:k[K]+"--after-open",beforeClose:k[K]+"--before-close"},V=ie.base;return $.state.afterOpen&&(V=V+" "+ie.afterOpen),$.state.beforeClose&&(V=V+" "+ie.beforeClose),typeof ue=="string"&&ue?V+" "+ue:V},$.attributesFromObject=function(K,ue){return Object.keys(ue).reduce(function(ie,V){return ie[K+"-"+V]=ue[V],ie},{})},$.state={afterOpen:!1,beforeClose:!1},$.shouldClose=null,$.moveFromContentToOverlay=null,$}return o(ae,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function($,K){this.props.isOpen&&!$.isOpen?this.open():!this.props.isOpen&&$.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!K.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var $=this.props,K=$.appElement,ue=$.ariaHideApp,ie=$.htmlOpenClassName,V=$.bodyOpenClassName,G=$.parentSelector,pe=G&&G().ownerDocument||document;V&&F.add(pe.body,V),ie&&F.add(pe.getElementsByTagName("html")[0],ie),ue&&(b+=1,A.hide(K)),ne.default.register(this)}},{key:"render",value:function(){var $=this.props,K=$.id,ue=$.className,ie=$.overlayClassName,V=$.defaultStyles,G=$.children,pe=ue?{}:V.content,Pe=ie?{}:V.overlay;if(this.shouldBeClosed())return null;var be={ref:this.setOverlayRef,className:this.buildClassName("overlay",ie),style:t({},Pe,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},De=t({id:K,ref:this.setContentRef,style:t({},pe,this.props.style.content),className:this.buildClassName("content",ue),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",t({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ue=this.props.contentElement(De,G);return this.props.overlayElement(be,Ue)}}]),ae}(a.Component);C.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},C.propTypes={isOpen:d.default.bool.isRequired,defaultStyles:d.default.shape({content:d.default.object,overlay:d.default.object}),style:d.default.shape({content:d.default.object,overlay:d.default.object}),className:d.default.oneOfType([d.default.string,d.default.object]),overlayClassName:d.default.oneOfType([d.default.string,d.default.object]),parentSelector:d.default.func,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,ariaHideApp:d.default.bool,appElement:d.default.oneOfType([d.default.instanceOf(Q.default),d.default.instanceOf(L.SafeHTMLCollection),d.default.instanceOf(L.SafeNodeList),d.default.arrayOf(d.default.instanceOf(Q.default))]),onAfterOpen:d.default.func,onAfterClose:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,role:d.default.string,contentLabel:d.default.string,aria:d.default.object,data:d.default.object,children:d.default.node,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func,testId:d.default.string},e.default=C,n.exports=e.default}(wc,wc.exports)),wc.exports}function Mw(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function Vw(n){function e(t){var i=this.constructor.getDerivedStateFromProps(n,t);return i??null}this.setState(e.bind(this))}function jw(n,e){try{var t=this.props,i=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,i)}finally{this.props=t,this.state=i}}Mw.__suppressDeprecationWarning=!0;Vw.__suppressDeprecationWarning=!0;jw.__suppressDeprecationWarning=!0;function hC(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,i=null,o=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?i="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(i="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),t!==null||i!==null||o!==null){var a=n.displayName||n.name,c=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+c+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(i!==null?`
  `+i:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=Mw,e.componentWillReceiveProps=Vw),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=jw;var d=e.componentDidUpdate;e.componentDidUpdate=function(m,_,E){var I=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:E;d.call(this,m,_,I)}}return n}const dC=Object.freeze(Object.defineProperty({__proto__:null,polyfill:hC},Symbol.toStringTag,{value:"Module"})),fC=lS(dC);var Cv;function pC(){if(Cv)return Ri;Cv=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.bodyOpenClassName=Ri.portalClassName=void 0;var n=Object.assign||function(x){for(var b=1;b<arguments.length;b++){var C=arguments[b];for(var se in C)Object.prototype.hasOwnProperty.call(C,se)&&(x[se]=C[se])}return x},e=function(){function x(b,C){for(var se=0;se<C.length;se++){var ae=C[se];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(b,ae.key,ae)}}return function(b,C,se){return C&&x(b.prototype,C),se&&x(b,se),b}}(),t=ua(),i=L(t),o=Cp(),a=L(o),c=bp(),d=L(c),f=cC(),m=L(f),_=Dw(),E=F(_),I=Np(),A=L(I),D=fC;function F(x){if(x&&x.__esModule)return x;var b={};if(x!=null)for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(b[C]=x[C]);return b.default=x,b}function L(x){return x&&x.__esModule?x:{default:x}}function Q(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function W(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function ne(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var Z=Ri.portalClassName="ReactModalPortal",ve=Ri.bodyOpenClassName="ReactModal__Body--open",_e=I.canUseDOM&&a.default.createPortal!==void 0,M=function(b){return document.createElement(b)},R=function(){return _e?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function k(x){return x()}var O=function(x){ne(b,x);function b(){var C,se,ae,Ae;Q(this,b);for(var $=arguments.length,K=Array($),ue=0;ue<$;ue++)K[ue]=arguments[ue];return Ae=(se=(ae=W(this,(C=b.__proto__||Object.getPrototypeOf(b)).call.apply(C,[this].concat(K))),ae),ae.removePortal=function(){!_e&&a.default.unmountComponentAtNode(ae.node);var ie=k(ae.props.parentSelector);ie&&ie.contains(ae.node)?ie.removeChild(ae.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},ae.portalRef=function(ie){ae.portal=ie},ae.renderPortal=function(ie){var V=R(),G=V(ae,i.default.createElement(m.default,n({defaultStyles:b.defaultStyles},ie)),ae.node);ae.portalRef(G)},se),W(ae,Ae)}return e(b,[{key:"componentDidMount",value:function(){if(I.canUseDOM){_e||(this.node=M("div")),this.node.className=this.props.portalClassName;var se=k(this.props.parentSelector);se.appendChild(this.node),!_e&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(se){var ae=k(se.parentSelector),Ae=k(this.props.parentSelector);return{prevParent:ae,nextParent:Ae}}},{key:"componentDidUpdate",value:function(se,ae,Ae){if(I.canUseDOM){var $=this.props,K=$.isOpen,ue=$.portalClassName;se.portalClassName!==ue&&(this.node.className=ue);var ie=Ae.prevParent,V=Ae.nextParent;V!==ie&&(ie.removeChild(this.node),V.appendChild(this.node)),!(!se.isOpen&&!K)&&!_e&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!I.canUseDOM||!this.node||!this.portal)){var se=this.portal.state,ae=Date.now(),Ae=se.isOpen&&this.props.closeTimeoutMS&&(se.closesAt||ae+this.props.closeTimeoutMS);Ae?(se.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,Ae-ae)):this.removePortal()}}},{key:"render",value:function(){if(!I.canUseDOM||!_e)return null;!this.node&&_e&&(this.node=M("div"));var se=R();return se(i.default.createElement(m.default,n({ref:this.portalRef,defaultStyles:b.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(se){E.setElement(se)}}]),b}(t.Component);return O.propTypes={isOpen:d.default.bool.isRequired,style:d.default.shape({content:d.default.object,overlay:d.default.object}),portalClassName:d.default.string,bodyOpenClassName:d.default.string,htmlOpenClassName:d.default.string,className:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),overlayClassName:d.default.oneOfType([d.default.string,d.default.shape({base:d.default.string.isRequired,afterOpen:d.default.string.isRequired,beforeClose:d.default.string.isRequired})]),appElement:d.default.oneOfType([d.default.instanceOf(A.default),d.default.instanceOf(I.SafeHTMLCollection),d.default.instanceOf(I.SafeNodeList),d.default.arrayOf(d.default.instanceOf(A.default))]),onAfterOpen:d.default.func,onRequestClose:d.default.func,closeTimeoutMS:d.default.number,ariaHideApp:d.default.bool,shouldFocusAfterRender:d.default.bool,shouldCloseOnOverlayClick:d.default.bool,shouldReturnFocusAfterClose:d.default.bool,preventScroll:d.default.bool,parentSelector:d.default.func,aria:d.default.object,data:d.default.object,role:d.default.string,contentLabel:d.default.string,shouldCloseOnEsc:d.default.bool,overlayRef:d.default.func,contentRef:d.default.func,id:d.default.string,overlayElement:d.default.func,contentElement:d.default.func},O.defaultProps={isOpen:!1,portalClassName:Z,bodyOpenClassName:ve,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(b,C){return i.default.createElement("div",b,C)},contentElement:function(b,C){return i.default.createElement("div",b,C)}},O.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,D.polyfill)(O),Ri.default=O,Ri}var Rv;function mC(){return Rv||(Rv=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=pC(),i=o(t);function o(a){return a&&a.__esModule?a:{default:a}}e.default=i.default,n.exports=e.default}(_c,_c.exports)),_c.exports}var gC=mC();const Fw=$s(gC);Fw.setAppElement("#root");const yC=({isOpen:n,product:e,onClose:t})=>e?v.jsx(Fw,{isOpen:n,onRequestClose:t,contentLabel:"Product Checkout",className:"modal",overlayClassName:"overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h2",{children:e.name}),v.jsx("img",{src:e.image_url,alt:e.name,style:{width:"100%",maxWidth:"400px"}}),v.jsx("p",{style:{margin:"1rem 0"},children:e.description}),v.jsxs("p",{children:[v.jsx("strong",{children:"Price:"})," $",e.price.toFixed(2)," ",e.currency]}),v.jsx("a",{href:e.product_url,target:"_blank",rel:"noopener noreferrer",className:"checkout-button",style:{marginTop:"1rem"},children:"Complete Secure Checkout"}),v.jsx("br",{}),v.jsx("button",{onClick:t,style:{marginTop:"1rem"},children:"Cancel"})]})}):null,vC=()=>{const[n,e]=Y.useState([]),[t,i]=Y.useState(""),[o,a]=Y.useState(""),[c,d]=Y.useState(null),[f,m]=Y.useState(!1),[_,E]=Y.useState(null),I=qs(),A=()=>{E(null),m(!1)},D=W=>{const ne=new Date,Z=new Date(W);return(ne-Z)/(1e3*60*60*24)<=30};Y.useEffect(()=>{fetch("/products").then(W=>{if(!W.ok)throw new Error("Network response was not ok");return W.json()}).then(W=>{const ne=W.products.map(Z=>({...Z,category_name:Z.category_name||"Uncategorized",created_at:Z.created_at||new Date().toISOString()}));ne.sort((Z,ve)=>new Date(ve.created_at)-new Date(Z.created_at)),e(ne)}).catch(W=>{console.error(" Fetch error:",W),d("Failed to load products. Please try again later.")})},[]);const F=n.filter(W=>{const ne=t?W.category_name.toLowerCase()===t.toLowerCase():!0,Z=o?W.description.toLowerCase().includes(o.toLowerCase()):!0;return ne&&Z}),L=["Jewelry","Clothing","Accessories","Bath + Beauty","Home Decor","Food & Pantry","Crafting","Crystals","Pets","Music + Art","Knives + Axes","Baby + Kids","Cards + Gifting Supplies","Home + Office"],Q=["Bohemian Heart Crafts","Knit with Love by Carol","Peddie Pieces","The Knotty Celt","Candys Dandy Crafts","Mos Craftworks","Spoons & Stuff","Tags & Tropics","Cosmically Connected","Soap & Seed","Knit's by Marsha Ann","Cheese & Stuffs","Muddy Paws Raw","Top to Toe Knits","She Keeps Bees"];return v.jsxs(v.Fragment,{children:[v.jsxs(ta,{children:[v.jsx("title",{children:"Shop Handmade Crafts | Tangled Oak + Craft Collective"}),v.jsx("meta",{name:"description",content:"Discover handmade crafts from local artisans."})]}),v.jsxs("div",{className:"shop-page",children:[v.jsxs("div",{className:"shop-header",children:[v.jsx("h1",{children:"Shop Our Collection"}),v.jsx("p",{children:"Browse products from local artisans and makers. Tap a product to check out via our secure Square store."})]}),v.jsxs("div",{className:"shop-filters",children:[v.jsxs("select",{value:t,onChange:W=>i(W.target.value),disabled:o!=="",children:[v.jsx("option",{value:"",children:"All Categories"}),L.map(W=>v.jsx("option",{value:W,children:W},W))]}),v.jsxs("select",{value:o,onChange:W=>{a(W.target.value),i("")},children:[v.jsx("option",{value:"",children:"All Vendors"}),Q.map(W=>v.jsx("option",{value:W,children:W},W))]})]}),c&&v.jsx("p",{style:{color:"red",textAlign:"center"},children:c}),v.jsx("div",{className:"products-container",children:F.filter(W=>W.product_url&&W.product_url!=="#").length===0?v.jsx("p",{style:{textAlign:"center"},children:"No available products found."}):F.filter(W=>W.product_url&&W.product_url!=="#").map(W=>v.jsxs("div",{className:"product-card",children:[D(W.created_at)&&v.jsx("div",{className:"new-badge",children:"New!"}),v.jsx("img",{src:W.image_url,alt:W.name,className:"product-image"}),v.jsx("h3",{className:"product-name",children:W.name.replace(/^New!\s*/i,"")}),v.jsxs("p",{className:"product-price",children:["$",W.price.toFixed(2)," ",W.currency]}),v.jsx("button",{onClick:()=>I(`/product/${W.id}`),className:"checkout-button",children:"View Product"})]},W.id))})]}),v.jsx(yC,{isOpen:f,product:_,onClose:A})]})},_C=()=>{const{productId:n}=Sw(),[e,t]=Y.useState(null),[i,o]=Y.useState("");return Y.useEffect(()=>{(async()=>{try{const c=await fetch("/products");if(!c.ok)throw new Error("Failed to fetch product details.");const f=(await c.json()).products.find(m=>m.id===n);f?t(f):o("Product not found.")}catch(c){console.error("Error loading product:",c),o("Failed to load product.")}})()},[n]),i?v.jsx("div",{className:"product-page",children:v.jsx("p",{children:i})}):e?v.jsxs("div",{className:"product-page",children:[v.jsx("h1",{children:e.name}),v.jsx("img",{src:e.image_url,alt:e.name,style:{maxWidth:"300px"}}),v.jsxs("p",{children:[v.jsx("strong",{children:"Price:"})," $",e.price.toFixed(2)," ",e.currency]}),v.jsx("p",{children:e.description}),v.jsx("a",{href:e.product_url,target:"_blank",rel:"noopener noreferrer",className:"checkout-button",children:"Buy Now"})]}):v.jsx("div",{className:"product-page",children:v.jsx("p",{children:"Loading..."})})},Uw=Y.createContext(),wC=[];function EC(n,e){switch(e.type){case"ADD":return n.find(i=>i.id===e.payload.id)?n.map(i=>i.id===e.payload.id?{...i,quantity:i.quantity+e.payload.quantity}:i):[...n,e.payload];case"REMOVE":return n.filter(i=>i.id!==e.payload);case"CLEAR":return[];default:return n}}const TC=({children:n})=>{const[e,t]=Y.useReducer(EC,wC),i=(c,d=1)=>{t({type:"ADD",payload:{...c,quantity:d}})},o=c=>{t({type:"REMOVE",payload:c})},a=()=>t({type:"CLEAR"});return v.jsx(Uw.Provider,{value:{cart:e,addToCart:i,removeFromCart:o,clearCart:a},children:n})},IC=()=>Y.useContext(Uw),SC=()=>{const{cart:n,removeFromCart:e,clearCart:t}=IC(),i=async()=>{try{const a=await(await fetch("https://tangledoakweb.onrender.com/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:n})})).json();a.checkout_url?window.location.href=a.checkout_url:alert("Checkout failed: No URL returned.")}catch(o){console.error("Checkout error:",o),alert("Something went wrong during checkout.")}};return v.jsxs("div",{className:"cart-page",children:[v.jsx("h1",{children:"Your Cart"}),n.length===0?v.jsx("p",{children:"Your cart is empty."}):v.jsxs(v.Fragment,{children:[v.jsx("ul",{children:n.map(o=>v.jsxs("li",{style:{marginBottom:"1rem"},children:[v.jsx("strong",{children:o.name}),"  $",o.price.toFixed(2),"  ",o.quantity,v.jsx("br",{}),v.jsx("button",{onClick:()=>e(o.id),style:{marginTop:"0.25rem"},children:"Remove"})]},o.id))}),v.jsx("hr",{}),v.jsxs("p",{children:[v.jsx("strong",{children:"Total:"})," ","$",n.reduce((o,a)=>o+a.price*a.quantity,0).toFixed(2)]}),v.jsx("button",{onClick:i,className:"checkout-button",style:{marginTop:"1rem"},children:"Proceed to Checkout"}),v.jsx("br",{}),v.jsx("button",{onClick:t,style:{marginTop:"0.5rem",color:"red"},children:"Clear Cart"})]})]})},AC=()=>v.jsxs(v.Fragment,{children:[v.jsxs(ta,{children:[v.jsx("title",{children:"About Us | The Tangled Oak + Craft Collective"}),v.jsx("meta",{name:"description",content:"Learn about The Tangled Oak + Craft Collective in North Bay, Ontario. Discover our mission to support local artisans, explore handmade goods, and connect with a creative community."}),v.jsx("meta",{name:"keywords",content:"handmade crafts, local artisans, North Bay, craft collective, Ontario handmade gifts, support local makers"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Introduction"}),v.jsxs("p",{children:["Welcome to ",v.jsx("strong",{children:"The Tangled Oak + Craft Collective"}),", located at 150 Oak St W, North Bay, Ontario. We are a community-focused store dedicated to offering a unique selection of handmade treasures, crafted with love by local artisans. Our collective brings together a variety of products, from beautifully crafted pottery and jewelry to hand-knit items and wooden decor. Each piece tells its own story, making it the perfect place to find something special, whether for yourself or as a gift."]}),v.jsx("p",{children:"Our team is passionate about supporting local makers and providing a space for creativity and connection. Whether you're a visitor or a regular, we invite you to explore and discover the artistry behind every item we carry. Were here to celebrate handmade craft and community spirit."}),v.jsx("p",{children:"We hope you'll join us on this exciting journey and discover something special in our store. We look forward to welcoming you to our community-focused store."})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Mission and Vision"}),v.jsx("p",{children:"The Tangled Oak + Craft Collective was born from a passion for supporting local artisans and celebrating the beauty of handmade creations. Our mission is to provide a space where craft, creativity, and community come together. We are dedicated to showcasing a diverse range of high-quality, handcrafted products made by talented local makers. Each item we offer tells a unique story, reflecting the love and care put into its creation."}),v.jsx("p",{children:"Our vision is to foster a thriving creative community in North Bay by providing a platform for artisans to share their work and for customers to discover one-of-a-kind treasures. We believe in the power of handmade craftsmanship to bring joy, inspiration, and connection to everyone who experiences it."})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"What We Offer"}),v.jsx("p",{children:"At The Tangled Oak + Craft Collective, we offer a wide range of handmade goods crafted with love and care by local artisans. Our collection includes everything from custom pottery and beautifully crafted knives to unique home decor, jewelry, and gourmet products like locally made honeys and jams."}),v.jsx("p",{children:"Each piece in our store is carefully selected for its quality and artistry. Whether you're looking for functional items or decorative treasures, you'll find something that speaks to your heart and adds a touch of craftsmanship to your home or collection."}),v.jsx("p",{children:"Explore our ever-changing selection, with new items added regularly, and find that perfect, one-of-a-kind piece that makes your day a little brighter."}),v.jsx(jt,{to:"/shop",className:"button",children:"Shop Now"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Community and Connection"}),v.jsx("p",{children:"At The Tangled Oak + Craft Collective, we believe in the power of community and the importance of supporting local artisans and makers. Our mission is to create a welcoming space where creativity flourishes, bringing together a diverse group of talented individuals who share a passion for craftsmanship."}),v.jsx("p",{children:"We are committed to fostering connections between artists and customers, creating an environment where both can grow and thrive. By supporting local makers, we help ensure that their work is recognized and celebrated, and we provide our customers with unique, high-quality pieces that reflect the creativity and spirit of our community."}),v.jsx("p",{children:"Whether you're browsing for a one-of-a-kind gift or looking for inspiration, The Tangled Oak is a place where creativity, collaboration, and community come together to create something truly special."})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"The Story Behind the Name"}),v.jsx("p",{children:'The name "The Tangled Oak" is inspired by both the natural world and our roots here in North Bay. The oak tree, known for its strength and enduring presence, symbolizes stability, growth, and deep roots. The "tangled" part of the name reflects the creative, interconnected community weve fostered with local artisans and makers. It also pays homage to our location on Oak Street, where we bring together a variety of talents and passions to create something unique and beautiful.'}),v.jsx("p",{children:"At The Tangled Oak + Craft Collective, we embrace the beauty of diversity and collaboration, much like the intertwining branches of an oak tree, and we strive to create a space where creativity and community thrive together."})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Meet the Team"}),v.jsx("p",{children:"At The Tangled Oak + Craft Collective, we are a team of passionate individuals dedicated to supporting local artisans and fostering a creative community. We work together to provide a welcoming space where artists and customers can connect and thrive."}),v.jsx("p",{children:"Our team is made up of owners, managers, and key individuals who bring their unique skills and vision to the collective. From curating the products in our store to offering personalized service, each member of our team plays an integral role in making The Tangled Oak a vibrant part of the North Bay community."}),v.jsx("p",{children:"Get to know the people behind the collective:"}),v.jsx("h3",{children:"Aimee"}),v.jsx("p",{children:"Owner and Creator. Aimee's passion for local craftsmanship and community drives the vision behind The Tangled Oak."}),v.jsx("h3",{children:"Carol"}),v.jsx("p",{children:"Manager and Curator. Carol brings her expertise in handmade goods and customer experience to the collective."}),v.jsx("h3",{children:"Charles"}),v.jsx("p",{children:"Operations Coordinator. Charles ensures that everything runs smoothly behind the scenes, managing logistics and day-to-day operations."})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Our Values"}),v.jsx("p",{children:"At The Tangled Oak + Craft Collective, we are guided by a set of core values that define our mission and the way we interact with our community. We believe in the power of craftsmanship, sustainability, and connection. Our products are thoughtfully created by artisans who value quality and authenticity, and we are committed to supporting local makers while promoting eco-friendly practices."}),v.jsx("p",{children:"We strive to create a space where creativity, collaboration, and sustainability can flourish together, benefiting both our makers and our customers."})]}),v.jsxs("div",{className:"context-box",children:[v.jsxs("p",{className:"hours-text",children:["Monday: 11 AM - 4 PM",v.jsx("br",{}),"Tuesday: 11 AM -4 PM",v.jsx("br",{}),"Wednesday: 11 AM - 4 PM",v.jsx("br",{}),"Thursday: 11 AM - 4 PM",v.jsx("br",{}),"Friday: 11 AM - 4 PM",v.jsx("br",{}),"Saturday: 10 AM - 3 PM",v.jsx("br",{}),"Sunday: CLOSED"]}),v.jsx("br",{}),v.jsx("h3",{children:"Where you can find us"}),v.jsxs("p",{children:["150 Oak Street W",v.jsx("br",{}),"North Bay, ON"]}),v.jsxs("p",{children:["Email: store@tangledoak.ca",v.jsx("br",{}),"Phone: (705) 201-2300"]})]}),v.jsx("div",{className:"context-box",children:v.jsx("iframe",{className:"map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2755.934228632341!2d-79.46534059999999!3d46.311143699999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4d29aa9cbd52da61%3A0x5ba29b1fbf8394f9!2s150%20Oak%20St%20W%2C%20North%20Bay%2C%20ON%20P1B%202S7!5e0!3m2!1sen!2sca!4v1691078701919!5m2!1sen!2sca",width:"100%",height:"450",frameBorder:"0",allowFullScreen:"","aria-hidden":"false",tabIndex:"0"})})]}),CC=()=>{const[n,e]=Y.useState({name:"",email:"",message:""}),t=o=>{const{name:a,value:c}=o.target;e(d=>({...d,[a]:c}))},i=o=>{o.preventDefault(),alert("Your message has been sent!"),e({name:"",email:"",message:""})};return v.jsx("div",{className:"contact-container",children:v.jsxs("div",{className:"main-content",children:[v.jsxs("div",{className:"context-box",children:[v.jsx("h1",{children:"Contact Us"}),v.jsx("p",{children:"If you have any questions or comments, please don't hesitate to contact us."}),v.jsx("p",{children:"Tangled Oak Craft Collective"}),v.jsx("p",{children:"150 Oak St W, North Bay, ON"}),v.jsx("p",{children:"Phone: (705) 201-2300"}),v.jsxs("p",{children:["Email: ",v.jsx("a",{href:"mailto:store@tangledoak.ca",children:"store@tangledoak.ca"})]})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Want to be part of the Tangled Oak + Craft Collective?"}),v.jsx("p",{children:"The Tangled Oak + Craft Collective is a community-driven organization dedicated to fostering creativity, innovation, and community among the younger generations. Our mission is to create a space where young people can learn, grow, and connect with one another through their passion for crafting, DIY projects, and creative expression."}),v.jsx("p",{children:"We invite you to join us on our journey towards a brighter future, where every child can thrive and contribute to the world of crafting and creativity."}),v.jsx("p",{children:"Fill out this form and we will get back to you with more information"}),v.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdE19LHG3M9uilKeLxM3l8Xit1jqEb3hiP5PCqCd3merF6LHA/viewform",target:"_blank",rel:"noopener noreferrer",className:"button",children:"Vendor Form"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Contact Form"}),v.jsxs("form",{onSubmit:i,className:"contact-form",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"name",children:"Name:"}),v.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:t,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"email",children:"Email:"}),v.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:t,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"message",children:"Message:"}),v.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:t,rows:"4",required:!0})]}),v.jsx("button",{type:"submit",className:"button",children:"Send Message"})]})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Find Us on the Map"}),v.jsx("iframe",{className:"map",width:"80%",style:{border:"2px solid #203a13"},loading:"lazy",allowFullScreen:!0,title:"Tangled Oak Location",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2755.934228632341!2d-79.46534059999999!3d46.311143699999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4d29aa9cbd52da61%3A0x5ba29b1fbf8394f9!2s150%20Oak%20St%20W%2C%20North%20Bay%2C%20ON%20P1B%202S7!5e0!3m2!1sen!2sca!4v1742343151470!5m2!1sen!2sca"})]})]})})},RC=()=>v.jsxs("div",{className:"context-box",children:[v.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Frequently Asked Questions"}),v.jsx("h2",{className:"text-xl font-semibold",children:"How do I place an order?"}),v.jsx("p",{className:"mt-2",children:"Browse our curated collection and add your favorite items to your cart. When youre ready, proceed to checkout and follow the secure payment prompts."}),v.jsx("h2",{className:"text-xl font-semibold",children:"What payment methods are accepted?"}),v.jsx("p",{className:"mt-2",children:"We accept major credit and debit cards along with select online payment options. The available options will be clearly listed at checkout."}),v.jsx("h2",{className:"text-xl font-semibold",children:"How long does shipping take?"}),v.jsx("p",{className:"mt-2",children:"Orders are typically processed within 23 business days. For local pickup in North Bay, ON, you will receive an email with instructions once your order is ready. For shipped orders within Canada, delivery usually takes 710 business days."}),v.jsx("h2",{className:"text-xl font-semibold",children:"What if my item arrives damaged or incorrect?"}),v.jsx("p",{className:"mt-2",children:"If there is an issue with your order, please contact us within 7 days of receiving it. Include your order number and photos, and well work with the vendor to resolve the issue."}),v.jsx("h2",{className:"text-xl font-semibold",children:"Are returns accepted?"}),v.jsx("p",{className:"mt-2",children:"Since most items are handmade by independent artisans and considered final sale, returns are limited. However, if theres a problem with your order, well review your case on an individual basis and coordinate with the vendor to find a satisfactory solution."}),v.jsx("h2",{className:"text-xl font-semibold",children:"Do you ship internationally?"}),v.jsx("p",{className:"mt-2",children:"Currently, we only ship within Canada. If youre outside of Canada and are interested in a specific item, please contact us directly."}),v.jsx("h2",{className:"text-xl font-semibold",children:"How can I contact customer support?"}),v.jsxs("p",{className:"mt-2",children:["You can reach out to us via email at"," ",v.jsx("a",{href:"mailto:store@tangledoak.ca",className:"text-blue-600 underline",children:"store@tangledoak.ca"})," ","or use our contact form. Were here to help with any questions or concerns."]})]}),PC=()=>v.jsxs(v.Fragment,{children:[v.jsxs(ta,{children:[v.jsx("title",{children:"Shipping & Returns | Tangled Oak"}),v.jsx("meta",{name:"description",content:"Learn about our shipping and return policies at Tangled Oak. Flat-rate shipping, free local pickup, and more."})]}),v.jsx("div",{className:"home-container",children:v.jsxs("div",{className:"main-content",children:[v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Shipping Policy"}),v.jsx("li",{children:"Orders are typically processed within 23 business days. Handmade items may take additional time depending on the artisan."}),v.jsx("br",{}),v.jsxs("li",{children:["We offer flat-rate shipping of ",v.jsx("strong",{children:"$15"})," anywhere in Canada. All orders are shipped via tracked Canada Post service."]}),v.jsx("br",{}),v.jsxs("li",{children:[v.jsx("strong",{children:"Free local pickup"})," is available in North Bay, ON. Select the pickup option at checkout and well email you when your order is ready with pickup details."]}),v.jsx("br",{}),v.jsx("li",{children:"At this time, we only ship within Canada. If youre outside Canada and would like to order, please contact us directly."}),v.jsx("br",{}),v.jsx("li",{children:"We are not responsible for lost or stolen packages. If your package is lost in transit, please contact Canada Post directly."}),v.jsx("br",{})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Returns & Exchanges"}),v.jsxs("li",{children:["Because Tangled Oak features many independent vendors, ",v.jsx("strong",{children:"most items are final sale"})," unless otherwise noted in the product listing."]}),v.jsx("br",{}),v.jsx("li",{children:"If your order arrives damaged or incorrect, contact us within 7 days of delivery. Include your order number and a photo if possible."}),v.jsx("br",{}),v.jsx("li",{children:"Well coordinate with the vendor to find a solution and do our best to resolve the issue through replacement or exchange."}),v.jsx("br",{}),v.jsxs("li",{children:["Email us at ",v.jsx("a",{href:"mailto:support@tangledoak.ca",className:"text-blue-600 underline",children:"support@tangledoak.ca"}),"."]})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h2",{children:"Important Notes"}),v.jsx("li",{children:"Custom and personalized items are non-refundable."}),v.jsx("br",{}),v.jsx("li",{children:"Return requests are subject to vendor approval. Some vendors may offer additional guarantees or exchange policies  these will be listed on the product page if available."}),v.jsx("br",{}),v.jsx("li",{children:"Returned items must be unused and in original condition."}),v.jsx("br",{}),v.jsx("li",{children:"Buyers are responsible for return shipping unless the item arrived damaged or incorrect."})]})]})})]}),kC=()=>v.jsxs("div",{className:"context-box",children:[v.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Privacy Policy"}),v.jsx("p",{className:"mb-4",children:"Tangled Oak + Craft Collective values your privacy. This policy explains how we collect, use, and protect your personal information when you visit our website or make a purchase."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Information We Collect"}),v.jsx("li",{children:"Personal details like name, email address, shipping address, and payment information."}),v.jsx("li",{children:"Order history and account preferences (if you create an account)."}),v.jsx("li",{children:"Basic device/browser data collected through cookies or analytics tools (e.g., Google Analytics)."}),v.jsx("br",{}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. How We Use Your Information"}),v.jsx("li",{children:"To process and fulfill your orders."}),v.jsx("li",{children:"To communicate with you about your purchases or pickup details."}),v.jsx("li",{children:"To improve our website experience and service quality."}),v.jsx("li",{children:"To send occasional updates or announcements (you can opt out anytime)."}),v.jsx("br",{}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. How Your Data Is Stored"}),v.jsx("p",{className:"mb-4",children:"We use secure services like Firebase for authentication and data storage, and Square for processing payments. Your data is protected by industry-standard encryption and access controls."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Third-Party Services"}),v.jsx("p",{className:"mb-4",children:"We may share necessary information with trusted third parties to complete your order (e.g., Canada Post for delivery). These services have their own privacy practices that align with industry standards."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Your Rights"}),v.jsxs("p",{className:"mb-4",children:["You can request to view, update, or delete your personal information at any time by contacting us at ",v.jsx("a",{href:"mailto:support@tangledoak.ca",className:"text-blue-600 underline",children:"support@tangledoak.ca"}),"."]}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Updates to This Policy"}),v.jsx("p",{className:"mb-4",children:"We may update this policy from time to time. Any changes will be posted here with a revised date."}),v.jsx("p",{children:"Last updated: April 2025"})]}),xC=()=>v.jsxs(v.Fragment,{children:[v.jsxs("head",{children:[v.jsx("title",{children:"Terms & Conditions | Tangled Oak + Craft Collective"}),v.jsx("meta",{name:"description",content:"Review the terms and conditions of Tangled Oak + Craft Collective. Understand your rights and responsibilities when using our website for shopping or browsing."}),v.jsx("meta",{name:"keywords",content:"terms and conditions, Tangled Oak, craft collective, shopping terms, website terms, policies"}),v.jsx("meta",{name:"robots",content:"index, follow"}),v.jsx("meta",{property:"og:title",content:"Terms & Conditions | Tangled Oak + Craft Collective"}),v.jsx("meta",{property:"og:description",content:"Review the terms and conditions of Tangled Oak + Craft Collective. Understand your rights and responsibilities when using our website for shopping or browsing."}),v.jsx("meta",{property:"og:url",content:"https://www.tangledoak.ca/terms"}),v.jsx("meta",{property:"og:type",content:"website"}),v.jsx("meta",{name:"twitter:title",content:"Terms & Conditions | Tangled Oak + Craft Collective"}),v.jsx("meta",{name:"twitter:description",content:"Review the terms and conditions of Tangled Oak + Craft Collective. Understand your rights and responsibilities when using our website for shopping or browsing."}),v.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),v.jsxs("div",{className:"context-box",children:[v.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Terms & Conditions"}),v.jsx("p",{className:"mb-4",children:"By using the Tangled Oak + Craft Collective website, you agree to the following terms and conditions. Please read them carefully."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. General Use"}),v.jsx("p",{className:"mb-4",children:"Our site is intended for personal, non-commercial use. You agree not to misuse the website, attempt to breach its security, or interfere with its functionality."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Product Listings"}),v.jsx("p",{className:"mb-4",children:"Each vendor is responsible for the accuracy of their listings, including descriptions, prices, and availability. We do our best to ensure quality and accuracy, but Tangled Oak is not liable for vendor errors."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Orders & Payment"}),v.jsx("p",{className:"mb-4",children:"All purchases are processed securely through Square. Orders are subject to acceptance and availability. You will receive an order confirmation once payment is complete."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Returns & Refunds"}),v.jsxs("p",{className:"mb-4",children:["Return policies vary by vendor. Please refer to our ",v.jsx("a",{href:"/shipping-policy",className:"text-blue-600 underline",children:"Shipping & Returns"})," page for more details. Most items are final sale unless noted otherwise."]}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Intellectual Property"}),v.jsx("p",{className:"mb-4",children:"All site content, including text, logos, and imagery, is owned by Tangled Oak or its contributing vendors. You may not reuse, reproduce, or distribute this content without permission."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Limitation of Liability"}),v.jsx("p",{className:"mb-4",children:"We do our best to ensure a smooth experience, but Tangled Oak is not liable for indirect damages, delays, or issues beyond our control (e.g., delivery delays, vendor mistakes)."}),v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"7. Governing Law"}),v.jsx("p",{className:"mb-4",children:"These terms are governed by the laws of Ontario, Canada. Any disputes will be handled in the appropriate courts within Ontario."}),v.jsx("p",{children:"Last updated: April 2025"})]})]}),bC=()=>{};var Pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},NC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},zw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,_=a>>2,E=(a&3)<<4|d>>4;let I=(d&15)<<2|m>>6,A=m&63;f||(A=64,c||(I=64)),i.push(t[_],t[E],t[I],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Bw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):NC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||E==null)throw new OC;const I=a<<2|d>>4;if(i.push(I),m!==64){const A=d<<4&240|m>>2;if(i.push(A),E!==64){const D=m<<6&192|E;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class OC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DC=function(n){const e=Bw(n);return zw.encodeByteArray(e,!0)},$c=function(n){return DC(n).replace(/\./g,"")},$w=function(n){try{return zw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=()=>LC().__FIREBASE_DEFAULTS__,VC=()=>{if(typeof process>"u"||typeof Pv>"u")return;const n=Pv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$w(n[1]);return e&&JSON.parse(e)},hh=()=>{try{return bC()||MC()||VC()||jC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qw=n=>{var e,t;return(t=(e=hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Hw=n=>{const e=qw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Ww=()=>{var n;return(n=hh())===null||n===void 0?void 0:n.config},Kw=n=>{var e;return(e=hh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$c(JSON.stringify(t)),$c(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function BC(){var n;const e=(n=hh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $C(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qC(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function HC(){return!BC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yw(){try{return typeof indexedDB=="object"}catch{return!1}}function Xw(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function WC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="FirebaseError";class Un extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=KC,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hs.prototype.create)}}class Hs{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?GC(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Un(o,d,i)}}function GC(n,e){return n.replace(QC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const QC=/\{\$([^}]+)}/g;function YC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ui(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(kv(a)&&kv(c)){if(!Ui(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function kv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function yl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function vl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function XC(n,e){const t=new JC(n,e);return t.subscribe.bind(t)}class JC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");ZC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Rf),o.error===void 0&&(o.error=Rf),o.complete===void 0&&(o.complete=Rf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=1e3,tR=2,nR=4*60*60*1e3,rR=.5;function xv(n,e=eR,t=tR){const i=e*Math.pow(t,n),o=Math.round(rR*i*(Math.random()-.5)*2);return Math.min(nR,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(n){return n&&n._delegate?n._delegate:n}class jn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new FC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oR(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sR(n){return n===ks?void 0:n}function oR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new iR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const lR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},uR=Le.INFO,cR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},hR=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=cR[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dh{constructor(e){this.name=e,this._logLevel=uR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const dR=(n,e)=>e.some(t=>n instanceof t);let bv,Nv;function fR(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pR(){return Nv||(Nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jw=new WeakMap,Xf=new WeakMap,Zw=new WeakMap,Pf=new WeakMap,Op=new WeakMap;function mR(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Mi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Jw.set(t,n)}).catch(()=>{}),Op.set(e,n),e}function gR(n){if(Xf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Xf.set(n,e)}let Jf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Zw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yR(n){Jf=n(Jf)}function vR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(kf(this),e,...t);return Zw.set(i,e.sort?e.sort():[e]),Mi(i)}:pR().includes(n)?function(...e){return n.apply(kf(this),e),Mi(Jw.get(this))}:function(...e){return Mi(n.apply(kf(this),e))}}function _R(n){return typeof n=="function"?vR(n):(n instanceof IDBTransaction&&gR(n),dR(n,fR())?new Proxy(n,Jf):n)}function Mi(n){if(n instanceof IDBRequest)return mR(n);if(Pf.has(n))return Pf.get(n);const e=_R(n);return e!==n&&(Pf.set(n,e),Op.set(e,n)),e}const kf=n=>Op.get(n);function eE(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=Mi(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Mi(c.result),f.oldVersion,f.newVersion,Mi(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const wR=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],xf=new Map;function Ov(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=ER.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||wR.includes(t)))return;const a=async function(c,...d){const f=this.transaction(c,o?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return xf.set(e,a),a}yR(n=>({...n,get:(e,t,i)=>Ov(e,t)||n.get(e,t,i),has:(e,t)=>!!Ov(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(IR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function IR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zf="@firebase/app",Dv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new dh("@firebase/app"),SR="@firebase/app-compat",AR="@firebase/analytics-compat",CR="@firebase/analytics",RR="@firebase/app-check-compat",PR="@firebase/app-check",kR="@firebase/auth",xR="@firebase/auth-compat",bR="@firebase/database",NR="@firebase/data-connect",OR="@firebase/database-compat",DR="@firebase/functions",LR="@firebase/functions-compat",MR="@firebase/installations",VR="@firebase/installations-compat",jR="@firebase/messaging",FR="@firebase/messaging-compat",UR="@firebase/performance",BR="@firebase/performance-compat",zR="@firebase/remote-config",$R="@firebase/remote-config-compat",qR="@firebase/storage",HR="@firebase/storage-compat",WR="@firebase/firestore",KR="@firebase/vertexai",GR="@firebase/firestore-compat",QR="firebase",YR="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="[DEFAULT]",XR={[Zf]:"fire-core",[SR]:"fire-core-compat",[CR]:"fire-analytics",[AR]:"fire-analytics-compat",[PR]:"fire-app-check",[RR]:"fire-app-check-compat",[kR]:"fire-auth",[xR]:"fire-auth-compat",[bR]:"fire-rtdb",[NR]:"fire-data-connect",[OR]:"fire-rtdb-compat",[DR]:"fire-fn",[LR]:"fire-fn-compat",[MR]:"fire-iid",[VR]:"fire-iid-compat",[jR]:"fire-fcm",[FR]:"fire-fcm-compat",[UR]:"fire-perf",[BR]:"fire-perf-compat",[zR]:"fire-rc",[$R]:"fire-rc-compat",[qR]:"fire-gcs",[HR]:"fire-gcs-compat",[WR]:"fire-fst",[GR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,JR=new Map,tp=new Map;function Lv(n,e){try{n.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function or(n){const e=n.name;if(tp.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,n);for(const t of qc.values())Lv(t,n);for(const t of JR.values())Lv(t,n);return!0}function Gi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function dn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new Hs("app","Firebase",ZR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=YR;function tE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ep,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Vi.create("bad-app-name",{appName:String(o)});if(t||(t=Ww()),!t)throw Vi.create("no-options");const a=qc.get(o);if(a){if(Ui(t,a.options)&&Ui(i,a.config))return a;throw Vi.create("duplicate-app",{appName:o})}const c=new aR(o);for(const f of tp.values())c.addComponent(f);const d=new eP(t,i,c);return qc.set(o,d),d}function fh(n=ep){const e=qc.get(n);if(!e&&n===ep&&Ww())return tE();if(!e)throw Vi.create("no-app",{appName:n});return e}function pn(n,e,t){var i;let o=(i=XR[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(d.join(" "));return}or(new jn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="firebase-heartbeat-database",nP=1,Ol="firebase-heartbeat-store";let bf=null;function nE(){return bf||(bf=eE(tP,nP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ol)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vi.create("idb-open",{originalErrorMessage:n.message})})),bf}async function rP(n){try{const t=(await nE()).transaction(Ol),i=await t.objectStore(Ol).get(rE(n));return await t.done,i}catch(e){if(e instanceof Un)Xr.warn(e.message);else{const t=Vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(t.message)}}}async function Mv(n,e){try{const i=(await nE()).transaction(Ol,"readwrite");await i.objectStore(Ol).put(e,rE(n)),await i.done}catch(t){if(t instanceof Un)Xr.warn(t.message);else{const i=Vi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xr.warn(i.message)}}}function rE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=1024,sP=30;class oP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lP(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Vv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>sP){const c=uP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Vv(),{heartbeatsToSend:i,unsentEntries:o}=aP(this._heartbeatsCache.heartbeats),a=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Xr.warn(t),""}}}function Vv(){return new Date().toISOString().substring(0,10)}function aP(n,e=iP){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),jv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),jv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class lP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yw()?Xw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jv(n){return $c(JSON.stringify({version:2,heartbeats:n})).length}function uP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n){or(new jn("platform-logger",e=>new TR(e),"PRIVATE")),or(new jn("heartbeat",e=>new oP(e),"PRIVATE")),pn(Zf,Dv,n),pn(Zf,Dv,"esm2017"),pn("fire-js","")}cP("");function Dp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function iE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hP=iE,sE=new Hs("auth","Firebase",iE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new dh("@firebase/auth");function dP(n,...e){Hc.logLevel<=Le.WARN&&Hc.warn(`Auth (${Ws}): ${n}`,...e)}function bc(n,...e){Hc.logLevel<=Le.ERROR&&Hc.error(`Auth (${Ws}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(n,...e){throw Mp(n,...e)}function sr(n,...e){return Mp(n,...e)}function Lp(n,e,t){const i=Object.assign(Object.assign({},hP()),{[e]:t});return new Hs("auth","Firebase",i).create(e,{appName:n.name})}function Qr(n){return Lp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fP(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Fn(n,"argument-error"),Lp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return sE.create(n,...e)}function Ie(n,e,...t){if(!n)throw Mp(e,...t)}function Kr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw bc(e),new Error(e)}function Jr(n,e){n||Kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function pP(){return Fv()==="http:"||Fv()==="https:"}function Fv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pP()||Qw()||"connection"in navigator)?navigator.onLine:!0}function gP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jr(t>e,"Short delay should be less than long delay!"),this.isMobile=UC()||$C()}get(){return mP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n,e){Jr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_P=new Kl(3e4,6e4);function Qi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Yi(n,e,t,i,o={}){return aE(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=Wl(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return zC()||(m.referrerPolicy="no-referrer"),oE.fetch()(await lE(n,n.config.apiHost,t,d),m)})}async function aE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},yP),e);try{const o=new EP(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Ic(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Ic(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Ic(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Lp(n,_,m);Fn(n,_)}}catch(o){if(o instanceof Un)throw o;Fn(n,"network-request-failed",{message:String(o)})}}async function Gl(n,e,t,i,o={}){const a=await Yi(n,e,t,i,o);return"mfaPendingCredential"in a&&Fn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function lE(n,e,t,i){const o=`${e}${t}?${i}`,a=n,c=a.config.emulator?Vp(n.config,o):`${n.config.apiScheme}://${o}`;return vP.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function wP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(sr(this.auth,"network-request-failed")),_P.get())})}}function Ic(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=sr(n,e,i);return o.customData._tokenResponse=t,o}function Uv(n){return n!==void 0&&n.enterprise!==void 0}class TP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return wP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IP(n,e){return Yi(n,"GET","/v2/recaptchaConfig",Qi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(n,e){return Yi(n,"POST","/v1/accounts:delete",e)}async function Wc(n,e){return Yi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AP(n,e=!1){const t=st(n),i=await t.getIdToken(e),o=jp(i);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Il(Nf(o.auth_time)),issuedAtTime:Il(Nf(o.iat)),expirationTime:Il(Nf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Nf(n){return Number(n)*1e3}function jp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=$w(t);return o?JSON.parse(o):(bc("Failed to decode base64 JWT payload"),null)}catch(o){return bc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Bv(n){const e=jp(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Un&&CP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function CP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Dl(n,Wc(t,{idToken:i}));Ie(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?uE(a.providerUserInfo):[],d=kP(n.providerData,c),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=f?m:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new rp(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function PP(n){const e=st(n);await Kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kP(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function uE(n){return n.map(e=>{var{providerId:t}=e,i=Dp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(n,e){const t=await aE(n,{},async()=>{const i=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await lE(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",oE.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bP(n,e){return Yi(n,"POST","/v2/accounts:revokeToken",Qi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=Bv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await xP(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new Xo;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ie(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ie(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new rp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AP(this,e)}reload(){return PP(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Kc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Dl(this,SP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,f,m,_;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,D=(c=t.photoURL)!==null&&c!==void 0?c:void 0,F=(d=t.tenantId)!==null&&d!==void 0?d:void 0,L=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,Q=(m=t.createdAt)!==null&&m!==void 0?m:void 0,W=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ne,emailVerified:Z,isAnonymous:ve,providerData:_e,stsTokenManager:M}=t;Ie(ne&&M,e,"internal-error");const R=Xo.fromJSON(this.name,M);Ie(typeof ne=="string",e,"internal-error"),Pi(E,e.name),Pi(I,e.name),Ie(typeof Z=="boolean",e,"internal-error"),Ie(typeof ve=="boolean",e,"internal-error"),Pi(A,e.name),Pi(D,e.name),Pi(F,e.name),Pi(L,e.name),Pi(Q,e.name),Pi(W,e.name);const k=new ir({uid:ne,auth:e,email:I,emailVerified:Z,displayName:E,isAnonymous:ve,photoURL:D,phoneNumber:A,tenantId:F,stsTokenManager:R,createdAt:Q,lastLoginAt:W});return _e&&Array.isArray(_e)&&(k.providerData=_e.map(O=>Object.assign({},O))),L&&(k._redirectEventId=L),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new Xo;o.updateFromServerResponse(t);const a=new ir({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Kc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?uE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Xo;d.updateFromIdToken(i);const f=new ir({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;function Gr(n){Jr(n instanceof Function,"Expected a class definition");let e=zv.get(n);return e?(Jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cE.type="NONE";const $v=cE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(n,e,t){return`firebase:${n}:${e}:${t}`}class Jo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Nc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Nc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Wc(this.auth,{idToken:e}).catch(()=>{});return t?ir._fromGetAccountInfoResponse(this.auth,t,e):null}return ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Jo(Gr($v),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Gr($v);const c=Nc(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const _=await m._get(c);if(_){let E;if(typeof _=="string"){const I=await Wc(e,{idToken:_}).catch(()=>{});if(!I)break;E=await ir._fromGetAccountInfoResponse(e,I,_)}else E=ir._fromJSON(e,_);m!==a&&(d=E),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Jo(a,e,i):(a=f[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new Jo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gE(e))return"Blackberry";if(yE(e))return"Webos";if(dE(e))return"Safari";if((e.includes("chrome/")||fE(e))&&!e.includes("edge/"))return"Chrome";if(mE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function hE(n=Gt()){return/firefox\//i.test(n)}function dE(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fE(n=Gt()){return/crios\//i.test(n)}function pE(n=Gt()){return/iemobile/i.test(n)}function mE(n=Gt()){return/android/i.test(n)}function gE(n=Gt()){return/blackberry/i.test(n)}function yE(n=Gt()){return/webos/i.test(n)}function Fp(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function NP(n=Gt()){var e;return Fp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OP(){return qC()&&document.documentMode===10}function vE(n=Gt()){return Fp(n)||mE(n)||yE(n)||gE(n)||/windows phone/i.test(n)||pE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(n,e=[]){let t;switch(n){case"Browser":t=qv(Gt());break;case"Worker":t=`${qv(Gt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ws}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const f=e(a);c(f)}catch(f){d(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(n,e={}){return Yi(n,"GET","/v2/passwordPolicy",Qi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=6;class VP{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:MP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new DP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gr(t)),this._initializationPromise=this.queue(async()=>{var i,o,a;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Wc(this,{idToken:e}),i=await ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(Qr(this));const t=e?st(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LP(this),t=new VP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hs("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await bP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gr(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[Gr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&dP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xi(n){return st(n)}class Hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=XC(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FP(n){ph=n}function wE(n){return ph.loadJS(n)}function UP(){return ph.recaptchaEnterpriseScript}function BP(){return ph.gapiScript}function zP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class $P{constructor(){this.enterprise=new qP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class qP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const HP="recaptcha-enterprise",EE="NO_RECAPTCHA";class WP{constructor(e){this.type=HP,this.auth=Xi(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{IP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new TP(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,c(m.siteKey)}}).catch(f=>{d(f)})})}function o(a,c,d){const f=window.grecaptcha;Uv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{c(m)}).catch(()=>{c(EE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $P().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(d=>{if(!t&&Uv(window.grecaptcha))o(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=UP();f.length!==0&&(f+=d),wE(f).then(()=>{o(d,a,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function Wv(n,e,t,i=!1,o=!1){const a=new WP(n);let c;if(o)c=EE;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ip(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Wv(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Wv(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(n,e){const t=Gi(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ui(a,e??{}))return o;Fn(o,"already-initialized")}return t.initialize({options:e})}function GP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Gr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function QP(n,e,t){const i=Xi(n);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=TE(e),{host:c,port:d}=YP(e),f=d===null?"":`:${d}`,m={url:`${a}//${c}${f}/`},_=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(Ui(m,i.config.emulator)&&Ui(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,XP()}function TE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function YP(n){const e=TE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Kv(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Kv(c)}}}function Kv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function XP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,t){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}async function JP(n,e){return Yi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(n,e){return Gl(n,"POST","/v1/accounts:signInWithPassword",Qi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(n,e){return Gl(n,"POST","/v1/accounts:signInWithEmailLink",Qi(n,e))}async function tk(n,e){return Gl(n,"POST","/v1/accounts:signInWithEmailLink",Qi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Up{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ll(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ll(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,t,"signInWithPassword",ZP);case"emailLink":return ek(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,i,"signUpPassword",JP);case"emailLink":return tk(e,{idToken:t,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n,e){return Gl(n,"POST","/v1/accounts:signInWithIdp",Qi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="http://localhost";class Ms extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Dp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Ms(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Zo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Zo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zo(e,t)}buildRequest(){const e={requestUri:nk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ik(n){const e=yl(vl(n)).link,t=e?yl(vl(e)).deep_link_id:null,i=yl(vl(n)).deep_link_id;return(i?yl(vl(i)).link:null)||i||t||e||n}class Bp{constructor(e){var t,i,o,a,c,d;const f=yl(vl(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,_=(i=f.oobCode)!==null&&i!==void 0?i:null,E=rk((o=f.mode)!==null&&o!==void 0?o:null);Ie(m&&_&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=_,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=ik(e);try{return new Bp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.providerId=da.PROVIDER_ID}static credential(e,t){return Ll._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Bp.parseLink(t);return Ie(i,"argument-error"),Ll._fromEmailAndCode(e,i.code,i.tenantId)}}da.PROVIDER_ID="password";da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends zp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Ql{constructor(){super("facebook.com")}static credential(e){return Ms._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ms._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Wr.credential(t,i)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Ql{constructor(){super("github.com")}static credential(e){return Ms._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Ql{constructor(){super("twitter.com")}static credential(e,t){return Ms._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return bi.credential(t,i)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(n,e){return Gl(n,"POST","/v1/accounts:signUp",Qi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await ir._fromIdTokenResponse(e,i,o),c=Gv(i);return new Vs({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Gv(i);return new Vs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Gv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Un{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Gc(e,t,i,o)}}function IE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(n,a,e,i):a})}async function ok(n,e,t=!1){const i=await Dl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(n,e,t=!1){const{auth:i}=n;if(dn(i.app))return Promise.reject(Qr(i));const o="reauthenticate";try{const a=await Dl(n,IE(i,o,e,n),t);Ie(a.idToken,i,"internal-error");const c=jp(a.idToken);Ie(c,i,"internal-error");const{sub:d}=c;return Ie(n.uid===d,i,"user-mismatch"),Vs._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Fn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SE(n,e,t=!1){if(dn(n.app))return Promise.reject(Qr(n));const i="signIn",o=await IE(n,i,e),a=await Vs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function lk(n,e){return SE(Xi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AE(n){const e=Xi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uk(n,e,t){if(dn(n.app))return Promise.reject(Qr(n));const i=Xi(n),c=await ip(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&AE(n),f}),d=await Vs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function ck(n,e,t){return dn(n.app)?Promise.reject(Qr(n)):lk(st(n),da.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&AE(n),i})}function hk(n,e,t,i){return st(n).onIdTokenChanged(e,t,i)}function dk(n,e,t){return st(n).beforeAuthStateChanged(e,t)}function fk(n,e,t,i){return st(n).onAuthStateChanged(e,t,i)}const Qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=1e3,mk=10;class RE extends CE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);OP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,mk):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},pk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}RE.type="LOCAL";const gk=RE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends CE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}PE.type="SESSION";const kE=PE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new mh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async m=>m(t.origin,a)),f=await yk(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,f)=>{const m=$p("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===m)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function _k(n){Ir().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function wk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ek(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Tk(){return xE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="firebaseLocalStorageDb",Ik=1,Yc="firebaseLocalStorage",NE="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gh(n,e){return n.transaction([Yc],e?"readwrite":"readonly").objectStore(Yc)}function Sk(){const n=indexedDB.deleteDatabase(bE);return new Yl(n).toPromise()}function sp(){const n=indexedDB.open(bE,Ik);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Yc,{keyPath:NE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Yc)?e(i):(i.close(),await Sk(),e(await sp()))})})}async function Qv(n,e,t){const i=gh(n,!0).put({[NE]:e,value:t});return new Yl(i).toPromise()}async function Ak(n,e){const t=gh(n,!1).get(e),i=await new Yl(t).toPromise();return i===void 0?null:i.value}function Yv(n,e){const t=gh(n,!0).delete(e);return new Yl(t).toPromise()}const Ck=800,Rk=3;class OE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Rk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(Tk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await wk(),!this.activeServiceWorker)return;this.sender=new vk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ek()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sp();return await Qv(e,Qc,"1"),await Yv(e,Qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Ak(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=gh(o,!1).getAll();return new Yl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ck)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OE.type="LOCAL";const Pk=OE;new Kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n,e){return e?Gr(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends Up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kk(n){return SE(n.auth,new qp(n),n.bypassAuthState)}function xk(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),ak(t,new qp(n),n.bypassAuthState)}async function bk(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),ok(t,new qp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kk;case"linkViaPopup":case"linkViaRedirect":return bk;case"reauthViaPopup":case"reauthViaRedirect":return xk;default:Fn(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Kl(2e3,1e4);async function Ok(n,e,t){if(dn(n.app))return Promise.reject(sr(n,"operation-not-supported-in-this-environment"));const i=Xi(n);fP(n,e,zp);const o=DE(i,t);return new xs(i,"signInViaPopup",e,o).executeNotNull()}class xs extends LE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nk.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="pendingRedirect",Oc=new Map;class Lk extends LE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const i=await Mk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mk(n,e){const t=Fk(e),i=jk(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function Vk(n,e){Oc.set(n._key(),e)}function jk(n){return Gr(n._redirectPersistence)}function Fk(n){return Nc(Dk,n.config.apiKey,n.name)}async function Uk(n,e,t=!1){if(dn(n.app))return Promise.reject(Qr(n));const i=Xi(n),o=DE(i,e),c=await new Lk(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=10*60*1e3;class zk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$k(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!ME(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(sr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Bk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xv(e))}saveEventToCache(e){this.cachedEventUids.add(Xv(e)),this.lastProcessedEventTime=Date.now()}}function Xv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ME({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $k(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ME(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(n,e={}){return Yi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wk=/^https?/;async function Kk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qk(n);for(const t of e)try{if(Gk(t))return}catch{}Fn(n,"unauthorized-domain")}function Gk(n){const e=np(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Wk.test(t))return!1;if(Hk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new Kl(3e4,6e4);function Jv(){const n=Ir().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Yk(n){return new Promise((e,t)=>{var i,o,a;function c(){Jv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jv(),t(sr(n,"network-request-failed"))},timeout:Qk.get()})}if(!((o=(i=Ir().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Ir().gapi)===null||a===void 0)&&a.load)c();else{const d=zP("iframefcb");return Ir()[d]=()=>{gapi.load?c():t(sr(n,"network-request-failed"))},wE(`${BP()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function Xk(n){return Dc=Dc||Yk(n),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new Kl(5e3,15e3),Zk="__/auth/iframe",ex="emulator/auth/iframe",tx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rx(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Vp(e,ex):`https://${n.config.authDomain}/${Zk}`,i={apiKey:e.apiKey,appName:n.name,v:Ws},o=nx.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Wl(i).slice(1)}`}async function ix(n){const e=await Xk(n),t=Ir().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:rx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tx,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=sr(n,"network-request-failed"),d=Ir().setTimeout(()=>{a(c)},Jk.get());function f(){Ir().clearTimeout(d),o(i)}i.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ox=500,ax=600,lx="_blank",ux="http://localhost";class Zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cx(n,e,t,i=ox,o=ax){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},sx),{width:i.toString(),height:o.toString(),top:a,left:c}),m=Gt().toLowerCase();t&&(d=fE(m)?lx:t),hE(m)&&(e=e||ux,f.scrollbars="yes");const _=Object.entries(f).reduce((I,[A,D])=>`${I}${A}=${D},`,"");if(NP(m)&&d!=="_self")return hx(e||"",d),new Zv(null);const E=window.open(e||"",d,_);Ie(E,n,"popup-blocked");try{E.focus()}catch{}return new Zv(E)}function hx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="__/auth/handler",fx="emulator/auth/handler",px=encodeURIComponent("fac");async function e_(n,e,t,i,o,a){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ws,eventId:o};if(e instanceof zp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",YC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Ql){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const f=await n._getAppCheckToken(),m=f?`#${px}=${encodeURIComponent(f)}`:"";return`${mx(n)}?${Wl(d).slice(1)}${m}`}function mx({config:n}){return n.emulator?Vp(n,fx):`https://${n.authDomain}/${dx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="webStorageSupport";class gx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kE,this._completeRedirectFn=Uk,this._overrideRedirectResult=Vk}async _openPopup(e,t,i,o){var a;Jr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await e_(e,t,i,np(),o);return cx(e,c,$p())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await e_(e,t,i,np(),o);return _k(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Jr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ix(e),i=new zk(e);return t.register("authEvent",o=>(Ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Of,{type:Of},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Of];c!==void 0&&t(!!c),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Kk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vE()||dE()||Fp()}}const yx=gx;var t_="@firebase/auth",n_="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wx(n){or(new jn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_E(n)},m=new jP(i,o,a,f);return GP(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),or(new jn("auth-internal",e=>{const t=Xi(e.getProvider("auth").getImmediate());return(i=>new vx(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(t_,n_,_x(n)),pn(t_,n_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=5*60,Tx=Kw("authIdTokenMaxAge")||Ex;let r_=null;const Ix=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Tx)return;const o=t==null?void 0:t.token;r_!==o&&(r_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Sx(n=fh()){const e=Gi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=KP(n,{popupRedirectResolver:yx,persistence:[Pk,gk,kE]}),i=Kw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=Ix(a.toString());dk(t,c,()=>c(t.currentUser)),hk(t,d=>c(d))}}const o=qw("auth");return o&&QP(t,`http://${o}`),t}function Ax(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}FP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=sr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",Ax().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wx("Browser");var Cx="firebase",Rx="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(Cx,Rx,"app");const VE="@firebase/installations",Hp="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=1e4,FE=`w:${Hp}`,UE="FIS_v2",Px="https://firebaseinstallations.googleapis.com/v1",kx=60*60*1e3,xx="installations",bx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},js=new Hs(xx,bx,Nx);function BE(n){return n instanceof Un&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE({projectId:n}){return`${Px}/projects/${n}/installations`}function $E(n){return{token:n.token,requestStatus:2,expiresIn:Dx(n.expiresIn),creationTime:Date.now()}}async function qE(n,e){const i=(await e.json()).error;return js.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function HE({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Ox(n,{refreshToken:e}){const t=HE(n);return t.append("Authorization",Lx(e)),t}async function WE(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Dx(n){return Number(n.replace("s","000"))}function Lx(n){return`${UE} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=zE(n),o=HE(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const c={fid:t,authVersion:UE,appId:n.appId,sdkVersion:FE},d={method:"POST",headers:o,body:JSON.stringify(c)},f=await WE(()=>fetch(i,d));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:$E(m.authToken)}}else throw await qE("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=/^[cdef][\w-]{21}$/,op="";function Fx(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Ux(n);return jx.test(t)?t:op}catch{return op}}function Ux(n){return Vx(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new Map;function QE(n,e){const t=yh(n);YE(t,e),Bx(t,e)}function YE(n,e){const t=GE.get(n);if(t)for(const i of t)i(e)}function Bx(n,e){const t=zx();t&&t.postMessage({key:n,fid:e}),$x()}let bs=null;function zx(){return!bs&&"BroadcastChannel"in self&&(bs=new BroadcastChannel("[Firebase] FID Change"),bs.onmessage=n=>{YE(n.data.key,n.data.fid)}),bs}function $x(){GE.size===0&&bs&&(bs.close(),bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="firebase-installations-database",Hx=1,Fs="firebase-installations-store";let Df=null;function Wp(){return Df||(Df=eE(qx,Hx,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Fs)}}})),Df}async function Xc(n,e){const t=yh(n),o=(await Wp()).transaction(Fs,"readwrite"),a=o.objectStore(Fs),c=await a.get(t);return await a.put(e,t),await o.done,(!c||c.fid!==e.fid)&&QE(n,e.fid),e}async function XE(n){const e=yh(n),i=(await Wp()).transaction(Fs,"readwrite");await i.objectStore(Fs).delete(e),await i.done}async function vh(n,e){const t=yh(n),o=(await Wp()).transaction(Fs,"readwrite"),a=o.objectStore(Fs),c=await a.get(t),d=e(c);return d===void 0?await a.delete(t):await a.put(d,t),await o.done,d&&(!c||c.fid!==d.fid)&&QE(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(n){let e;const t=await vh(n.appConfig,i=>{const o=Wx(i),a=Kx(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===op?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Wx(n){const e=n||{fid:Fx(),registrationStatus:0};return JE(e)}function Kx(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(js.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Gx(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Qx(n)}:{installationEntry:e}}async function Gx(n,e){try{const t=await Mx(n,e);return Xc(n.appConfig,t)}catch(t){throw BE(t)&&t.customData.serverCode===409?await XE(n.appConfig):await Xc(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Qx(n){let e=await i_(n.appConfig);for(;e.registrationStatus===1;)await KE(100),e=await i_(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Kp(n);return i||t}return e}function i_(n){return vh(n,e=>{if(!e)throw js.create("installation-not-found");return JE(e)})}function JE(n){return Yx(n)?{fid:n.fid,registrationStatus:0}:n}function Yx(n){return n.registrationStatus===1&&n.registrationTime+jE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx({appConfig:n,heartbeatServiceProvider:e},t){const i=Jx(n,t),o=Ox(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const c={installation:{sdkVersion:FE,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},f=await WE(()=>fetch(i,d));if(f.ok){const m=await f.json();return $E(m)}else throw await qE("Generate Auth Token",f)}function Jx(n,{fid:e}){return`${zE(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gp(n,e=!1){let t;const i=await vh(n.appConfig,a=>{if(!ZE(a))throw js.create("not-registered");const c=a.authToken;if(!e&&t1(c))return a;if(c.requestStatus===1)return t=Zx(n,e),a;{if(!navigator.onLine)throw js.create("app-offline");const d=r1(a);return t=e1(n,d),d}});return t?await t:i.authToken}async function Zx(n,e){let t=await s_(n.appConfig);for(;t.authToken.requestStatus===1;)await KE(100),t=await s_(n.appConfig);const i=t.authToken;return i.requestStatus===0?Gp(n,e):i}function s_(n){return vh(n,e=>{if(!ZE(e))throw js.create("not-registered");const t=e.authToken;return i1(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function e1(n,e){try{const t=await Xx(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await Xc(n.appConfig,i),t}catch(t){if(BE(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await XE(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Xc(n.appConfig,i)}throw t}}function ZE(n){return n!==void 0&&n.registrationStatus===2}function t1(n){return n.requestStatus===2&&!n1(n)}function n1(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+kx}function r1(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function i1(n){return n.requestStatus===1&&n.requestTime+jE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(n){const e=n,{installationEntry:t,registrationPromise:i}=await Kp(e);return i?i.catch(console.error):Gp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(n,e=!1){const t=n;return await a1(t),(await Gp(t,e)).token}async function a1(n){const{registrationPromise:e}=await Kp(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(n){if(!n||!n.options)throw Lf("App Configuration");if(!n.name)throw Lf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Lf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Lf(n){return js.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="installations",u1="installations-internal",c1=n=>{const e=n.getProvider("app").getImmediate(),t=l1(e),i=Gi(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},h1=n=>{const e=n.getProvider("app").getImmediate(),t=Gi(e,eT).getImmediate();return{getId:()=>s1(t),getToken:o=>o1(t,o)}};function d1(){or(new jn(eT,c1,"PUBLIC")),or(new jn(u1,h1,"PRIVATE"))}d1();pn(VE,Hp);pn(VE,Hp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="analytics",f1="firebase_id",p1="origin",m1=60*1e3,g1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new dh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new Hs("analytics","Analytics",y1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(n){if(!n.startsWith(Qp)){const e=An.create("invalid-gtag-resource",{gtagURL:n});return mn.warn(e.message),""}return n}function tT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function _1(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function w1(n,e){const t=_1("firebase-js-sdk-policy",{createScriptURL:v1}),i=document.createElement("script"),o=`${Qp}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function E1(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function T1(n,e,t,i,o,a){const c=i[o];try{if(c)await e[c];else{const f=(await tT(t)).find(m=>m.measurementId===o);f&&await e[f.appId]}}catch(d){mn.error(d)}n("config",o,a)}async function I1(n,e,t,i,o){try{let a=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await tT(t);for(const f of c){const m=d.find(E=>E.measurementId===f),_=m&&e[m.appId];if(_)a.push(_);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,o||{})}catch(a){mn.error(a)}}function S1(n,e,t,i){async function o(a,...c){try{if(a==="event"){const[d,f]=c;await I1(n,e,t,d,f)}else if(a==="config"){const[d,f]=c;await T1(n,e,t,i,d,f)}else if(a==="consent"){const[d,f]=c;n("consent",d,f)}else if(a==="get"){const[d,f,m]=c;n("get",d,f,m)}else if(a==="set"){const[d]=c;n("set",d)}else n(a,...c)}catch(d){mn.error(d)}}return o}function A1(n,e,t,i,o){let a=function(...c){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=S1(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function C1(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Qp)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=30,P1=1e3;class k1{constructor(e={},t=P1){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nT=new k1;function x1(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function b1(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:x1(i)},a=g1.replace("{app-id}",t),c=await fetch(a,o);if(c.status!==200&&c.status!==304){let d="";try{const f=await c.json();!((e=f.error)===null||e===void 0)&&e.message&&(d=f.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function N1(n,e=nT,t){const{appId:i,apiKey:o,measurementId:a}=n.options;if(!i)throw An.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw An.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new L1;return setTimeout(async()=>{d.abort()},m1),rT({appId:i,apiKey:o,measurementId:a},c,d,e)}async function rT(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=nT){var a;const{appId:c,measurementId:d}=n;try{await O1(i,e)}catch(f){if(d)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:c,measurementId:d};throw f}try{const f=await b1(n);return o.deleteThrottleMetadata(c),f}catch(f){const m=f;if(!D1(m)){if(o.deleteThrottleMetadata(c),d)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:c,measurementId:d};throw f}const _=Number((a=m==null?void 0:m.customData)===null||a===void 0?void 0:a.httpStatus)===503?xv(t,o.intervalMillis,R1):xv(t,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return o.setThrottleMetadata(c,E),mn.debug(`Calling attemptFetch again in ${_} millis`),rT(n,E,i,o)}}function O1(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),i(An.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function D1(n){if(!(n instanceof Un)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class L1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function M1(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const a=await e,c=Object.assign(Object.assign({},i),{send_to:a});n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(){if(Yw())try{await Xw()}catch(n){return mn.warn(An.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return mn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function j1(n,e,t,i,o,a,c){var d;const f=N1(n);f.then(A=>{t[A.measurementId]=A.appId,n.options.measurementId&&A.measurementId!==n.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>mn.error(A)),e.push(f);const m=V1().then(A=>{if(A)return i.getId()}),[_,E]=await Promise.all([f,m]);C1(a)||w1(a,_.measurementId),o("js",new Date);const I=(d=c==null?void 0:c.config)!==null&&d!==void 0?d:{};return I[p1]="firebase",I.update=!0,E!=null&&(I[f1]=E),o("config",_.measurementId,I),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.app=e}_delete(){return delete Sl[this.app.options.appId],Promise.resolve()}}let Sl={},o_=[];const a_={};let Mf="dataLayer",U1="gtag",l_,iT,u_=!1;function B1(){const n=[];if(Qw()&&n.push("This is a browser extension environment."),WC()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=An.create("invalid-analytics-context",{errorInfo:e});mn.warn(t.message)}}function z1(n,e,t){B1();const i=n.options.appId;if(!i)throw An.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(Sl[i]!=null)throw An.create("already-exists",{id:i});if(!u_){E1(Mf);const{wrappedGtag:a,gtagCore:c}=A1(Sl,o_,a_,Mf,U1);iT=a,l_=c,u_=!0}return Sl[i]=j1(n,o_,a_,e,l_,Mf,t),new F1(n)}function $1(n=fh()){n=st(n);const e=Gi(n,Jc);return e.isInitialized()?e.getImmediate():q1(n)}function q1(n,e={}){const t=Gi(n,Jc);if(t.isInitialized()){const o=t.getImmediate();if(Ui(e,t.getOptions()))return o;throw An.create("already-initialized")}return t.initialize({options:e})}function H1(n,e,t,i){n=st(n),M1(iT,Sl[n.app.options.appId],e,t,i).catch(o=>mn.error(o))}const c_="@firebase/analytics",h_="0.10.12";function W1(){or(new jn(Jc,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return z1(i,o,t)},"PUBLIC")),or(new jn("analytics-internal",n,"PRIVATE")),pn(c_,h_),pn(c_,h_,"esm2017");function n(e){try{const t=e.getProvider(Jc).getImmediate();return{logEvent:(i,o,a)=>H1(t,i,o,a)}}catch(t){throw An.create("interop-component-reg-failed",{reason:t})}}}W1();var d_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ji,sT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function k(){}k.prototype=R.prototype,M.D=R.prototype,M.prototype=new k,M.prototype.constructor=M,M.C=function(O,x,b){for(var C=Array(arguments.length-2),se=2;se<arguments.length;se++)C[se-2]=arguments[se];return R.prototype[x].apply(O,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,k){k||(k=0);var O=Array(16);if(typeof R=="string")for(var x=0;16>x;++x)O[x]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(x=0;16>x;++x)O[x]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=M.g[0],k=M.g[1],x=M.g[2];var b=M.g[3],C=R+(b^k&(x^b))+O[0]+3614090360&4294967295;R=k+(C<<7&4294967295|C>>>25),C=b+(x^R&(k^x))+O[1]+3905402710&4294967295,b=R+(C<<12&4294967295|C>>>20),C=x+(k^b&(R^k))+O[2]+606105819&4294967295,x=b+(C<<17&4294967295|C>>>15),C=k+(R^x&(b^R))+O[3]+3250441966&4294967295,k=x+(C<<22&4294967295|C>>>10),C=R+(b^k&(x^b))+O[4]+4118548399&4294967295,R=k+(C<<7&4294967295|C>>>25),C=b+(x^R&(k^x))+O[5]+1200080426&4294967295,b=R+(C<<12&4294967295|C>>>20),C=x+(k^b&(R^k))+O[6]+2821735955&4294967295,x=b+(C<<17&4294967295|C>>>15),C=k+(R^x&(b^R))+O[7]+4249261313&4294967295,k=x+(C<<22&4294967295|C>>>10),C=R+(b^k&(x^b))+O[8]+1770035416&4294967295,R=k+(C<<7&4294967295|C>>>25),C=b+(x^R&(k^x))+O[9]+2336552879&4294967295,b=R+(C<<12&4294967295|C>>>20),C=x+(k^b&(R^k))+O[10]+4294925233&4294967295,x=b+(C<<17&4294967295|C>>>15),C=k+(R^x&(b^R))+O[11]+2304563134&4294967295,k=x+(C<<22&4294967295|C>>>10),C=R+(b^k&(x^b))+O[12]+1804603682&4294967295,R=k+(C<<7&4294967295|C>>>25),C=b+(x^R&(k^x))+O[13]+4254626195&4294967295,b=R+(C<<12&4294967295|C>>>20),C=x+(k^b&(R^k))+O[14]+2792965006&4294967295,x=b+(C<<17&4294967295|C>>>15),C=k+(R^x&(b^R))+O[15]+1236535329&4294967295,k=x+(C<<22&4294967295|C>>>10),C=R+(x^b&(k^x))+O[1]+4129170786&4294967295,R=k+(C<<5&4294967295|C>>>27),C=b+(k^x&(R^k))+O[6]+3225465664&4294967295,b=R+(C<<9&4294967295|C>>>23),C=x+(R^k&(b^R))+O[11]+643717713&4294967295,x=b+(C<<14&4294967295|C>>>18),C=k+(b^R&(x^b))+O[0]+3921069994&4294967295,k=x+(C<<20&4294967295|C>>>12),C=R+(x^b&(k^x))+O[5]+3593408605&4294967295,R=k+(C<<5&4294967295|C>>>27),C=b+(k^x&(R^k))+O[10]+38016083&4294967295,b=R+(C<<9&4294967295|C>>>23),C=x+(R^k&(b^R))+O[15]+3634488961&4294967295,x=b+(C<<14&4294967295|C>>>18),C=k+(b^R&(x^b))+O[4]+3889429448&4294967295,k=x+(C<<20&4294967295|C>>>12),C=R+(x^b&(k^x))+O[9]+568446438&4294967295,R=k+(C<<5&4294967295|C>>>27),C=b+(k^x&(R^k))+O[14]+3275163606&4294967295,b=R+(C<<9&4294967295|C>>>23),C=x+(R^k&(b^R))+O[3]+4107603335&4294967295,x=b+(C<<14&4294967295|C>>>18),C=k+(b^R&(x^b))+O[8]+1163531501&4294967295,k=x+(C<<20&4294967295|C>>>12),C=R+(x^b&(k^x))+O[13]+2850285829&4294967295,R=k+(C<<5&4294967295|C>>>27),C=b+(k^x&(R^k))+O[2]+4243563512&4294967295,b=R+(C<<9&4294967295|C>>>23),C=x+(R^k&(b^R))+O[7]+1735328473&4294967295,x=b+(C<<14&4294967295|C>>>18),C=k+(b^R&(x^b))+O[12]+2368359562&4294967295,k=x+(C<<20&4294967295|C>>>12),C=R+(k^x^b)+O[5]+4294588738&4294967295,R=k+(C<<4&4294967295|C>>>28),C=b+(R^k^x)+O[8]+2272392833&4294967295,b=R+(C<<11&4294967295|C>>>21),C=x+(b^R^k)+O[11]+1839030562&4294967295,x=b+(C<<16&4294967295|C>>>16),C=k+(x^b^R)+O[14]+4259657740&4294967295,k=x+(C<<23&4294967295|C>>>9),C=R+(k^x^b)+O[1]+2763975236&4294967295,R=k+(C<<4&4294967295|C>>>28),C=b+(R^k^x)+O[4]+1272893353&4294967295,b=R+(C<<11&4294967295|C>>>21),C=x+(b^R^k)+O[7]+4139469664&4294967295,x=b+(C<<16&4294967295|C>>>16),C=k+(x^b^R)+O[10]+3200236656&4294967295,k=x+(C<<23&4294967295|C>>>9),C=R+(k^x^b)+O[13]+681279174&4294967295,R=k+(C<<4&4294967295|C>>>28),C=b+(R^k^x)+O[0]+3936430074&4294967295,b=R+(C<<11&4294967295|C>>>21),C=x+(b^R^k)+O[3]+3572445317&4294967295,x=b+(C<<16&4294967295|C>>>16),C=k+(x^b^R)+O[6]+76029189&4294967295,k=x+(C<<23&4294967295|C>>>9),C=R+(k^x^b)+O[9]+3654602809&4294967295,R=k+(C<<4&4294967295|C>>>28),C=b+(R^k^x)+O[12]+3873151461&4294967295,b=R+(C<<11&4294967295|C>>>21),C=x+(b^R^k)+O[15]+530742520&4294967295,x=b+(C<<16&4294967295|C>>>16),C=k+(x^b^R)+O[2]+3299628645&4294967295,k=x+(C<<23&4294967295|C>>>9),C=R+(x^(k|~b))+O[0]+4096336452&4294967295,R=k+(C<<6&4294967295|C>>>26),C=b+(k^(R|~x))+O[7]+1126891415&4294967295,b=R+(C<<10&4294967295|C>>>22),C=x+(R^(b|~k))+O[14]+2878612391&4294967295,x=b+(C<<15&4294967295|C>>>17),C=k+(b^(x|~R))+O[5]+4237533241&4294967295,k=x+(C<<21&4294967295|C>>>11),C=R+(x^(k|~b))+O[12]+1700485571&4294967295,R=k+(C<<6&4294967295|C>>>26),C=b+(k^(R|~x))+O[3]+2399980690&4294967295,b=R+(C<<10&4294967295|C>>>22),C=x+(R^(b|~k))+O[10]+4293915773&4294967295,x=b+(C<<15&4294967295|C>>>17),C=k+(b^(x|~R))+O[1]+2240044497&4294967295,k=x+(C<<21&4294967295|C>>>11),C=R+(x^(k|~b))+O[8]+1873313359&4294967295,R=k+(C<<6&4294967295|C>>>26),C=b+(k^(R|~x))+O[15]+4264355552&4294967295,b=R+(C<<10&4294967295|C>>>22),C=x+(R^(b|~k))+O[6]+2734768916&4294967295,x=b+(C<<15&4294967295|C>>>17),C=k+(b^(x|~R))+O[13]+1309151649&4294967295,k=x+(C<<21&4294967295|C>>>11),C=R+(x^(k|~b))+O[4]+4149444226&4294967295,R=k+(C<<6&4294967295|C>>>26),C=b+(k^(R|~x))+O[11]+3174756917&4294967295,b=R+(C<<10&4294967295|C>>>22),C=x+(R^(b|~k))+O[2]+718787259&4294967295,x=b+(C<<15&4294967295|C>>>17),C=k+(b^(x|~R))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+b&4294967295}i.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var k=R-this.blockSize,O=this.B,x=this.h,b=0;b<R;){if(x==0)for(;b<=k;)o(this,M,b),b+=this.blockSize;if(typeof M=="string"){for(;b<R;)if(O[x++]=M.charCodeAt(b++),x==this.blockSize){o(this,O),x=0;break}}else for(;b<R;)if(O[x++]=M[b++],x==this.blockSize){o(this,O),x=0;break}}this.h=x,this.o+=R},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var k=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=k&255,k/=256;for(this.u(M),M=Array(16),R=k=0;4>R;++R)for(var O=0;32>O;O+=8)M[k++]=this.g[R]>>>O&255;return M};function a(M,R){var k=d;return Object.prototype.hasOwnProperty.call(k,M)?k[M]:k[M]=R(M)}function c(M,R){this.h=R;for(var k=[],O=!0,x=M.length-1;0<=x;x--){var b=M[x]|0;O&&b==R||(k[x]=b,O=!1)}this.g=k}var d={};function f(M){return-128<=M&&128>M?a(M,function(R){return new c([R|0],0>R?-1:0)}):new c([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return E;if(0>M)return L(m(-M));for(var R=[],k=1,O=0;M>=k;O++)R[O]=M/k|0,k*=4294967296;return new c(R,0)}function _(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return L(_(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(R,8)),O=E,x=0;x<M.length;x+=8){var b=Math.min(8,M.length-x),C=parseInt(M.substring(x,x+b),R);8>b?(b=m(Math.pow(R,b)),O=O.j(b).add(m(C))):(O=O.j(k),O=O.add(m(C)))}return O}var E=f(0),I=f(1),A=f(16777216);n=c.prototype,n.m=function(){if(F(this))return-L(this).m();for(var M=0,R=1,k=0;k<this.g.length;k++){var O=this.i(k);M+=(0<=O?O:4294967296+O)*R,R*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(F(this))return"-"+L(this).toString(M);for(var R=m(Math.pow(M,6)),k=this,O="";;){var x=Z(k,R).g;k=Q(k,x.j(R));var b=((0<k.g.length?k.g[0]:k.h)>>>0).toString(M);if(k=x,D(k))return b+O;for(;6>b.length;)b="0"+b;O=b+O}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function F(M){return M.h==-1}n.l=function(M){return M=Q(this,M),F(M)?-1:D(M)?0:1};function L(M){for(var R=M.g.length,k=[],O=0;O<R;O++)k[O]=~M.g[O];return new c(k,~M.h).add(I)}n.abs=function(){return F(this)?L(this):this},n.add=function(M){for(var R=Math.max(this.g.length,M.g.length),k=[],O=0,x=0;x<=R;x++){var b=O+(this.i(x)&65535)+(M.i(x)&65535),C=(b>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);O=C>>>16,b&=65535,C&=65535,k[x]=C<<16|b}return new c(k,k[k.length-1]&-2147483648?-1:0)};function Q(M,R){return M.add(L(R))}n.j=function(M){if(D(this)||D(M))return E;if(F(this))return F(M)?L(this).j(L(M)):L(L(this).j(M));if(F(M))return L(this.j(L(M)));if(0>this.l(A)&&0>M.l(A))return m(this.m()*M.m());for(var R=this.g.length+M.g.length,k=[],O=0;O<2*R;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var x=0;x<M.g.length;x++){var b=this.i(O)>>>16,C=this.i(O)&65535,se=M.i(x)>>>16,ae=M.i(x)&65535;k[2*O+2*x]+=C*ae,W(k,2*O+2*x),k[2*O+2*x+1]+=b*ae,W(k,2*O+2*x+1),k[2*O+2*x+1]+=C*se,W(k,2*O+2*x+1),k[2*O+2*x+2]+=b*se,W(k,2*O+2*x+2)}for(O=0;O<R;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=R;O<2*R;O++)k[O]=0;return new c(k,0)};function W(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function ne(M,R){this.g=M,this.h=R}function Z(M,R){if(D(R))throw Error("division by zero");if(D(M))return new ne(E,E);if(F(M))return R=Z(L(M),R),new ne(L(R.g),L(R.h));if(F(R))return R=Z(M,L(R)),new ne(L(R.g),R.h);if(30<M.g.length){if(F(M)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var k=I,O=R;0>=O.l(M);)k=ve(k),O=ve(O);var x=_e(k,1),b=_e(O,1);for(O=_e(O,2),k=_e(k,2);!D(O);){var C=b.add(O);0>=C.l(M)&&(x=x.add(k),b=C),O=_e(O,1),k=_e(k,1)}return R=Q(M,x.j(R)),new ne(x,R)}for(x=E;0<=M.l(R);){for(k=Math.max(1,Math.floor(M.m()/R.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),b=m(k),C=b.j(R);F(C)||0<C.l(M);)k-=O,b=m(k),C=b.j(R);D(b)&&(b=I),x=x.add(b),M=Q(M,C)}return new ne(x,M)}n.A=function(M){return Z(this,M).h},n.and=function(M){for(var R=Math.max(this.g.length,M.g.length),k=[],O=0;O<R;O++)k[O]=this.i(O)&M.i(O);return new c(k,this.h&M.h)},n.or=function(M){for(var R=Math.max(this.g.length,M.g.length),k=[],O=0;O<R;O++)k[O]=this.i(O)|M.i(O);return new c(k,this.h|M.h)},n.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),k=[],O=0;O<R;O++)k[O]=this.i(O)^M.i(O);return new c(k,this.h^M.h)};function ve(M){for(var R=M.g.length+1,k=[],O=0;O<R;O++)k[O]=M.i(O)<<1|M.i(O-1)>>>31;return new c(k,M.h)}function _e(M,R){var k=R>>5;R%=32;for(var O=M.g.length-k,x=[],b=0;b<O;b++)x[b]=0<R?M.i(b+k)>>>R|M.i(b+k+1)<<32-R:M.i(b+k);return new c(x,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,sT=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,ji=c}).apply(typeof d_<"u"?d_:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oT,_l,aT,Lc,ap,lT,uT,cT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,w){return u==Array.prototype||u==Object.prototype||(u[g]=w.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var g=0;g<u.length;++g){var w=u[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var w=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in w))break e;w=w[U]}u=u[u.length-1],S=w[u],g=g(S),g!=S&&g!=null&&e(w,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var w=0,S=!1,U={next:function(){if(!S&&w<u.length){var H=w++;return{value:g(H,u[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function _(u,g,w){return u.call.apply(u.bind,arguments)}function E(u,g,w){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),u.apply(g,U)}}return function(){return u.apply(g,arguments)}}function I(u,g,w){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,I.apply(null,arguments)}function A(u,g){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function D(u,g){function w(){}w.prototype=g.prototype,u.aa=g.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(S,U,H){for(var le=Array(arguments.length-2),He=2;He<arguments.length;He++)le[He-2]=arguments[He];return g.prototype[U].apply(S,le)}}function F(u){const g=u.length;if(0<g){const w=Array(g);for(let S=0;S<g;S++)w[S]=u[S];return w}return[]}function L(u,g){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(f(S)){const U=u.length||0,H=S.length||0;u.length=U+H;for(let le=0;le<H;le++)u[U+le]=S[le]}else u.push(S)}}class Q{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function W(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function Z(u){return Z[" "](u),u}Z[" "]=function(){};var ve=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function _e(u,g,w){for(const S in u)g.call(w,u[S],S,u)}function M(u,g){for(const w in u)g.call(void 0,u[w],w,u)}function R(u){const g={};for(const w in u)g[w]=u[w];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,g){let w,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(w in S)u[w]=S[w];for(let H=0;H<k.length;H++)w=k[H],Object.prototype.hasOwnProperty.call(S,w)&&(u[w]=S[w])}}function x(u){var g=1;u=u.split(":");const w=[];for(;0<g&&u.length;)w.push(u.shift()),g--;return u.length&&w.push(u.join(":")),w}function b(u){d.setTimeout(()=>{throw u},0)}function C(){var u=ue;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class se{constructor(){this.h=this.g=null}add(g,w){const S=ae.get();S.set(g,w),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new Q(()=>new Ae,u=>u.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let $,K=!1,ue=new se,ie=()=>{const u=d.Promise.resolve(void 0);$=()=>{u.then(V)}};var V=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(w){b(w)}var g=ae;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}K=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};d.addEventListener("test",w,g),d.removeEventListener("test",w,g)}catch{}return u}();function be(u,g){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ve){e:{try{Z(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else w=="mouseover"?g=u.fromElement:w=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&be.aa.h.call(this)}}D(be,pe);var De={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Ke(u,g,w,S,U){this.listener=u,this.proxy=null,this.src=g,this.type=w,this.capture=!!S,this.ha=U,this.key=++$e,this.da=this.fa=!1}function Ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rr(u){this.src=u,this.g={},this.h=0}Rr.prototype.add=function(u,g,w,S,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var le=ni(u,g,S,U);return-1<le?(g=u[le],w||(g.fa=!1)):(g=new Ke(g,this.src,H,!!S,U),g.fa=w,u.push(g)),g};function Ys(u,g){var w=g.type;if(w in u.g){var S=u.g[w],U=Array.prototype.indexOf.call(S,g,void 0),H;(H=0<=U)&&Array.prototype.splice.call(S,U,1),H&&(Ct(g),u.g[w].length==0&&(delete u.g[w],u.h--))}}function ni(u,g,w,S){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==g&&H.capture==!!w&&H.ha==S)return U}return-1}var es="closure_lm_"+(1e6*Math.random()|0),Xs={};function va(u,g,w,S,U){if(Array.isArray(g)){for(var H=0;H<g.length;H++)va(u,g[H],w,S,U);return null}return w=Ea(w),u&&u[Ue]?u.K(g,w,m(S)?!!S.capture:!1,U):_a(u,g,w,!1,S,U)}function _a(u,g,w,S,U,H){if(!g)throw Error("Invalid event type");var le=m(U)?!!U.capture:!!U,He=Zs(u);if(He||(u[es]=He=new Rr(u)),w=He.add(g,w,S,le,H),w.proxy)return w;if(S=ru(),w.proxy=S,S.src=u,S.listener=w,u.addEventListener)Pe||(U=le),U===void 0&&(U=!1),u.addEventListener(g.toString(),S,U);else if(u.attachEvent)u.attachEvent(kr(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ru(){function u(w){return g.call(u.src,u.listener,w)}const g=wa;return u}function Js(u,g,w,S,U){if(Array.isArray(g))for(var H=0;H<g.length;H++)Js(u,g[H],w,S,U);else S=m(S)?!!S.capture:!!S,w=Ea(w),u&&u[Ue]?(u=u.i,g=String(g).toString(),g in u.g&&(H=u.g[g],w=ni(H,w,S,U),-1<w&&(Ct(H[w]),Array.prototype.splice.call(H,w,1),H.length==0&&(delete u.g[g],u.h--)))):u&&(u=Zs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=ni(g,w,S,U)),(w=-1<u?g[u]:null)&&Pr(w))}function Pr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ue])Ys(g.i,u);else{var w=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(w,S,u.capture):g.detachEvent?g.detachEvent(kr(w),S):g.addListener&&g.removeListener&&g.removeListener(S),(w=Zs(g))?(Ys(w,u),w.h==0&&(w.src=null,g[es]=null)):Ct(u)}}}function kr(u){return u in Xs?Xs[u]:Xs[u]="on"+u}function wa(u,g){if(u.da)u=!0;else{g=new be(g,this);var w=u.listener,S=u.ha||u.src;u.fa&&Pr(u),u=w.call(S,g)}return u}function Zs(u){return u=u[es],u instanceof Rr?u:null}var eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ea(u){return typeof u=="function"?u:(u[eo]||(u[eo]=function(g){return u.handleEvent(g)}),u[eo])}function _t(){G.call(this),this.i=new Rr(this),this.M=this,this.F=null}D(_t,G),_t.prototype[Ue]=!0,_t.prototype.removeEventListener=function(u,g,w,S){Js(this,u,g,w,S)};function wt(u,g){var w,S=u.F;if(S)for(w=[];S;S=S.F)w.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new pe(g,u);else if(g instanceof pe)g.target=g.target||u;else{var U=g;g=new pe(S,u),O(g,U)}if(U=!0,w)for(var H=w.length-1;0<=H;H--){var le=g.g=w[H];U=xr(le,S,!0,g)&&U}if(le=g.g=u,U=xr(le,S,!0,g)&&U,U=xr(le,S,!1,g)&&U,w)for(H=0;H<w.length;H++)le=g.g=w[H],U=xr(le,S,!1,g)&&U}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var w=u.g[g],S=0;S<w.length;S++)Ct(w[S]);delete u.g[g],u.h--}}this.F=null},_t.prototype.K=function(u,g,w,S){return this.i.add(String(u),g,!1,w,S)},_t.prototype.L=function(u,g,w,S){return this.i.add(String(u),g,!0,w,S)};function xr(u,g,w,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,H=0;H<g.length;++H){var le=g[H];if(le&&!le.da&&le.capture==w){var He=le.listener,Et=le.ha||le.src;le.fa&&Ys(u.i,le),U=He.call(Et,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ta(u,g,w){if(typeof u=="function")w&&(u=I(u,w));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(u,g||0)}function ri(u){u.g=Ta(()=>{u.g=null,u.i&&(u.i=!1,ri(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class ts extends G{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ri(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(u){G.call(this),this.h=u,this.g={}}D(ns,G);var Ia=[];function Sa(u){_e(u.g,function(g,w){this.g.hasOwnProperty(w)&&Pr(g)},u),u.g={}}ns.prototype.N=function(){ns.aa.N.call(this),Sa(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Aa=d.JSON.stringify,Ca=d.JSON.parse,Ra=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function rs(){}rs.prototype.h=null;function to(u){return u.h||(u.h=u.i())}function no(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){pe.call(this,"d")}D(ur,pe);function ro(){pe.call(this,"c")}D(ro,pe);var cr={},Pa=null;function is(){return Pa=Pa||new _t}cr.La="serverreachability";function ka(u){pe.call(this,cr.La,u)}D(ka,pe);function br(u){const g=is();wt(g,new ka(g))}cr.STAT_EVENT="statevent";function xa(u,g){pe.call(this,cr.STAT_EVENT,u),this.stat=g}D(xa,pe);function ct(u){const g=is();wt(g,new xa(g,u))}cr.Ma="timingevent";function io(u,g){pe.call(this,cr.Ma,u),this.size=g}D(io,pe);function Bn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function ss(){this.g=!0}ss.prototype.xa=function(){this.g=!1};function os(u,g,w,S,U,H){u.info(function(){if(u.g)if(H)for(var le="",He=H.split("&"),Et=0;Et<He.length;Et++){var je=He[Et].split("=");if(1<je.length){var Rt=je[0];je=je[1];var pt=Rt.split("_");le=2<=pt.length&&pt[1]=="type"?le+(Rt+"="+je+"&"):le+(Rt+"=redacted&")}}else le=null;else le=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+w+`
`+le})}function so(u,g,w,S,U,H,le){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+w+`
`+H+" "+le})}function zn(u,g,w,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Fh(u,w)+(S?" "+S:"")})}function ba(u,g){u.info(function(){return"TIMEOUT: "+g})}ss.prototype.info=function(){};function Fh(u,g){if(!u.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var S=w[u];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var le=1;le<U.length;le++)U[le]=""}}}}return Aa(w)}catch{return g}}var oo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function as(){}D(as,rs),as.prototype.g=function(){return new XMLHttpRequest},as.prototype.i=function(){return{}},$n=new as;function qn(u,g,w,S){this.j=u,this.i=g,this.l=w,this.R=S||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new su}function su(){this.i=null,this.g="",this.h=!1}var Na={},ao={};function lo(u,g,w){u.L=1,u.v=li(yn(g)),u.m=w,u.P=!0,Oa(u,null)}function Oa(u,g){u.F=Date.now(),Ge(u),u.A=yn(u.v);var w=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),ci(w.i,"t",S),u.C=0,w=u.j.J,u.h=new su,u.g=Iu(u.j,w?g:null,!u.m),0<u.O&&(u.M=new ts(I(u.Y,u,u.g),u.O)),g=u.U,w=u.g,S=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ia[0]=U.toString()),U=Ia);for(var H=0;H<U.length;H++){var le=va(w,U[H],S||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),br(),os(u.i,u.u,u.A,u.l,u.R,u.m)}qn.prototype.ca=function(u){u=u.target;const g=this.M;g&&nn(u)==3?g.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)e:{const pt=nn(this.g);var g=this.g.Ba();const kn=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Fa(this.g)))){this.J||pt!=4||g==7||(g==8||0>=kn?br(3):br(2)),ls(this);var w=this.g.Z();this.X=w;t:if(ou(this)){var S=Fa(this.g);u="";var U=S.length,H=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),ii(this);var le="";break t}this.h.i=new d.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(H&&g==U-1)});S.length=0,this.h.g+=u,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=w==200,so(this.i,this.u,this.A,this.l,this.R,pt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Et=this.g;if((He=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(He)){var je=He;break t}}je=null}if(w=je)zn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Da(this,w);else{this.o=!1,this.s=3,ct(12),Rn(this),ii(this);break e}}if(this.P){w=!0;let _n;for(;!this.J&&this.C<le.length;)if(_n=Uh(this,le),_n==ao){pt==4&&(this.s=4,ct(14),w=!1),zn(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Na){this.s=4,ct(15),zn(this.i,this.l,le,"[Invalid Chunk]"),w=!1;break}else zn(this.i,this.l,_n,null),Da(this,_n);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||le.length!=0||this.h.h||(this.s=1,ct(16),w=!1),this.o=this.o&&w,!w)zn(this.i,this.l,le,"[Invalid Chunked Response]"),Rn(this),ii(this);else if(0<le.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ba(Rt),Rt.M=!0,ct(11))}}else zn(this.i,this.l,le,null),Da(this,le);pt==4&&Rn(this),this.o&&!this.J&&(pt==4?wo(this.j,this):(this.o=!1,Ge(this)))}else mo(this.g),w==400&&0<le.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Rn(this),ii(this)}}}catch{}finally{}};function ou(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Uh(u,g){var w=u.C,S=g.indexOf(`
`,w);return S==-1?ao:(w=Number(g.substring(w,S)),isNaN(w)?Na:(S+=1,S+w>g.length?ao:(g=g.slice(S,S+w),u.C=S+w,g)))}qn.prototype.cancel=function(){this.J=!0,Rn(this)};function Ge(u){u.S=Date.now()+u.I,au(u,u.I)}function au(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Bn(I(u.ba,u),g)}function ls(u){u.B&&(d.clearTimeout(u.B),u.B=null)}qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ba(this.i,this.A),this.L!=2&&(br(),ct(17)),Rn(this),this.s=2,ii(this)):au(this,this.S-u)};function ii(u){u.j.G==0||u.J||wo(u.j,u)}function Rn(u){ls(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Sa(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Da(u,g){try{var w=u.j;if(w.G!=0&&(w.g==u||Qt(w.h,u))){if(!u.K&&Qt(w.h,u)&&w.G==3){try{var S=w.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)_o(w),Qn(w);else break e;vo(w),ct(18)}}else w.za=U[1],0<w.za-w.T&&37500>U[2]&&w.F&&w.v==0&&!w.C&&(w.C=Bn(I(w.Za,w),6e3));if(1>=uu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Mr(w,11)}else if((u.K||w.g==u)&&_o(w),!W(g))for(U=w.Da.g.parse(g),g=0;g<U.length;g++){let je=U[g];if(w.T=je[0],je=je[1],w.G==2)if(je[0]=="c"){w.K=je[1],w.ia=je[2];const Rt=je[3];Rt!=null&&(w.la=Rt,w.j.info("VER="+w.la));const pt=je[4];pt!=null&&(w.Aa=pt,w.j.info("SVER="+w.Aa));const kn=je[5];kn!=null&&typeof kn=="number"&&0<kn&&(S=1.5*kn,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const _n=u.g;if(_n){const ms=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var H=S.h;H.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(La(H,H.h),H.h=null))}if(S.D){const To=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(S.ya=To,We(S.I,S.D,To))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var le=u;if(S.qa=Tu(S,S.J?S.ia:null,S.W),le.K){cu(S.h,le);var He=le,Et=S.L;Et&&(He.I=Et),He.B&&(ls(He),Ge(He)),S.g=le}else ps(S);0<w.i.length&&pr(w)}else je[0]!="stop"&&je[0]!="close"||Mr(w,7);else w.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Mr(w,7):Ot(w):je[0]!="noop"&&w.l&&w.l.ta(je),w.v=0)}}br(4)}catch{}}var lu=class{constructor(u,g){this.g=u,this.map=g}};function us(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function uu(u){return u.h?1:u.g?u.g.size:0}function Qt(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function La(u,g){u.g?u.g.add(g):u.h=g}function cu(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}us.prototype.cancel=function(){if(this.i=hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function hu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const w of u.g.values())g=g.concat(w.D);return g}return F(u.i)}function uo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var g=[],w=u.length,S=0;S<w;S++)g.push(u[S]);return g}g=[],w=0;for(S in u)g[w++]=u[S];return g}function co(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var g=[];u=u.length;for(var w=0;w<u;w++)g.push(w);return g}g=[],w=0;for(const S in u)g[w++]=S;return g}}}function si(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var w=co(u),S=uo(u),U=S.length,H=0;H<U;H++)g.call(void 0,S[H],w&&w[H],u)}var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bh(u,g){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var S=u[w].indexOf("="),U=null;if(0<=S){var H=u[w].substring(0,S);U=u[w].substring(S+1)}else H=u[w];g(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Nr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Nr){this.h=u.h,hs(this,u.j),this.o=u.o,this.g=u.g,oi(this,u.s),this.l=u.l;var g=u.i,w=new hr;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),ai(this,w),this.m=u.m}else u&&(g=String(u).match(cs))?(this.h=!1,hs(this,g[1]||"",!0),this.o=Ve(g[2]||""),this.g=Ve(g[3]||"",!0),oi(this,g[4]),this.l=Ve(g[5]||"",!0),ai(this,g[6]||"",!0),this.m=Ve(g[7]||"")):(this.h=!1,this.i=new hr(null,this.h))}Nr.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ui(g,ho,!0),":");var w=this.g;return(w||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ui(g,ho,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(ui(w,w.charAt(0)=="/"?pu:fu,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",ui(w,Ma)),u.join("")};function yn(u){return new Nr(u)}function hs(u,g,w){u.j=w?Ve(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function oi(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function ai(u,g,w){g instanceof hr?(u.i=g,dr(u.i,u.h)):(w||(g=ui(g,mu)),u.i=new hr(g,u.h))}function We(u,g,w){u.i.set(g,w)}function li(u){return We(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ve(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ui(u,g,w){return typeof u=="string"?(u=encodeURI(u).replace(g,du),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function du(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ho=/[#\/\?@]/g,fu=/[#\?:]/g,pu=/[#\?]/g,mu=/[#\?@]/g,Ma=/#/g;function hr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Nt(u){u.g||(u.g=new Map,u.h=0,u.i&&Bh(u.i,function(g,w){u.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}n=hr.prototype,n.add=function(u,g){Nt(this),this.i=null,u=Pn(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(g),this.h+=1,this};function Hn(u,g){Nt(u),g=Pn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Wn(u,g){return Nt(u),g=Pn(u,g),u.g.has(g)}n.forEach=function(u,g){Nt(this),this.g.forEach(function(w,S){w.forEach(function(U){u.call(g,U,S,this)},this)},this)},n.na=function(){Nt(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let S=0;S<g.length;S++){const U=u[S];for(let H=0;H<U.length;H++)w.push(g[S])}return w},n.V=function(u){Nt(this);let g=[];if(typeof u=="string")Wn(this,u)&&(g=g.concat(this.g.get(Pn(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)g=g.concat(u[w])}return g},n.set=function(u,g){return Nt(this),this.i=null,u=Pn(this,u),Wn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function ci(u,g,w){Hn(u,g),0<w.length&&(u.i=null,u.g.set(Pn(u,g),F(w)),u.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var S=g[w];const H=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var U=H;le[S]!==""&&(U+="="+encodeURIComponent(String(le[S]))),u.push(U)}}return this.i=u.join("&")};function Pn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function dr(u,g){g&&!u.j&&(Nt(u),u.i=null,u.g.forEach(function(w,S){var U=S.toLowerCase();S!=U&&(Hn(this,S),ci(this,U,w))},u)),u.j=g}function zh(u,g){const w=new ss;if(d.Image){const S=new Image;S.onload=A(tn,w,"TestLoadImage: loaded",!0,g,S),S.onerror=A(tn,w,"TestLoadImage: error",!1,g,S),S.onabort=A(tn,w,"TestLoadImage: abort",!1,g,S),S.ontimeout=A(tn,w,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function gu(u,g){const w=new ss,S=new AbortController,U=setTimeout(()=>{S.abort(),tn(w,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?tn(w,"TestPingServer: ok",!0,g):tn(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),tn(w,"TestPingServer: error",!1,g)})}function tn(u,g,w,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(w)}catch{}}function $h(){this.g=new Ra}function yu(u,g,w){const S=w||"";try{si(u,function(U,H){let le=U;m(U)&&(le=Aa(U)),g.push(S+H+"="+encodeURIComponent(le))})}catch(U){throw g.push(S+"type="+encodeURIComponent("_badmap")),U}}function Or(u){this.l=u.Ub||null,this.j=u.eb||!1}D(Or,rs),Or.prototype.g=function(){return new ds(this.l,this.j)},Or.prototype.i=function(u){return function(){return u}}({});function ds(u,g){_t.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(ds,_t),n=ds.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Gn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Kn(this):Gn(this),this.readyState==3&&vu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Kn(this))},n.Qa=function(u){this.g&&(this.response=u,Kn(this))},n.ga=function(){this.g&&Kn(this)};function Kn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=g.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dr(u){let g="";return _e(u,function(w,S){g+=S,g+=":",g+=w,g+=`\r
`}),g}function hi(u,g,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=Dr(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):We(u,g,w))}function Ze(u){_t.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ze,_t);var qh=/^https?$/i,Va=["POST","PUT"];n=Ze.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?to(this.o):to($n),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){fs(this,H);return}if(u=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)w.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())w.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Va,g,void 0))||S||U||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,le]of w)this.g.setRequestHeader(H,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{po(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){fs(this,H)}};function fs(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,fo(u),vn(u)}function fo(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,wt(this,"complete"),wt(this,"abort"),vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},n.bb=function(){ja(this)};function ja(u){if(u.h&&typeof c<"u"&&(!u.v[1]||nn(u)!=4||u.Z()!=2)){if(u.u&&nn(u)==4)Ta(u.Ea,0,u);else if(wt(u,"readystatechange"),nn(u)==4){u.h=!1;try{const le=u.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var S;if(S=le===0){var U=String(u.D).match(cs)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),S=!qh.test(U?U.toLowerCase():"")}w=S}if(w)wt(u,"complete"),wt(u,"success");else{u.m=6;try{var H=2<nn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",fo(u)}}finally{vn(u)}}}}function vn(u,g){if(u.g){po(u);const w=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||wt(u,"ready");try{w.onreadystatechange=S}catch{}}}function po(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function nn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Ca(g)}};function Fa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mo(u){const g={};u=(u.g&&2<=nn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(W(u[S]))continue;var w=x(u[S]);const U=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const H=g[U]||[];g[U]=H,H.push(w)}M(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fr(u,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||g}function Ua(u){this.Aa=0,this.i=[],this.j=new ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fr("baseRetryDelayMs",5e3,u),this.cb=fr("retryDelaySeedMs",1e4,u),this.Wa=fr("forwardChannelMaxRetries",2,u),this.wa=fr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new us(u&&u.concurrentRequestLimit),this.Da=new $h,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ua.prototype,n.la=8,n.G=1,n.connect=function(u,g,w,S){ct(0),this.W=u,this.H=g||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=Tu(this,null,this.W),pr(this)};function Ot(u){if(go(u),u.G==3){var g=u.U++,w=yn(u.I);if(We(w,"SID",u.K),We(w,"RID",g),We(w,"TYPE","terminate"),Lr(u,w),g=new qn(u,u.j,g),g.L=2,g.v=li(yn(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=g.v,w=!0),w||(g.g=Iu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ge(g)}Eu(u)}function Qn(u){u.g&&(Ba(u),u.g.cancel(),u.g=null)}function go(u){Qn(u),u.u&&(d.clearTimeout(u.u),u.u=null),_o(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function pr(u){if(!gn(u.h)&&!u.s){u.s=!0;var g=u.Ga;$||ie(),K||($(),K=!0),ue.add(g,u),u.B=0}}function Hh(u,g){return uu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Bn(I(u.Ga,u,g),wu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new qn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=R(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=di(this,U,g),w=yn(this.I),We(w,"RID",u),We(w,"CVER",22),this.D&&We(w,"X-HTTP-Session-Id",this.D),Lr(this,w),H&&(this.O?g="headers="+encodeURIComponent(String(Dr(H)))+"&"+g:this.m&&hi(w,this.m,H)),La(this.h,U),this.Ua&&We(w,"TYPE","init"),this.P?(We(w,"$req",g),We(w,"SID","null"),U.T=!0,lo(U,w,null)):lo(U,w,g),this.G=2}}else this.G==3&&(u?yo(this,u):this.i.length==0||gn(this.h)||yo(this))};function yo(u,g){var w;g?w=g.l:w=u.U++;const S=yn(u.I);We(S,"SID",u.K),We(S,"RID",w),We(S,"AID",u.T),Lr(u,S),u.m&&u.o&&hi(S,u.m,u.o),w=new qn(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),g&&(u.i=g.D.concat(u.i)),g=di(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),La(u.h,w),lo(w,S,g)}function Lr(u,g){u.H&&_e(u.H,function(w,S){We(g,S,w)}),u.l&&si({},function(w,S){We(g,S,w)})}function di(u,g,w){w=Math.min(u.i.length,w);var S=u.l?I(u.l.Na,u.l,u):null;e:{var U=u.i;let H=-1;for(;;){const le=["count="+w];H==-1?0<w?(H=U[0].g,le.push("ofs="+H)):H=0:le.push("ofs="+H);let He=!0;for(let Et=0;Et<w;Et++){let je=U[Et].g;const Rt=U[Et].map;if(je-=H,0>je)H=Math.max(0,U[Et].g-100),He=!1;else try{yu(Rt,le,"req"+je+"_")}catch{S&&S(Rt)}}if(He){S=le.join("&");break e}}}return u=u.i.splice(0,w),g.D=u,S}function ps(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;$||ie(),K||($(),K=!0),ue.add(g,u),u.v=0}}function vo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Bn(I(u.Fa,u),wu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Bn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Qn(this),_u(this))};function Ba(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function _u(u){u.g=new qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=yn(u.qa);We(g,"RID","rpc"),We(g,"SID",u.K),We(g,"AID",u.T),We(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&We(g,"TO",u.ja),We(g,"TYPE","xmlhttp"),Lr(u,g),u.m&&u.o&&hi(g,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=li(yn(g)),w.m=null,w.P=!0,Oa(w,u)}n.Za=function(){this.C!=null&&(this.C=null,Qn(this),vo(this),ct(19))};function _o(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function wo(u,g){var w=null;if(u.g==g){_o(u),Ba(u),u.g=null;var S=2}else if(Qt(u.h,g))w=g.D,cu(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var U=u.B;S=is(),wt(S,new io(S,w)),pr(u)}else ps(u);else if(U=g.s,U==3||U==0&&0<g.X||!(S==1&&Hh(u,g)||S==2&&vo(u)))switch(w&&0<w.length&&(g=u.h,g.i=g.i.concat(w)),U){case 1:Mr(u,5);break;case 4:Mr(u,10);break;case 3:Mr(u,6);break;default:Mr(u,2)}}}function wu(u,g){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*g}function Mr(u,g){if(u.j.info("Error code "+g),g==2){var w=I(u.fb,u),S=u.Xa;const U=!S;S=new Nr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||hs(S,"https"),li(S),U?zh(S.toString(),w):gu(S.toString(),w)}else ct(2);u.G=0,u.l&&u.l.sa(g),Eu(u),go(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Eu(u){if(u.G=0,u.ka=[],u.l){const g=hu(u.h);(g.length!=0||u.i.length!=0)&&(L(u.ka,g),L(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function Tu(u,g,w){var S=w instanceof Nr?yn(w):new Nr(w);if(S.g!="")g&&(S.g=g+"."+S.g),oi(S,S.s);else{var U=d.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var H=new Nr(null);S&&hs(H,S),g&&(H.g=g),U&&oi(H,U),w&&(H.l=w),S=H}return w=u.D,g=u.ya,w&&g&&We(S,w,g),We(S,"VER",u.la),Lr(u,S),S}function Iu(u,g,w){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ze(new Or({eb:w})):new Ze(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function za(){}n=za.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Eo(){}Eo.prototype.g=function(u,g){return new Yt(u,g)};function Yt(u,g){_t.call(this),this.g=new Ua(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!W(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!W(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new mr(this)}D(Yt,_t),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Ot(this.g)},Yt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=Aa(u),u=w);g.i.push(new lu(g.Ya++,u)),g.G==3&&pr(g)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Ot(this.g),delete this.g,Yt.aa.N.call(this)};function Su(u){ur.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const w in g){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}D(Su,ur);function Au(){ro.call(this),this.status=1}D(Au,ro);function mr(u){this.g=u}D(mr,za),mr.prototype.ua=function(){wt(this.g,"a")},mr.prototype.ta=function(u){wt(this.g,new Su(u))},mr.prototype.sa=function(u){wt(this.g,new Au)},mr.prototype.ra=function(){wt(this.g,"b")},Eo.prototype.createWebChannel=Eo.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,cT=function(){return new Eo},uT=function(){return is()},lT=cr,ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oo.NO_ERROR=0,oo.TIMEOUT=8,oo.HTTP_ERROR=6,Lc=oo,iu.COMPLETE="complete",aT=iu,no.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,_l=no,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,oT=Ze}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const f_="@firebase/firestore",p_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new dh("@firebase/firestore");function Ho(){return Us.logLevel}function he(n,...e){if(Us.logLevel<=Le.DEBUG){const t=e.map(Yp);Us.debug(`Firestore (${fa}): ${n}`,...t)}}function Zr(n,...e){if(Us.logLevel<=Le.ERROR){const t=e.map(Yp);Us.error(`Firestore (${fa}): ${n}`,...t)}}function na(n,...e){if(Us.logLevel<=Le.WARN){const t=e.map(Yp);Us.warn(`Firestore (${fa}): ${n}`,...t)}}function Yp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,hT(n,i,t)}function hT(n,e,t){let i=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Zr(i),new Error(i)}function qe(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||hT(e,o,i)}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Un{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class G1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Q1{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0,42304);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yr,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qe(typeof i.accessToken=="string",31837,{l:i}),new dT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class Y1{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X1{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Y1(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J1{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0,3512);const i=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new m_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new m_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=Z1(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function Ne(n,e){return n<e?-1:n>e?1:0}function lp(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return Ne(i,o);{const a=fT(),c=eb(a.encode(g_(n,t)),a.encode(g_(e,t)));return c!==0?c:Ne(i,o)}}t+=i>65535?2:1}return Ne(n.length,e.length)}function g_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function eb(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ne(n[t],e[t]);return Ne(n.length,e.length)}function ra(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=-62135596800,v_=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*v_);return new St(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<y_)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v_}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new St(0,0))}static max(){return new Re(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="__name__";class Er{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Se(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=Er.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ne(e.length,t.length)}static compareSegments(e,t){const i=Er.isNumericId(e),o=Er.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Er.extractNumericId(e).compare(Er.extractNumericId(t)):lp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ji.fromString(e.substring(4,e.length-2))}}class Je extends Er{construct(e,t,i){return new Je(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const tb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Er{construct(e,t,i){return new Ft(e,t,i)}static isValidIdentifier(e){return tb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===__}static keyField(){return new Ft([__])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(Je.fromString(e))}static fromName(e){return new we(Je.fromString(e).popFirst(5))}static empty(){return new we(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function nb(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new St(t+1,0):new St(t,i));return new Bi(o,we.empty(),e)}function rb(n){return new Bi(n.readTime,n.key,Ml)}class Bi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Bi(Re.min(),we.empty(),Ml)}static max(){return new Bi(Re.max(),we.empty(),Ml)}}function ib(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ob{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==sb)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},f=>i(f))}),c=!0,a===o&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(o=>o?X.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new X((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(_=>{c[m]=_,++d,d===a&&i(c)},_=>o(_))}})}static doWhile(e,t){return new X((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function ab(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ma(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}_h.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-1;function wh(n){return n==null}function Zc(n){return n===0&&1/n==-1/0}function lb(n){return typeof n=="number"&&Number.isInteger(n)&&!Zc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="";function ub(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=w_(e)),e=cb(n.get(t),e);return w_(e)}function cb(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case mT:t+="";break;default:t+=a}}return t}function w_(n){return n+mT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ji(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Vt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Vt.RED,this.left=o??Vt.EMPTY,this.right=a??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Vt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Vt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,i,o,a){return this}insert(e,t,i){return new Vt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new T_(this.data.getIterator())}getIteratorFrom(e){return new T_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class T_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new In([])}unionWith(e){let t=new At(Ft.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new yT("Invalid base64 string: "+a):a}}(e);return new Ut(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const hb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(n){if(qe(!!n,39018),typeof n=="string"){let e=0;const t=hb.exec(n);if(qe(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $i(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="server_timestamp",_T="__type__",wT="__previous_value__",ET="__local_write_time__";function Jp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_T])===null||t===void 0?void 0:t.stringValue)===vT}function Eh(n){const e=n.mapValue.fields[wT];return Jp(e)?Eh(e):e}function Vl(n){const e=zi(n.mapValue.fields[ET].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t,i,o,a,c,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m}}const eh="(default)";class jl{constructor(e,t){this.projectId=e,this.database=t||eh}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="__type__",fb="__max__",Cc={mapValue:{}},IT="__vector__",th="value";function qi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jp(n)?4:mb(n)?9007199254740991:pb(n)?10:11:Se(28295,{value:n})}function Cr(n,e){if(n===e)return!0;const t=qi(n);if(t!==qi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vl(n).isEqual(Vl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=zi(o.timestampValue),d=zi(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return $i(o.bytesValue).isEqual($i(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return dt(o.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return dt(o.integerValue)===dt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=dt(o.doubleValue),d=dt(a.doubleValue);return c===d?Zc(c)===Zc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ra(n.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(E_(c)!==E_(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Cr(c[f],d[f])))return!1;return!0}(n,e);default:return Se(52216,{left:n})}}function Fl(n,e){return(n.values||[]).find(t=>Cr(t,e))!==void 0}function ia(n,e){if(n===e)return 0;const t=qi(n),i=qi(e);if(t!==i)return Ne(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=dt(a.integerValue||a.doubleValue),f=dt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return I_(n.timestampValue,e.timestampValue);case 4:return I_(Vl(n),Vl(e));case 5:return lp(n.stringValue,e.stringValue);case 6:return function(a,c){const d=$i(a),f=$i(c);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),f=c.split("/");for(let m=0;m<d.length&&m<f.length;m++){const _=Ne(d[m],f[m]);if(_!==0)return _}return Ne(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=Ne(dt(a.latitude),dt(c.latitude));return d!==0?d:Ne(dt(a.longitude),dt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return S_(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,f,m,_;const E=a.fields||{},I=c.fields||{},A=(d=E[th])===null||d===void 0?void 0:d.arrayValue,D=(f=I[th])===null||f===void 0?void 0:f.arrayValue,F=Ne(((m=A==null?void 0:A.values)===null||m===void 0?void 0:m.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return F!==0?F:S_(A,D)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===Cc.mapValue&&c===Cc.mapValue)return 0;if(a===Cc.mapValue)return 1;if(c===Cc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=c.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let E=0;E<f.length&&E<_.length;++E){const I=lp(f[E],_[E]);if(I!==0)return I;const A=ia(d[f[E]],m[_[E]]);if(A!==0)return A}return Ne(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Se(23264,{Pe:t})}}function I_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=zi(n),i=zi(e),o=Ne(t.seconds,i.seconds);return o!==0?o:Ne(t.nanos,i.nanos)}function S_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=ia(t[o],i[o]);if(a)return a}return Ne(t.length,i.length)}function sa(n){return up(n)}function up(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=zi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $i(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=up(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${up(t.fields[c])}`;return o+"}"}(n.mapValue):Se(61005,{value:n})}function Mc(n){switch(qi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eh(n);return e?16+Mc(e):16;case 5:return 2*n.stringValue.length;case 6:return $i(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Mc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Ji(i.fields,(a,c)=>{o+=a.length+Mc(c)}),o}(n.mapValue);default:throw Se(13486,{value:n})}}function A_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cp(n){return!!n&&"integerValue"in n}function Zp(n){return!!n&&"arrayValue"in n}function C_(n){return!!n&&"nullValue"in n}function R_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vc(n){return!!n&&"mapValue"in n}function pb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[TT])===null||t===void 0?void 0:t.stringValue)===IT}function Al(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ji(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Al(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Al(n.arrayValue.values[t]);return e}return Object.assign({},n)}function mb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(t)}setAll(e){let t=Ft.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=Al(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ji(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new fn(Al(this.value))}}function ST(n){const e=[];return Ji(n.fields,(t,i)=>{const o=new Ft([t]);if(Vc(i)){const a=ST(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Kt(e,0,Re.min(),Re.min(),Re.min(),fn.empty(),0)}static newFoundDocument(e,t,i,o){return new Kt(e,1,t,Re.min(),i,o,0)}static newNoDocument(e,t){return new Kt(e,2,t,Re.min(),Re.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,Re.min(),Re.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.position=e,this.inclusive=t}}function P_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=we.comparator(we.fromName(c.referenceValue),t.key):i=ia(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function k_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t="asc"){this.field=e,this.dir=t}}function gb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{}class vt extends AT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new vb(e,t,i):t==="array-contains"?new Eb(e,i):t==="in"?new Tb(e,i):t==="not-in"?new Ib(e,i):t==="array-contains-any"?new Sb(e,i):new vt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new _b(e,i):new wb(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ia(t,this.value)):t!==null&&qi(this.value)===qi(t)&&this.matchesComparison(ia(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends AT{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ar(e,t)}matches(e){return CT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function CT(n){return n.op==="and"}function RT(n){return yb(n)&&CT(n)}function yb(n){for(const e of n.filters)if(e instanceof ar)return!1;return!0}function hp(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+sa(n.value);if(RT(n))return n.filters.map(e=>hp(e)).join(",");{const e=n.filters.map(t=>hp(t)).join(",");return`${n.op}(${e})`}}function PT(n,e){return n instanceof vt?function(i,o){return o instanceof vt&&i.op===o.op&&i.field.isEqual(o.field)&&Cr(i.value,o.value)}(n,e):n instanceof ar?function(i,o){return o instanceof ar&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&PT(c,o.filters[d]),!0):!1}(n,e):void Se(19439)}function kT(n){return n instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${sa(t.value)}`}(n):n instanceof ar?function(t){return t.op.toString()+" {"+t.getFilters().map(kT).join(" ,")+"}"}(n):"Filter"}class vb extends vt{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class _b extends vt{constructor(e,t){super(e,"in",t),this.keys=xT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wb extends vt{constructor(e,t){super(e,"not-in",t),this.keys=xT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class Eb extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zp(t)&&Fl(t.arrayValue,this.value)}}class Tb extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fl(this.value.arrayValue,t)}}class Ib extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fl(this.value.arrayValue,t)}}class Sb extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Fl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.Ie=null}}function x_(n,e=null,t=[],i=[],o=null,a=null,c=null){return new Ab(n,e,t,i,o,a,c)}function em(n){const e=ke(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>hp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>sa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>sa(i)).join(",")),e.Ie=t}return e.Ie}function tm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!k_(n.startAt,e.startAt)&&k_(n.endAt,e.endAt)}function dp(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Cb(n,e,t,i,o,a,c,d){return new Xl(n,e,t,i,o,a,c,d)}function nm(n){return new Xl(n)}function b_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function bT(n){return n.collectionGroup!==null}function Cl(n){const e=ke(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new At(Ft.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new rh(a,i))}),t.has(Ft.keyField().canonicalString())||e.Ee.push(new rh(Ft.keyField(),i))}return e.Ee}function Sr(n){const e=ke(n);return e.de||(e.de=Rb(e,Cl(n))),e.de}function Rb(n,e){if(n.limitType==="F")return x_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new rh(o.field,a)});const t=n.endAt?new nh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new nh(n.startAt.position,n.startAt.inclusive):null;return x_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function fp(n,e){const t=n.filters.concat([e]);return new Xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function pp(n,e,t){return new Xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Th(n,e){return tm(Sr(n),Sr(e))&&n.limitType===e.limitType}function NT(n){return`${em(Sr(n))}|lt:${n.limitType}`}function Wo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>kT(o)).join(", ")}]`),wh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>sa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>sa(o)).join(",")),`Target(${i})`}(Sr(n))}; limitType=${n.limitType})`}function Ih(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):we.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Cl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,f){const m=P_(c,d,f);return c.inclusive?m<=0:m<0}(i.startAt,Cl(i),o)||i.endAt&&!function(c,d,f){const m=P_(c,d,f);return c.inclusive?m>=0:m>0}(i.endAt,Cl(i),o))}(n,e)}function Pb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OT(n){return(e,t)=>{let i=!1;for(const o of Cl(n)){const a=kb(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function kb(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(a,c,d){const f=c.data.field(a),m=d.data.field(a);return f!==null&&m!==null?ia(f,m):Se(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return gT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new ot(we.comparator);function ei(){return xb}const DT=new ot(we.comparator);function wl(...n){let e=DT;for(const t of n)e=e.insert(t.key,t);return e}function LT(n){let e=DT;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ns(){return Rl()}function MT(){return Rl()}function Rl(){return new Ks(n=>n.toString(),(n,e)=>n.isEqual(e))}const bb=new ot(we.comparator),Nb=new At(we.comparator);function Me(...n){let e=Nb;for(const t of n)e=e.add(t);return e}const Ob=new At(Ne);function Db(){return Ob}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function VT(n){return{integerValue:""+n}}function Lb(n,e){return lb(e)?VT(e):rm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function Mb(n,e,t){return n instanceof Ul?function(o,a){const c={fields:{[_T]:{stringValue:vT},[ET]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Jp(a)&&(a=Eh(a)),a&&(c.fields[wT]=a),{mapValue:c}}(t,e):n instanceof Bl?FT(n,e):n instanceof zl?UT(n,e):function(o,a){const c=jT(o,a),d=N_(c)+N_(o.Re);return cp(c)&&cp(o.Re)?VT(d):rm(o.serializer,d)}(n,e)}function Vb(n,e,t){return n instanceof Bl?FT(n,e):n instanceof zl?UT(n,e):t}function jT(n,e){return n instanceof ih?function(i){return cp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Ul extends Sh{}class Bl extends Sh{constructor(e){super(),this.elements=e}}function FT(n,e){const t=BT(e);for(const i of n.elements)t.some(o=>Cr(o,i))||t.push(i);return{arrayValue:{values:t}}}class zl extends Sh{constructor(e){super(),this.elements=e}}function UT(n,e){let t=BT(e);for(const i of n.elements)t=t.filter(o=>!Cr(o,i));return{arrayValue:{values:t}}}class ih extends Sh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function N_(n){return dt(n.integerValue||n.doubleValue)}function BT(n){return Zp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t){this.field=e,this.transform=t}}function Fb(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Bl&&o instanceof Bl||i instanceof zl&&o instanceof zl?ra(i.elements,o.elements,Cr):i instanceof ih&&o instanceof ih?Cr(i.Re,o.Re):i instanceof Ul&&o instanceof Ul}(n.transform,e.transform)}class Ub{constructor(e,t){this.version=e,this.transformResults=t}}class Vn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ah{}function zT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new im(n.key,Vn.none()):new Jl(n.key,n.data,Vn.none());{const t=n.data,i=fn.empty();let o=new At(Ft.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new Zi(n.key,i,new In(o.toArray()),Vn.none())}}function Bb(n,e,t){n instanceof Jl?function(o,a,c){const d=o.value.clone(),f=D_(o.fieldTransforms,a,c.transformResults);d.setAll(f),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Zi?function(o,a,c){if(!jc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=D_(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll($T(o)),f.setAll(d),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Pl(n,e,t,i){return n instanceof Jl?function(a,c,d,f){if(!jc(a.precondition,c))return d;const m=a.value.clone(),_=L_(a.fieldTransforms,f,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Zi?function(a,c,d,f){if(!jc(a.precondition,c))return d;const m=L_(a.fieldTransforms,f,c),_=c.data;return _.setAll($T(a)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(a,c,d){return jc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function zb(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=jT(i.transform,o||null);a!=null&&(t===null&&(t=fn.empty()),t.set(i.field,a))}return t||null}function O_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ra(i,o,(a,c)=>Fb(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Jl extends Ah{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zi extends Ah{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function $T(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function D_(n,e,t){const i=new Map;qe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,Vb(c,d,t[o]))}return i}function L_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,Mb(a,c,e))}return i}class im extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $b extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Bb(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Pl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Pl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=MT();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const f=zT(c,d);f!==null&&i.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(t,i)=>O_(t,i))&&ra(this.baseMutations,e.baseMutations,(t,i)=>O_(t,i))}}class sm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){qe(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return bb}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new sm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Fe;function Kb(n){switch(n){case J.OK:return Se(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function qT(n){if(n===void 0)return Zr("GRPC error has no .code"),J.UNKNOWN;switch(n){case yt.OK:return J.OK;case yt.CANCELLED:return J.CANCELLED;case yt.UNKNOWN:return J.UNKNOWN;case yt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case yt.INTERNAL:return J.INTERNAL;case yt.UNAVAILABLE:return J.UNAVAILABLE;case yt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case yt.NOT_FOUND:return J.NOT_FOUND;case yt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case yt.ABORTED:return J.ABORTED;case yt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case yt.DATA_LOSS:return J.DATA_LOSS;default:return Se(39323,{code:n})}}(Fe=yt||(yt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=new ji([4294967295,4294967295],0);function M_(n){const e=fT().encode(n),t=new sT;return t.update(e),new Uint8Array(t.digest())}function V_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ji([t,i],0),new ji([o,a],0)]}class om{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new El(`Invalid padding: ${t}`);if(i<0)throw new El(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new El(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ji.fromNumber(this.pe)}we(e,t,i){let o=e.add(t.multiply(ji.fromNumber(i)));return o.compare(Gb)===1&&(o=new ji([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=M_(e),[i,o]=V_(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);if(!this.be(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new om(a,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=M_(e),[i,o]=V_(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ch(Re.min(),o,new ot(Ne),ei(),Me())}}class Zl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Zl(i,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t,i,o){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=o}}class HT{constructor(e,t){this.targetId=e,this.Ce=t}}class WT{constructor(e,t,i=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class j_{constructor(){this.Fe=0,this.Me=F_(),this.xe=Ut.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),t=Me(),i=Me();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Se(38017,{changeType:a})}}),new Zl(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=F_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Qb{constructor(e){this.ze=e,this.je=new Map,this.He=ei(),this.Je=Rc(),this.Ye=Rc(),this.Ze=new ot(Ne)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,i=e.Ce.count,o=this._t(t);if(o){const a=o.target;if(dp(a))if(i===0){const c=new we(a.path);this.tt(t,c,Kt.newNoDocument(c,Re.min()))}else qe(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),f=d?this.lt(d,e,c):1;if(f!==0){this.st(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=$i(i).toUint8Array()}catch(f){if(f instanceof yT)return na("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new om(c,o,a)}catch(f){return na(f instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,a,null),o++)}),o}It(e){const t=new Map;this.je.forEach((a,c)=>{const d=this._t(c);if(d){if(a.current&&dp(d.target)){const f=new we(d.target.path);this.Et(f).has(c)||this.dt(c,f)||this.tt(c,f,Kt.newNoDocument(f,e))}a.Le&&(t.set(c,a.qe()),a.Qe())}});let i=Me();this.Ye.forEach((a,c)=>{let d=!0;c.forEachWhile(f=>{const m=this._t(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.He.forEach((a,c)=>c.setReadTime(e));const o=new Ch(e,t,this.Ze,this.He,i);return this.He=ei(),this.Je=Rc(),this.Ye=Rc(),this.Ze=new ot(Ne),o}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new j_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new At(Ne),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new At(Ne),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new j_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Rc(){return new ot(we.comparator)}function F_(){return new ot(we.comparator)}const Yb={asc:"ASCENDING",desc:"DESCENDING"},Xb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jb={and:"AND",or:"OR"};class Zb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mp(n,e){return n.useProto3Json||wh(e)?e:{value:e}}function sh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eN(n,e){return sh(n,e.toTimestamp())}function Ar(n){return qe(!!n,49232),Re.fromTimestamp(function(t){const i=zi(t);return new St(i.seconds,i.nanos)}(n))}function am(n,e){return gp(n,e).canonicalString()}function gp(n,e){const t=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function GT(n){const e=Je.fromString(n);return qe(ZT(e),10190,{key:e.toString()}),e}function yp(n,e){return am(n.databaseId,e.path)}function Vf(n,e){const t=GT(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(YT(t))}function QT(n,e){return am(n.databaseId,e)}function tN(n){const e=GT(n);return e.length===4?Je.emptyPath():YT(e)}function vp(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YT(n){return qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function U_(n,e,t){return{name:yp(n,e),fields:t.value.mapValue.fields}}function nN(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Se(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(qe(_===void 0||typeof _=="string",58123),Ut.fromBase64String(_||"")):(qe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Ut.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const _=m.code===void 0?J.UNKNOWN:qT(m.code);return new fe(_,m.message||"")}(c);t=new WT(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Vf(n,i.document.name),a=Ar(i.document.updateTime),c=i.document.createTime?Ar(i.document.createTime):Re.min(),d=new fn({mapValue:{fields:i.document.fields}}),f=Kt.newFoundDocument(o,a,c,d),m=i.targetIds||[],_=i.removedTargetIds||[];t=new Fc(m,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Vf(n,i.document),a=i.readTime?Ar(i.readTime):Re.min(),c=Kt.newNoDocument(o,a),d=i.removedTargetIds||[];t=new Fc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Vf(n,i.document),a=i.removedTargetIds||[];t=new Fc([],a,o,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new Wb(o,a),d=i.targetId;t=new HT(d,c)}}return t}function rN(n,e){let t;if(e instanceof Jl)t={update:U_(n,e.key,e.value)};else if(e instanceof im)t={delete:yp(n,e.key)};else if(e instanceof Zi)t={update:U_(n,e.key,e.data),updateMask:dN(e.fieldMask)};else{if(!(e instanceof $b))return Se(16599,{ft:e.type});t={verify:yp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof Ul)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Bl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof zl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ih)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Se(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:eN(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se(27497)}(n,e.precondition)),t}function iN(n,e){return n&&n.length>0?(qe(e!==void 0,14353),n.map(t=>function(o,a){let c=o.updateTime?Ar(o.updateTime):Ar(a);return c.isEqual(Re.min())&&(c=Ar(a)),new Ub(c,o.transformResults||[])}(t,e))):[]}function sN(n,e){return{documents:[QT(n,e.path)]}}function oN(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=QT(n,o);const a=function(m){if(m.length!==0)return JT(ar.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(m){if(m.length!==0)return m.map(_=>function(I){return{field:Ko(I.field),direction:uN(I.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=mp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:o}}function aN(n){let e=tN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){qe(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(E){const I=XT(E);return I instanceof ar&&RT(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(I=>function(D){return new rh(Go(D.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(E){let I;return I=typeof E=="object"?E.value:E,wh(I)?null:I}(t.limit));let f=null;t.startAt&&(f=function(E){const I=!!E.before,A=E.values||[];return new nh(A,I)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const I=!E.before,A=E.values||[];return new nh(A,I)}(t.endAt)),Cb(e,o,c,a,d,"F",f,m)}function lN(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function XT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Go(t.unaryFilter.field);return vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Go(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Go(t.unaryFilter.field);return vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Go(t.unaryFilter.field);return vt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(n):n.fieldFilter!==void 0?function(t){return vt.create(Go(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ar.create(t.compositeFilter.filters.map(i=>XT(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(n):Se(30097,{filter:n})}function uN(n){return Yb[n]}function cN(n){return Xb[n]}function hN(n){return Jb[n]}function Ko(n){return{fieldPath:n.canonicalString()}}function Go(n){return Ft.fromServerFormat(n.fieldPath)}function JT(n){return n instanceof vt?function(t){if(t.op==="=="){if(R_(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NAN"}};if(C_(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(R_(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NAN"}};if(C_(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(t.field),op:cN(t.op),value:t.value}}}(n):n instanceof ar?function(t){const i=t.getFilters().map(o=>JT(o));return i.length===1?i[0]:{compositeFilter:{op:hN(t.op),filters:i}}}(n):Se(54877,{filter:n})}function dN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t,i,o,a=Re.min(),c=Re.min(),d=Ut.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.wt=e}}function pN(n){const e=aN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.yn=new gN}addToCollectionParentIndex(e,t){return this.yn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Bi.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class gN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new At(Je.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new At(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e0=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(e0,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new oa(0)}static ir(){return new oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="LruGarbageCollector",yN=1048576;function $_([n,e],[t,i]){const o=Ne(n,t);return o===0?Ne(e,i):o}class vN{constructor(e){this.cr=e,this.buffer=new At($_),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();$_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _N{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){he(z_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ma(t)?he(z_,"Ignoring IndexedDB error during garbage collection: ",t):await pa(t)}await this.Ir(3e5)})}}class wN{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(_h.le);const i=new vN(t);return this.Er.forEachTarget(e,o=>i.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>i.Pr(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(B_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B_):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,o,a,c,d,f,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(m=Date.now(),Ho()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${E} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function EN(n,e){return new wN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.changes=new Ks(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Pl(i.mutation,o,In.empty(),St.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Me()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Me()){const o=Ns();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=wl();return a.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ns();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Me()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let a=ei();const c=Rl(),d=function(){return Rl()}();return t.forEach((f,m)=>{const _=i.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof Zi)?a=a.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),Pl(_.mutation,m,_.mutation.getFieldMask(),St.now())):c.set(m.key,In.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,_)=>c.set(m,_)),t.forEach((m,_)=>{var E;return d.set(m,new IN(_,(E=c.get(m))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Rl();let o=new ot((c,d)=>c-d),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let _=i.get(f)||In.empty();_=d.applyToLocalView(m,_),i.set(f,_);const E=(o.get(d.batchId)||Me()).add(f);o=o.insert(d.batchId,E)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,_=f.value,E=MT();_.forEach(I=>{if(!a.has(I)){const A=zT(t.get(I),i.get(I));A!==null&&E.set(I,A),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,E))}return X.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):X.resolve(Ns());let d=Ml,f=a;return c.next(m=>X.forEach(m,(_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(_)?X.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{f=f.insert(_,I)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Me())).next(_=>({batchId:d,changes:LT(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let o=wl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=wl();return this.indexManager.getCollectionParents(e,a).next(d=>X.forEach(d,f=>{const m=function(E,I){return new Xl(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(_=>{_.forEach((E,I)=>{c=c.insert(E,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((f,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,Kt.newInvalidDocument(_)))});let d=wl();return c.forEach((f,m)=>{const _=a.get(f);_!==void 0&&Pl(_.mutation,m,In.empty(),St.now()),Ih(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return X.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ar(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:pN(o.bundledQuery),readTime:Ar(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.overlays=new ot(we.comparator),this.Or=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ns();return X.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.St(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Or.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=Ns(),a=t.length+1,c=new we(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new ot((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let _=a.get(m.largestBatchId);_===null&&(_=Ns(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const d=Ns(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,_)=>d.set(m,_)),!(d.size()>=o)););return X.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Or.get(o.largestBatchId).delete(i.key);this.Or.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Hb(t,i));let a=this.Or.get(t);a===void 0&&(a=Me(),this.Or.set(t,a)),this.Or.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.Nr=new At(bt.Br),this.Lr=new At(bt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new bt(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new bt(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new we(new Je([])),i=new bt(t,e),o=new bt(t,e+1),a=[];return this.Lr.forEachInRange([i,o],c=>{this.Qr(c),a.push(c.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new we(new Je([])),i=new bt(t,e),o=new bt(t,e+1);let a=Me();return this.Lr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new bt(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class bt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return we.comparator(e.key,t.key)||Ne(e.Gr,t.Gr)}static kr(e,t){return Ne(e.Gr,t.Gr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new At(bt.Br)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new qb(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.zr=this.zr.add(new bt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Hr(i),a=o<0?0:o;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Xp:this.Jn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new bt(t,0),o=new bt(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([i,o],c=>{const d=this.jr(c.Gr);a.push(d)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new At(Ne);return t.forEach(o=>{const a=new bt(o,0),c=new bt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,c],d=>{i=i.add(d.Gr)})}),X.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;we.isDocumentKey(a)||(a=a.child(""));const c=new bt(new we(a),0);let d=new At(Ne);return this.zr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Gr)),!0)},c),X.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(i=>{const o=this.jr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){qe(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return X.forEach(t.mutations,o=>{const a=new bt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new bt(t,0),o=this.zr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.Zr=e,this.docs=function(){return new ot(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let i=ei();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Kt.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=ei();const c=t.path,d=new we(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||ib(rb(_),i)<=0||(o.has(_.key)||Ih(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Se(9500)}Xr(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new xN(this)}getSize(e){return X.resolve(this.size)}}class xN extends TN{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.persistence=e,this.ei=new Ks(t=>em(t),tm),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ti=0,this.ni=new lm,this.targetCount=0,this.ri=oa.rr()}forEachTarget(e,t){return this.ei.forEach((i,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),X.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new oa(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.ar(t),X.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ei.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),X.waitFor(a).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t){this.ii={},this.overlays={},this.si=new _h(0),this.oi=!1,this.oi=!0,this._i=new RN,this.referenceDelegate=e(this),this.ai=new bN(this),this.indexManager=new mN,this.remoteDocumentCache=function(o){return new kN(o)}(i=>this.referenceDelegate.ui(i)),this.serializer=new fN(t),this.ci=new AN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new PN(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const o=new NN(this.si.next());return this.referenceDelegate.li(),i(o).next(a=>this.referenceDelegate.hi(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Pi(e,t){return X.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class NN extends ob{constructor(e){super(),this.currentSequenceNumber=e}}class um{constructor(e){this.persistence=e,this.Ti=new lm,this.Ii=null}static Ei(e){return new um(e)}get di(){if(this.Ii)return this.Ii;throw Se(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.di.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,i=>{const o=we.fromPath(i);return this.Ai(e,o).next(a=>{a||t.removeEntry(o,Re.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return X.or([()=>X.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class oh{constructor(e,t){this.persistence=e,this.Ri=new Ks(i=>ub(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=EN(this,t)}static Ei(e,t){return new oh(e,t)}li(){}hi(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return X.forEach(this.Ri,(i,o)=>this.gr(e,i,o).next(a=>a?X.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(i++,a.removeEntry(c,Re.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),X.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mc(e.data.value)),t}gr(e,t,i){return X.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=o}static Ps(e,t){let i=Me(),o=Me();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new cm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return HC()?8:ab(Gt())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Rs(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.Vs(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new ON;return this.fs(e,t,c).next(d=>{if(a.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>a.result)}gs(e,t,i,o){return i.documentReadCount<this.Es?(Ho()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Wo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),X.resolve()):(Ho()<=Le.DEBUG&&he("QueryEngine","Query:",Wo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(Ho()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Wo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):X.resolve())}Rs(e,t){if(b_(t))return X.resolve(null);let i=Sr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=pp(t,null,"F"),i=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Me(...a);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.ps(t,d);return this.ys(t,m,c,f.readTime)?this.Rs(e,pp(t,null,"F")):this.ws(e,m,t,f)}))})))}Vs(e,t,i,o){return b_(t)||o.isEqual(Re.min())?X.resolve(null):this.As.getDocuments(e,i).next(a=>{const c=this.ps(t,a);return this.ys(t,c,i,o)?X.resolve(null):(Ho()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wo(t)),this.ws(e,c,t,nb(o,Ml)).next(d=>d))})}ps(e,t){let i=new At(OT(e));return t.forEach((o,a)=>{Ih(e,a)&&(i=i.add(a))}),i}ys(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}fs(e,t,i){return Ho()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Wo(t)),this.As.getDocumentsMatchingQuery(e,t,Bi.min(),i)}ws(e,t,i,o){return this.As.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="LocalStore",LN=3e8;class MN{constructor(e,t,i,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new ot(Ne),this.Ds=new Ks(a=>em(a),tm),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SN(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function VN(n,e,t,i){return new MN(n,e,t,i)}async function n0(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let f=Me();for(const m of o){c.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of a){d.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(i,f).next(m=>({Ms:m,removedBatchIds:c,addedBatchIds:d}))})})}function jN(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,f,m,_){const E=m.batch,I=E.keys();let A=X.resolve();return I.forEach(D=>{A=A.next(()=>_.getEntry(f,D)).next(F=>{const L=m.docVersions.get(D);qe(L!==null,48541),F.version.compareTo(L)<0&&(E.applyToRemoteDocument(F,m),F.isValidDocument()&&(F.setReadTime(m.commitVersion),_.addEntry(F)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(f,E))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=Me();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function r0(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function FN(n,e){const t=ke(n),i=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const d=[];e.targetChanges.forEach((_,E)=>{const I=o.get(E);if(!I)return;d.push(t.ai.removeMatchingKeys(a,_.removedDocuments,E).next(()=>t.ai.addMatchingKeys(a,_.addedDocuments,E)));let A=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(Ut.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,i)),o=o.insert(E,A),function(F,L,Q){return F.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=LN?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(I,A,_)&&d.push(t.ai.updateTargetData(a,A))});let f=ei(),m=Me();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(UN(a,c,e.documentUpdates).next(_=>{f=_.xs,m=_.Os})),!i.isEqual(Re.min())){const _=t.ai.getLastRemoteSnapshotVersion(a).next(E=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(_)}return X.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ss=o,a))}function UN(n,e,t){let i=Me(),o=Me();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=ei();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Re.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):he(hm,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{xs:c,Os:o}})}function BN(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Xp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function zN(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.ai.getTargetData(i,e).next(a=>a?(o=a,X.resolve(o)):t.ai.allocateTargetId(i).next(c=>(o=new Di(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ss.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function _p(n,e,t){const i=ke(n),o=i.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ma(c))throw c;he(hm,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(o.target)}function q_(n,e,t){const i=ke(n);let o=Re.min(),a=Me();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,m,_){const E=ke(f),I=E.Ds.get(_);return I!==void 0?X.resolve(E.Ss.get(I)):E.ai.getTargetData(m,_)}(i,c,Sr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,d.targetId).next(f=>{a=f})}).next(()=>i.bs.getDocumentsMatchingQuery(c,e,t?o:Re.min(),t?a:Me())).next(d=>($N(i,Pb(e),d),{documents:d,Ns:a})))}function $N(n,e,t){let i=n.vs.get(e)||Re.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.vs.set(e,i)}class H_{constructor(){this.activeTargetIds=Db()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qN{constructor(){this.So=new H_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new H_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="ConnectivityMonitor";class K_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){he(W_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){he(W_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function wp(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",WN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KN{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${o}`,this.qo=this.databaseId.database===eh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Qo(e,t,i,o,a){const c=wp(),d=this.$o(e,t.toUriEncodedString());he(jf,`Sending RPC '${e}' ${c}:`,d,i);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,o,a),this.Ko(e,d,f,i).then(m=>(he(jf,`Received RPC '${e}' ${c}: `,m),m),m=>{throw na(jf,`RPC '${e}' ${c} failed with error: `,m,"url: ",d,"request:",i),m})}Wo(e,t,i,o,a,c){return this.Qo(e,t,i,o,a)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}$o(e,t){const i=WN[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class QN extends KN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,o){const a=wp();return new Promise((c,d)=>{const f=new oT;f.setWithCredentials(!0),f.listenOnce(aT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Lc.NO_ERROR:const _=f.getResponseJson();he(Ht,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case Lc.TIMEOUT:he(Ht,`RPC '${e}' ${a} timed out`),d(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const E=f.getStatus();if(he(Ht,`RPC '${e}' ${a} failed with status:`,E,"response text:",f.getResponseText()),E>0){let I=f.getResponseJson();Array.isArray(I)&&(I=I[0]);const A=I==null?void 0:I.error;if(A&&A.status&&A.message){const D=function(L){const Q=L.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Q)>=0?Q:J.UNKNOWN}(A.status);d(new fe(D,A.message))}else d(new fe(J.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new fe(J.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{s_:e,streamId:a,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{he(Ht,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);he(Ht,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",m,i,15)})}a_(e,t,i){const o=wp(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=cT(),d=uT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=a.join("");he(Ht,`Creating RPC '${e}' stream ${o}: ${_}`,f);const E=c.createWebChannel(_,f);let I=!1,A=!1;const D=new GN({Go:L=>{A?he(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(I||(he(Ht,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),he(Ht,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},zo:()=>E.close()}),F=(L,Q,W)=>{L.listen(Q,ne=>{try{W(ne)}catch(Z){setTimeout(()=>{throw Z},0)}})};return F(E,_l.EventType.OPEN,()=>{A||(he(Ht,`RPC '${e}' stream ${o} transport opened.`),D.t_())}),F(E,_l.EventType.CLOSE,()=>{A||(A=!0,he(Ht,`RPC '${e}' stream ${o} transport closed`),D.r_())}),F(E,_l.EventType.ERROR,L=>{A||(A=!0,na(Ht,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),D.r_(new fe(J.UNAVAILABLE,"The operation could not be completed")))}),F(E,_l.EventType.MESSAGE,L=>{var Q;if(!A){const W=L.data[0];qe(!!W,16349);const ne=W,Z=(ne==null?void 0:ne.error)||((Q=ne[0])===null||Q===void 0?void 0:Q.error);if(Z){he(Ht,`RPC '${e}' stream ${o} received error:`,Z);const ve=Z.status;let _e=function(k){const O=yt[k];if(O!==void 0)return qT(O)}(ve),M=Z.message;_e===void 0&&(_e=J.INTERNAL,M="Unknown error status: "+ve+" with message "+Z.message),A=!0,D.r_(new fe(_e,M)),E.close()}else he(Ht,`RPC '${e}' stream ${o} received:`,W),D.i_(W)}}),F(d,lT.STAT_EVENT,L=>{L.stat===ap.PROXY?he(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===ap.NOPROXY&&he(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.n_()},0),D}}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(n){return new Zb(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,t,i=1e3,o=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=o,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="PersistentStream";class s0{constructor(e,t,i,o,a,c,d,f){this.bi=e,this.R_=i,this.V_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new i0(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.m_===t&&this.B_(i,o)},i=>{e(()=>{const o=new fe(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(o)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{i(()=>this.L_(o))}),this.stream.onMessage(o=>{i(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return he(G_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(he(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YN extends s0{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=nN(this.serializer,e),i=function(a){if(!("targetChange"in a))return Re.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Ar(c.readTime):Re.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=vp(this.serializer),t.addTarget=function(a,c){let d;const f=c.target;if(d=dp(f)?{documents:sN(a,f)}:{query:oN(a,f).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=KT(a,c.resumeToken);const m=mp(a,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Re.min())>0){d.readTime=sh(a,c.snapshotVersion.toTimestamp());const m=mp(a,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=lN(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=vp(this.serializer),t.removeTarget=e,this.F_(t)}}class XN extends s0{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=iN(e.writeResults,e.commitTime),i=Ar(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=vp(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>rN(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{}class ZN extends JN{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Qo(e,gp(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(J.UNKNOWN,a.toString())})}Wo(e,t,i,o,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,gp(t,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(J.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class eO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Zr(t),this.ea=!1):he("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class tO{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(c=>{i.enqueueAndForget(async()=>{Gs(this)&&(he(Bs,"Restarting streams for network reachability change."),await async function(f){const m=ke(f);m.aa.add(4),await eu(m),m.la.set("Unknown"),m.aa.delete(4),await Ph(m)}(this))})}),this.la=new eO(i,o)}}async function Ph(n){if(Gs(n))for(const e of n.ua)await e(!0)}async function eu(n){for(const e of n.ua)await e(!1)}function o0(n,e){const t=ke(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),mm(t)?pm(t):ga(t).b_()&&fm(t,e))}function dm(n,e){const t=ke(n),i=ga(t);t._a.delete(e),i.b_()&&a0(t,e),t._a.size===0&&(i.b_()?i.v_():Gs(t)&&t.la.set("Unknown"))}function fm(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ga(n).U_(e)}function a0(n,e){n.ha.Ke(e),ga(n).K_(e)}function pm(n){n.ha=new Qb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),ga(n).start(),n.la.ta()}function mm(n){return Gs(n)&&!ga(n).w_()&&n._a.size>0}function Gs(n){return ke(n).aa.size===0}function l0(n){n.ha=void 0}async function nO(n){n.la.set("Online")}async function rO(n){n._a.forEach((e,t)=>{fm(n,e)})}async function iO(n,e){l0(n),mm(n)?(n.la.ia(e),pm(n)):n.la.set("Unknown")}async function sO(n,e,t){if(n.la.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o._a.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o._a.delete(d),o.ha.removeTarget(d))}(n,e)}catch(i){he(Bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ah(n,i)}else if(e instanceof Fc?n.ha.Xe(e):e instanceof HT?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Re.min()))try{const i=await r0(n.localStore);t.compareTo(i)>=0&&await function(a,c){const d=a.ha.It(c);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=a._a.get(m);_&&a._a.set(m,_.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach((f,m)=>{const _=a._a.get(f);if(!_)return;a._a.set(f,_.withResumeToken(Ut.EMPTY_BYTE_STRING,_.snapshotVersion)),a0(a,f);const E=new Di(_.target,f,m,_.sequenceNumber);fm(a,E)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){he(Bs,"Failed to raise snapshot:",i),await ah(n,i)}}async function ah(n,e,t){if(!ma(e))throw e;n.aa.add(1),await eu(n),n.la.set("Offline"),t||(t=()=>r0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(Bs,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Ph(n)})}function u0(n,e){return e().catch(t=>ah(n,t,e))}async function kh(n){const e=ke(n),t=Hi(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Xp;for(;oO(e);)try{const o=await BN(e.localStore,i);if(o===null){e.oa.length===0&&t.v_();break}i=o.batchId,aO(e,o)}catch(o){await ah(e,o)}c0(e)&&h0(e)}function oO(n){return Gs(n)&&n.oa.length<10}function aO(n,e){n.oa.push(e);const t=Hi(n);t.b_()&&t.W_&&t.G_(e.mutations)}function c0(n){return Gs(n)&&!Hi(n).w_()&&n.oa.length>0}function h0(n){Hi(n).start()}async function lO(n){Hi(n).H_()}async function uO(n){const e=Hi(n);for(const t of n.oa)e.G_(t.mutations)}async function cO(n,e,t){const i=n.oa.shift(),o=sm.from(i,e,t);await u0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await kh(n)}async function hO(n,e){e&&Hi(n).W_&&await async function(i,o){if(function(c){return Kb(c)&&c!==J.ABORTED}(o.code)){const a=i.oa.shift();Hi(i).D_(),await u0(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await kh(i)}}(n,e),c0(n)&&h0(n)}async function Q_(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),he(Bs,"RemoteStore received new credentials");const i=Gs(t);t.aa.add(3),await eu(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Ph(t)}async function dO(n,e){const t=ke(n);e?(t.aa.delete(2),await Ph(t)):e||(t.aa.add(2),await eu(t),t.la.set("Unknown"))}function ga(n){return n.Pa||(n.Pa=function(t,i,o){const a=ke(t);return a.Y_(),new YN(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:nO.bind(null,n),Jo:rO.bind(null,n),Zo:iO.bind(null,n),Q_:sO.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),mm(n)?pm(n):n.la.set("Unknown")):(await n.Pa.stop(),l0(n))})),n.Pa}function Hi(n){return n.Ta||(n.Ta=function(t,i,o){const a=ke(t);return a.Y_(),new XN(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:lO.bind(null,n),Zo:hO.bind(null,n),z_:uO.bind(null,n),j_:cO.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await kh(n)):(await n.Ta.stop(),n.oa.length>0&&(he(Bs,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new gm(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ym(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),ma(n))return new fe(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{static emptySet(e){return new ea(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=wl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ea;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.Ia=new ot(we.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class aa{constructor(e,t,i,o,a,c,d,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new aa(e,t,ea.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class pO{constructor(){this.queries=X_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const o=ke(t),a=o.queries;o.queries=X_(),a.forEach((c,d)=>{for(const f of d.Ra)f.onError(i)})})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function X_(){return new Ks(n=>NT(n),Th)}async function d0(n,e){const t=ke(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Va()&&e.ma()&&(i=2):(a=new fO,i=e.ma()?0:1);try{switch(i){case 0:a.Aa=await t.onListen(o,!0);break;case 1:a.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=ym(c,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&vm(t)}async function f0(n,e){const t=ke(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.Ra.indexOf(e);c>=0&&(a.Ra.splice(c,1),a.Ra.length===0?o=e.ma()?0:1:!a.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function mO(n,e){const t=ke(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.Ra)d.pa(o)&&(i=!0);c.Aa=o}}i&&vm(t)}function gO(n,e,t){const i=ke(n),o=i.queries.get(e);if(o)for(const a of o.Ra)a.onError(t);i.queries.delete(e)}function vm(n){n.fa.forEach(e=>{e.next()})}var Ep,J_;(J_=Ep||(Ep={})).ya="default",J_.Cache="cache";class p0{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new aa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.key=e}}class g0{constructor(e){this.key=e}}class yO{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Me(),this.mutatedKeys=Me(),this.Ua=OT(e),this.Ka=new ea(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new Y_,o=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const I=o.get(_),A=Ih(this.query,E)?E:null,D=!!I&&this.mutatedKeys.has(I.key),F=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;I&&A?I.data.isEqual(A.data)?D!==F&&(i.track({type:3,doc:A}),L=!0):this.ja(I,A)||(i.track({type:2,doc:A}),L=!0,(f&&this.Ua(A,f)>0||m&&this.Ua(A,m)<0)&&(d=!0)):!I&&A?(i.track({type:0,doc:A}),L=!0):I&&!A&&(i.track({type:1,doc:I}),L=!0,(f||m)&&(d=!0)),L&&(A?(c=c.add(A),a=F?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{Ka:c,za:i,ys:d,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((_,E)=>function(A,D){const F=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:L})}};return F(A)-F(D)}(_.type,E.type)||this.Ua(_.doc,E.doc)),this.Ha(i),o=o!=null&&o;const d=t&&!o?this.Ja():[],f=this.$a.size===0&&this.current&&!o?1:0,m=f!==this.Qa;return this.Qa=f,c.length!==0||m?{snapshot:new aa(this.query,e.Ka,a,c,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Y_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Me(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new g0(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new m0(i))}),t}Xa(e){this.qa=e.Ns,this.$a=Me();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return aa.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const _m="SyncEngine";class vO{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class _O{constructor(e){this.key=e,this.tu=!1}}class wO{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Ks(d=>NT(d),Th),this.iu=new Map,this.su=new Set,this.ou=new ot(we.comparator),this._u=new Map,this.au=new lm,this.uu={},this.cu=new Map,this.lu=oa.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function EO(n,e,t=!0){const i=T0(n);let o;const a=i.ru.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.eu()):o=await y0(i,e,t,!0),o}async function TO(n,e){const t=T0(n);await y0(t,e,!0,!1)}async function y0(n,e,t,i){const o=await zN(n.localStore,Sr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await IO(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&o0(n.remoteStore,o),d}async function IO(n,e,t,i,o){n.Pu=(E,I,A)=>async function(F,L,Q,W){let ne=L.view.Ga(Q);ne.ys&&(ne=await q_(F.localStore,L.query,!1).then(({documents:M})=>L.view.Ga(M,ne)));const Z=W&&W.targetChanges.get(L.targetId),ve=W&&W.targetMismatches.get(L.targetId)!=null,_e=L.view.applyChanges(ne,F.isPrimaryClient,Z,ve);return ew(F,L.targetId,_e.Ya),_e.snapshot}(n,E,I,A);const a=await q_(n.localStore,e,!0),c=new yO(e,a.Ns),d=c.Ga(a.documents),f=Zl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=c.applyChanges(d,n.isPrimaryClient,f);ew(n,t,m.Ya);const _=new vO(e,t,c);return n.ru.set(e,_),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),m.snapshot}async function SO(n,e,t){const i=ke(n),o=i.ru.get(e),a=i.iu.get(o.targetId);if(a.length>1)return i.iu.set(o.targetId,a.filter(c=>!Th(c,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await _p(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&dm(i.remoteStore,o.targetId),Tp(i,o.targetId)}).catch(pa)):(Tp(i,o.targetId),await _p(i.localStore,o.targetId,!0))}async function AO(n,e){const t=ke(n),i=t.ru.get(e),o=t.iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),dm(t.remoteStore,i.targetId))}async function CO(n,e,t){const i=OO(n);try{const o=await function(c,d){const f=ke(c),m=St.now(),_=d.reduce((A,D)=>A.add(D.key),Me());let E,I;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let D=ei(),F=Me();return f.Cs.getEntries(A,_).next(L=>{D=L,D.forEach((Q,W)=>{W.isValidDocument()||(F=F.add(Q))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,D)).next(L=>{E=L;const Q=[];for(const W of d){const ne=zb(W,E.get(W.key).overlayedDocument);ne!=null&&Q.push(new Zi(W.key,ne,ST(ne.value.mapValue),Vn.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,Q,d)}).next(L=>{I=L;const Q=L.applyToLocalDocumentSet(E,F);return f.documentOverlayCache.saveOverlays(A,L.batchId,Q)})}).then(()=>({batchId:I.batchId,changes:LT(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,f){let m=c.uu[c.currentUser.toKey()];m||(m=new ot(Ne)),m=m.insert(d,f),c.uu[c.currentUser.toKey()]=m}(i,o.batchId,t),await tu(i,o.changes),await kh(i.remoteStore)}catch(o){const a=ym(o,"Failed to persist write");t.reject(a)}}async function v0(n,e){const t=ke(n);try{const i=await FN(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t._u.get(a);c&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.tu=!0:o.modifiedDocuments.size>0?qe(c.tu,14607):o.removedDocuments.size>0&&(qe(c.tu,42227),c.tu=!1))}),await tu(t,i,e)}catch(i){await pa(i)}}function Z_(n,e,t){const i=ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ru.forEach((a,c)=>{const d=c.view.ga(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const f=ke(c);f.onlineState=d;let m=!1;f.queries.forEach((_,E)=>{for(const I of E.Ra)I.ga(d)&&(m=!0)}),m&&vm(f)}(i.eventManager,e),o.length&&i.nu.Q_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function RO(n,e,t){const i=ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i._u.get(e),a=o&&o.key;if(a){let c=new ot(we.comparator);c=c.insert(a,Kt.newNoDocument(a,Re.min()));const d=Me().add(a),f=new Ch(Re.min(),new Map,new ot(Ne),c,d);await v0(i,f),i.ou=i.ou.remove(a),i._u.delete(e),wm(i)}else await _p(i.localStore,e,!1).then(()=>Tp(i,e,t)).catch(pa)}async function PO(n,e){const t=ke(n),i=e.batch.batchId;try{const o=await jN(t.localStore,e);w0(t,i,null),_0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await tu(t,o)}catch(o){await pa(o)}}async function kO(n,e,t){const i=ke(n);try{const o=await function(c,d){const f=ke(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return f.mutationQueue.lookupMutationBatch(m,d).next(E=>(qe(E!==null,37113),_=E.keys(),f.mutationQueue.removeMutationBatch(m,E))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>f.localDocuments.getDocuments(m,_))})}(i.localStore,e);w0(i,e,t),_0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await tu(i,o)}catch(o){await pa(o)}}function _0(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function w0(n,e,t){const i=ke(n);let o=i.uu[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.uu[i.currentUser.toKey()]=o}}function Tp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||E0(n,i)})}function E0(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(dm(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),wm(n))}function ew(n,e,t){for(const i of t)i instanceof m0?(n.au.addReference(i.key,e),xO(n,i)):i instanceof g0?(he(_m,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||E0(n,i.key)):Se(19791,{Iu:i})}function xO(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(he(_m,"New document in limbo: "+t),n.su.add(i),wm(n))}function wm(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new we(Je.fromString(e)),i=n.lu.next();n._u.set(i,new _O(t)),n.ou=n.ou.insert(t,i),o0(n.remoteStore,new Di(Sr(nm(t.path)),i,"TargetPurposeLimboResolution",_h.le))}}async function tu(n,e,t){const i=ke(n),o=[],a=[],c=[];i.ru.isEmpty()||(i.ru.forEach((d,f)=>{c.push(i.Pu(f,e,t).then(m=>{var _;if((m||t)&&i.isPrimaryClient){const E=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(m){o.push(m);const E=cm.Ps(f.targetId,m);a.push(E)}}))}),await Promise.all(c),i.nu.Q_(o),await async function(f,m){const _=ke(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>X.forEach(m,I=>X.forEach(I.ls,A=>_.persistence.referenceDelegate.addReference(E,I.targetId,A)).next(()=>X.forEach(I.hs,A=>_.persistence.referenceDelegate.removeReference(E,I.targetId,A)))))}catch(E){if(!ma(E))throw E;he(hm,"Failed to update sequence numbers: "+E)}for(const E of m){const I=E.targetId;if(!E.fromCache){const A=_.Ss.get(I),D=A.snapshotVersion,F=A.withLastLimboFreeSnapshotVersion(D);_.Ss=_.Ss.insert(I,F)}}}(i.localStore,a))}async function bO(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){he(_m,"User change. New user:",e.toKey());const i=await n0(t.localStore,e);t.currentUser=e,function(a,c){a.cu.forEach(d=>{d.forEach(f=>{f.reject(new fe(J.CANCELLED,c))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await tu(t,i.Ms)}}function NO(n,e){const t=ke(n),i=t._u.get(e);if(i&&i.tu)return Me().add(i.key);{let o=Me();const a=t.iu.get(e);if(!a)return o;for(const c of a){const d=t.ru.get(c);o=o.unionWith(d.view.Wa)}return o}}function T0(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=v0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RO.bind(null,e),e.nu.Q_=mO.bind(null,e.eventManager),e.nu.Tu=gO.bind(null,e.eventManager),e}function OO(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kO.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return VN(this.persistence,new DN,e.initialUser,this.serializer)}Ru(e){return new t0(um.Ei,this.serializer)}Au(e){return new qN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class DO extends lh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){qe(this.persistence.referenceDelegate instanceof oh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new _N(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new t0(i=>oh.Ei(i,t),this.serializer)}}class Ip{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Z_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=bO.bind(null,this.syncEngine),await dO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pO}()}createDatastore(e){const t=Rh(e.databaseInfo.databaseId),i=function(a){return new QN(a)}(e.databaseInfo);return function(a,c,d,f){return new ZN(a,c,d,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,d){return new tO(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Z_(this.syncEngine,t,0),function(){return K_.C()?new K_:new HN}())}createSyncEngine(e,t){return function(o,a,c,d,f,m,_){const E=new wO(o,a,c,d,f,m);return _&&(E.hu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=ke(o);he(Bs,"RemoteStore shutting down."),a.aa.add(5),await eu(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ip.provider={build:()=>new Ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="FirestoreClient";class LO{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=pT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{he(Wi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(he(Wi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=ym(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Uf(n,e){n.asyncQueue.verifyOperationInProgress(),he(Wi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await n0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function tw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await MO(n);he(Wi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Q_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Q_(e.remoteStore,o)),n._onlineComponents=e}async function MO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Wi,"Using user provided OfflineComponentProvider");try{await Uf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;na("Error using user provided cache. Falling back to memory cache: "+t),await Uf(n,new lh)}}else he(Wi,"Using default OfflineComponentProvider"),await Uf(n,new DO(void 0));return n._offlineComponents}async function S0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Wi,"Using user provided OnlineComponentProvider"),await tw(n,n._uninitializedComponentsProvider._online)):(he(Wi,"Using default OnlineComponentProvider"),await tw(n,new Ip))),n._onlineComponents}function VO(n){return S0(n).then(e=>e.syncEngine)}async function A0(n){const e=await S0(n),t=e.eventManager;return t.onListen=EO.bind(null,e.syncEngine),t.onUnlisten=SO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=TO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=AO.bind(null,e.syncEngine),t}function jO(n,e,t={}){const i=new Yr;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,f,m){const _=new I0({next:I=>{_.yu(),c.enqueueAndForget(()=>f0(a,E));const A=I.docs.has(d);!A&&I.fromCache?m.reject(new fe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&I.fromCache&&f&&f.source==="server"?m.reject(new fe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),E=new p0(nm(d.path),_,{includeMetadataChanges:!0,Fa:!0});return d0(a,E)}(await A0(n),n.asyncQueue,e,t,i)),i.promise}function FO(n,e,t={}){const i=new Yr;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,f,m){const _=new I0({next:I=>{_.yu(),c.enqueueAndForget(()=>f0(a,E)),I.fromCache&&f.source==="server"?m.reject(new fe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),E=new p0(d,_,{includeMetadataChanges:!0,Fa:!0});return d0(a,E)}(await A0(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(n,e,t){if(!t)throw new fe(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function UO(n,e,t,i){if(e===!0&&i===!0)throw new fe(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function rw(n){if(!we.isDocumentKey(n))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iw(n){if(we.isDocumentKey(n))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function lr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xh(n);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="firestore.googleapis.com",sw=!0;class ow{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P0,this.ssl=sw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:sw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yN)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ow({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ow(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new K1;switch(i.type){case"firstParty":return new X1(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=nw.get(t);i&&(he("ComponentProvider","Removing Datastore"),nw.delete(t),i.terminate())}(this),Promise.resolve()}}function BO(n,e,t,i={}){var o;const a=(n=lr(n,bh))._getSettings(),c=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;a.host!==P0&&a.host!==d&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:d,ssl:!1,emulatorOptions:i});if(!Ui(f,c)&&(n._setSettings(f),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=Wt.MOCK_USER;else{m=Gw(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Wt(E)}n._authCredentials=new G1(new dT(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ya(this.firestore,e,this._query)}}class en{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class Fi extends ya{constructor(e,t,i){super(e,t,nm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new we(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function Em(n,e,...t){if(n=st(n),R0("collection","path",e),n instanceof bh){const i=Je.fromString(e,...t);return iw(i),new Fi(n,null,i)}{if(!(n instanceof en||n instanceof Fi))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return iw(i),new Fi(n.firestore,null,i)}}function $l(n,e,...t){if(n=st(n),arguments.length===1&&(e=pT.newId()),R0("doc","path",e),n instanceof bh){const i=Je.fromString(e,...t);return rw(i),new en(n,null,new we(i))}{if(!(n instanceof en||n instanceof Fi))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return rw(i),new en(n.firestore,n instanceof Fi?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="AsyncQueue";class lw{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new i0(this,"async_queue_retry"),this.ju=()=>{const i=Ff();i&&he(aw,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=Ff();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Ff();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Yr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ma(e))throw e;he(aw,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,Zr("INTERNAL UNHANDLED ERROR: ",uw(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=gm.createAndSchedule(this,e,t,i,a=>this.Xu(a));return this.Uu.push(o),o}Ju(){this.Ku&&Se(47125,{ec:uw(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function uw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Qs extends bh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new lw,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lw(e),this._firestoreClient=void 0,await e}}}function zO(n,e){const t=typeof n=="object"?n:fh(),i=typeof n=="string"?n:eh,o=Gi(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=Hw("firestore");a&&BO(o,...a)}return o}function Tm(n){if(n._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$O(n),n._firestoreClient}function $O(n){var e,t,i;const o=n._freezeSettings(),a=function(d,f,m,_){return new db(d,f,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,C0(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new LO(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this._byteString=e}static fromBase64String(e){try{return new la(Ut.fromBase64String(e))}catch(t){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new la(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=/^__.*__$/;class HO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jl(e,this.data,t,this.fieldTransforms)}}class k0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function x0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{oc:n})}}class Am{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:i,cc:!1});return o.lc(e),o}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:i,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return uh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(x0(this.oc)&&qO.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class WO{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Rh(e)}dc(e,t,i,o=!1){return new Am({oc:e,methodName:t,Ec:i,path:Ft.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dh(n){const e=n._freezeSettings(),t=Rh(n._databaseId);return new WO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function b0(n,e,t,i,o,a={}){const c=n.dc(a.merge||a.mergeFields?2:0,e,t,o);Rm("Data must be an object, but it was:",c,i);const d=N0(i,c);let f,m;if(a.merge)f=new In(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const I=Sp(e,E,t);if(!c.contains(I))throw new fe(J.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);D0(_,I)||_.push(I)}f=new In(_),m=c.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,m=c.fieldTransforms;return new HO(new fn(d),f,m)}class Lh extends Oh{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}class Cm extends Oh{_toFieldTransform(e){return new jb(e.path,new Ul)}isEqual(e){return e instanceof Cm}}function KO(n,e,t,i){const o=n.dc(1,e,t);Rm("Data must be an object, but it was:",o,i);const a=[],c=fn.empty();Ji(i,(f,m)=>{const _=Pm(e,f,t);m=st(m);const E=o.hc(_);if(m instanceof Lh)a.push(_);else{const I=nu(m,E);I!=null&&(a.push(_),c.set(_,I))}});const d=new In(a);return new k0(c,d,o.fieldTransforms)}function GO(n,e,t,i,o,a){const c=n.dc(1,e,t),d=[Sp(e,i,t)],f=[o];if(a.length%2!=0)throw new fe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)d.push(Sp(e,a[I])),f.push(a[I+1]);const m=[],_=fn.empty();for(let I=d.length-1;I>=0;--I)if(!D0(m,d[I])){const A=d[I];let D=f[I];D=st(D);const F=c.hc(A);if(D instanceof Lh)m.push(A);else{const L=nu(D,F);L!=null&&(m.push(A),_.set(A,L))}}const E=new In(m);return new k0(_,E,c.fieldTransforms)}function QO(n,e,t,i=!1){return nu(t,n.dc(i?4:3,e))}function nu(n,e){if(O0(n=st(n)))return Rm("Unsupported field value:",e,n),N0(n,e);if(n instanceof Oh)return function(i,o){if(!x0(o.oc))throw o.Tc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const d of i){let f=nu(d,o.Pc(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=st(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Lb(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=St.fromDate(i);return{timestampValue:sh(o.serializer,a)}}if(i instanceof St){const a=new St(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sh(o.serializer,a)}}if(i instanceof Im)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof la)return{bytesValue:KT(o.serializer,i._byteString)};if(i instanceof en){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:am(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Sm)return function(c,d){return{mapValue:{fields:{[TT]:{stringValue:IT},[th]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.Tc("VectorValues must only contain numeric values.");return rm(d.serializer,m)})}}}}}}(i,o);throw o.Tc(`Unsupported field value: ${xh(i)}`)}(n,e)}function N0(n,e){const t={};return gT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(n,(i,o)=>{const a=nu(o,e.uc(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function O0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof Im||n instanceof la||n instanceof en||n instanceof Oh||n instanceof Sm)}function Rm(n,e,t){if(!O0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=xh(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function Sp(n,e,t){if((e=st(e))instanceof Nh)return e._internalPath;if(typeof e=="string")return Pm(n,e);throw uh("Field path arguments must be of type string or ",n,!1,void 0,t)}const YO=new RegExp("[~\\*/\\[\\]]");function Pm(n,e,t){if(e.search(YO)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nh(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uh(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${i}`),c&&(f+=` in document ${o}`),f+=")"),new fe(J.INVALID_ARGUMENT,d+n+f)}function D0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(km("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class XO extends L0{data(){return super.data()}}function km(n,e){return typeof e=="string"?Pm(n,e):e instanceof Nh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xm{}class ZO extends xm{}function eD(n,e,...t){let i=[];e instanceof xm&&i.push(e),i=i.concat(t),function(a){const c=a.filter(f=>f instanceof bm).length,d=a.filter(f=>f instanceof Mh).length;if(c>1||c>0&&d>0)throw new fe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Mh extends ZO{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Mh(e,t,i)}_apply(e){const t=this._parse(e);return M0(e._query,t),new ya(e.firestore,e.converter,fp(e._query,t))}_parse(e){const t=Dh(e.firestore);return function(a,c,d,f,m,_,E){let I;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){hw(E,_);const D=[];for(const F of E)D.push(cw(f,a,F));I={arrayValue:{values:D}}}else I=cw(f,a,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||hw(E,_),I=QO(d,c,E,_==="in"||_==="not-in");return vt.create(m,_,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function tD(n,e,t){const i=e,o=km("where",n);return Mh._create(o,i,t)}class bm extends xm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const d=a.getFlattenedFilters();for(const f of d)M0(c,f),c=fp(c,f)}(e._query,t),new ya(e.firestore,e.converter,fp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cw(n,e,t){if(typeof(t=st(t))=="string"){if(t==="")throw new fe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bT(e)&&t.indexOf("/")!==-1)throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Je.fromString(t));if(!we.isDocumentKey(i))throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return A_(n,new we(i))}if(t instanceof en)return A_(n,t._key);throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(t)}.`)}function hw(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M0(n,e){const t=function(o,a){for(const c of o)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class nD{convertValue(e,t="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ji(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[th].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>dt(c.doubleValue));return new Sm(a)}convertGeoPoint(e){return new Im(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Eh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const t=zi(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Je.fromString(e);qe(ZT(i),9688,{name:e});const o=new jl(i.get(1),i.get(3)),a=new we(i.popFirst(5));return o.isEqual(t)||Zr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class j0 extends L0{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(km("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Uc extends j0{data(e={}){return super.data(e)}}class rD{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Tl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Uc(this._firestore,this._userDataWriter,i.key,i,new Tl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const f=new Uc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Tl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new Uc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Tl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:iD(d.type),doc:f,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n){n=lr(n,en);const e=lr(n.firestore,Qs);return jO(Tm(e),n._key).then(t=>cD(e,n,t))}class F0 extends nD{constructor(e){super(),this.firestore=e}convertBytes(e){return new la(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,t)}}function U0(n){n=lr(n,ya);const e=lr(n.firestore,Qs),t=Tm(e),i=new F0(e);return JO(n._query),FO(t,n._query).then(o=>new rD(e,i,n,o))}function oD(n,e,t){n=lr(n,en);const i=lr(n.firestore,Qs),o=V0(n.converter,e);return Vh(i,[b0(Dh(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Vn.none())])}function aD(n,e,t,...i){n=lr(n,en);const o=lr(n.firestore,Qs),a=Dh(o);let c;return c=typeof(e=st(e))=="string"||e instanceof Nh?GO(a,"updateDoc",n._key,e,t,i):KO(a,"updateDoc",n._key,e),Vh(o,[c.toMutation(n._key,Vn.exists(!0))])}function lD(n){return Vh(lr(n.firestore,Qs),[new im(n._key,Vn.none())])}function uD(n,e){const t=lr(n.firestore,Qs),i=$l(n),o=V0(n.converter,e);return Vh(t,[b0(Dh(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Vn.exists(!1))]).then(()=>i)}function Vh(n,e){return function(i,o){const a=new Yr;return i.asyncQueue.enqueueAndForget(async()=>CO(await VO(i),o,a)),a.promise}(Tm(n),e)}function cD(n,e,t){const i=t.docs.get(e._key),o=new F0(n);return new j0(n,o,e._key,i,new Tl(t.hasPendingWrites,t.fromCache),e.converter)}function hD(){return new Cm("serverTimestamp")}(function(e,t=!0){(function(o){fa=o})(Ws),or(new jn("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new Qs(new Q1(i.getProvider("auth-internal")),new J1(c,i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(m.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),pn(f_,p_,e),pn(f_,p_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="firebasestorage.googleapis.com",z0="storageBucket",dD=2*60*1e3,fD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends Un{constructor(e,t,i=0){super(Bf(e),`Firebase Storage: ${t} (${Bf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function Bf(n){return"storage/"+n}function Nm(){const n="An unknown error occurred, please check the error payload for server response.";return new ut(lt.UNKNOWN,n)}function pD(n){return new ut(lt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function mD(n){return new ut(lt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gD(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(lt.UNAUTHENTICATED,n)}function yD(){return new ut(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vD(n){return new ut(lt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function _D(){return new ut(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wD(){return new ut(lt.CANCELED,"User canceled the upload/download.")}function ED(n){return new ut(lt.INVALID_URL,"Invalid URL '"+n+"'.")}function TD(n){return new ut(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ID(){return new ut(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+z0+"' property when initializing the app?")}function SD(){return new ut(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function AD(){return new ut(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function CD(n){return new ut(lt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ap(n){return new ut(lt.INVALID_ARGUMENT,n)}function $0(){return new ut(lt.APP_DELETED,"The Firebase app was deleted.")}function RD(n){return new ut(lt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kl(n,e){return new ut(lt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function gl(n){throw new ut(lt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Sn.makeFromUrl(e,t)}catch{return new Sn(e,"")}if(i.path==="")return i;throw TD(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),f={bucket:1,path:3};function m(Z){Z.path_=decodeURIComponent(Z.path)}const _="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",A=new RegExp(`^https?://${E}/${_}/b/${o}/o${I}`,"i"),D={bucket:1,path:3},F=t===B0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",Q=new RegExp(`^https?://${F}/${o}/${L}`,"i"),ne=[{regex:d,indices:f,postModify:a},{regex:A,indices:D,postModify:m},{regex:Q,indices:{bucket:1,path:2},postModify:m}];for(let Z=0;Z<ne.length;Z++){const ve=ne[Z],_e=ve.regex.exec(e);if(_e){const M=_e[ve.indices.bucket];let R=_e[ve.indices.path];R||(R=""),i=new Sn(M,R),ve.postModify(i);break}}if(i==null)throw ED(e);return i}}class PD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(n,e,t){let i=1,o=null,a=null,c=!1,d=0;function f(){return d===2}let m=!1;function _(...L){m||(m=!0,e.apply(null,L))}function E(L){o=setTimeout(()=>{o=null,n(A,f())},L)}function I(){a&&clearTimeout(a)}function A(L,...Q){if(m){I();return}if(L){I(),_.call(null,L,...Q);return}if(f()||c){I(),_.call(null,L,...Q);return}i<64&&(i*=2);let ne;d===1?(d=2,ne=0):ne=(i+Math.random())*1e3,E(ne)}let D=!1;function F(L){D||(D=!0,I(),!m&&(o!==null?(L||(d=2),clearTimeout(o),E(0)):L||(d=1)))}return E(0),a=setTimeout(()=>{c=!0,F(!0)},t),F}function xD(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(n){return n!==void 0}function ND(n){return typeof n=="object"&&!Array.isArray(n)}function Om(n){return typeof n=="string"||n instanceof String}function dw(n){return Dm()&&n instanceof Blob}function Dm(){return typeof Blob<"u"}function fw(n,e,t,i){if(i<e)throw Ap(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Ap(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function q0(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ds;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ds||(Ds={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t,i,o,a,c,d,f,m,_,E,I=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=E,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,D)=>{this.resolve_=A,this.reject_=D,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new kc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const d=a.getErrorCode()===Ds.NO_ERROR,f=a.getStatus();if(!d||OD(f,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===Ds.ABORT;i(!1,new kc(!1,null,_));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new kc(m,a))})},t=(i,o)=>{const a=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());bD(f)?a(f):a()}catch(f){c(f)}else if(d!==null){const f=Nm();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(o.canceled){const f=this.appDelete_?$0():wD();c(f)}else{const f=_D();c(f)}};this.canceled_?t(!1,new kc(!1,null,!0)):this.backoffId_=kD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function LD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function MD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function VD(n,e){e&&(n["X-Firebase-GMPID"]=e)}function jD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function FD(n,e,t,i,o,a,c=!0){const d=q0(n.urlParams),f=n.url+d,m=Object.assign({},n.headers);return VD(m,e),LD(m,t),MD(m,a),jD(m,i),new DD(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function BD(...n){const e=UD();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Dm())return new Blob(n);throw new ut(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(n){if(typeof atob>"u")throw CD("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zf{constructor(e,t){this.data=e,this.contentType=t||null}}function qD(n,e){switch(n){case Tr.RAW:return new zf(H0(e));case Tr.BASE64:case Tr.BASE64URL:return new zf(W0(n,e));case Tr.DATA_URL:return new zf(WD(e),KD(e))}throw Nm()}function H0(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=i,c=n.charCodeAt(++t);i=65536|(a&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function HD(n){let e;try{e=decodeURIComponent(n)}catch{throw kl(Tr.DATA_URL,"Malformed data URL.")}return H0(e)}function W0(n,e){switch(n){case Tr.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw kl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Tr.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw kl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=$D(e)}catch(o){throw o.message.includes("polyfill")?o:kl(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class K0{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw kl(Tr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=GD(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function WD(n){const e=new K0(n);return e.base64?W0(Tr.BASE64,e.rest):HD(e.rest)}function KD(n){return new K0(n).contentType}function GD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t){let i=0,o="";dw(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(dw(this.data_)){const i=this.data_,o=zD(i,e,t);return o===null?null:new Ni(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ni(i,!0)}}static getBlob(...e){if(Dm()){const t=e.map(i=>i instanceof Ni?i.data_:i);return new Ni(BD.apply(null,t))}else{const t=e.map(c=>Om(c)?qD(Tr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const o=new Uint8Array(i);let a=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)o[a++]=c[d]}),new Ni(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(n){let e;try{e=JSON.parse(n)}catch{return null}return ND(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function YD(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function Q0(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(n,e){return e}class Zt{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||XD}}let xc=null;function JD(n){return!Om(n)||n.length<2?n:Q0(n)}function Y0(){if(xc)return xc;const n=[];n.push(new Zt("bucket")),n.push(new Zt("generation")),n.push(new Zt("metageneration")),n.push(new Zt("name","fullPath",!0));function e(a,c){return JD(c)}const t=new Zt("name");t.xform=e,n.push(t);function i(a,c){return c!==void 0?Number(c):c}const o=new Zt("size");return o.xform=i,n.push(o),n.push(new Zt("timeCreated")),n.push(new Zt("updated")),n.push(new Zt("md5Hash",null,!0)),n.push(new Zt("cacheControl",null,!0)),n.push(new Zt("contentDisposition",null,!0)),n.push(new Zt("contentEncoding",null,!0)),n.push(new Zt("contentLanguage",null,!0)),n.push(new Zt("contentType",null,!0)),n.push(new Zt("metadata","customMetadata",!0)),xc=n,xc}function ZD(n,e){function t(){const i=n.bucket,o=n.fullPath,a=new Sn(i,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function e2(n,e,t){const i={};i.type="file";const o=t.length;for(let a=0;a<o;a++){const c=t[a];i[c.local]=c.xform(i,e[c.server])}return ZD(i,n),i}function X0(n,e,t){const i=G0(e);return i===null?null:e2(n,i,t)}function t2(n,e,t,i){const o=G0(e);if(o===null||!Om(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const c=encodeURIComponent;return a.split(",").map(m=>{const _=n.bucket,E=n.fullPath,I="/b/"+c(_)+"/o/"+c(E),A=Lm(I,t,i),D=q0({alt:"media",token:m});return A+D})[0]}function n2(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class J0{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(n){if(!n)throw Nm()}function r2(n,e){function t(i,o){const a=X0(n,o,e);return Z0(a!==null),a}return t}function i2(n,e){function t(i,o){const a=X0(n,o,e);return Z0(a!==null),t2(a,o,n.host,n._protocol)}return t}function eI(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=yD():o=gD():t.getStatus()===402?o=mD(n.bucket):t.getStatus()===403?o=vD(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function s2(n){const e=eI(n);function t(i,o){let a=e(i,o);return i.getStatus()===404&&(a=pD(n.path)),a.serverResponse=o.serverResponse,a}return t}function o2(n,e,t){const i=e.fullServerUrl(),o=Lm(i,n.host,n._protocol),a="GET",c=n.maxOperationRetryTime,d=new J0(o,a,i2(n,t),c);return d.errorHandler=s2(e),d}function a2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function l2(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=a2(null,e)),i}function u2(n,e,t,i,o){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let ne="";for(let Z=0;Z<2;Z++)ne=ne+Math.random().toString().slice(2);return ne}const f=d();c["Content-Type"]="multipart/related; boundary="+f;const m=l2(e,i,o),_=n2(m,t),E="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,I=`\r
--`+f+"--",A=Ni.getBlob(E,i,I);if(A===null)throw SD();const D={name:m.fullPath},F=Lm(a,n.host,n._protocol),L="POST",Q=n.maxUploadRetryTime,W=new J0(F,L,r2(n,t),Q);return W.urlParams=D,W.headers=c,W.body=A.uploadData(),W.errorHandler=eI(e),W}class c2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ds.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ds.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ds.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw gl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class h2 extends c2{initXhr(){this.xhr_.responseType="text"}}function tI(){return new h2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,t){this._service=e,t instanceof Sn?this._location=t:this._location=Sn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zs(e,t)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Q0(this._location.path)}get storage(){return this._service}get parent(){const e=QD(this._location.path);if(e===null)return null;const t=new Sn(this._location.bucket,e);return new zs(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw RD(e)}}function d2(n,e,t){n._throwIfRoot("uploadBytes");const i=u2(n.storage,n._location,Y0(),new Ni(e,!0),t);return n.storage.makeRequestWithTokens(i,tI).then(o=>({metadata:o,ref:n}))}function f2(n){n._throwIfRoot("getDownloadURL");const e=o2(n.storage,n._location,Y0());return n.storage.makeRequestWithTokens(e,tI).then(t=>{if(t===null)throw AD();return t})}function p2(n,e){const t=YD(n._location.path,e),i=new Sn(n._location.bucket,t);return new zs(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(n){return/^[A-Za-z]+:\/\//.test(n)}function g2(n,e){return new zs(n,e)}function nI(n,e){if(n instanceof Mm){const t=n;if(t._bucket==null)throw ID();const i=new zs(t,t._bucket);return e!=null?nI(i,e):i}else return e!==void 0?p2(n,e):n}function y2(n,e){if(e&&m2(e)){if(n instanceof Mm)return g2(n,e);throw Ap("To use ref(service, url), the first argument must be a Storage instance.")}else return nI(n,e)}function pw(n,e){const t=e==null?void 0:e[z0];return t==null?null:Sn.makeFromBucketSpec(t,n)}function v2(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Gw(o,n.app.options.projectId))}class Mm{constructor(e,t,i,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=B0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dD,this._maxUploadRetryTime=fD,this._requests=new Set,o!=null?this._bucket=Sn.makeFromBucketSpec(o,this._host):this._bucket=pw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=pw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zs(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new PD($0());{const c=FD(e,this._appId,i,o,t,this._firebaseVersion,a);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const mw="@firebase/storage",gw="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="storage";function _2(n,e,t){return n=st(n),d2(n,e,t)}function w2(n){return n=st(n),f2(n)}function E2(n,e){return n=st(n),y2(n,e)}function T2(n=fh(),e){n=st(n);const i=Gi(n,rI).getImmediate({identifier:e}),o=Hw("storage");return o&&I2(i,...o),i}function I2(n,e,t,i={}){v2(n,e,t,i)}function S2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Mm(t,i,o,e,Ws)}function A2(){or(new jn(rI,S2,"PUBLIC").setMultipleInstances(!0)),pn(mw,gw,""),pn(mw,gw,"esm2017")}A2();const C2={apiKey:"AIzaSyDhdfarzymyr-UCwASM8nrVsz3EC8iQGZQ",authDomain:"tangledoak-8d36f.firebaseapp.com",projectId:"tangledoak-8d36f",storageBucket:"tangledoak-8d36f.firebasestorage.app",messagingSenderId:"144819822531",appId:"1:144819822531:web:108d19707a17aa5827e776",measurementId:"G-J5LX00LFE4"},jh=tE(C2);$1(jh);const ql=Sx(jh),Ls=zO(jh),R2=T2(jh),P2=()=>{const[n,e]=Y.useState(""),[t,i]=Y.useState(""),[o,a]=Y.useState(""),[c,d]=Y.useState(""),[f,m]=Y.useState(!1),_=qs(),E=async A=>{A.preventDefault(),a(""),d(""),m(!0);try{(await(await ck(ql,n,t)).user.getIdTokenResult()).claims.role==="vendor"?(a("Login successful! Redirecting to your dashboard..."),setTimeout(()=>_("/vendor-dashboard"),1e3)):d("Your account has not been approved as a vendor yet.")}catch(D){console.error(D),d("Invalid login. Please check your email and password.")}finally{m(!1)}},I=async()=>{a(""),d("");const A=new Wr;try{(await(await Ok(ql,A)).user.getIdTokenResult()).claims.role==="vendor"?(a("Login successful! Redirecting to your dashboard..."),setTimeout(()=>_("/vendor-dashboard"),1e3)):d("Your account has not been approved as a vendor yet.")}catch(D){console.error(D),d("Google sign-in failed. Please try again.")}};return v.jsxs("div",{className:"login-container",children:[v.jsx("img",{src:"/logo.svg",alt:"Tangled Oak logo",style:{width:"60px",margin:"0 auto 1rem"}}),v.jsx("h2",{className:"login-title",children:"Vendor Login"}),v.jsx("p",{className:"login-subtitle",children:"Access your Tangled Oak dashboard"}),v.jsxs("form",{onSubmit:E,className:"login-form",children:[v.jsx("input",{type:"email",placeholder:"Email",className:"login-input",value:n,onChange:A=>e(A.target.value),required:!0}),v.jsx("input",{type:"password",placeholder:"Password",className:"login-input",value:t,onChange:A=>i(A.target.value),required:!0}),v.jsx("button",{type:"submit",disabled:f,className:`login-button ${f?"login-button-disabled":""}`,children:f?"Logging in...":"Login"})]}),v.jsx("button",{onClick:I,className:"login-button",style:{marginTop:"1rem"},children:"Sign in with Google"}),o&&v.jsx("p",{style:{color:"#4A3F35",marginTop:"1rem"},children:o}),c&&v.jsx("p",{className:"error-message",children:c}),v.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#4A3F35"},children:["Dont have a vendor account?"," ",v.jsx(jt,{to:"/vendor-register",style:{color:"#C98B6A",fontWeight:"bold"},children:"Register here"})]})]})},k2=()=>{const[n,e]=Y.useState(""),[t,i]=Y.useState(""),[o,a]=Y.useState(""),[c,d]=Y.useState(""),[f,m]=Y.useState(""),[_,E]=Y.useState(!1),I=qs(),A=async D=>{D.preventDefault(),d(""),m(""),E(!0);try{const L=(await uk(ql,n,t)).user;await oD($l(Ls,"vendorRequests",L.uid),{uid:L.uid,email:n,businessName:o,approved:!1,createdAt:new Date}),m("Registration successful! Awaiting admin approval."),setTimeout(()=>I("/vendor-login"),2e3)}catch(F){console.error(F),d("Registration failed. Try a different email or check your password.")}finally{E(!1)}};return v.jsxs("div",{className:"login-container",children:[v.jsx("img",{src:"/logo.svg",alt:"Tangled Oak logo",style:{width:"60px",margin:"0 auto 1rem"}}),v.jsx("h2",{className:"login-title",children:"Vendor Registration"}),v.jsx("p",{className:"login-subtitle",children:"Apply for a vendor account"}),v.jsxs("form",{onSubmit:A,className:"login-form",children:[v.jsx("input",{type:"text",placeholder:"Business Name",className:"login-input",value:o,onChange:D=>a(D.target.value),required:!0}),v.jsx("input",{type:"email",placeholder:"Email",className:"login-input",value:n,onChange:D=>e(D.target.value),required:!0}),v.jsx("input",{type:"password",placeholder:"Password",className:"login-input",value:t,onChange:D=>i(D.target.value),required:!0}),v.jsx("button",{type:"submit",disabled:_,className:`login-button ${_?"login-button-disabled":""}`,children:_?"Registering...":"Register"})]}),f&&v.jsx("p",{style:{color:"#4A3F35",marginTop:"1rem"},children:f}),c&&v.jsx("p",{className:"error-message",children:c}),v.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#4A3F35"},children:["Already have a vendor account?"," ",v.jsx(jt,{to:"/vendor-login",style:{color:"#C98B6A",fontWeight:"bold"},children:"Login here"})]})]})},x2=()=>{const[n,e]=Y.useState([]),[t,i]=Y.useState(!0),[o,a]=Y.useState(""),c=async()=>{i(!0);try{const _=(await U0(Em(Ls,"vendorRequests"))).docs.map(E=>({id:E.id,...E.data()}));e(_)}catch(m){console.error("Error fetching vendor requests:",m)}i(!1)},d=async m=>{try{await aD($l(Ls,"vendorRequests",m.id),{approved:!0}),(await fetch("/approveVendor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:m.id})})).ok?a(`Approved ${m.businessName}`):a(`Failed to approve ${m.businessName}`),await c()}catch(_){console.error("Approval error:",_)}},f=async m=>{try{await lD($l(Ls,"vendorRequests",m)),a("Rejected vendor registration."),await c()}catch(_){console.error("Error deleting vendor request:",_)}};return Y.useEffect(()=>{c()},[]),v.jsxs("div",{className:"admin-container",style:{padding:"2rem"},children:[v.jsx("h2",{children:"Pending Vendor Requests"}),o&&v.jsx("p",{style:{color:"#4A3F35"},children:o}),t?v.jsx("p",{children:"Loading..."}):n.length===0?v.jsx("p",{children:"No pending vendor requests."}):v.jsx("ul",{style:{listStyle:"none",padding:0},children:n.map(m=>v.jsxs("li",{style:{borderBottom:"1px solid #ccc",padding:"1rem 0"},children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Business:"})," ",m.businessName]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email:"})," ",m.email]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Approved:"})," ",m.approved?"Yes":"No"]}),!m.approved&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>d(m),style:{marginRight:"1rem"},children:"Approve"}),v.jsx("button",{onClick:()=>f(m.id),style:{color:"red"},children:"Reject"})]})]},m.id))})]})},Mt=[];for(let n=0;n<256;++n)Mt.push((n+256).toString(16).slice(1));function b2(n,e=0){return(Mt[n[e+0]]+Mt[n[e+1]]+Mt[n[e+2]]+Mt[n[e+3]]+"-"+Mt[n[e+4]]+Mt[n[e+5]]+"-"+Mt[n[e+6]]+Mt[n[e+7]]+"-"+Mt[n[e+8]]+Mt[n[e+9]]+"-"+Mt[n[e+10]]+Mt[n[e+11]]+Mt[n[e+12]]+Mt[n[e+13]]+Mt[n[e+14]]+Mt[n[e+15]]).toLowerCase()}let $f;const N2=new Uint8Array(16);function O2(){if(!$f){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$f=crypto.getRandomValues.bind(crypto)}return $f(N2)}const D2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yw={randomUUID:D2};function L2(n,e,t){var o;if(yw.randomUUID&&!n)return yw.randomUUID();n=n||{};const i=n.random??((o=n.rng)==null?void 0:o.call(n))??O2();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,b2(i)}const M2=()=>{const[n,e]=Y.useState(""),[t,i]=Y.useState(""),[o,a]=Y.useState("product"),[c,d]=Y.useState(""),[f,m]=Y.useState(!1),[_,E]=Y.useState(""),[I,A]=Y.useState(null),[D,F]=Y.useState(""),[L,Q]=Y.useState(""),W=qs(),ne=async Z=>{if(Z.preventDefault(),F(""),Q(""),!n||!t||!_||!c&&!f){F("Please fill in all required fields.");return}try{let ve="";if(I){const _e=E2(R2,`listings/${L2()}`);await _2(_e,I),ve=await w2(_e)}await uD(Em(Ls,"listings"),{title:n,description:t,type:o,price:f?null:Number(c),trade:f,location:_,imageUrl:ve,createdAt:hD()}),Q("Listing submitted! Redirecting..."),setTimeout(()=>W("/home"),1200)}catch(ve){console.error(ve),F("Failed to create listing.")}};return v.jsxs("div",{className:"form-container",children:[v.jsx("h2",{className:"login-title",children:"Create a New Listing"}),v.jsx("p",{className:"login-subtitle",children:"Showcase your handmade product or trade supplies"}),v.jsxs("form",{onSubmit:ne,className:"listing-form",children:[v.jsx("input",{type:"text",placeholder:"Title",value:n,onChange:Z=>e(Z.target.value),required:!0}),v.jsx("textarea",{placeholder:"Description",value:t,onChange:Z=>i(Z.target.value),required:!0}),v.jsxs("select",{value:o,onChange:Z=>a(Z.target.value),children:[v.jsx("option",{value:"product",children:"Product"}),v.jsx("option",{value:"supply",children:"Supply"})]}),v.jsx("input",{type:"number",placeholder:"Price (optional if trading)",value:c,onChange:Z=>d(Z.target.value)}),v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[v.jsx("input",{type:"checkbox",checked:f,onChange:Z=>m(Z.target.checked)}),"Open to Trade"]}),v.jsx("input",{type:"text",placeholder:"Location (City, Province)",value:_,onChange:Z=>E(Z.target.value),required:!0}),v.jsx("input",{type:"file",accept:"image/*",onChange:Z=>A(Z.target.files[0])}),D&&v.jsx("p",{className:"error-message",children:D}),L&&v.jsx("p",{style:{color:"#4A3F35",marginTop:"1rem"},children:L}),v.jsx("button",{type:"submit",className:"login-button",children:"Submit Listing"})]})]})},V2=()=>{const[n,e]=Y.useState([]),[t,i]=Y.useState(null),[o,a]=Y.useState(!0);return Y.useEffect(()=>{const c=fk(ql,async d=>{if(d){i(d.uid);const f=eD(Em(Ls,"listings"),tD("userId","==",d.uid)),_=(await U0(f)).docs.map(E=>({id:E.id,...E.data()}));e(_),a(!1)}});return()=>c()},[]),o?v.jsx("p",{children:"Loading your listings..."}):v.jsxs("div",{className:"home-container",children:[v.jsx("h2",{className:"home-title",children:"My Listings"}),n.length===0?v.jsx("p",{className:"home-subtitle",children:"You havent added anything yet."}):v.jsx("div",{className:"home-grid",children:n.map(c=>v.jsxs(jt,{to:`/listing/${c.id}`,className:"card",children:[c.imageUrl&&v.jsx("img",{src:c.imageUrl,alt:c.title,style:{width:"100%",height:"160px",objectFit:"cover",borderRadius:"0.5rem",marginBottom:"0.75rem"}}),v.jsx("h3",{children:c.title}),v.jsx("p",{style:{fontSize:"0.9rem",color:"#6B5F52"},children:c.price!==null?`$${c.price.toFixed(2)}`:"Trade Only"})]},c.id))})]})},j2=()=>{const{id:n}=Sw(),e=qs(),[t,i]=Y.useState(null),[o,a]=Y.useState("");return Y.useEffect(()=>{(async()=>{try{const d=$l(Ls,"listings",n),f=await sD(d);f.exists()?i(f.data()):a("Listing not found.")}catch(d){console.error(d),a("Failed to fetch listing.")}})()},[n]),o?v.jsx("p",{className:"error-message",children:o}):t?v.jsxs("div",{className:"form-container",children:[v.jsx("button",{className:"logout-button",onClick:()=>e(-1),children:" Back"}),v.jsx("h2",{className:"login-title",children:t.title}),t.imageUrl&&v.jsx("img",{src:t.imageUrl,alt:t.title,style:{maxWidth:"100%",borderRadius:"1rem",margin:"1rem 0",boxShadow:"0 4px 12px rgba(0,0,0,0.05)"}}),v.jsx("p",{style:{marginBottom:"1rem"},children:t.description}),v.jsxs("p",{children:[v.jsx("strong",{children:"Type:"})," ",t.type==="supply"?"Supply":"Product"]}),t.price!==null&&v.jsxs("p",{children:[v.jsx("strong",{children:"Price:"})," $",t.price.toFixed(2)]}),t.trade&&v.jsxs("p",{children:[v.jsx("strong",{children:"Open to Trade"})," "]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Location:"})," ",t.location]})]}):v.jsx("p",{children:"Loading..."})},F2=()=>v.jsxs("div",{className:"confirmation-page",children:[v.jsx("h1",{children:" Thank You!"}),v.jsx("p",{children:"Your order has been placed successfully."}),v.jsx("p",{children:"We'll reach out when it's ready for pickup or shipment."}),v.jsx("a",{href:"/shop",className:"button",style:{marginTop:"1rem"},children:"Back to Shop"})]}),U2=()=>v.jsxs("div",{className:"context-box",children:[v.jsx("h1",{children:"Our Blog"}),v.jsx("p",{children:"Check back soon for updates, craft tutorials, and more!"})]}),B2=()=>v.jsxs("div",{className:"context-box",children:[v.jsx("h1",{children:"Craft Ideas"}),v.jsx("p",{children:"Coming soon..."})]}),z2=()=>v.jsxs("header",{className:"header",children:[v.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:v.jsx(jt,{to:"/",children:v.jsx("img",{src:"/views/images/wordsLogo2.png",height:"130",width:"380",alt:"Tangled Oak Word Logo",style:{boxShadow:"none",border:"none"}})})}),v.jsxs("div",{className:"nav-links",children:[v.jsx(jt,{to:"/",className:"nav-link",children:"Home"}),v.jsx(jt,{to:"/shop",className:"nav-link",children:"Shop"}),v.jsx(jt,{to:"/about",className:"nav-link",children:"About Us"}),v.jsx(jt,{to:"/blog",className:"nav-link",children:"Blog"}),v.jsx(jt,{to:"/craft",className:"nav-link",children:"Craft Ideas"}),v.jsx(jt,{to:"/cart",className:"nav-link",children:" Cart"})]})]}),$2=()=>v.jsxs("footer",{className:"footer",children:[v.jsxs("div",{className:"footer-container",children:[v.jsxs("div",{className:"footer-section social-media",children:[v.jsx("h2",{children:"Follow Us"}),v.jsxs("div",{className:"social-icons",children:[v.jsx("a",{href:"https://www.facebook.com/profile.php?id=61556577491923",target:"_blank",rel:"noopener noreferrer",children:v.jsx("img",{src:"/views/images/facebook.png",alt:"Facebook"})}),v.jsx("a",{href:"https://www.instagram.com/tangledoakcraft/",target:"_blank",rel:"noopener noreferrer",children:v.jsx("img",{src:"/views/images/instagram.png",alt:"Instagram"})}),v.jsx("a",{href:"https://www.pinterest.com/tangledoakcraft",target:"_blank",rel:"noopener noreferrer",children:v.jsx("img",{src:"/views/images/pinterest.png",alt:"Pinterest"})})]})]}),v.jsxs("div",{className:"footer-section quick-links",children:[v.jsx("h2",{children:"Quick Links"}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx(jt,{to:"/contact",children:"Contact Us"})}),v.jsx("li",{children:v.jsx(jt,{to:"/shipping-policy",children:"Shipping & Returns"})}),v.jsx("li",{children:v.jsx(jt,{to:"/faq",children:"FAQ"})})]})]}),v.jsxs("div",{className:"footer-section legal",children:[v.jsx("h2",{children:"Legal"}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx(jt,{to:"/privacy-policy",children:"Privacy Policy"})}),v.jsx("li",{children:v.jsx(jt,{to:"/terms",children:"Terms & Conditions"})}),v.jsx("li",{children:v.jsx(jt,{to:"/vendor-login",className:"nav-link",style:{fontSize:"0.8rem",opacity:.6},children:"Vendor Portal"})})]})]})]}),v.jsx("div",{className:"copyright",children:v.jsx("p",{style:{fontSize:"8px"},children:" 2024 The Tangled Oak + Craft Collective. All Rights Reserved."})})]}),qf=({children:n,requiredRole:e})=>{const[t,i]=Y.useState(null);return Y.useEffect(()=>{const o=ql.onAuthStateChanged(async a=>{if(!a){i(!1);return}const d=(await a.getIdTokenResult(!0)).claims.role;i(!e||d===e)});return()=>o()},[e]),t===null?v.jsx("p",{children:"Loading..."}):t===!1?v.jsx(lA,{to:"/vendor-login",replace:!0}):n},q2=()=>v.jsxs(yA,{children:[v.jsx(z2,{}),v.jsx("div",{className:"main-content",children:v.jsxs(cA,{children:[v.jsx(gt,{path:"/",element:v.jsx(rC,{})}),v.jsx(gt,{path:"/shop",element:v.jsx(vC,{})}),v.jsx(gt,{path:"/product/:productId",element:v.jsx(_C,{})}),v.jsx(gt,{path:"/cart",element:v.jsx(SC,{})}),v.jsx(gt,{path:"/about",element:v.jsx(AC,{})}),v.jsx(gt,{path:"/contact",element:v.jsx(CC,{})}),v.jsx(gt,{path:"/faq",element:v.jsx(RC,{})}),v.jsx(gt,{path:"/shipping-policy",element:v.jsx(PC,{})}),v.jsx(gt,{path:"/privacy-policy",element:v.jsx(kC,{})}),v.jsx(gt,{path:"/terms",element:v.jsx(xC,{})}),v.jsx(gt,{path:"/vendor-login",element:v.jsx(P2,{})}),v.jsx(gt,{path:"/vendor-register",element:v.jsx(k2,{})}),v.jsx(gt,{path:"/admin/approvals",element:v.jsx(qf,{requiredRole:"vendor",children:v.jsx(x2,{})})}),v.jsx(gt,{path:"/my-listings/new",element:v.jsx(qf,{requiredRole:"vendor",children:v.jsx(M2,{})})}),v.jsx(gt,{path:"/my-listings",element:v.jsx(qf,{requiredRole:"vendor",children:v.jsx(V2,{})})}),v.jsx(gt,{path:"/listing/:listingId",element:v.jsx(j2,{})}),v.jsx(gt,{path:"/order-confirmation",element:v.jsx(F2,{})}),v.jsx(gt,{path:"/blog",element:v.jsx(U2,{})}),v.jsx(gt,{path:"/craft-ideas",element:v.jsx(B2,{})})]})}),v.jsx($2,{})]}),H2=vS.createRoot(document.getElementById("root"));H2.render(v.jsx(TC,{children:v.jsx(q2,{})}));
