function tC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Ni(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nC(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var rp={exports:{}},Fl={},ip={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function rC(){if(v_)return qe;v_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function L(B,re,N){this.props=B,this.context=re,this.refs=D,this.updater=N||T}L.prototype.isReactComponent={},L.prototype.setState=function(B,re){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,re,"setState")},L.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function U(){}U.prototype=L.prototype;function J(B,re,N){this.props=B,this.context=re,this.refs=D,this.updater=N||T}var z=J.prototype=new U;z.constructor=J,A(z,L.prototype),z.isPureReactComponent=!0;var $=Array.isArray,he=Object.prototype.hasOwnProperty,G={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function R(B,re,N){var Se,Ne={},ke=null,Be=null;if(re!=null)for(Se in re.ref!==void 0&&(Be=re.ref),re.key!==void 0&&(ke=""+re.key),re)he.call(re,Se)&&!V.hasOwnProperty(Se)&&(Ne[Se]=re[Se]);var Ue=arguments.length-2;if(Ue===1)Ne.children=N;else if(1<Ue){for(var Ye=Array(Ue),at=0;at<Ue;at++)Ye[at]=arguments[at+2];Ne.children=Ye}if(B&&B.defaultProps)for(Se in Ue=B.defaultProps,Ue)Ne[Se]===void 0&&(Ne[Se]=Ue[Se]);return{$$typeof:t,type:B,key:ke,ref:Be,props:Ne,_owner:G.current}}function O(B,re){return{$$typeof:t,type:B.type,key:re,ref:B.ref,props:B.props,_owner:B._owner}}function j(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function b(B){var re={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(N){return re[N]})}var P=/\/+/g;function x(B,re){return typeof B=="object"&&B!==null&&B.key!=null?b(""+B.key):re.toString(36)}function Y(B,re,N,Se,Ne){var ke=typeof B;(ke==="undefined"||ke==="boolean")&&(B=null);var Be=!1;if(B===null)Be=!0;else switch(ke){case"string":case"number":Be=!0;break;case"object":switch(B.$$typeof){case t:case e:Be=!0}}if(Be)return Be=B,Ne=Ne(Be),B=Se===""?"."+x(Be,0):Se,$(Ne)?(N="",B!=null&&(N=B.replace(P,"$&/")+"/"),Y(Ne,re,N,"",function(at){return at})):Ne!=null&&(j(Ne)&&(Ne=O(Ne,N+(!Ne.key||Be&&Be.key===Ne.key?"":(""+Ne.key).replace(P,"$&/")+"/")+B)),re.push(Ne)),1;if(Be=0,Se=Se===""?".":Se+":",$(B))for(var Ue=0;Ue<B.length;Ue++){ke=B[Ue];var Ye=Se+x(ke,Ue);Be+=Y(ke,re,N,Ye,Ne)}else if(Ye=E(B),typeof Ye=="function")for(B=Ye.call(B),Ue=0;!(ke=B.next()).done;)ke=ke.value,Ye=Se+x(ke,Ue++),Be+=Y(ke,re,N,Ye,Ne);else if(ke==="object")throw re=String(B),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Be}function ne(B,re,N){if(B==null)return B;var Se=[],Ne=0;return Y(B,Se,"","",function(ke){return re.call(N,ke,Ne++)}),Se}function ve(B){if(B._status===-1){var re=B._result;re=re(),re.then(function(N){(B._status===0||B._status===-1)&&(B._status=1,B._result=N)},function(N){(B._status===0||B._status===-1)&&(B._status=2,B._result=N)}),B._status===-1&&(B._status=0,B._result=re)}if(B._status===1)return B._result.default;throw B._result}var H={current:null},Z={transition:null},pe={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:Z,ReactCurrentOwner:G};function C(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:ne,forEach:function(B,re,N){ne(B,function(){re.apply(this,arguments)},N)},count:function(B){var re=0;return ne(B,function(){re++}),re},toArray:function(B){return ne(B,function(re){return re})||[]},only:function(B){if(!j(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},qe.Component=L,qe.Fragment=n,qe.Profiler=s,qe.PureComponent=J,qe.StrictMode=r,qe.Suspense=d,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,qe.act=C,qe.cloneElement=function(B,re,N){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Se=A({},B.props),Ne=B.key,ke=B.ref,Be=B._owner;if(re!=null){if(re.ref!==void 0&&(ke=re.ref,Be=G.current),re.key!==void 0&&(Ne=""+re.key),B.type&&B.type.defaultProps)var Ue=B.type.defaultProps;for(Ye in re)he.call(re,Ye)&&!V.hasOwnProperty(Ye)&&(Se[Ye]=re[Ye]===void 0&&Ue!==void 0?Ue[Ye]:re[Ye])}var Ye=arguments.length-2;if(Ye===1)Se.children=N;else if(1<Ye){Ue=Array(Ye);for(var at=0;at<Ye;at++)Ue[at]=arguments[at+2];Se.children=Ue}return{$$typeof:t,type:B.type,key:Ne,ref:ke,props:Se,_owner:Be}},qe.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},qe.createElement=R,qe.createFactory=function(B){var re=R.bind(null,B);return re.type=B,re},qe.createRef=function(){return{current:null}},qe.forwardRef=function(B){return{$$typeof:c,render:B}},qe.isValidElement=j,qe.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:ve}},qe.memo=function(B,re){return{$$typeof:p,type:B,compare:re===void 0?null:re}},qe.startTransition=function(B){var re=Z.transition;Z.transition={};try{B()}finally{Z.transition=re}},qe.unstable_act=C,qe.useCallback=function(B,re){return H.current.useCallback(B,re)},qe.useContext=function(B){return H.current.useContext(B)},qe.useDebugValue=function(){},qe.useDeferredValue=function(B){return H.current.useDeferredValue(B)},qe.useEffect=function(B,re){return H.current.useEffect(B,re)},qe.useId=function(){return H.current.useId()},qe.useImperativeHandle=function(B,re,N){return H.current.useImperativeHandle(B,re,N)},qe.useInsertionEffect=function(B,re){return H.current.useInsertionEffect(B,re)},qe.useLayoutEffect=function(B,re){return H.current.useLayoutEffect(B,re)},qe.useMemo=function(B,re){return H.current.useMemo(B,re)},qe.useReducer=function(B,re,N){return H.current.useReducer(B,re,N)},qe.useRef=function(B){return H.current.useRef(B)},qe.useState=function(B){return H.current.useState(B)},qe.useSyncExternalStore=function(B,re,N){return H.current.useSyncExternalStore(B,re,N)},qe.useTransition=function(){return H.current.useTransition()},qe.version="18.3.1",qe}var __;function $a(){return __||(__=1,ip.exports=rC()),ip.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function iC(){if(w_)return Fl;w_=1;var t=$a(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var m,y={},E=null,T=null;p!==void 0&&(E=""+p),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:E,ref:T,props:y,_owner:s.current}}return Fl.Fragment=n,Fl.jsx=l,Fl.jsxs=l,Fl}var E_;function sC(){return E_||(E_=1,rp.exports=iC()),rp.exports}var w=sC(),ie=$a();const Ra=Ni(ie),oC=tC({__proto__:null,default:Ra},[ie]);var eh={},sp={exports:{}},xn={},op={exports:{}},ap={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function aC(){return T_||(T_=1,function(t){function e(Z,pe){var C=Z.length;Z.push(pe);e:for(;0<C;){var B=C-1>>>1,re=Z[B];if(0<s(re,pe))Z[B]=pe,Z[C]=re,C=B;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var pe=Z[0],C=Z.pop();if(C!==pe){Z[0]=C;e:for(var B=0,re=Z.length,N=re>>>1;B<N;){var Se=2*(B+1)-1,Ne=Z[Se],ke=Se+1,Be=Z[ke];if(0>s(Ne,C))ke<re&&0>s(Be,Ne)?(Z[B]=Be,Z[ke]=C,B=ke):(Z[B]=Ne,Z[Se]=C,B=Se);else if(ke<re&&0>s(Be,C))Z[B]=Be,Z[ke]=C,B=ke;else break e}}return pe}function s(Z,pe){var C=Z.sortIndex-pe.sortIndex;return C!==0?C:Z.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,y=null,E=3,T=!1,A=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(Z){for(var pe=n(p);pe!==null;){if(pe.callback===null)r(p);else if(pe.startTime<=Z)r(p),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=n(p)}}function $(Z){if(D=!1,z(Z),!A)if(n(d)!==null)A=!0,ve(he);else{var pe=n(p);pe!==null&&H($,pe.startTime-Z)}}function he(Z,pe){A=!1,D&&(D=!1,U(R),R=-1),T=!0;var C=E;try{for(z(pe),y=n(d);y!==null&&(!(y.expirationTime>pe)||Z&&!b());){var B=y.callback;if(typeof B=="function"){y.callback=null,E=y.priorityLevel;var re=B(y.expirationTime<=pe);pe=t.unstable_now(),typeof re=="function"?y.callback=re:y===n(d)&&r(d),z(pe)}else r(d);y=n(d)}if(y!==null)var N=!0;else{var Se=n(p);Se!==null&&H($,Se.startTime-pe),N=!1}return N}finally{y=null,E=C,T=!1}}var G=!1,V=null,R=-1,O=5,j=-1;function b(){return!(t.unstable_now()-j<O)}function P(){if(V!==null){var Z=t.unstable_now();j=Z;var pe=!0;try{pe=V(!0,Z)}finally{pe?x():(G=!1,V=null)}}else G=!1}var x;if(typeof J=="function")x=function(){J(P)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ne=Y.port2;Y.port1.onmessage=P,x=function(){ne.postMessage(null)}}else x=function(){L(P,0)};function ve(Z){V=Z,G||(G=!0,x())}function H(Z,pe){R=L(function(){Z(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){A||T||(A=!0,ve(he))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var pe=3;break;default:pe=E}var C=E;E=pe;try{return Z()}finally{E=C}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,pe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var C=E;E=Z;try{return pe()}finally{E=C}},t.unstable_scheduleCallback=function(Z,pe,C){var B=t.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?B+C:B):C=B,Z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=C+re,Z={id:m++,callback:pe,priorityLevel:Z,startTime:C,expirationTime:re,sortIndex:-1},C>B?(Z.sortIndex=C,e(p,Z),n(d)===null&&Z===n(p)&&(D?(U(R),R=-1):D=!0,H($,C-B))):(Z.sortIndex=re,e(d,Z),A||T||(A=!0,ve(he))),Z},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(Z){var pe=E;return function(){var C=E;E=pe;try{return Z.apply(this,arguments)}finally{E=C}}}}(ap)),ap}var I_;function lC(){return I_||(I_=1,op.exports=aC()),op.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function uC(){if(S_)return xn;S_=1;var t=$a(),e=lC();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function E(i){return d.call(y,i)?!0:d.call(m,i)?!1:p.test(i)?y[i]=!0:(m[i]=!0,!1)}function T(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function A(i,o,u,f){if(o===null||typeof o>"u"||T(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(i,o,u,f,g,_,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=_,this.removeEmptyString=S}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){L[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];L[o]=new D(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){L[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){L[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){L[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){L[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){L[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){L[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){L[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function J(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(U,J);L[o]=new D(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(U,J);L[o]=new D(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(U,J);L[o]=new D(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){L[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),L.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){L[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function z(i,o,u,f){var g=L.hasOwnProperty(o)?L[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,u,g,f)&&(u=null),f||g===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,f=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,he=Symbol.for("react.element"),G=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),b=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),Z=Symbol.iterator;function pe(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var C=Object.assign,B;function re(i){if(B===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var N=!1;function Se(i,o){if(!i||N)return"";N=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var f=X}Reflect.construct(i,[],o)}else{try{o.call()}catch(X){f=X}i.call(o.prototype)}else{try{throw Error()}catch(X){f=X}i()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),_=f.stack.split(`
`),S=g.length-1,M=_.length-1;1<=S&&0<=M&&g[S]!==_[M];)M--;for(;1<=S&&0<=M;S--,M--)if(g[S]!==_[M]){if(S!==1||M!==1)do if(S--,M--,0>M||g[S]!==_[M]){var F=`
`+g[S].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=S&&0<=M);break}}}finally{N=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?re(i):""}function Ne(i){switch(i.tag){case 5:return re(i.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return i=Se(i.type,!1),i;case 11:return i=Se(i.type.render,!1),i;case 1:return i=Se(i.type,!0),i;default:return""}}function ke(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case G:return"Portal";case O:return"Profiler";case R:return"StrictMode";case x:return"Suspense";case Y:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case b:return(i.displayName||"Context")+".Consumer";case j:return(i._context.displayName||"Context")+".Provider";case P:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ne:return o=i.displayName||null,o!==null?o:ke(i.type)||"Memo";case ve:o=i._payload,i=i._init;try{return ke(i(o))}catch{}}return null}function Be(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function at(i){var o=Ye(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,_.call(this,S)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function vn(i){i._valueTracker||(i._valueTracker=at(i))}function Di(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Ye(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function jr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function si(i,o){var u=o.checked;return C({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function oi(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Ue(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Li(i,o){o=o.checked,o!=null&&z(i,"checked",o,!1)}function Mi(i,o){Li(i,o);var u=Ue(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?ai(i,o.type,u):o.hasOwnProperty("defaultValue")&&ai(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Oo(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function ai(i,o,u){(o!=="number"||jr(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Gn=Array.isArray;function dr(i,o,u,f){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Ue(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function js(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return C({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ji(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Gn(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ue(u)}}function Vi(i,o){var u=Ue(o.value),f=Ue(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Vs(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ee(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ee(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ce,Fe=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,g)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ce.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function $e(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cn=["Webkit","ms","Moz","O"];Object.keys(Nt).forEach(function(i){cn.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Nt[o]=Nt[i]})});function hn(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Nt.hasOwnProperty(i)&&Nt[i]?(""+o).trim():o+"px"}function fr(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=hn(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,g):i[u]=g}}var pr=C({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ot(i,o){if(o){if(pr[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Qn(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ht=null;function Do(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Lo=null,Yn=null,Vr=null;function Mo(i){if(i=Sl(i)){if(typeof Lo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=mc(o),Lo(i.stateNode,i.type,o))}}function Fr(i){Yn?Vr?Vr.push(i):Vr=[i]:Yn=i}function tl(){if(Yn){var i=Yn,o=Vr;if(Vr=Yn=null,Mo(i),o)for(i=0;i<o.length;i++)Mo(o[i])}}function Fs(i,o){return i(o)}function nl(){}var li=!1;function rl(i,o,u){if(li)return i(o,u);li=!0;try{return Fs(i,o,u)}finally{li=!1,(Yn!==null||Vr!==null)&&(nl(),tl())}}function Tt(i,o){var u=i.stateNode;if(u===null)return null;var f=mc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var jo=!1;if(c)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){jo=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{jo=!1}function Us(i,o,u,f,g,_,S,M,F){var X=Array.prototype.slice.call(arguments,3);try{o.apply(u,X)}catch(le){this.onError(le)}}var Bs=!1,Vo=null,gr=!1,il=null,bd={onError:function(i){Bs=!0,Vo=i}};function Fo(i,o,u,f,g,_,S,M,F){Bs=!1,Vo=null,Us.apply(bd,arguments)}function Uu(i,o,u,f,g,_,S,M,F){if(Fo.apply(this,arguments),Bs){if(Bs){var X=Vo;Bs=!1,Vo=null}else throw Error(n(198));gr||(gr=!0,il=X)}}function yr(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function zs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function vr(i){if(yr(i)!==i)throw Error(n(188))}function Bu(i){var o=i.alternate;if(!o){if(o=yr(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,f=o;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return vr(g),i;if(_===f)return vr(g),o;_=_.sibling}throw Error(n(188))}if(u.return!==f.return)u=g,f=_;else{for(var S=!1,M=g.child;M;){if(M===u){S=!0,u=g,f=_;break}if(M===f){S=!0,f=g,u=_;break}M=M.sibling}if(!S){for(M=_.child;M;){if(M===u){S=!0,u=_,f=g;break}if(M===f){S=!0,f=_,u=g;break}M=M.sibling}if(!S)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function sl(i){return i=Bu(i),i!==null?Uo(i):null}function Uo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Uo(i);if(o!==null)return o;i=i.sibling}return null}var Bo=e.unstable_scheduleCallback,ol=e.unstable_cancelCallback,zu=e.unstable_shouldYield,Pd=e.unstable_requestPaint,rt=e.unstable_now,qu=e.unstable_getCurrentPriorityLevel,qs=e.unstable_ImmediatePriority,Fi=e.unstable_UserBlockingPriority,Xn=e.unstable_NormalPriority,al=e.unstable_LowPriority,$u=e.unstable_IdlePriority,$s=null,Mn=null;function Hu(i){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot($s,i,void 0,(i.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Ku,ll=Math.log,Wu=Math.LN2;function Ku(i){return i>>>=0,i===0?32:31-(ll(i)/Wu|0)|0}var zo=64,qo=4194304;function Ui(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Hs(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,_=i.pingedLanes,S=u&268435455;if(S!==0){var M=S&~g;M!==0?f=Ui(M):(_&=S,_!==0&&(f=Ui(_)))}else S=u&~g,S!==0?f=Ui(S):_!==0&&(f=Ui(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,_=o&-o,g>=_||g===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-dn(o),g=1<<u,f|=i[u],o&=~g;return f}function Nd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ui(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes;0<_;){var S=31-dn(_),M=1<<S,F=g[S];F===-1?((M&u)===0||(M&f)!==0)&&(g[S]=Nd(M,o)):F<=o&&(i.expiredLanes|=M),_&=~M}}function jn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ws(){var i=zo;return zo<<=1,(zo&4194240)===0&&(zo=64),i}function Bi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function zi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-dn(o),i[o]=u}function nt(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-dn(u),_=1<<g;o[g]=0,f[g]=-1,i[g]=-1,u&=~_}}function qi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-dn(u),g=1<<f;g&o|i[f]&o&&(i[f]|=o),u&=~g}}var Ke=0;function $i(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Gu,$o,Qu,Yu,Xu,ul=!1,Ur=[],Wt=null,_r=null,wr=null,Hi=new Map,Jn=new Map,Br=[],Od="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ju(i,o){switch(i){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Hi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(o.pointerId)}}function _n(i,o,u,f,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},o!==null&&(o=Sl(o),o!==null&&$o(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function Dd(i,o,u,f,g){switch(o){case"focusin":return Wt=_n(Wt,i,o,u,f,g),!0;case"dragenter":return _r=_n(_r,i,o,u,f,g),!0;case"mouseover":return wr=_n(wr,i,o,u,f,g),!0;case"pointerover":var _=g.pointerId;return Hi.set(_,_n(Hi.get(_)||null,i,o,u,f,g)),!0;case"gotpointercapture":return _=g.pointerId,Jn.set(_,_n(Jn.get(_)||null,i,o,u,f,g)),!0}return!1}function Zu(i){var o=Xs(i.target);if(o!==null){var u=yr(o);if(u!==null){if(o=u.tag,o===13){if(o=zs(u),o!==null){i.blockedOn=o,Xu(i.priority,function(){Qu(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ci(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Ho(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Ht=f,u.target.dispatchEvent(f),Ht=null}else return o=Sl(u),o!==null&&$o(o),i.blockedOn=u,!1;o.shift()}return!0}function Ks(i,o,u){ci(i)&&u.delete(o)}function ec(){ul=!1,Wt!==null&&ci(Wt)&&(Wt=null),_r!==null&&ci(_r)&&(_r=null),wr!==null&&ci(wr)&&(wr=null),Hi.forEach(Ks),Jn.forEach(Ks)}function Er(i,o){i.blockedOn===o&&(i.blockedOn=null,ul||(ul=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ec)))}function Tr(i){function o(g){return Er(g,i)}if(0<Ur.length){Er(Ur[0],i);for(var u=1;u<Ur.length;u++){var f=Ur[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Wt!==null&&Er(Wt,i),_r!==null&&Er(_r,i),wr!==null&&Er(wr,i),Hi.forEach(o),Jn.forEach(o),u=0;u<Br.length;u++)f=Br[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<Br.length&&(u=Br[0],u.blockedOn===null);)Zu(u),u.blockedOn===null&&Br.shift()}var hi=$.ReactCurrentBatchConfig,Wi=!0;function ht(i,o,u,f){var g=Ke,_=hi.transition;hi.transition=null;try{Ke=1,cl(i,o,u,f)}finally{Ke=g,hi.transition=_}}function Ld(i,o,u,f){var g=Ke,_=hi.transition;hi.transition=null;try{Ke=4,cl(i,o,u,f)}finally{Ke=g,hi.transition=_}}function cl(i,o,u,f){if(Wi){var g=Ho(i,o,u,f);if(g===null)Wd(i,o,f,Gs,u),Ju(i,f);else if(Dd(g,i,o,u,f))f.stopPropagation();else if(Ju(i,f),o&4&&-1<Od.indexOf(i)){for(;g!==null;){var _=Sl(g);if(_!==null&&Gu(_),_=Ho(i,o,u,f),_===null&&Wd(i,o,f,Gs,u),_===g)break;g=_}g!==null&&f.stopPropagation()}else Wd(i,o,f,null,u)}}var Gs=null;function Ho(i,o,u,f){if(Gs=null,i=Do(f),i=Xs(i),i!==null)if(o=yr(i),o===null)i=null;else if(u=o.tag,u===13){if(i=zs(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Gs=i,null}function hl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qu()){case qs:return 1;case Fi:return 4;case Xn:case al:return 16;case $u:return 536870912;default:return 16}default:return 16}}var Vn=null,Wo=null,wn=null;function dl(){if(wn)return wn;var i,o=Wo,u=o.length,f,g="value"in Vn?Vn.value:Vn.textContent,_=g.length;for(i=0;i<u&&o[i]===g[i];i++);var S=u-i;for(f=1;f<=S&&o[u-f]===g[_-f];f++);return wn=g.slice(i,1<f?1-f:void 0)}function Ko(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function zr(){return!0}function fl(){return!1}function Kt(i){function o(u,f,g,_,S){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(u=i[M],this[M]=u?u(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?zr:fl,this.isPropagationStopped=fl,this}return C(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),o}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=Kt(Ir),qr=C({},Ir,{view:0,detail:0}),Md=Kt(qr),Qo,di,Ki,Qs=C({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ki&&(Ki&&i.type==="mousemove"?(Qo=i.screenX-Ki.screenX,di=i.screenY-Ki.screenY):di=Qo=0,Ki=i),Qo)},movementY:function(i){return"movementY"in i?i.movementY:di}}),Yo=Kt(Qs),pl=C({},Qs,{dataTransfer:0}),tc=Kt(pl),Xo=C({},qr,{relatedTarget:0}),Jo=Kt(Xo),nc=C({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),fi=Kt(nc),rc=C({},Ir,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ic=Kt(rc),sc=C({},Ir,{data:0}),ml=Kt(sc),Zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ac(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=oc[i])?!!o[i]:!1}function $r(){return ac}var h=C({},qr,{key:function(i){if(i.key){var o=Zo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ko(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(i){return i.type==="keypress"?Ko(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ko(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v=Kt(h),I=C({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=Kt(I),W=C({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),te=Kt(W),me=C({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),tt=Kt(me),Dt=C({},Qs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Kt(Dt),Ut=[9,13,27,32],Ct=c&&"CompositionEvent"in window,Zn=null;c&&"documentMode"in document&&(Zn=document.documentMode);var Fn=c&&"TextEvent"in window&&!Zn,Ys=c&&(!Ct||Zn&&8<Zn&&11>=Zn),ea=" ",dy=!1;function fy(i,o){switch(i){case"keyup":return Ut.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function py(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ta=!1;function Jk(i,o){switch(i){case"compositionend":return py(o);case"keypress":return o.which!==32?null:(dy=!0,ea);case"textInput":return i=o.data,i===ea&&dy?null:i;default:return null}}function Zk(i,o){if(ta)return i==="compositionend"||!Ct&&fy(i,o)?(i=dl(),wn=Wo=Vn=null,ta=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ys&&o.locale!=="ko"?null:o.data;default:return null}}var ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!ex[i.type]:o==="textarea"}function gy(i,o,u,f){Fr(f),o=dc(o,"onChange"),0<o.length&&(u=new Go("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var gl=null,yl=null;function tx(i){Dy(i,0)}function lc(i){var o=oa(i);if(Di(o))return i}function nx(i,o){if(i==="change")return o}var yy=!1;if(c){var jd;if(c){var Vd="oninput"in document;if(!Vd){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),Vd=typeof vy.oninput=="function"}jd=Vd}else jd=!1;yy=jd&&(!document.documentMode||9<document.documentMode)}function _y(){gl&&(gl.detachEvent("onpropertychange",wy),yl=gl=null)}function wy(i){if(i.propertyName==="value"&&lc(yl)){var o=[];gy(o,yl,i,Do(i)),rl(tx,o)}}function rx(i,o,u){i==="focusin"?(_y(),gl=o,yl=u,gl.attachEvent("onpropertychange",wy)):i==="focusout"&&_y()}function ix(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lc(yl)}function sx(i,o){if(i==="click")return lc(o)}function ox(i,o){if(i==="input"||i==="change")return lc(o)}function ax(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Sr=typeof Object.is=="function"?Object.is:ax;function vl(i,o){if(Sr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!d.call(o,g)||!Sr(i[g],o[g]))return!1}return!0}function Ey(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ty(i,o){var u=Ey(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ey(u)}}function Iy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Iy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Sy(){for(var i=window,o=jr();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=jr(i.document)}return o}function Fd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function lx(i){var o=Sy(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Iy(u.ownerDocument.documentElement,u)){if(f!==null&&Fd(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!i.extend&&_>f&&(g=f,f=_,_=g),g=Ty(u,_);var S=Ty(u,f);g&&S&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),_>f?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ux=c&&"documentMode"in document&&11>=document.documentMode,na=null,Ud=null,_l=null,Bd=!1;function ky(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bd||na==null||na!==jr(f)||(f=na,"selectionStart"in f&&Fd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),_l&&vl(_l,f)||(_l=f,f=dc(Ud,"onSelect"),0<f.length&&(o=new Go("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=na)))}function uc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ra={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},zd={},xy={};c&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function cc(i){if(zd[i])return zd[i];if(!ra[i])return i;var o=ra[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in xy)return zd[i]=o[u];return i}var Cy=cc("animationend"),Ay=cc("animationiteration"),Ry=cc("animationstart"),by=cc("transitionend"),Py=new Map,Ny="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(i,o){Py.set(i,o),a(o,[i])}for(var qd=0;qd<Ny.length;qd++){var $d=Ny[qd],cx=$d.toLowerCase(),hx=$d[0].toUpperCase()+$d.slice(1);Gi(cx,"on"+hx)}Gi(Cy,"onAnimationEnd"),Gi(Ay,"onAnimationIteration"),Gi(Ry,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(by,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dx=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function Oy(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,Uu(f,o,void 0,i),i.currentTarget=null}function Dy(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],g=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var S=f.length-1;0<=S;S--){var M=f[S],F=M.instance,X=M.currentTarget;if(M=M.listener,F!==_&&g.isPropagationStopped())break e;Oy(g,M,X),_=F}else for(S=0;S<f.length;S++){if(M=f[S],F=M.instance,X=M.currentTarget,M=M.listener,F!==_&&g.isPropagationStopped())break e;Oy(g,M,X),_=F}}}if(gr)throw i=il,gr=!1,il=null,i}function lt(i,o){var u=o[Jd];u===void 0&&(u=o[Jd]=new Set);var f=i+"__bubble";u.has(f)||(Ly(o,i,2,!1),u.add(f))}function Hd(i,o,u){var f=0;o&&(f|=4),Ly(u,i,f,o)}var hc="_reactListening"+Math.random().toString(36).slice(2);function El(i){if(!i[hc]){i[hc]=!0,r.forEach(function(u){u!=="selectionchange"&&(dx.has(u)||Hd(u,!1,i),Hd(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[hc]||(o[hc]=!0,Hd("selectionchange",!1,o))}}function Ly(i,o,u,f){switch(hl(o)){case 1:var g=ht;break;case 4:g=Ld;break;default:g=cl}u=g.bind(null,o,u,i),g=void 0,!jo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function Wd(i,o,u,f,g){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var M=f.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(S===4)for(S=f.return;S!==null;){var F=S.tag;if((F===3||F===4)&&(F=S.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;S=S.return}for(;M!==null;){if(S=Xs(M),S===null)return;if(F=S.tag,F===5||F===6){f=_=S;continue e}M=M.parentNode}}f=f.return}rl(function(){var X=_,le=Do(u),ce=[];e:{var ae=Py.get(i);if(ae!==void 0){var ge=Go,Ee=i;switch(i){case"keypress":if(Ko(u)===0)break e;case"keydown":case"keyup":ge=v;break;case"focusin":Ee="focus",ge=Jo;break;case"focusout":Ee="blur",ge=Jo;break;case"beforeblur":case"afterblur":ge=Jo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=te;break;case Cy:case Ay:case Ry:ge=fi;break;case by:ge=tt;break;case"scroll":ge=Md;break;case"wheel":ge=Ge;break;case"copy":case"cut":case"paste":ge=ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=k}var Te=(o&4)!==0,It=!Te&&i==="scroll",K=Te?ae!==null?ae+"Capture":null:ae;Te=[];for(var q=X,Q;q!==null;){Q=q;var fe=Q.stateNode;if(Q.tag===5&&fe!==null&&(Q=fe,K!==null&&(fe=Tt(q,K),fe!=null&&Te.push(Tl(q,fe,Q)))),It)break;q=q.return}0<Te.length&&(ae=new ge(ae,Ee,null,u,le),ce.push({event:ae,listeners:Te}))}}if((o&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",ae&&u!==Ht&&(Ee=u.relatedTarget||u.fromElement)&&(Xs(Ee)||Ee[pi]))break e;if((ge||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,ge?(Ee=u.relatedTarget||u.toElement,ge=X,Ee=Ee?Xs(Ee):null,Ee!==null&&(It=yr(Ee),Ee!==It||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ge=null,Ee=X),ge!==Ee)){if(Te=Yo,fe="onMouseLeave",K="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Te=k,fe="onPointerLeave",K="onPointerEnter",q="pointer"),It=ge==null?ae:oa(ge),Q=Ee==null?ae:oa(Ee),ae=new Te(fe,q+"leave",ge,u,le),ae.target=It,ae.relatedTarget=Q,fe=null,Xs(le)===X&&(Te=new Te(K,q+"enter",Ee,u,le),Te.target=Q,Te.relatedTarget=It,fe=Te),It=fe,ge&&Ee)t:{for(Te=ge,K=Ee,q=0,Q=Te;Q;Q=ia(Q))q++;for(Q=0,fe=K;fe;fe=ia(fe))Q++;for(;0<q-Q;)Te=ia(Te),q--;for(;0<Q-q;)K=ia(K),Q--;for(;q--;){if(Te===K||K!==null&&Te===K.alternate)break t;Te=ia(Te),K=ia(K)}Te=null}else Te=null;ge!==null&&My(ce,ae,ge,Te,!1),Ee!==null&&It!==null&&My(ce,It,Ee,Te,!0)}}e:{if(ae=X?oa(X):window,ge=ae.nodeName&&ae.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ae.type==="file")var Ie=nx;else if(my(ae))if(yy)Ie=ox;else{Ie=ix;var Ae=rx}else(ge=ae.nodeName)&&ge.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ie=sx);if(Ie&&(Ie=Ie(i,X))){gy(ce,Ie,u,le);break e}Ae&&Ae(i,ae,X),i==="focusout"&&(Ae=ae._wrapperState)&&Ae.controlled&&ae.type==="number"&&ai(ae,"number",ae.value)}switch(Ae=X?oa(X):window,i){case"focusin":(my(Ae)||Ae.contentEditable==="true")&&(na=Ae,Ud=X,_l=null);break;case"focusout":_l=Ud=na=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,ky(ce,u,le);break;case"selectionchange":if(ux)break;case"keydown":case"keyup":ky(ce,u,le)}var Re;if(Ct)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ta?fy(i,u)&&(Oe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ys&&u.locale!=="ko"&&(ta||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ta&&(Re=dl()):(Vn=le,Wo="value"in Vn?Vn.value:Vn.textContent,ta=!0)),Ae=dc(X,Oe),0<Ae.length&&(Oe=new ml(Oe,i,null,u,le),ce.push({event:Oe,listeners:Ae}),Re?Oe.data=Re:(Re=py(u),Re!==null&&(Oe.data=Re)))),(Re=Fn?Jk(i,u):Zk(i,u))&&(X=dc(X,"onBeforeInput"),0<X.length&&(le=new ml("onBeforeInput","beforeinput",null,u,le),ce.push({event:le,listeners:X}),le.data=Re))}Dy(ce,o)})}function Tl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function dc(i,o){for(var u=o+"Capture",f=[];i!==null;){var g=i,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=Tt(i,u),_!=null&&f.unshift(Tl(i,_,g)),_=Tt(i,o),_!=null&&f.push(Tl(i,_,g))),i=i.return}return f}function ia(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function My(i,o,u,f,g){for(var _=o._reactName,S=[];u!==null&&u!==f;){var M=u,F=M.alternate,X=M.stateNode;if(F!==null&&F===f)break;M.tag===5&&X!==null&&(M=X,g?(F=Tt(u,_),F!=null&&S.unshift(Tl(u,F,M))):g||(F=Tt(u,_),F!=null&&S.push(Tl(u,F,M)))),u=u.return}S.length!==0&&i.push({event:o,listeners:S})}var fx=/\r\n?/g,px=/\u0000|\uFFFD/g;function jy(i){return(typeof i=="string"?i:""+i).replace(fx,`
`).replace(px,"")}function fc(i,o,u){if(o=jy(o),jy(i)!==o&&u)throw Error(n(425))}function pc(){}var Kd=null,Gd=null;function Qd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Yd=typeof setTimeout=="function"?setTimeout:void 0,mx=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,gx=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(i){return Vy.resolve(null).then(i).catch(yx)}:Yd;function yx(i){setTimeout(function(){throw i})}function Xd(i,o){var u=o,f=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){i.removeChild(g),Tr(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);Tr(o)}function Qi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Fy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var sa=Math.random().toString(36).slice(2),Hr="__reactFiber$"+sa,Il="__reactProps$"+sa,pi="__reactContainer$"+sa,Jd="__reactEvents$"+sa,vx="__reactListeners$"+sa,_x="__reactHandles$"+sa;function Xs(i){var o=i[Hr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[pi]||u[Hr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Fy(i);i!==null;){if(u=i[Hr])return u;i=Fy(i)}return o}i=u,u=i.parentNode}return null}function Sl(i){return i=i[Hr]||i[pi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function oa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function mc(i){return i[Il]||null}var Zd=[],aa=-1;function Yi(i){return{current:i}}function ut(i){0>aa||(i.current=Zd[aa],Zd[aa]=null,aa--)}function it(i,o){aa++,Zd[aa]=i.current,i.current=o}var Xi={},en=Yi(Xi),En=Yi(!1),Js=Xi;function la(i,o){var u=i.type.contextTypes;if(!u)return Xi;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in u)g[_]=o[_];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function Tn(i){return i=i.childContextTypes,i!=null}function gc(){ut(En),ut(en)}function Uy(i,o,u){if(en.current!==Xi)throw Error(n(168));it(en,o),it(En,u)}function By(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(n(108,Be(i)||"Unknown",g));return C({},u,f)}function yc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Xi,Js=en.current,it(en,i),it(En,En.current),!0}function zy(i,o,u){var f=i.stateNode;if(!f)throw Error(n(169));u?(i=By(i,o,Js),f.__reactInternalMemoizedMergedChildContext=i,ut(En),ut(en),it(en,i)):ut(En),it(En,u)}var mi=null,vc=!1,ef=!1;function qy(i){mi===null?mi=[i]:mi.push(i)}function wx(i){vc=!0,qy(i)}function Ji(){if(!ef&&mi!==null){ef=!0;var i=0,o=Ke;try{var u=mi;for(Ke=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}mi=null,vc=!1}catch(g){throw mi!==null&&(mi=mi.slice(i+1)),Bo(qs,Ji),g}finally{Ke=o,ef=!1}}return null}var ua=[],ca=0,_c=null,wc=0,er=[],tr=0,Zs=null,gi=1,yi="";function eo(i,o){ua[ca++]=wc,ua[ca++]=_c,_c=i,wc=o}function $y(i,o,u){er[tr++]=gi,er[tr++]=yi,er[tr++]=Zs,Zs=i;var f=gi;i=yi;var g=32-dn(f)-1;f&=~(1<<g),u+=1;var _=32-dn(o)+g;if(30<_){var S=g-g%5;_=(f&(1<<S)-1).toString(32),f>>=S,g-=S,gi=1<<32-dn(o)+g|u<<g|f,yi=_+i}else gi=1<<_|u<<g|f,yi=i}function tf(i){i.return!==null&&(eo(i,1),$y(i,1,0))}function nf(i){for(;i===_c;)_c=ua[--ca],ua[ca]=null,wc=ua[--ca],ua[ca]=null;for(;i===Zs;)Zs=er[--tr],er[tr]=null,yi=er[--tr],er[tr]=null,gi=er[--tr],er[tr]=null}var Un=null,Bn=null,dt=!1,kr=null;function Hy(i,o){var u=sr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Wy(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Un=i,Bn=Qi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Un=i,Bn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Zs!==null?{id:gi,overflow:yi}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=sr(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Un=i,Bn=null,!0):!1;default:return!1}}function rf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function sf(i){if(dt){var o=Bn;if(o){var u=o;if(!Wy(i,o)){if(rf(i))throw Error(n(418));o=Qi(u.nextSibling);var f=Un;o&&Wy(i,o)?Hy(f,u):(i.flags=i.flags&-4097|2,dt=!1,Un=i)}}else{if(rf(i))throw Error(n(418));i.flags=i.flags&-4097|2,dt=!1,Un=i}}}function Ky(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Un=i}function Ec(i){if(i!==Un)return!1;if(!dt)return Ky(i),dt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Qd(i.type,i.memoizedProps)),o&&(o=Bn)){if(rf(i))throw Gy(),Error(n(418));for(;o;)Hy(i,o),o=Qi(o.nextSibling)}if(Ky(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Bn=Qi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Bn=null}}else Bn=Un?Qi(i.stateNode.nextSibling):null;return!0}function Gy(){for(var i=Bn;i;)i=Qi(i.nextSibling)}function ha(){Bn=Un=null,dt=!1}function of(i){kr===null?kr=[i]:kr.push(i)}var Ex=$.ReactCurrentBatchConfig;function kl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,i));var g=f,_=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(S){var M=g.refs;S===null?delete M[_]:M[_]=S},o._stringRef=_,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Tc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Qy(i){var o=i._init;return o(i._payload)}function Yy(i){function o(K,q){if(i){var Q=K.deletions;Q===null?(K.deletions=[q],K.flags|=16):Q.push(q)}}function u(K,q){if(!i)return null;for(;q!==null;)o(K,q),q=q.sibling;return null}function f(K,q){for(K=new Map;q!==null;)q.key!==null?K.set(q.key,q):K.set(q.index,q),q=q.sibling;return K}function g(K,q){return K=os(K,q),K.index=0,K.sibling=null,K}function _(K,q,Q){return K.index=Q,i?(Q=K.alternate,Q!==null?(Q=Q.index,Q<q?(K.flags|=2,q):Q):(K.flags|=2,q)):(K.flags|=1048576,q)}function S(K){return i&&K.alternate===null&&(K.flags|=2),K}function M(K,q,Q,fe){return q===null||q.tag!==6?(q=Xf(Q,K.mode,fe),q.return=K,q):(q=g(q,Q),q.return=K,q)}function F(K,q,Q,fe){var Ie=Q.type;return Ie===V?le(K,q,Q.props.children,fe,Q.key):q!==null&&(q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===ve&&Qy(Ie)===q.type)?(fe=g(q,Q.props),fe.ref=kl(K,q,Q),fe.return=K,fe):(fe=Wc(Q.type,Q.key,Q.props,null,K.mode,fe),fe.ref=kl(K,q,Q),fe.return=K,fe)}function X(K,q,Q,fe){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Jf(Q,K.mode,fe),q.return=K,q):(q=g(q,Q.children||[]),q.return=K,q)}function le(K,q,Q,fe,Ie){return q===null||q.tag!==7?(q=lo(Q,K.mode,fe,Ie),q.return=K,q):(q=g(q,Q),q.return=K,q)}function ce(K,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Xf(""+q,K.mode,Q),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case he:return Q=Wc(q.type,q.key,q.props,null,K.mode,Q),Q.ref=kl(K,null,q),Q.return=K,Q;case G:return q=Jf(q,K.mode,Q),q.return=K,q;case ve:var fe=q._init;return ce(K,fe(q._payload),Q)}if(Gn(q)||pe(q))return q=lo(q,K.mode,Q,null),q.return=K,q;Tc(K,q)}return null}function ae(K,q,Q,fe){var Ie=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ie!==null?null:M(K,q,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case he:return Q.key===Ie?F(K,q,Q,fe):null;case G:return Q.key===Ie?X(K,q,Q,fe):null;case ve:return Ie=Q._init,ae(K,q,Ie(Q._payload),fe)}if(Gn(Q)||pe(Q))return Ie!==null?null:le(K,q,Q,fe,null);Tc(K,Q)}return null}function ge(K,q,Q,fe,Ie){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return K=K.get(Q)||null,M(q,K,""+fe,Ie);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case he:return K=K.get(fe.key===null?Q:fe.key)||null,F(q,K,fe,Ie);case G:return K=K.get(fe.key===null?Q:fe.key)||null,X(q,K,fe,Ie);case ve:var Ae=fe._init;return ge(K,q,Q,Ae(fe._payload),Ie)}if(Gn(fe)||pe(fe))return K=K.get(Q)||null,le(q,K,fe,Ie,null);Tc(q,fe)}return null}function Ee(K,q,Q,fe){for(var Ie=null,Ae=null,Re=q,Oe=q=0,qt=null;Re!==null&&Oe<Q.length;Oe++){Re.index>Oe?(qt=Re,Re=null):qt=Re.sibling;var Je=ae(K,Re,Q[Oe],fe);if(Je===null){Re===null&&(Re=qt);break}i&&Re&&Je.alternate===null&&o(K,Re),q=_(Je,q,Oe),Ae===null?Ie=Je:Ae.sibling=Je,Ae=Je,Re=qt}if(Oe===Q.length)return u(K,Re),dt&&eo(K,Oe),Ie;if(Re===null){for(;Oe<Q.length;Oe++)Re=ce(K,Q[Oe],fe),Re!==null&&(q=_(Re,q,Oe),Ae===null?Ie=Re:Ae.sibling=Re,Ae=Re);return dt&&eo(K,Oe),Ie}for(Re=f(K,Re);Oe<Q.length;Oe++)qt=ge(Re,K,Oe,Q[Oe],fe),qt!==null&&(i&&qt.alternate!==null&&Re.delete(qt.key===null?Oe:qt.key),q=_(qt,q,Oe),Ae===null?Ie=qt:Ae.sibling=qt,Ae=qt);return i&&Re.forEach(function(as){return o(K,as)}),dt&&eo(K,Oe),Ie}function Te(K,q,Q,fe){var Ie=pe(Q);if(typeof Ie!="function")throw Error(n(150));if(Q=Ie.call(Q),Q==null)throw Error(n(151));for(var Ae=Ie=null,Re=q,Oe=q=0,qt=null,Je=Q.next();Re!==null&&!Je.done;Oe++,Je=Q.next()){Re.index>Oe?(qt=Re,Re=null):qt=Re.sibling;var as=ae(K,Re,Je.value,fe);if(as===null){Re===null&&(Re=qt);break}i&&Re&&as.alternate===null&&o(K,Re),q=_(as,q,Oe),Ae===null?Ie=as:Ae.sibling=as,Ae=as,Re=qt}if(Je.done)return u(K,Re),dt&&eo(K,Oe),Ie;if(Re===null){for(;!Je.done;Oe++,Je=Q.next())Je=ce(K,Je.value,fe),Je!==null&&(q=_(Je,q,Oe),Ae===null?Ie=Je:Ae.sibling=Je,Ae=Je);return dt&&eo(K,Oe),Ie}for(Re=f(K,Re);!Je.done;Oe++,Je=Q.next())Je=ge(Re,K,Oe,Je.value,fe),Je!==null&&(i&&Je.alternate!==null&&Re.delete(Je.key===null?Oe:Je.key),q=_(Je,q,Oe),Ae===null?Ie=Je:Ae.sibling=Je,Ae=Je);return i&&Re.forEach(function(eC){return o(K,eC)}),dt&&eo(K,Oe),Ie}function It(K,q,Q,fe){if(typeof Q=="object"&&Q!==null&&Q.type===V&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case he:e:{for(var Ie=Q.key,Ae=q;Ae!==null;){if(Ae.key===Ie){if(Ie=Q.type,Ie===V){if(Ae.tag===7){u(K,Ae.sibling),q=g(Ae,Q.props.children),q.return=K,K=q;break e}}else if(Ae.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===ve&&Qy(Ie)===Ae.type){u(K,Ae.sibling),q=g(Ae,Q.props),q.ref=kl(K,Ae,Q),q.return=K,K=q;break e}u(K,Ae);break}else o(K,Ae);Ae=Ae.sibling}Q.type===V?(q=lo(Q.props.children,K.mode,fe,Q.key),q.return=K,K=q):(fe=Wc(Q.type,Q.key,Q.props,null,K.mode,fe),fe.ref=kl(K,q,Q),fe.return=K,K=fe)}return S(K);case G:e:{for(Ae=Q.key;q!==null;){if(q.key===Ae)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){u(K,q.sibling),q=g(q,Q.children||[]),q.return=K,K=q;break e}else{u(K,q);break}else o(K,q);q=q.sibling}q=Jf(Q,K.mode,fe),q.return=K,K=q}return S(K);case ve:return Ae=Q._init,It(K,q,Ae(Q._payload),fe)}if(Gn(Q))return Ee(K,q,Q,fe);if(pe(Q))return Te(K,q,Q,fe);Tc(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,q!==null&&q.tag===6?(u(K,q.sibling),q=g(q,Q),q.return=K,K=q):(u(K,q),q=Xf(Q,K.mode,fe),q.return=K,K=q),S(K)):u(K,q)}return It}var da=Yy(!0),Xy=Yy(!1),Ic=Yi(null),Sc=null,fa=null,af=null;function lf(){af=fa=Sc=null}function uf(i){var o=Ic.current;ut(Ic),i._currentValue=o}function cf(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function pa(i,o){Sc=i,af=fa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(In=!0),i.firstContext=null)}function nr(i){var o=i._currentValue;if(af!==i)if(i={context:i,memoizedValue:o,next:null},fa===null){if(Sc===null)throw Error(n(308));fa=i,Sc.dependencies={lanes:0,firstContext:i}}else fa=fa.next=i;return o}var to=null;function hf(i){to===null?to=[i]:to.push(i)}function Jy(i,o,u,f){var g=o.interleaved;return g===null?(u.next=u,hf(o)):(u.next=g.next,g.next=u),o.interleaved=u,vi(i,f)}function vi(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Zi=!1;function df(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function _i(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function es(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Xe&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,vi(i,u)}return g=f.interleaved,g===null?(o.next=o,hf(f)):(o.next=g.next,g.next=o),f.interleaved=o,vi(i,u)}function kc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,qi(i,u)}}function ev(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?g=_=S:_=_.next=S,u=u.next}while(u!==null);_===null?g=_=o:_=_.next=o}else g=_=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function xc(i,o,u,f){var g=i.updateQueue;Zi=!1;var _=g.firstBaseUpdate,S=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var F=M,X=F.next;F.next=null,S===null?_=X:S.next=X,S=F;var le=i.alternate;le!==null&&(le=le.updateQueue,M=le.lastBaseUpdate,M!==S&&(M===null?le.firstBaseUpdate=X:M.next=X,le.lastBaseUpdate=F))}if(_!==null){var ce=g.baseState;S=0,le=X=F=null,M=_;do{var ae=M.lane,ge=M.eventTime;if((f&ae)===ae){le!==null&&(le=le.next={eventTime:ge,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ee=i,Te=M;switch(ae=o,ge=u,Te.tag){case 1:if(Ee=Te.payload,typeof Ee=="function"){ce=Ee.call(ge,ce,ae);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Te.payload,ae=typeof Ee=="function"?Ee.call(ge,ce,ae):Ee,ae==null)break e;ce=C({},ce,ae);break e;case 2:Zi=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,ae=g.effects,ae===null?g.effects=[M]:ae.push(M))}else ge={eventTime:ge,lane:ae,tag:M.tag,payload:M.payload,callback:M.callback,next:null},le===null?(X=le=ge,F=ce):le=le.next=ge,S|=ae;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;ae=M,M=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);if(le===null&&(F=ce),g.baseState=F,g.firstBaseUpdate=X,g.lastBaseUpdate=le,o=g.shared.interleaved,o!==null){g=o;do S|=g.lane,g=g.next;while(g!==o)}else _===null&&(g.shared.lanes=0);io|=S,i.lanes=S,i.memoizedState=ce}}function tv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var xl={},Wr=Yi(xl),Cl=Yi(xl),Al=Yi(xl);function no(i){if(i===xl)throw Error(n(174));return i}function ff(i,o){switch(it(Al,o),it(Cl,i),it(Wr,xl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ue(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ue(o,i)}ut(Wr),it(Wr,o)}function ma(){ut(Wr),ut(Cl),ut(Al)}function nv(i){no(Al.current);var o=no(Wr.current),u=ue(o,i.type);o!==u&&(it(Cl,i),it(Wr,u))}function pf(i){Cl.current===i&&(ut(Wr),ut(Cl))}var mt=Yi(0);function Cc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var mf=[];function gf(){for(var i=0;i<mf.length;i++)mf[i]._workInProgressVersionPrimary=null;mf.length=0}var Ac=$.ReactCurrentDispatcher,yf=$.ReactCurrentBatchConfig,ro=0,gt=null,Lt=null,Bt=null,Rc=!1,Rl=!1,bl=0,Tx=0;function tn(){throw Error(n(321))}function vf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Sr(i[u],o[u]))return!1;return!0}function _f(i,o,u,f,g,_){if(ro=_,gt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ac.current=i===null||i.memoizedState===null?xx:Cx,i=u(f,g),Rl){_=0;do{if(Rl=!1,bl=0,25<=_)throw Error(n(301));_+=1,Bt=Lt=null,o.updateQueue=null,Ac.current=Ax,i=u(f,g)}while(Rl)}if(Ac.current=Nc,o=Lt!==null&&Lt.next!==null,ro=0,Bt=Lt=gt=null,Rc=!1,o)throw Error(n(300));return i}function wf(){var i=bl!==0;return bl=0,i}function Kr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?gt.memoizedState=Bt=i:Bt=Bt.next=i,Bt}function rr(){if(Lt===null){var i=gt.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var o=Bt===null?gt.memoizedState:Bt.next;if(o!==null)Bt=o,Lt=i;else{if(i===null)throw Error(n(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Bt===null?gt.memoizedState=Bt=i:Bt=Bt.next=i}return Bt}function Pl(i,o){return typeof o=="function"?o(i):o}function Ef(i){var o=rr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=Lt,g=f.baseQueue,_=u.pending;if(_!==null){if(g!==null){var S=g.next;g.next=_.next,_.next=S}f.baseQueue=g=_,u.pending=null}if(g!==null){_=g.next,f=f.baseState;var M=S=null,F=null,X=_;do{var le=X.lane;if((ro&le)===le)F!==null&&(F=F.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:i(f,X.action);else{var ce={lane:le,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};F===null?(M=F=ce,S=f):F=F.next=ce,gt.lanes|=le,io|=le}X=X.next}while(X!==null&&X!==_);F===null?S=f:F.next=M,Sr(f,o.memoizedState)||(In=!0),o.memoizedState=f,o.baseState=S,o.baseQueue=F,u.lastRenderedState=f}if(i=u.interleaved,i!==null){g=i;do _=g.lane,gt.lanes|=_,io|=_,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Tf(i){var o=rr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,g=u.pending,_=o.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do _=i(_,S.action),S=S.next;while(S!==g);Sr(_,o.memoizedState)||(In=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function rv(){}function iv(i,o){var u=gt,f=rr(),g=o(),_=!Sr(f.memoizedState,g);if(_&&(f.memoizedState=g,In=!0),f=f.queue,If(av.bind(null,u,f,i),[i]),f.getSnapshot!==o||_||Bt!==null&&Bt.memoizedState.tag&1){if(u.flags|=2048,Nl(9,ov.bind(null,u,f,g,o),void 0,null),zt===null)throw Error(n(349));(ro&30)!==0||sv(u,o,g)}return g}function sv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=gt.updateQueue,o===null?(o={lastEffect:null,stores:null},gt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function ov(i,o,u,f){o.value=u,o.getSnapshot=f,lv(o)&&uv(i)}function av(i,o,u){return u(function(){lv(o)&&uv(i)})}function lv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Sr(i,u)}catch{return!0}}function uv(i){var o=vi(i,1);o!==null&&Rr(o,i,1,-1)}function cv(i){var o=Kr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:i},o.queue=i,i=i.dispatch=kx.bind(null,gt,i),[o.memoizedState,i]}function Nl(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=gt.updateQueue,o===null?(o={lastEffect:null,stores:null},gt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function hv(){return rr().memoizedState}function bc(i,o,u,f){var g=Kr();gt.flags|=i,g.memoizedState=Nl(1|o,u,void 0,f===void 0?null:f)}function Pc(i,o,u,f){var g=rr();f=f===void 0?null:f;var _=void 0;if(Lt!==null){var S=Lt.memoizedState;if(_=S.destroy,f!==null&&vf(f,S.deps)){g.memoizedState=Nl(o,u,_,f);return}}gt.flags|=i,g.memoizedState=Nl(1|o,u,_,f)}function dv(i,o){return bc(8390656,8,i,o)}function If(i,o){return Pc(2048,8,i,o)}function fv(i,o){return Pc(4,2,i,o)}function pv(i,o){return Pc(4,4,i,o)}function mv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function gv(i,o,u){return u=u!=null?u.concat([i]):null,Pc(4,4,mv.bind(null,o,i),u)}function Sf(){}function yv(i,o){var u=rr();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&vf(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function vv(i,o){var u=rr();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&vf(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function _v(i,o,u){return(ro&21)===0?(i.baseState&&(i.baseState=!1,In=!0),i.memoizedState=u):(Sr(u,o)||(u=Ws(),gt.lanes|=u,io|=u,i.baseState=!0),o)}function Ix(i,o){var u=Ke;Ke=u!==0&&4>u?u:4,i(!0);var f=yf.transition;yf.transition={};try{i(!1),o()}finally{Ke=u,yf.transition=f}}function wv(){return rr().memoizedState}function Sx(i,o,u){var f=is(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Ev(i))Tv(o,u);else if(u=Jy(i,o,u,f),u!==null){var g=mn();Rr(u,i,f,g),Iv(u,o,f)}}function kx(i,o,u){var f=is(i),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ev(i))Tv(o,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var S=o.lastRenderedState,M=_(S,u);if(g.hasEagerState=!0,g.eagerState=M,Sr(M,S)){var F=o.interleaved;F===null?(g.next=g,hf(o)):(g.next=F.next,F.next=g),o.interleaved=g;return}}catch{}finally{}u=Jy(i,o,g,f),u!==null&&(g=mn(),Rr(u,i,f,g),Iv(u,o,f))}}function Ev(i){var o=i.alternate;return i===gt||o!==null&&o===gt}function Tv(i,o){Rl=Rc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Iv(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,qi(i,u)}}var Nc={readContext:nr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},xx={readContext:nr,useCallback:function(i,o){return Kr().memoizedState=[i,o===void 0?null:o],i},useContext:nr,useEffect:dv,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,bc(4194308,4,mv.bind(null,o,i),u)},useLayoutEffect:function(i,o){return bc(4194308,4,i,o)},useInsertionEffect:function(i,o){return bc(4,2,i,o)},useMemo:function(i,o){var u=Kr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Kr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=Sx.bind(null,gt,i),[f.memoizedState,i]},useRef:function(i){var o=Kr();return i={current:i},o.memoizedState=i},useState:cv,useDebugValue:Sf,useDeferredValue:function(i){return Kr().memoizedState=i},useTransition:function(){var i=cv(!1),o=i[0];return i=Ix.bind(null,i[1]),Kr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=gt,g=Kr();if(dt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),zt===null)throw Error(n(349));(ro&30)!==0||sv(f,o,u)}g.memoizedState=u;var _={value:u,getSnapshot:o};return g.queue=_,dv(av.bind(null,f,_,i),[i]),f.flags|=2048,Nl(9,ov.bind(null,f,_,u,o),void 0,null),u},useId:function(){var i=Kr(),o=zt.identifierPrefix;if(dt){var u=yi,f=gi;u=(f&~(1<<32-dn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=bl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Tx++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Cx={readContext:nr,useCallback:yv,useContext:nr,useEffect:If,useImperativeHandle:gv,useInsertionEffect:fv,useLayoutEffect:pv,useMemo:vv,useReducer:Ef,useRef:hv,useState:function(){return Ef(Pl)},useDebugValue:Sf,useDeferredValue:function(i){var o=rr();return _v(o,Lt.memoizedState,i)},useTransition:function(){var i=Ef(Pl)[0],o=rr().memoizedState;return[i,o]},useMutableSource:rv,useSyncExternalStore:iv,useId:wv,unstable_isNewReconciler:!1},Ax={readContext:nr,useCallback:yv,useContext:nr,useEffect:If,useImperativeHandle:gv,useInsertionEffect:fv,useLayoutEffect:pv,useMemo:vv,useReducer:Tf,useRef:hv,useState:function(){return Tf(Pl)},useDebugValue:Sf,useDeferredValue:function(i){var o=rr();return Lt===null?o.memoizedState=i:_v(o,Lt.memoizedState,i)},useTransition:function(){var i=Tf(Pl)[0],o=rr().memoizedState;return[i,o]},useMutableSource:rv,useSyncExternalStore:iv,useId:wv,unstable_isNewReconciler:!1};function xr(i,o){if(i&&i.defaultProps){o=C({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function kf(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:C({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Oc={isMounted:function(i){return(i=i._reactInternals)?yr(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=mn(),g=is(i),_=_i(f,g);_.payload=o,u!=null&&(_.callback=u),o=es(i,_,g),o!==null&&(Rr(o,i,g,f),kc(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=mn(),g=is(i),_=_i(f,g);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=es(i,_,g),o!==null&&(Rr(o,i,g,f),kc(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=mn(),f=is(i),g=_i(u,f);g.tag=2,o!=null&&(g.callback=o),o=es(i,g,f),o!==null&&(Rr(o,i,f,u),kc(o,i,f))}};function Sv(i,o,u,f,g,_,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,_,S):o.prototype&&o.prototype.isPureReactComponent?!vl(u,f)||!vl(g,_):!0}function kv(i,o,u){var f=!1,g=Xi,_=o.contextType;return typeof _=="object"&&_!==null?_=nr(_):(g=Tn(o)?Js:en.current,f=o.contextTypes,_=(f=f!=null)?la(i,g):Xi),o=new o(u,_),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Oc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=_),o}function xv(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Oc.enqueueReplaceState(o,o.state,null)}function xf(i,o,u,f){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},df(i);var _=o.contextType;typeof _=="object"&&_!==null?g.context=nr(_):(_=Tn(o)?Js:en.current,g.context=la(i,_)),g.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(kf(i,o,_,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Oc.enqueueReplaceState(g,g.state,null),xc(i,u,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function ga(i,o){try{var u="",f=o;do u+=Ne(f),f=f.return;while(f);var g=u}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:o,stack:g,digest:null}}function Cf(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Af(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Rx=typeof WeakMap=="function"?WeakMap:Map;function Cv(i,o,u){u=_i(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Uc||(Uc=!0,qf=f),Af(i,o)},u}function Av(i,o,u){u=_i(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;u.payload=function(){return f(g)},u.callback=function(){Af(i,o)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Af(i,o),typeof f!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),u}function Rv(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new Rx;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(g.add(u),i=qx.bind(null,i,o,u),o.then(i,i))}function bv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Pv(i,o,u,f,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=_i(-1,1),o.tag=2,es(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var bx=$.ReactCurrentOwner,In=!1;function pn(i,o,u,f){o.child=i===null?Xy(o,null,u,f):da(o,i.child,u,f)}function Nv(i,o,u,f,g){u=u.render;var _=o.ref;return pa(o,g),f=_f(i,o,u,f,_,g),u=wf(),i!==null&&!In?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,wi(i,o,g)):(dt&&u&&tf(o),o.flags|=1,pn(i,o,f,g),o.child)}function Ov(i,o,u,f,g){if(i===null){var _=u.type;return typeof _=="function"&&!Yf(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,Dv(i,o,_,f,g)):(i=Wc(u.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,(i.lanes&g)===0){var S=_.memoizedProps;if(u=u.compare,u=u!==null?u:vl,u(S,f)&&i.ref===o.ref)return wi(i,o,g)}return o.flags|=1,i=os(_,f),i.ref=o.ref,i.return=o,o.child=i}function Dv(i,o,u,f,g){if(i!==null){var _=i.memoizedProps;if(vl(_,f)&&i.ref===o.ref)if(In=!1,o.pendingProps=f=_,(i.lanes&g)!==0)(i.flags&131072)!==0&&(In=!0);else return o.lanes=i.lanes,wi(i,o,g)}return Rf(i,o,u,f,g)}function Lv(i,o,u){var f=o.pendingProps,g=f.children,_=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(va,zn),zn|=u;else{if((u&1073741824)===0)return i=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,it(va,zn),zn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,it(va,zn),zn|=f}else _!==null?(f=_.baseLanes|u,o.memoizedState=null):f=u,it(va,zn),zn|=f;return pn(i,o,g,u),o.child}function Mv(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Rf(i,o,u,f,g){var _=Tn(u)?Js:en.current;return _=la(o,_),pa(o,g),u=_f(i,o,u,f,_,g),f=wf(),i!==null&&!In?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,wi(i,o,g)):(dt&&f&&tf(o),o.flags|=1,pn(i,o,u,g),o.child)}function jv(i,o,u,f,g){if(Tn(u)){var _=!0;yc(o)}else _=!1;if(pa(o,g),o.stateNode===null)Lc(i,o),kv(o,u,f),xf(o,u,f,g),f=!0;else if(i===null){var S=o.stateNode,M=o.memoizedProps;S.props=M;var F=S.context,X=u.contextType;typeof X=="object"&&X!==null?X=nr(X):(X=Tn(u)?Js:en.current,X=la(o,X));var le=u.getDerivedStateFromProps,ce=typeof le=="function"||typeof S.getSnapshotBeforeUpdate=="function";ce||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==f||F!==X)&&xv(o,S,f,X),Zi=!1;var ae=o.memoizedState;S.state=ae,xc(o,f,S,g),F=o.memoizedState,M!==f||ae!==F||En.current||Zi?(typeof le=="function"&&(kf(o,u,le,f),F=o.memoizedState),(M=Zi||Sv(o,u,M,f,ae,F,X))?(ce||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=F),S.props=f,S.state=F,S.context=X,f=M):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{S=o.stateNode,Zy(i,o),M=o.memoizedProps,X=o.type===o.elementType?M:xr(o.type,M),S.props=X,ce=o.pendingProps,ae=S.context,F=u.contextType,typeof F=="object"&&F!==null?F=nr(F):(F=Tn(u)?Js:en.current,F=la(o,F));var ge=u.getDerivedStateFromProps;(le=typeof ge=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==ce||ae!==F)&&xv(o,S,f,F),Zi=!1,ae=o.memoizedState,S.state=ae,xc(o,f,S,g);var Ee=o.memoizedState;M!==ce||ae!==Ee||En.current||Zi?(typeof ge=="function"&&(kf(o,u,ge,f),Ee=o.memoizedState),(X=Zi||Sv(o,u,X,f,ae,Ee,F)||!1)?(le||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,Ee,F),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,Ee,F)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Ee),S.props=f,S.state=Ee,S.context=F,f=X):(typeof S.componentDidUpdate!="function"||M===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),f=!1)}return bf(i,o,u,f,_,g)}function bf(i,o,u,f,g,_){Mv(i,o);var S=(o.flags&128)!==0;if(!f&&!S)return g&&zy(o,u,!1),wi(i,o,_);f=o.stateNode,bx.current=o;var M=S&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&S?(o.child=da(o,i.child,null,_),o.child=da(o,null,M,_)):pn(i,o,M,_),o.memoizedState=f.state,g&&zy(o,u,!0),o.child}function Vv(i){var o=i.stateNode;o.pendingContext?Uy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Uy(i,o.context,!1),ff(i,o.containerInfo)}function Fv(i,o,u,f,g){return ha(),of(g),o.flags|=256,pn(i,o,u,f),o.child}var Pf={dehydrated:null,treeContext:null,retryLane:0};function Nf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Uv(i,o,u){var f=o.pendingProps,g=mt.current,_=!1,S=(o.flags&128)!==0,M;if((M=S)||(M=i!==null&&i.memoizedState===null?!1:(g&2)!==0),M?(_=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),it(mt,g&1),i===null)return sf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=f.children,i=f.fallback,_?(f=o.mode,_=o.child,S={mode:"hidden",children:S},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=S):_=Kc(S,f,0,null),i=lo(i,f,u,null),_.return=o,i.return=o,_.sibling=i,o.child=_,o.child.memoizedState=Nf(u),o.memoizedState=Pf,i):Of(o,S));if(g=i.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return Px(i,o,S,f,M,g,u);if(_){_=f.fallback,S=o.mode,g=i.child,M=g.sibling;var F={mode:"hidden",children:f.children};return(S&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=F,o.deletions=null):(f=os(g,F),f.subtreeFlags=g.subtreeFlags&14680064),M!==null?_=os(M,_):(_=lo(_,S,u,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,S=i.child.memoizedState,S=S===null?Nf(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},_.memoizedState=S,_.childLanes=i.childLanes&~u,o.memoizedState=Pf,f}return _=i.child,i=_.sibling,f=os(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Of(i,o){return o=Kc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Dc(i,o,u,f){return f!==null&&of(f),da(o,i.child,null,u),i=Of(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Px(i,o,u,f,g,_,S){if(u)return o.flags&256?(o.flags&=-257,f=Cf(Error(n(422))),Dc(i,o,S,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_=f.fallback,g=o.mode,f=Kc({mode:"visible",children:f.children},g,0,null),_=lo(_,g,S,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&da(o,i.child,null,S),o.child.memoizedState=Nf(S),o.memoizedState=Pf,_);if((o.mode&1)===0)return Dc(i,o,S,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var M=f.dgst;return f=M,_=Error(n(419)),f=Cf(_,f,void 0),Dc(i,o,S,f)}if(M=(S&i.childLanes)!==0,In||M){if(f=zt,f!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|S))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,vi(i,g),Rr(f,i,g,-1))}return Qf(),f=Cf(Error(n(421))),Dc(i,o,S,f)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=$x.bind(null,i),g._reactRetry=o,null):(i=_.treeContext,Bn=Qi(g.nextSibling),Un=o,dt=!0,kr=null,i!==null&&(er[tr++]=gi,er[tr++]=yi,er[tr++]=Zs,gi=i.id,yi=i.overflow,Zs=o),o=Of(o,f.children),o.flags|=4096,o)}function Bv(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),cf(i.return,o,u)}function Df(i,o,u,f,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=g)}function zv(i,o,u){var f=o.pendingProps,g=f.revealOrder,_=f.tail;if(pn(i,o,f.children,u),f=mt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Bv(i,u,o);else if(i.tag===19)Bv(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(it(mt,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&Cc(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Df(o,!1,g,u,_);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Cc(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}Df(o,!0,u,null,_);break;case"together":Df(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Lc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function wi(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),io|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=os(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=os(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Nx(i,o,u){switch(o.tag){case 3:Vv(o),ha();break;case 5:nv(o);break;case 1:Tn(o.type)&&yc(o);break;case 4:ff(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;it(Ic,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(it(mt,mt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Uv(i,o,u):(it(mt,mt.current&1),i=wi(i,o,u),i!==null?i.sibling:null);it(mt,mt.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return zv(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),it(mt,mt.current),f)break;return null;case 22:case 23:return o.lanes=0,Lv(i,o,u)}return wi(i,o,u)}var qv,Lf,$v,Hv;qv=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Lf=function(){},$v=function(i,o,u,f){var g=i.memoizedProps;if(g!==f){i=o.stateNode,no(Wr.current);var _=null;switch(u){case"input":g=si(i,g),f=si(i,f),_=[];break;case"select":g=C({},g,{value:void 0}),f=C({},f,{value:void 0}),_=[];break;case"textarea":g=js(i,g),f=js(i,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=pc)}Ot(u,f);var S;u=null;for(X in g)if(!f.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var M=g[X];for(S in M)M.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?_||(_=[]):(_=_||[]).push(X,null));for(X in f){var F=f[X];if(M=g!=null?g[X]:void 0,f.hasOwnProperty(X)&&F!==M&&(F!=null||M!=null))if(X==="style")if(M){for(S in M)!M.hasOwnProperty(S)||F&&F.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in F)F.hasOwnProperty(S)&&M[S]!==F[S]&&(u||(u={}),u[S]=F[S])}else u||(_||(_=[]),_.push(X,u)),u=F;else X==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,M=M?M.__html:void 0,F!=null&&M!==F&&(_=_||[]).push(X,F)):X==="children"?typeof F!="string"&&typeof F!="number"||(_=_||[]).push(X,""+F):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(F!=null&&X==="onScroll"&&lt("scroll",i),_||M===F||(_=[])):(_=_||[]).push(X,F))}u&&(_=_||[]).push("style",u);var X=_;(o.updateQueue=X)&&(o.flags|=4)}},Hv=function(i,o,u,f){u!==f&&(o.flags|=4)};function Ol(i,o){if(!dt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function nn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function Ox(i,o,u){var f=o.pendingProps;switch(nf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(o),null;case 1:return Tn(o.type)&&gc(),nn(o),null;case 3:return f=o.stateNode,ma(),ut(En),ut(en),gf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Ec(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,kr!==null&&(Wf(kr),kr=null))),Lf(i,o),nn(o),null;case 5:pf(o);var g=no(Al.current);if(u=o.type,i!==null&&o.stateNode!=null)$v(i,o,u,f,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return nn(o),null}if(i=no(Wr.current),Ec(o)){f=o.stateNode,u=o.type;var _=o.memoizedProps;switch(f[Hr]=o,f[Il]=_,i=(o.mode&1)!==0,u){case"dialog":lt("cancel",f),lt("close",f);break;case"iframe":case"object":case"embed":lt("load",f);break;case"video":case"audio":for(g=0;g<wl.length;g++)lt(wl[g],f);break;case"source":lt("error",f);break;case"img":case"image":case"link":lt("error",f),lt("load",f);break;case"details":lt("toggle",f);break;case"input":oi(f,_),lt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},lt("invalid",f);break;case"textarea":ji(f,_),lt("invalid",f)}Ot(u,_),g=null;for(var S in _)if(_.hasOwnProperty(S)){var M=_[S];S==="children"?typeof M=="string"?f.textContent!==M&&(_.suppressHydrationWarning!==!0&&fc(f.textContent,M,i),g=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(_.suppressHydrationWarning!==!0&&fc(f.textContent,M,i),g=["children",""+M]):s.hasOwnProperty(S)&&M!=null&&S==="onScroll"&&lt("scroll",f)}switch(u){case"input":vn(f),Oo(f,_,!0);break;case"textarea":vn(f),Vs(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=pc)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ee(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=S.createElement(u,{is:f.is}):(i=S.createElement(u),u==="select"&&(S=i,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):i=S.createElementNS(i,u),i[Hr]=o,i[Il]=f,qv(i,o,!1,!1),o.stateNode=i;e:{switch(S=Qn(u,f),u){case"dialog":lt("cancel",i),lt("close",i),g=f;break;case"iframe":case"object":case"embed":lt("load",i),g=f;break;case"video":case"audio":for(g=0;g<wl.length;g++)lt(wl[g],i);g=f;break;case"source":lt("error",i),g=f;break;case"img":case"image":case"link":lt("error",i),lt("load",i),g=f;break;case"details":lt("toggle",i),g=f;break;case"input":oi(i,f),g=si(i,f),lt("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=C({},f,{value:void 0}),lt("invalid",i);break;case"textarea":ji(i,f),g=js(i,f),lt("invalid",i);break;default:g=f}Ot(u,g),M=g;for(_ in M)if(M.hasOwnProperty(_)){var F=M[_];_==="style"?fr(i,F):_==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Fe(i,F)):_==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&$e(i,F):typeof F=="number"&&$e(i,""+F):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?F!=null&&_==="onScroll"&&lt("scroll",i):F!=null&&z(i,_,F,S))}switch(u){case"input":vn(i),Oo(i,f,!1);break;case"textarea":vn(i),Vs(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Ue(f.value));break;case"select":i.multiple=!!f.multiple,_=f.value,_!=null?dr(i,!!f.multiple,_,!1):f.defaultValue!=null&&dr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=pc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return nn(o),null;case 6:if(i&&o.stateNode!=null)Hv(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=no(Al.current),no(Wr.current),Ec(o)){if(f=o.stateNode,u=o.memoizedProps,f[Hr]=o,(_=f.nodeValue!==u)&&(i=Un,i!==null))switch(i.tag){case 3:fc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&fc(f.nodeValue,u,(i.mode&1)!==0)}_&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Hr]=o,o.stateNode=f}return nn(o),null;case 13:if(ut(mt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(dt&&Bn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Gy(),ha(),o.flags|=98560,_=!1;else if(_=Ec(o),f!==null&&f.dehydrated!==null){if(i===null){if(!_)throw Error(n(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Hr]=o}else ha(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;nn(o),_=!1}else kr!==null&&(Wf(kr),kr=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(mt.current&1)!==0?Mt===0&&(Mt=3):Qf())),o.updateQueue!==null&&(o.flags|=4),nn(o),null);case 4:return ma(),Lf(i,o),i===null&&El(o.stateNode.containerInfo),nn(o),null;case 10:return uf(o.type._context),nn(o),null;case 17:return Tn(o.type)&&gc(),nn(o),null;case 19:if(ut(mt),_=o.memoizedState,_===null)return nn(o),null;if(f=(o.flags&128)!==0,S=_.rendering,S===null)if(f)Ol(_,!1);else{if(Mt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=Cc(i),S!==null){for(o.flags|=128,Ol(_,!1),f=S.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)_=u,i=f,_.flags&=14680066,S=_.alternate,S===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=S.childLanes,_.lanes=S.lanes,_.child=S.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=S.memoizedProps,_.memoizedState=S.memoizedState,_.updateQueue=S.updateQueue,_.type=S.type,i=S.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return it(mt,mt.current&1|2),o.child}i=i.sibling}_.tail!==null&&rt()>_a&&(o.flags|=128,f=!0,Ol(_,!1),o.lanes=4194304)}else{if(!f)if(i=Cc(S),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Ol(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!dt)return nn(o),null}else 2*rt()-_.renderingStartTime>_a&&u!==1073741824&&(o.flags|=128,f=!0,Ol(_,!1),o.lanes=4194304);_.isBackwards?(S.sibling=o.child,o.child=S):(u=_.last,u!==null?u.sibling=S:o.child=S,_.last=S)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=rt(),o.sibling=null,u=mt.current,it(mt,f?u&1|2:u&1),o):(nn(o),null);case 22:case 23:return Gf(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(zn&1073741824)!==0&&(nn(o),o.subtreeFlags&6&&(o.flags|=8192)):nn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Dx(i,o){switch(nf(o),o.tag){case 1:return Tn(o.type)&&gc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ma(),ut(En),ut(en),gf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return pf(o),null;case 13:if(ut(mt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ha()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ut(mt),null;case 4:return ma(),null;case 10:return uf(o.type._context),null;case 22:case 23:return Gf(),null;case 24:return null;default:return null}}var Mc=!1,rn=!1,Lx=typeof WeakSet=="function"?WeakSet:Set,_e=null;function ya(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){_t(i,o,f)}else u.current=null}function Mf(i,o,u){try{u()}catch(f){_t(i,o,f)}}var Wv=!1;function Mx(i,o){if(Kd=Wi,i=Sy(),Fd(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var S=0,M=-1,F=-1,X=0,le=0,ce=i,ae=null;t:for(;;){for(var ge;ce!==u||g!==0&&ce.nodeType!==3||(M=S+g),ce!==_||f!==0&&ce.nodeType!==3||(F=S+f),ce.nodeType===3&&(S+=ce.nodeValue.length),(ge=ce.firstChild)!==null;)ae=ce,ce=ge;for(;;){if(ce===i)break t;if(ae===u&&++X===g&&(M=S),ae===_&&++le===f&&(F=S),(ge=ce.nextSibling)!==null)break;ce=ae,ae=ce.parentNode}ce=ge}u=M===-1||F===-1?null:{start:M,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Gd={focusedElem:i,selectionRange:u},Wi=!1,_e=o;_e!==null;)if(o=_e,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,_e=i;else for(;_e!==null;){o=_e;try{var Ee=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Te=Ee.memoizedProps,It=Ee.memoizedState,K=o.stateNode,q=K.getSnapshotBeforeUpdate(o.elementType===o.type?Te:xr(o.type,Te),It);K.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){_t(o,o.return,fe)}if(i=o.sibling,i!==null){i.return=o.return,_e=i;break}_e=o.return}return Ee=Wv,Wv=!1,Ee}function Dl(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var _=g.destroy;g.destroy=void 0,_!==void 0&&Mf(o,u,_)}g=g.next}while(g!==f)}}function jc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function jf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Kv(i){var o=i.alternate;o!==null&&(i.alternate=null,Kv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Hr],delete o[Il],delete o[Jd],delete o[vx],delete o[_x])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Gv(i){return i.tag===5||i.tag===3||i.tag===4}function Qv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Gv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=pc));else if(f!==4&&(i=i.child,i!==null))for(Vf(i,o,u),i=i.sibling;i!==null;)Vf(i,o,u),i=i.sibling}function Ff(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Ff(i,o,u),i=i.sibling;i!==null;)Ff(i,o,u),i=i.sibling}var Gt=null,Cr=!1;function ts(i,o,u){for(u=u.child;u!==null;)Yv(i,o,u),u=u.sibling}function Yv(i,o,u){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount($s,u)}catch{}switch(u.tag){case 5:rn||ya(u,o);case 6:var f=Gt,g=Cr;Gt=null,ts(i,o,u),Gt=f,Cr=g,Gt!==null&&(Cr?(i=Gt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Gt.removeChild(u.stateNode));break;case 18:Gt!==null&&(Cr?(i=Gt,u=u.stateNode,i.nodeType===8?Xd(i.parentNode,u):i.nodeType===1&&Xd(i,u),Tr(i)):Xd(Gt,u.stateNode));break;case 4:f=Gt,g=Cr,Gt=u.stateNode.containerInfo,Cr=!0,ts(i,o,u),Gt=f,Cr=g;break;case 0:case 11:case 14:case 15:if(!rn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,S=_.destroy;_=_.tag,S!==void 0&&((_&2)!==0||(_&4)!==0)&&Mf(u,o,S),g=g.next}while(g!==f)}ts(i,o,u);break;case 1:if(!rn&&(ya(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(M){_t(u,o,M)}ts(i,o,u);break;case 21:ts(i,o,u);break;case 22:u.mode&1?(rn=(f=rn)||u.memoizedState!==null,ts(i,o,u),rn=f):ts(i,o,u);break;default:ts(i,o,u)}}function Xv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Lx),o.forEach(function(f){var g=Hx.bind(null,i,f);u.has(f)||(u.add(f),f.then(g,g))})}}function Ar(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var _=i,S=o,M=S;e:for(;M!==null;){switch(M.tag){case 5:Gt=M.stateNode,Cr=!1;break e;case 3:Gt=M.stateNode.containerInfo,Cr=!0;break e;case 4:Gt=M.stateNode.containerInfo,Cr=!0;break e}M=M.return}if(Gt===null)throw Error(n(160));Yv(_,S,g),Gt=null,Cr=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(X){_t(g,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Jv(o,i),o=o.sibling}function Jv(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ar(o,i),Gr(i),f&4){try{Dl(3,i,i.return),jc(3,i)}catch(Te){_t(i,i.return,Te)}try{Dl(5,i,i.return)}catch(Te){_t(i,i.return,Te)}}break;case 1:Ar(o,i),Gr(i),f&512&&u!==null&&ya(u,u.return);break;case 5:if(Ar(o,i),Gr(i),f&512&&u!==null&&ya(u,u.return),i.flags&32){var g=i.stateNode;try{$e(g,"")}catch(Te){_t(i,i.return,Te)}}if(f&4&&(g=i.stateNode,g!=null)){var _=i.memoizedProps,S=u!==null?u.memoizedProps:_,M=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{M==="input"&&_.type==="radio"&&_.name!=null&&Li(g,_),Qn(M,S);var X=Qn(M,_);for(S=0;S<F.length;S+=2){var le=F[S],ce=F[S+1];le==="style"?fr(g,ce):le==="dangerouslySetInnerHTML"?Fe(g,ce):le==="children"?$e(g,ce):z(g,le,ce,X)}switch(M){case"input":Mi(g,_);break;case"textarea":Vi(g,_);break;case"select":var ae=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var ge=_.value;ge!=null?dr(g,!!_.multiple,ge,!1):ae!==!!_.multiple&&(_.defaultValue!=null?dr(g,!!_.multiple,_.defaultValue,!0):dr(g,!!_.multiple,_.multiple?[]:"",!1))}g[Il]=_}catch(Te){_t(i,i.return,Te)}}break;case 6:if(Ar(o,i),Gr(i),f&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,_=i.memoizedProps;try{g.nodeValue=_}catch(Te){_t(i,i.return,Te)}}break;case 3:if(Ar(o,i),Gr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Tr(o.containerInfo)}catch(Te){_t(i,i.return,Te)}break;case 4:Ar(o,i),Gr(i);break;case 13:Ar(o,i),Gr(i),g=i.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(zf=rt())),f&4&&Xv(i);break;case 22:if(le=u!==null&&u.memoizedState!==null,i.mode&1?(rn=(X=rn)||le,Ar(o,i),rn=X):Ar(o,i),Gr(i),f&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!le&&(i.mode&1)!==0)for(_e=i,le=i.child;le!==null;){for(ce=_e=le;_e!==null;){switch(ae=_e,ge=ae.child,ae.tag){case 0:case 11:case 14:case 15:Dl(4,ae,ae.return);break;case 1:ya(ae,ae.return);var Ee=ae.stateNode;if(typeof Ee.componentWillUnmount=="function"){f=ae,u=ae.return;try{o=f,Ee.props=o.memoizedProps,Ee.state=o.memoizedState,Ee.componentWillUnmount()}catch(Te){_t(f,u,Te)}}break;case 5:ya(ae,ae.return);break;case 22:if(ae.memoizedState!==null){t_(ce);continue}}ge!==null?(ge.return=ae,_e=ge):t_(ce)}le=le.sibling}e:for(le=null,ce=i;;){if(ce.tag===5){if(le===null){le=ce;try{g=ce.stateNode,X?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(M=ce.stateNode,F=ce.memoizedProps.style,S=F!=null&&F.hasOwnProperty("display")?F.display:null,M.style.display=hn("display",S))}catch(Te){_t(i,i.return,Te)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=X?"":ce.memoizedProps}catch(Te){_t(i,i.return,Te)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===i)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===i)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===i)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Ar(o,i),Gr(i),f&4&&Xv(i);break;case 21:break;default:Ar(o,i),Gr(i)}}function Gr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Gv(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&($e(g,""),f.flags&=-33);var _=Qv(i);Ff(i,_,g);break;case 3:case 4:var S=f.stateNode.containerInfo,M=Qv(i);Vf(i,M,S);break;default:throw Error(n(161))}}catch(F){_t(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function jx(i,o,u){_e=i,Zv(i)}function Zv(i,o,u){for(var f=(i.mode&1)!==0;_e!==null;){var g=_e,_=g.child;if(g.tag===22&&f){var S=g.memoizedState!==null||Mc;if(!S){var M=g.alternate,F=M!==null&&M.memoizedState!==null||rn;M=Mc;var X=rn;if(Mc=S,(rn=F)&&!X)for(_e=g;_e!==null;)S=_e,F=S.child,S.tag===22&&S.memoizedState!==null?n_(g):F!==null?(F.return=S,_e=F):n_(g);for(;_!==null;)_e=_,Zv(_),_=_.sibling;_e=g,Mc=M,rn=X}e_(i)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,_e=_):e_(i)}}function e_(i){for(;_e!==null;){var o=_e;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:rn||jc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!rn)if(u===null)f.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:xr(o.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&tv(o,_,f);break;case 3:var S=o.updateQueue;if(S!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}tv(o,S,u)}break;case 5:var M=o.stateNode;if(u===null&&o.flags&4){u=M;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var le=X.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&Tr(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rn||o.flags&512&&jf(o)}catch(ae){_t(o,o.return,ae)}}if(o===i){_e=null;break}if(u=o.sibling,u!==null){u.return=o.return,_e=u;break}_e=o.return}}function t_(i){for(;_e!==null;){var o=_e;if(o===i){_e=null;break}var u=o.sibling;if(u!==null){u.return=o.return,_e=u;break}_e=o.return}}function n_(i){for(;_e!==null;){var o=_e;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{jc(4,o)}catch(F){_t(o,u,F)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(F){_t(o,g,F)}}var _=o.return;try{jf(o)}catch(F){_t(o,_,F)}break;case 5:var S=o.return;try{jf(o)}catch(F){_t(o,S,F)}}}catch(F){_t(o,o.return,F)}if(o===i){_e=null;break}var M=o.sibling;if(M!==null){M.return=o.return,_e=M;break}_e=o.return}}var Vx=Math.ceil,Vc=$.ReactCurrentDispatcher,Uf=$.ReactCurrentOwner,ir=$.ReactCurrentBatchConfig,Xe=0,zt=null,At=null,Qt=0,zn=0,va=Yi(0),Mt=0,Ll=null,io=0,Fc=0,Bf=0,Ml=null,Sn=null,zf=0,_a=1/0,Ei=null,Uc=!1,qf=null,ns=null,Bc=!1,rs=null,zc=0,jl=0,$f=null,qc=-1,$c=0;function mn(){return(Xe&6)!==0?rt():qc!==-1?qc:qc=rt()}function is(i){return(i.mode&1)===0?1:(Xe&2)!==0&&Qt!==0?Qt&-Qt:Ex.transition!==null?($c===0&&($c=Ws()),$c):(i=Ke,i!==0||(i=window.event,i=i===void 0?16:hl(i.type)),i)}function Rr(i,o,u,f){if(50<jl)throw jl=0,$f=null,Error(n(185));zi(i,u,f),((Xe&2)===0||i!==zt)&&(i===zt&&((Xe&2)===0&&(Fc|=u),Mt===4&&ss(i,Qt)),kn(i,f),u===1&&Xe===0&&(o.mode&1)===0&&(_a=rt()+500,vc&&Ji()))}function kn(i,o){var u=i.callbackNode;ui(i,o);var f=Hs(i,i===zt?Qt:0);if(f===0)u!==null&&ol(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&ol(u),o===1)i.tag===0?wx(i_.bind(null,i)):qy(i_.bind(null,i)),gx(function(){(Xe&6)===0&&Ji()}),u=null;else{switch($i(f)){case 1:u=qs;break;case 4:u=Fi;break;case 16:u=Xn;break;case 536870912:u=$u;break;default:u=Xn}u=d_(u,r_.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function r_(i,o){if(qc=-1,$c=0,(Xe&6)!==0)throw Error(n(327));var u=i.callbackNode;if(wa()&&i.callbackNode!==u)return null;var f=Hs(i,i===zt?Qt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=Hc(i,f);else{o=f;var g=Xe;Xe|=2;var _=o_();(zt!==i||Qt!==o)&&(Ei=null,_a=rt()+500,oo(i,o));do try{Bx();break}catch(M){s_(i,M)}while(!0);lf(),Vc.current=_,Xe=g,At!==null?o=0:(zt=null,Qt=0,o=Mt)}if(o!==0){if(o===2&&(g=jn(i),g!==0&&(f=g,o=Hf(i,g))),o===1)throw u=Ll,oo(i,0),ss(i,f),kn(i,rt()),u;if(o===6)ss(i,f);else{if(g=i.current.alternate,(f&30)===0&&!Fx(g)&&(o=Hc(i,f),o===2&&(_=jn(i),_!==0&&(f=_,o=Hf(i,_))),o===1))throw u=Ll,oo(i,0),ss(i,f),kn(i,rt()),u;switch(i.finishedWork=g,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:ao(i,Sn,Ei);break;case 3:if(ss(i,f),(f&130023424)===f&&(o=zf+500-rt(),10<o)){if(Hs(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){mn(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Yd(ao.bind(null,i,Sn,Ei),o);break}ao(i,Sn,Ei);break;case 4:if(ss(i,f),(f&4194240)===f)break;for(o=i.eventTimes,g=-1;0<f;){var S=31-dn(f);_=1<<S,S=o[S],S>g&&(g=S),f&=~_}if(f=g,f=rt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Vx(f/1960))-f,10<f){i.timeoutHandle=Yd(ao.bind(null,i,Sn,Ei),f);break}ao(i,Sn,Ei);break;case 5:ao(i,Sn,Ei);break;default:throw Error(n(329))}}}return kn(i,rt()),i.callbackNode===u?r_.bind(null,i):null}function Hf(i,o){var u=Ml;return i.current.memoizedState.isDehydrated&&(oo(i,o).flags|=256),i=Hc(i,o),i!==2&&(o=Sn,Sn=u,o!==null&&Wf(o)),i}function Wf(i){Sn===null?Sn=i:Sn.push.apply(Sn,i)}function Fx(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],_=g.getSnapshot;g=g.value;try{if(!Sr(_(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ss(i,o){for(o&=~Bf,o&=~Fc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-dn(o),f=1<<u;i[u]=-1,o&=~f}}function i_(i){if((Xe&6)!==0)throw Error(n(327));wa();var o=Hs(i,0);if((o&1)===0)return kn(i,rt()),null;var u=Hc(i,o);if(i.tag!==0&&u===2){var f=jn(i);f!==0&&(o=f,u=Hf(i,f))}if(u===1)throw u=Ll,oo(i,0),ss(i,o),kn(i,rt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,ao(i,Sn,Ei),kn(i,rt()),null}function Kf(i,o){var u=Xe;Xe|=1;try{return i(o)}finally{Xe=u,Xe===0&&(_a=rt()+500,vc&&Ji())}}function so(i){rs!==null&&rs.tag===0&&(Xe&6)===0&&wa();var o=Xe;Xe|=1;var u=ir.transition,f=Ke;try{if(ir.transition=null,Ke=1,i)return i()}finally{Ke=f,ir.transition=u,Xe=o,(Xe&6)===0&&Ji()}}function Gf(){zn=va.current,ut(va)}function oo(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,mx(u)),At!==null)for(u=At.return;u!==null;){var f=u;switch(nf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&gc();break;case 3:ma(),ut(En),ut(en),gf();break;case 5:pf(f);break;case 4:ma();break;case 13:ut(mt);break;case 19:ut(mt);break;case 10:uf(f.type._context);break;case 22:case 23:Gf()}u=u.return}if(zt=i,At=i=os(i.current,null),Qt=zn=o,Mt=0,Ll=null,Bf=Fc=io=0,Sn=Ml=null,to!==null){for(o=0;o<to.length;o++)if(u=to[o],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,_=u.pending;if(_!==null){var S=_.next;_.next=g,f.next=S}u.pending=f}to=null}return i}function s_(i,o){do{var u=At;try{if(lf(),Ac.current=Nc,Rc){for(var f=gt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Rc=!1}if(ro=0,Bt=Lt=gt=null,Rl=!1,bl=0,Uf.current=null,u===null||u.return===null){Mt=1,Ll=o,At=null;break}e:{var _=i,S=u.return,M=u,F=o;if(o=Qt,M.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var X=F,le=M,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var ge=bv(S);if(ge!==null){ge.flags&=-257,Pv(ge,S,M,_,o),ge.mode&1&&Rv(_,X,o),o=ge,F=X;var Ee=o.updateQueue;if(Ee===null){var Te=new Set;Te.add(F),o.updateQueue=Te}else Ee.add(F);break e}else{if((o&1)===0){Rv(_,X,o),Qf();break e}F=Error(n(426))}}else if(dt&&M.mode&1){var It=bv(S);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),Pv(It,S,M,_,o),of(ga(F,M));break e}}_=F=ga(F,M),Mt!==4&&(Mt=2),Ml===null?Ml=[_]:Ml.push(_),_=S;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var K=Cv(_,F,o);ev(_,K);break e;case 1:M=F;var q=_.type,Q=_.stateNode;if((_.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(ns===null||!ns.has(Q)))){_.flags|=65536,o&=-o,_.lanes|=o;var fe=Av(_,M,o);ev(_,fe);break e}}_=_.return}while(_!==null)}l_(u)}catch(Ie){o=Ie,At===u&&u!==null&&(At=u=u.return);continue}break}while(!0)}function o_(){var i=Vc.current;return Vc.current=Nc,i===null?Nc:i}function Qf(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),zt===null||(io&268435455)===0&&(Fc&268435455)===0||ss(zt,Qt)}function Hc(i,o){var u=Xe;Xe|=2;var f=o_();(zt!==i||Qt!==o)&&(Ei=null,oo(i,o));do try{Ux();break}catch(g){s_(i,g)}while(!0);if(lf(),Xe=u,Vc.current=f,At!==null)throw Error(n(261));return zt=null,Qt=0,Mt}function Ux(){for(;At!==null;)a_(At)}function Bx(){for(;At!==null&&!zu();)a_(At)}function a_(i){var o=h_(i.alternate,i,zn);i.memoizedProps=i.pendingProps,o===null?l_(i):At=o,Uf.current=null}function l_(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=Ox(u,o,zn),u!==null){At=u;return}}else{if(u=Dx(u,o),u!==null){u.flags&=32767,At=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Mt=6,At=null;return}}if(o=o.sibling,o!==null){At=o;return}At=o=i}while(o!==null);Mt===0&&(Mt=5)}function ao(i,o,u){var f=Ke,g=ir.transition;try{ir.transition=null,Ke=1,zx(i,o,u,f)}finally{ir.transition=g,Ke=f}return null}function zx(i,o,u,f){do wa();while(rs!==null);if((Xe&6)!==0)throw Error(n(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var _=u.lanes|u.childLanes;if(nt(i,_),i===zt&&(At=zt=null,Qt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Bc||(Bc=!0,d_(Xn,function(){return wa(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=ir.transition,ir.transition=null;var S=Ke;Ke=1;var M=Xe;Xe|=4,Uf.current=null,Mx(i,u),Jv(u,i),lx(Gd),Wi=!!Kd,Gd=Kd=null,i.current=u,jx(u),Pd(),Xe=M,Ke=S,ir.transition=_}else i.current=u;if(Bc&&(Bc=!1,rs=i,zc=g),_=i.pendingLanes,_===0&&(ns=null),Hu(u.stateNode),kn(i,rt()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(Uc)throw Uc=!1,i=qf,qf=null,i;return(zc&1)!==0&&i.tag!==0&&wa(),_=i.pendingLanes,(_&1)!==0?i===$f?jl++:(jl=0,$f=i):jl=0,Ji(),null}function wa(){if(rs!==null){var i=$i(zc),o=ir.transition,u=Ke;try{if(ir.transition=null,Ke=16>i?16:i,rs===null)var f=!1;else{if(i=rs,rs=null,zc=0,(Xe&6)!==0)throw Error(n(331));var g=Xe;for(Xe|=4,_e=i.current;_e!==null;){var _=_e,S=_.child;if((_e.flags&16)!==0){var M=_.deletions;if(M!==null){for(var F=0;F<M.length;F++){var X=M[F];for(_e=X;_e!==null;){var le=_e;switch(le.tag){case 0:case 11:case 15:Dl(8,le,_)}var ce=le.child;if(ce!==null)ce.return=le,_e=ce;else for(;_e!==null;){le=_e;var ae=le.sibling,ge=le.return;if(Kv(le),le===X){_e=null;break}if(ae!==null){ae.return=ge,_e=ae;break}_e=ge}}}var Ee=_.alternate;if(Ee!==null){var Te=Ee.child;if(Te!==null){Ee.child=null;do{var It=Te.sibling;Te.sibling=null,Te=It}while(Te!==null)}}_e=_}}if((_.subtreeFlags&2064)!==0&&S!==null)S.return=_,_e=S;else e:for(;_e!==null;){if(_=_e,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Dl(9,_,_.return)}var K=_.sibling;if(K!==null){K.return=_.return,_e=K;break e}_e=_.return}}var q=i.current;for(_e=q;_e!==null;){S=_e;var Q=S.child;if((S.subtreeFlags&2064)!==0&&Q!==null)Q.return=S,_e=Q;else e:for(S=q;_e!==null;){if(M=_e,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:jc(9,M)}}catch(Ie){_t(M,M.return,Ie)}if(M===S){_e=null;break e}var fe=M.sibling;if(fe!==null){fe.return=M.return,_e=fe;break e}_e=M.return}}if(Xe=g,Ji(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot($s,i)}catch{}f=!0}return f}finally{Ke=u,ir.transition=o}}return!1}function u_(i,o,u){o=ga(u,o),o=Cv(i,o,1),i=es(i,o,1),o=mn(),i!==null&&(zi(i,1,o),kn(i,o))}function _t(i,o,u){if(i.tag===3)u_(i,i,u);else for(;o!==null;){if(o.tag===3){u_(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ns===null||!ns.has(f))){i=ga(u,i),i=Av(o,i,1),o=es(o,i,1),i=mn(),o!==null&&(zi(o,1,i),kn(o,i));break}}o=o.return}}function qx(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=mn(),i.pingedLanes|=i.suspendedLanes&u,zt===i&&(Qt&u)===u&&(Mt===4||Mt===3&&(Qt&130023424)===Qt&&500>rt()-zf?oo(i,0):Bf|=u),kn(i,o)}function c_(i,o){o===0&&((i.mode&1)===0?o=1:(o=qo,qo<<=1,(qo&130023424)===0&&(qo=4194304)));var u=mn();i=vi(i,o),i!==null&&(zi(i,o,u),kn(i,u))}function $x(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),c_(i,u)}function Hx(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),c_(i,u)}var h_;h_=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||En.current)In=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return In=!1,Nx(i,o,u);In=(i.flags&131072)!==0}else In=!1,dt&&(o.flags&1048576)!==0&&$y(o,wc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Lc(i,o),i=o.pendingProps;var g=la(o,en.current);pa(o,u),g=_f(null,o,f,i,g,u);var _=wf();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Tn(f)?(_=!0,yc(o)):_=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,df(o),g.updater=Oc,o.stateNode=g,g._reactInternals=o,xf(o,f,i,u),o=bf(null,o,f,!0,_,u)):(o.tag=0,dt&&_&&tf(o),pn(null,o,g,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Lc(i,o),i=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=Kx(f),i=xr(f,i),g){case 0:o=Rf(null,o,f,i,u);break e;case 1:o=jv(null,o,f,i,u);break e;case 11:o=Nv(null,o,f,i,u);break e;case 14:o=Ov(null,o,f,xr(f.type,i),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:xr(f,g),Rf(i,o,f,g,u);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:xr(f,g),jv(i,o,f,g,u);case 3:e:{if(Vv(o),i===null)throw Error(n(387));f=o.pendingProps,_=o.memoizedState,g=_.element,Zy(i,o),xc(o,f,null,u);var S=o.memoizedState;if(f=S.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){g=ga(Error(n(423)),o),o=Fv(i,o,f,u,g);break e}else if(f!==g){g=ga(Error(n(424)),o),o=Fv(i,o,f,u,g);break e}else for(Bn=Qi(o.stateNode.containerInfo.firstChild),Un=o,dt=!0,kr=null,u=Xy(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ha(),f===g){o=wi(i,o,u);break e}pn(i,o,f,u)}o=o.child}return o;case 5:return nv(o),i===null&&sf(o),f=o.type,g=o.pendingProps,_=i!==null?i.memoizedProps:null,S=g.children,Qd(f,g)?S=null:_!==null&&Qd(f,_)&&(o.flags|=32),Mv(i,o),pn(i,o,S,u),o.child;case 6:return i===null&&sf(o),null;case 13:return Uv(i,o,u);case 4:return ff(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=da(o,null,f,u):pn(i,o,f,u),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:xr(f,g),Nv(i,o,f,g,u);case 7:return pn(i,o,o.pendingProps,u),o.child;case 8:return pn(i,o,o.pendingProps.children,u),o.child;case 12:return pn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,_=o.memoizedProps,S=g.value,it(Ic,f._currentValue),f._currentValue=S,_!==null)if(Sr(_.value,S)){if(_.children===g.children&&!En.current){o=wi(i,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var M=_.dependencies;if(M!==null){S=_.child;for(var F=M.firstContext;F!==null;){if(F.context===f){if(_.tag===1){F=_i(-1,u&-u),F.tag=2;var X=_.updateQueue;if(X!==null){X=X.shared;var le=X.pending;le===null?F.next=F:(F.next=le.next,le.next=F),X.pending=F}}_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),cf(_.return,u,o),M.lanes|=u;break}F=F.next}}else if(_.tag===10)S=_.type===o.type?null:_.child;else if(_.tag===18){if(S=_.return,S===null)throw Error(n(341));S.lanes|=u,M=S.alternate,M!==null&&(M.lanes|=u),cf(S,u,o),S=_.sibling}else S=_.child;if(S!==null)S.return=_;else for(S=_;S!==null;){if(S===o){S=null;break}if(_=S.sibling,_!==null){_.return=S.return,S=_;break}S=S.return}_=S}pn(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,pa(o,u),g=nr(g),f=f(g),o.flags|=1,pn(i,o,f,u),o.child;case 14:return f=o.type,g=xr(f,o.pendingProps),g=xr(f.type,g),Ov(i,o,f,g,u);case 15:return Dv(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:xr(f,g),Lc(i,o),o.tag=1,Tn(f)?(i=!0,yc(o)):i=!1,pa(o,u),kv(o,f,g),xf(o,f,g,u),bf(null,o,f,!0,i,u);case 19:return zv(i,o,u);case 22:return Lv(i,o,u)}throw Error(n(156,o.tag))};function d_(i,o){return Bo(i,o)}function Wx(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(i,o,u,f){return new Wx(i,o,u,f)}function Yf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Kx(i){if(typeof i=="function")return Yf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===P)return 11;if(i===ne)return 14}return 2}function os(i,o){var u=i.alternate;return u===null?(u=sr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Wc(i,o,u,f,g,_){var S=2;if(f=i,typeof i=="function")Yf(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case V:return lo(u.children,g,_,o);case R:S=8,g|=8;break;case O:return i=sr(12,u,o,g|2),i.elementType=O,i.lanes=_,i;case x:return i=sr(13,u,o,g),i.elementType=x,i.lanes=_,i;case Y:return i=sr(19,u,o,g),i.elementType=Y,i.lanes=_,i;case H:return Kc(u,g,_,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:S=10;break e;case b:S=9;break e;case P:S=11;break e;case ne:S=14;break e;case ve:S=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=sr(S,u,o,g),o.elementType=i,o.type=f,o.lanes=_,o}function lo(i,o,u,f){return i=sr(7,i,f,o),i.lanes=u,i}function Kc(i,o,u,f){return i=sr(22,i,f,o),i.elementType=H,i.lanes=u,i.stateNode={isHidden:!1},i}function Xf(i,o,u){return i=sr(6,i,null,o),i.lanes=u,i}function Jf(i,o,u){return o=sr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Gx(i,o,u,f,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bi(0),this.expirationTimes=Bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Zf(i,o,u,f,g,_,S,M,F){return i=new Gx(i,o,u,M,F),o===1?(o=1,_===!0&&(o|=8)):o=0,_=sr(3,null,null,o),i.current=_,_.stateNode=i,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},df(_),i}function Qx(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function f_(i){if(!i)return Xi;i=i._reactInternals;e:{if(yr(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Tn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Tn(u))return By(i,u,o)}return o}function p_(i,o,u,f,g,_,S,M,F){return i=Zf(u,f,!0,i,g,_,S,M,F),i.context=f_(null),u=i.current,f=mn(),g=is(u),_=_i(f,g),_.callback=o??null,es(u,_,g),i.current.lanes=g,zi(i,g,f),kn(i,f),i}function Gc(i,o,u,f){var g=o.current,_=mn(),S=is(g);return u=f_(u),o.context===null?o.context=u:o.pendingContext=u,o=_i(_,S),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=es(g,o,S),i!==null&&(Rr(i,g,S,_),kc(i,g,S)),S}function Qc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function m_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function ep(i,o){m_(i,o),(i=i.alternate)&&m_(i,o)}function Yx(){return null}var g_=typeof reportError=="function"?reportError:function(i){console.error(i)};function tp(i){this._internalRoot=i}Yc.prototype.render=tp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Gc(i,o,null,null)},Yc.prototype.unmount=tp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;so(function(){Gc(null,i,null,null)}),o[pi]=null}};function Yc(i){this._internalRoot=i}Yc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Yu();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Br.length&&o!==0&&o<Br[u].priority;u++);Br.splice(u,0,i),u===0&&Zu(i)}};function np(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Xc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function y_(){}function Xx(i,o,u,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var X=Qc(S);_.call(X)}}var S=p_(o,f,i,0,null,!1,!1,"",y_);return i._reactRootContainer=S,i[pi]=S.current,El(i.nodeType===8?i.parentNode:i),so(),S}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var M=f;f=function(){var X=Qc(F);M.call(X)}}var F=Zf(i,0,!1,null,null,!1,!1,"",y_);return i._reactRootContainer=F,i[pi]=F.current,El(i.nodeType===8?i.parentNode:i),so(function(){Gc(o,F,u,f)}),F}function Jc(i,o,u,f,g){var _=u._reactRootContainer;if(_){var S=_;if(typeof g=="function"){var M=g;g=function(){var F=Qc(S);M.call(F)}}Gc(o,S,i,g)}else S=Xx(u,o,i,g,f);return Qc(S)}Gu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ui(o.pendingLanes);u!==0&&(qi(o,u|1),kn(o,rt()),(Xe&6)===0&&(_a=rt()+500,Ji()))}break;case 13:so(function(){var f=vi(i,1);if(f!==null){var g=mn();Rr(f,i,1,g)}}),ep(i,1)}},$o=function(i){if(i.tag===13){var o=vi(i,134217728);if(o!==null){var u=mn();Rr(o,i,134217728,u)}ep(i,134217728)}},Qu=function(i){if(i.tag===13){var o=is(i),u=vi(i,o);if(u!==null){var f=mn();Rr(u,i,o,f)}ep(i,o)}},Yu=function(){return Ke},Xu=function(i,o){var u=Ke;try{return Ke=i,o()}finally{Ke=u}},Lo=function(i,o,u){switch(o){case"input":if(Mi(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var g=mc(f);if(!g)throw Error(n(90));Di(f),Mi(f,g)}}}break;case"textarea":Vi(i,u);break;case"select":o=u.value,o!=null&&dr(i,!!u.multiple,o,!1)}},Fs=Kf,nl=so;var Jx={usingClientEntryPoint:!1,Events:[Sl,oa,mc,Fr,tl,Kf]},Vl={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zx={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=sl(i),i===null?null:i.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||Yx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{$s=Zc.inject(Zx),Mn=Zc}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jx,xn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!np(o))throw Error(n(200));return Qx(i,o,null,u)},xn.createRoot=function(i,o){if(!np(i))throw Error(n(299));var u=!1,f="",g=g_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Zf(i,1,!1,null,null,u,!1,f,g),i[pi]=o.current,El(i.nodeType===8?i.parentNode:i),new tp(o)},xn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=sl(o),i=i===null?null:i.stateNode,i},xn.flushSync=function(i){return so(i)},xn.hydrate=function(i,o,u){if(!Xc(o))throw Error(n(200));return Jc(null,i,o,!0,u)},xn.hydrateRoot=function(i,o,u){if(!np(i))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,g=!1,_="",S=g_;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),o=p_(o,null,i,1,u??null,g,!1,_,S),i[pi]=o.current,El(i),f)for(i=0;i<f.length;i++)u=f[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new Yc(o)},xn.render=function(i,o,u){if(!Xc(o))throw Error(n(200));return Jc(null,i,o,!1,u)},xn.unmountComponentAtNode=function(i){if(!Xc(i))throw Error(n(40));return i._reactRootContainer?(so(function(){Jc(null,null,i,!1,function(){i._reactRootContainer=null,i[pi]=null})}),!0):!1},xn.unstable_batchedUpdates=Kf,xn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!Xc(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Jc(i,o,u,!1,f)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var k_;function Um(){if(k_)return sp.exports;k_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sp.exports=uC(),sp.exports}var x_;function cC(){if(x_)return eh;x_=1;var t=Um();return eh.createRoot=t.createRoot,eh.hydrateRoot=t.hydrateRoot,eh}var hC=cC();const dC=Ni(hC);Um();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(this,arguments)}var ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ms||(ms={}));const C_="popstate";function fC(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return Qp("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ch(s)}return mC(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pC(){return Math.random().toString(36).substr(2,8)}function A_(t,e){return{usr:t.state,key:t.key,idx:e}}function Qp(t,e,n,r){return n===void 0&&(n=null),cu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ha(e):e,{state:n,key:e&&e.key||r||pC()})}function Ch(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ha(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c=ms.Pop,d=null,p=m();p==null&&(p=0,l.replaceState(cu({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function y(){c=ms.Pop;let L=m(),U=L==null?null:L-p;p=L,d&&d({action:c,location:D.location,delta:U})}function E(L,U){c=ms.Push;let J=Qp(D.location,L,U);p=m()+1;let z=A_(J,p),$=D.createHref(J);try{l.pushState(z,"",$)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;s.location.assign($)}a&&d&&d({action:c,location:D.location,delta:1})}function T(L,U){c=ms.Replace;let J=Qp(D.location,L,U);p=m();let z=A_(J,p),$=D.createHref(J);l.replaceState(z,"",$),a&&d&&d({action:c,location:D.location,delta:0})}function A(L){let U=s.location.origin!=="null"?s.location.origin:s.location.href,J=typeof L=="string"?L:Ch(L);return J=J.replace(/ $/,"%20"),xt(U,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,U)}let D={get action(){return c},get location(){return t(s,l)},listen(L){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(C_,y),d=L,()=>{s.removeEventListener(C_,y),d=null}},createHref(L){return e(s,L)},createURL:A,encodeLocation(L){let U=A(L);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:T,go(L){return l.go(L)}};return D}var R_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(R_||(R_={}));function gC(t,e,n){return n===void 0&&(n="/"),yC(t,e,n)}function yC(t,e,n,r){let s=typeof e=="string"?Ha(e):e,a=Bm(s.pathname||"/",n);if(a==null)return null;let l=NT(t);vC(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=bC(a);c=CC(l[d],p)}return c}function NT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(xt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=ys([r,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(xt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),NT(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:kC(p,a.index),routesMeta:m})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let d of OT(a.path))s(a,l,d)}),e}function OT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=OT(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function vC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _C=/^:[\w-]+$/,wC=3,EC=2,TC=1,IC=10,SC=-2,b_=t=>t==="*";function kC(t,e){let n=t.split("/"),r=n.length;return n.some(b_)&&(r+=SC),e&&(r+=EC),n.filter(s=>!b_(s)).reduce((s,a)=>s+(_C.test(a)?wC:a===""?TC:IC),r)}function xC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function CC(t,e,n){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=AC({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),E=d.route;if(!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:ys([a,y.pathname]),pathnameBase:DC(ys([a,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(a=ys([a,y.pathnameBase]))}return l}function AC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,m,y)=>{let{paramName:E,isOptional:T}=m;if(E==="*"){let D=c[y]||"";l=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const A=c[y];return T&&!A?p[E]=void 0:p[E]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function RC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),PT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function bC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ha(t):t;return{pathname:n?n.startsWith("/")?n:NC(n,e):e,search:LC(r),hash:MC(s)}}function NC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zm(t,e){let n=OC(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qm(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ha(t):(s=cu({},t),xt(!s.pathname||!s.pathname.includes("?"),lp("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),lp("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),lp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),y-=1;s.pathname=E.join("/")}c=y>=0?e[y]:"/"}let d=PC(s,c),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}const ys=t=>t.join("/").replace(/\/\/+/g,"/"),DC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DT=["post","put","patch","delete"];new Set(DT);const VC=["get",...DT];new Set(VC);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}const $m=ie.createContext(null),FC=ie.createContext(null),Rs=ie.createContext(null),Jh=ie.createContext(null),Oi=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),LT=ie.createContext(null);function UC(t,e){let{relative:n}=e===void 0?{}:e;Wa()||xt(!1);let{basename:r,navigator:s}=ie.useContext(Rs),{hash:a,pathname:l,search:c}=jT(t,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:ys([r,l])),s.createHref({pathname:d,search:c,hash:a})}function Wa(){return ie.useContext(Jh)!=null}function xu(){return Wa()||xt(!1),ie.useContext(Jh).location}function MT(t){ie.useContext(Rs).static||ie.useLayoutEffect(t)}function xo(){let{isDataRoute:t}=ie.useContext(Oi);return t?ZC():BC()}function BC(){Wa()||xt(!1);let t=ie.useContext($m),{basename:e,future:n,navigator:r}=ie.useContext(Rs),{matches:s}=ie.useContext(Oi),{pathname:a}=xu(),l=JSON.stringify(zm(s,n.v7_relativeSplatPath)),c=ie.useRef(!1);return MT(()=>{c.current=!0}),ie.useCallback(function(p,m){if(m===void 0&&(m={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let y=qm(p,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ys([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,l,a,t])}function Hm(){let{matches:t}=ie.useContext(Oi),e=t[t.length-1];return e?e.params:{}}function jT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ie.useContext(Rs),{matches:s}=ie.useContext(Oi),{pathname:a}=xu(),l=JSON.stringify(zm(s,r.v7_relativeSplatPath));return ie.useMemo(()=>qm(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function zC(t,e){return qC(t,e)}function qC(t,e,n,r){Wa()||xt(!1);let{navigator:s,static:a}=ie.useContext(Rs),{matches:l}=ie.useContext(Oi),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let m=xu(),y;if(e){var E;let U=typeof e=="string"?Ha(e):e;p==="/"||(E=U.pathname)!=null&&E.startsWith(p)||xt(!1),y=U}else y=m;let T=y.pathname||"/",A=T;if(p!=="/"){let U=p.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(U.length).join("/")}let D=gC(t,{pathname:A}),L=GC(D&&D.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:ys([p,s.encodeLocation?s.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:ys([p,s.encodeLocation?s.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,n,r);return e&&L?ie.createElement(Jh.Provider,{value:{location:hu({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:ms.Pop}},L):L}function $C(){let t=JC(),e=jC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},e),n?ie.createElement("pre",{style:s},n):null,null)}const HC=ie.createElement($C,null);class WC extends ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ie.createElement(Oi.Provider,{value:this.props.routeContext},ie.createElement(LT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KC(t){let{routeContext:e,match:n,children:r}=t,s=ie.useContext($m);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),ie.createElement(Oi.Provider,{value:e},r)}function GC(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let m=l.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);m>=0||xt(!1),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let y=l[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:E,errors:T}=n,A=y.route.loader&&E[y.route.id]===void 0&&(!T||T[y.route.id]===void 0);if(y.route.lazy||A){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,y,E)=>{let T,A=!1,D=null,L=null;n&&(T=c&&y.route.id?c[y.route.id]:void 0,D=y.route.errorElement||HC,d&&(p<0&&E===0?(eA("route-fallback"),A=!0,L=null):p===E&&(A=!0,L=y.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,E+1)),J=()=>{let z;return T?z=D:A?z=L:y.route.Component?z=ie.createElement(y.route.Component,null):y.route.element?z=y.route.element:z=m,ie.createElement(KC,{match:y,routeContext:{outlet:m,matches:U,isDataRoute:n!=null},children:z})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?ie.createElement(WC,{location:n.location,revalidation:n.revalidation,component:D,error:T,children:J(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):J()},null)}var VT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(VT||{}),FT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(FT||{});function QC(t){let e=ie.useContext($m);return e||xt(!1),e}function YC(t){let e=ie.useContext(FC);return e||xt(!1),e}function XC(t){let e=ie.useContext(Oi);return e||xt(!1),e}function UT(t){let e=XC(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function JC(){var t;let e=ie.useContext(LT),n=YC(),r=UT();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ZC(){let{router:t}=QC(VT.UseNavigateStable),e=UT(FT.UseNavigateStable),n=ie.useRef(!1);return MT(()=>{n.current=!0}),ie.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,hu({fromRouteId:e},a)))},[t,e])}const P_={};function eA(t,e,n){P_[t]||(P_[t]=!0)}function tA(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function nA(t){let{to:e,replace:n,state:r,relative:s}=t;Wa()||xt(!1);let{future:a,static:l}=ie.useContext(Rs),{matches:c}=ie.useContext(Oi),{pathname:d}=xu(),p=xo(),m=qm(e,zm(c,a.v7_relativeSplatPath),d,s==="path"),y=JSON.stringify(m);return ie.useEffect(()=>p(JSON.parse(y),{replace:n,state:r,relative:s}),[p,y,s,n,r]),null}function St(t){xt(!1)}function rA(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ms.Pop,navigator:a,static:l=!1,future:c}=t;Wa()&&xt(!1);let d=e.replace(/^\/*/,"/"),p=ie.useMemo(()=>({basename:d,navigator:a,static:l,future:hu({v7_relativeSplatPath:!1},c)}),[d,c,a,l]);typeof r=="string"&&(r=Ha(r));let{pathname:m="/",search:y="",hash:E="",state:T=null,key:A="default"}=r,D=ie.useMemo(()=>{let L=Bm(m,d);return L==null?null:{location:{pathname:L,search:y,hash:E,state:T,key:A},navigationType:s}},[d,m,y,E,T,A,s]);return D==null?null:ie.createElement(Rs.Provider,{value:p},ie.createElement(Jh.Provider,{children:n,value:D}))}function iA(t){let{children:e,location:n}=t;return zC(Yp(e),n)}new Promise(()=>{});function Yp(t,e){e===void 0&&(e=[]);let n=[];return ie.Children.forEach(t,(r,s)=>{if(!ie.isValidElement(r))return;let a=[...e,s];if(r.type===ie.Fragment){n.push.apply(n,Yp(r.props.children,a));return}r.type!==St&&xt(!1),!r.props.index||!r.props.children||xt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Yp(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xp.apply(this,arguments)}function sA(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function oA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aA(t,e){return t.button===0&&(!e||e==="_self")&&!oA(t)}const lA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uA="6";try{window.__reactRouterVersion=uA}catch{}const cA="startTransition",N_=oC[cA];function hA(t){let{basename:e,children:n,future:r,window:s}=t,a=ie.useRef();a.current==null&&(a.current=fC({window:s,v5Compat:!0}));let l=a.current,[c,d]=ie.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},m=ie.useCallback(y=>{p&&N_?N_(()=>d(y)):d(y)},[d,p]);return ie.useLayoutEffect(()=>l.listen(m),[l,m]),ie.useEffect(()=>tA(r),[r]),ie.createElement(rA,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const dA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=ie.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:c,target:d,to:p,preventScrollReset:m,viewTransition:y}=e,E=sA(e,lA),{basename:T}=ie.useContext(Rs),A,D=!1;if(typeof p=="string"&&fA.test(p)&&(A=p,dA))try{let z=new URL(window.location.href),$=p.startsWith("//")?new URL(z.protocol+p):new URL(p),he=Bm($.pathname,T);$.origin===z.origin&&he!=null?p=he+$.search+$.hash:D=!0}catch{}let L=UC(p,{relative:s}),U=pA(p,{replace:l,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:y});function J(z){r&&r(z),z.defaultPrevented||U(z)}return ie.createElement("a",Xp({},E,{href:A||L,onClick:D||a?r:J,ref:n,target:d}))});var O_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(O_||(O_={}));var D_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(D_||(D_={}));function pA(t,e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,d=xo(),p=xu(),m=jT(t,{relative:l});return ie.useCallback(y=>{if(aA(y,n)){y.preventDefault();let E=r!==void 0?r:Ch(p)===Ch(m);d(t,{replace:E,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,m,r,s,n,t,a,l,c])}var up={exports:{}},cp,L_;function mA(){if(L_)return cp;L_=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cp=t,cp}var hp,M_;function gA(){if(M_)return hp;M_=1;var t=mA();function e(){}function n(){}return n.resetWarningCache=e,hp=function(){function r(l,c,d,p,m,y){if(y!==t){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},hp}var j_;function Wm(){return j_||(j_=1,up.exports=gA()()),up.exports}var yA=Wm();const ft=Ni(yA);var dp,V_;function vA(){if(V_)return dp;V_=1;function t(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var e=$a(),n=t(e);function r(c,d,p){return d in c?Object.defineProperty(c,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[d]=p,c}function s(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var a=!!(typeof window<"u"&&window.document&&window.document.createElement);function l(c,d,p){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof p<"u"&&typeof p!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function m(y){return y.displayName||y.name||"Component"}return function(E){if(typeof E!="function")throw new Error("Expected WrappedComponent to be a React component.");var T=[],A;function D(){A=c(T.map(function(U){return U.props})),L.canUseDOM?d(A):p&&(A=p(A))}var L=function(U){s(J,U);function J(){return U.apply(this,arguments)||this}J.peek=function(){return A},J.rewind=function(){if(J.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var he=A;return A=void 0,T=[],he};var z=J.prototype;return z.UNSAFE_componentWillMount=function(){T.push(this),D()},z.componentDidUpdate=function(){D()},z.componentWillUnmount=function(){var he=T.indexOf(this);T.splice(he,1),D()},z.render=function(){return n.createElement(E,this.props)},J}(e.PureComponent);return r(L,"displayName","SideEffect("+m(E)+")"),r(L,"canUseDOM",a),L}}return dp=l,dp}var _A=vA();const wA=Ni(_A);var fp,F_;function EA(){if(F_)return fp;F_=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var c,d,p;if(Array.isArray(a)){if(c=a.length,c!=l.length)return!1;for(d=c;d--!==0;)if(!s(a[d],l[d]))return!1;return!0}var m;if(e&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(m=a.entries();!(d=m.next()).done;)if(!l.has(d.value[0]))return!1;for(m=a.entries();!(d=m.next()).done;)if(!s(d.value[1],l.get(d.value[0])))return!1;return!0}if(n&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(m=a.entries();!(d=m.next()).done;)if(!l.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(c=a.length,c!=l.length)return!1;for(d=c;d--!==0;)if(a[d]!==l[d])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(p=Object.keys(a),c=p.length,c!==Object.keys(l).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(l,p[d]))return!1;if(t&&a instanceof Element)return!1;for(d=c;d--!==0;)if(!((p[d]==="_owner"||p[d]==="__v"||p[d]==="__o")&&a.$$typeof)&&!s(a[p[d]],l[p[d]]))return!1;return!0}return a!==a&&l!==l}return fp=function(l,c){try{return s(l,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},fp}var TA=EA();const IA=Ni(TA);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var pp,U_;function SA(){if(U_)return pp;U_=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function s(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var l={},c=0;c<10;c++)l["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(l).map(function(m){return l[m]});if(d.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(m){p[m]=m}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return pp=s()?Object.assign:function(a,l){for(var c,d=r(a),p,m=1;m<arguments.length;m++){c=Object(arguments[m]);for(var y in c)e.call(c,y)&&(d[y]=c[y]);if(t){p=t(c);for(var E=0;E<p.length;E++)n.call(c,p[E])&&(d[p[E]]=c[p[E]])}}return d},pp}var kA=SA();const xA=Ni(kA);var mo={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},je={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(je).map(function(t){return je[t]});var pt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Ah={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},du={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},CA=Object.keys(Ah).reduce(function(t,e){return t[Ah[e]]=e,t},{}),AA=[je.NOSCRIPT,je.SCRIPT,je.STYLE],Pr="data-react-helmet",RA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bA=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},PA=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Cn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NA=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},B_=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},OA=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Jp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},DA=function(e){var n=ba(e,je.TITLE),r=ba(e,du.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=ba(e,du.DEFAULT_TITLE);return n||s||void 0},LA=function(e){return ba(e,du.ON_CHANGE_CLIENT_STATE)||function(){}},mp=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return Cn({},r,s)},{})},MA=function(e,n){return n.filter(function(r){return typeof r[je.BASE]<"u"}).map(function(r){return r[je.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var a=Object.keys(s),l=0;l<a.length;l++){var c=a[l],d=c.toLowerCase();if(e.indexOf(d)!==-1&&s[d])return r.concat(s)}return r},[])},Ul=function(e,n,r){var s={};return r.filter(function(a){return Array.isArray(a[e])?!0:(typeof a[e]<"u"&&UA("Helmet: "+e+' should be of type "Array". Instead found type "'+RA(a[e])+'"'),!1)}).map(function(a){return a[e]}).reverse().reduce(function(a,l){var c={};l.filter(function(E){for(var T=void 0,A=Object.keys(E),D=0;D<A.length;D++){var L=A[D],U=L.toLowerCase();n.indexOf(U)!==-1&&!(T===pt.REL&&E[T].toLowerCase()==="canonical")&&!(U===pt.REL&&E[U].toLowerCase()==="stylesheet")&&(T=U),n.indexOf(L)!==-1&&(L===pt.INNER_HTML||L===pt.CSS_TEXT||L===pt.ITEM_PROP)&&(T=L)}if(!T||!E[T])return!1;var J=E[T].toLowerCase();return s[T]||(s[T]={}),c[T]||(c[T]={}),s[T][J]?!1:(c[T][J]=!0,!0)}).reverse().forEach(function(E){return a.push(E)});for(var d=Object.keys(c),p=0;p<d.length;p++){var m=d[p],y=xA({},s[m],c[m]);s[m]=y}return a},[]).reverse()},ba=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},jA=function(e){return{baseTag:MA([pt.HREF,pt.TARGET],e),bodyAttributes:mp(mo.BODY,e),defer:ba(e,du.DEFER),encode:ba(e,du.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:mp(mo.HTML,e),linkTags:Ul(je.LINK,[pt.REL,pt.HREF],e),metaTags:Ul(je.META,[pt.NAME,pt.CHARSET,pt.HTTPEQUIV,pt.PROPERTY,pt.ITEM_PROP],e),noscriptTags:Ul(je.NOSCRIPT,[pt.INNER_HTML],e),onChangeClientState:LA(e),scriptTags:Ul(je.SCRIPT,[pt.SRC,pt.INNER_HTML],e),styleTags:Ul(je.STYLE,[pt.CSS_TEXT],e),title:DA(e),titleAttributes:mp(mo.TITLE,e)}},Zp=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Zp(e)},0)}}(),z_=function(e){return clearTimeout(e)},VA=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Zp:global.requestAnimationFrame||Zp,FA=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||z_:global.cancelAnimationFrame||z_,UA=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Bl=null,BA=function(e){Bl&&FA(Bl),e.defer?Bl=VA(function(){q_(e,function(){Bl=null})}):(q_(e),Bl=null)},q_=function(e,n){var r=e.baseTag,s=e.bodyAttributes,a=e.htmlAttributes,l=e.linkTags,c=e.metaTags,d=e.noscriptTags,p=e.onChangeClientState,m=e.scriptTags,y=e.styleTags,E=e.title,T=e.titleAttributes;em(je.BODY,s),em(je.HTML,a),zA(E,T);var A={baseTag:Ea(je.BASE,r),linkTags:Ea(je.LINK,l),metaTags:Ea(je.META,c),noscriptTags:Ea(je.NOSCRIPT,d),scriptTags:Ea(je.SCRIPT,m),styleTags:Ea(je.STYLE,y)},D={},L={};Object.keys(A).forEach(function(U){var J=A[U],z=J.newTags,$=J.oldTags;z.length&&(D[U]=z),$.length&&(L[U]=A[U].oldTags)}),n&&n(),p(e,D,L)},BT=function(e){return Array.isArray(e)?e.join(""):e},zA=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=BT(e)),em(je.TITLE,n)},em=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(Pr),a=s?s.split(","):[],l=[].concat(a),c=Object.keys(n),d=0;d<c.length;d++){var p=c[d],m=n[p]||"";r.getAttribute(p)!==m&&r.setAttribute(p,m),a.indexOf(p)===-1&&a.push(p);var y=l.indexOf(p);y!==-1&&l.splice(y,1)}for(var E=l.length-1;E>=0;E--)r.removeAttribute(l[E]);a.length===l.length?r.removeAttribute(Pr):r.getAttribute(Pr)!==c.join(",")&&r.setAttribute(Pr,c.join(","))}},Ea=function(e,n){var r=document.head||document.querySelector(je.HEAD),s=r.querySelectorAll(e+"["+Pr+"]"),a=Array.prototype.slice.call(s),l=[],c=void 0;return n&&n.length&&n.forEach(function(d){var p=document.createElement(e);for(var m in d)if(d.hasOwnProperty(m))if(m===pt.INNER_HTML)p.innerHTML=d.innerHTML;else if(m===pt.CSS_TEXT)p.styleSheet?p.styleSheet.cssText=d.cssText:p.appendChild(document.createTextNode(d.cssText));else{var y=typeof d[m]>"u"?"":d[m];p.setAttribute(m,y)}p.setAttribute(Pr,"true"),a.some(function(E,T){return c=T,p.isEqualNode(E)})?a.splice(c,1):l.push(p)}),a.forEach(function(d){return d.parentNode.removeChild(d)}),l.forEach(function(d){return r.appendChild(d)}),{oldTags:a,newTags:l}},zT=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},qA=function(e,n,r,s){var a=zT(r),l=BT(n);return a?"<"+e+" "+Pr+'="true" '+a+">"+Jp(l,s)+"</"+e+">":"<"+e+" "+Pr+'="true">'+Jp(l,s)+"</"+e+">"},$A=function(e,n,r){return n.reduce(function(s,a){var l=Object.keys(a).filter(function(p){return!(p===pt.INNER_HTML||p===pt.CSS_TEXT)}).reduce(function(p,m){var y=typeof a[m]>"u"?m:m+'="'+Jp(a[m],r)+'"';return p?p+" "+y:y},""),c=a.innerHTML||a.cssText||"",d=AA.indexOf(e)===-1;return s+"<"+e+" "+Pr+'="true" '+l+(d?"/>":">"+c+"</"+e+">")},"")},qT=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Ah[s]||s]=e[s],r},n)},HA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[CA[s]||s]=e[s],r},n)},WA=function(e,n,r){var s,a=(s={key:n},s[Pr]=!0,s),l=qT(r,a);return[Ra.createElement(je.TITLE,l,n)]},KA=function(e,n){return n.map(function(r,s){var a,l=(a={key:s},a[Pr]=!0,a);return Object.keys(r).forEach(function(c){var d=Ah[c]||c;if(d===pt.INNER_HTML||d===pt.CSS_TEXT){var p=r.innerHTML||r.cssText;l.dangerouslySetInnerHTML={__html:p}}else l[d]=r[c]}),Ra.createElement(e,l)})},Ti=function(e,n,r){switch(e){case je.TITLE:return{toComponent:function(){return WA(e,n.title,n.titleAttributes)},toString:function(){return qA(e,n.title,n.titleAttributes,r)}};case mo.BODY:case mo.HTML:return{toComponent:function(){return qT(n)},toString:function(){return zT(n)}};default:return{toComponent:function(){return KA(e,n)},toString:function(){return $A(e,n,r)}}}},$T=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,a=e.htmlAttributes,l=e.linkTags,c=e.metaTags,d=e.noscriptTags,p=e.scriptTags,m=e.styleTags,y=e.title,E=y===void 0?"":y,T=e.titleAttributes;return{base:Ti(je.BASE,n,s),bodyAttributes:Ti(mo.BODY,r,s),htmlAttributes:Ti(mo.HTML,a,s),link:Ti(je.LINK,l,s),meta:Ti(je.META,c,s),noscript:Ti(je.NOSCRIPT,d,s),script:Ti(je.SCRIPT,p,s),style:Ti(je.STYLE,m,s),title:Ti(je.TITLE,{title:E,titleAttributes:T},s)}},GA=function(e){var n,r;return r=n=function(s){NA(a,s);function a(){return bA(this,a),OA(this,s.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(c){return!IA(this.props,c)},a.prototype.mapNestedChildrenToProps=function(c,d){if(!d)return null;switch(c.type){case je.SCRIPT:case je.NOSCRIPT:return{innerHTML:d};case je.STYLE:return{cssText:d}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(c){var d,p=c.child,m=c.arrayTypeChildren,y=c.newChildProps,E=c.nestedChildren;return Cn({},m,(d={},d[p.type]=[].concat(m[p.type]||[],[Cn({},y,this.mapNestedChildrenToProps(p,E))]),d))},a.prototype.mapObjectTypeChildren=function(c){var d,p,m=c.child,y=c.newProps,E=c.newChildProps,T=c.nestedChildren;switch(m.type){case je.TITLE:return Cn({},y,(d={},d[m.type]=T,d.titleAttributes=Cn({},E),d));case je.BODY:return Cn({},y,{bodyAttributes:Cn({},E)});case je.HTML:return Cn({},y,{htmlAttributes:Cn({},E)})}return Cn({},y,(p={},p[m.type]=Cn({},E),p))},a.prototype.mapArrayTypeChildrenToProps=function(c,d){var p=Cn({},d);return Object.keys(c).forEach(function(m){var y;p=Cn({},p,(y={},y[m]=c[m],y))}),p},a.prototype.warnOnInvalidChildren=function(c,d){return!0},a.prototype.mapChildrenToProps=function(c,d){var p=this,m={};return Ra.Children.forEach(c,function(y){if(!(!y||!y.props)){var E=y.props,T=E.children,A=B_(E,["children"]),D=HA(A);switch(p.warnOnInvalidChildren(y,T),y.type){case je.LINK:case je.META:case je.NOSCRIPT:case je.SCRIPT:case je.STYLE:m=p.flattenArrayTypeChildren({child:y,arrayTypeChildren:m,newChildProps:D,nestedChildren:T});break;default:d=p.mapObjectTypeChildren({child:y,newProps:d,newChildProps:D,nestedChildren:T});break}}}),d=this.mapArrayTypeChildrenToProps(m,d),d},a.prototype.render=function(){var c=this.props,d=c.children,p=B_(c,["children"]),m=Cn({},p);return d&&(m=this.mapChildrenToProps(d,m)),Ra.createElement(e,m)},PA(a,null,[{key:"canUseDOM",set:function(c){e.canUseDOM=c}}]),a}(Ra.Component),n.propTypes={base:ft.object,bodyAttributes:ft.object,children:ft.oneOfType([ft.arrayOf(ft.node),ft.node]),defaultTitle:ft.string,defer:ft.bool,encodeSpecialCharacters:ft.bool,htmlAttributes:ft.object,link:ft.arrayOf(ft.object),meta:ft.arrayOf(ft.object),noscript:ft.arrayOf(ft.object),onChangeClientState:ft.func,script:ft.arrayOf(ft.object),style:ft.arrayOf(ft.object),title:ft.string,titleAttributes:ft.object,titleTemplate:ft.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=$T({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},QA=function(){return null},YA=wA(jA,BA,$T)(QA),vo=GA(YA);vo.renderStatic=vo.rewind;const XA=()=>w.jsxs(w.Fragment,{children:[w.jsxs(vo,{children:[w.jsx("title",{children:"Home | Tangled Oak + Craft Collective"}),w.jsx("meta",{name:"description",content:"Discover locally made artisanal goods, unique crafts, and one-of-a-kind finds at Tangled Oak + Craft Collective in North Bay, Ontario."}),w.jsx("meta",{name:"keywords",content:"handmade crafts, local artisans, North Bay, Ontario, home decor, jewelry, pottery, woodworking, Canadian artisans"})]}),w.jsx("div",{className:"home-container",children:w.jsxs("div",{className:"main-content",children:[w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Featured Vendors"}),w.jsx("img",{src:"/views/images/feature.png",alt:"Featured Vendors in the store",className:"feature-img"}),w.jsx("br",{}),w.jsx("a",{href:"/shop",className:"button",children:"Browse All Products"})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"About Us"}),w.jsxs("p",{children:["Founded with a passion for craftsmanship,",w.jsx("br",{}),"The Tangled Oak + Craft Collective brings together talented artisans from North Bay and beyond.",w.jsx("br",{}),"Every product tells a story, celebrating the artistry and dedication of makers."]}),w.jsx("a",{href:"/about",className:"button",children:"Learn More"})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Discover Handmade Treasures, Crafted with Heart"}),w.jsx("img",{src:"/views/images/shopFront2.jpg",alt:"Storefront from sidewalk",className:"hero-img"}),w.jsx("div",{className:"hero-text",children:"Locally made artisanal goods, unique crafts, and one-of-a-kind finds."}),w.jsx("br",{}),w.jsx("a",{href:"https://the-tangled-oak-craft-collective.square.site",className:"button",target:"_blank",rel:"noopener noreferrer",children:"Shop Now"})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Hours of Operation"}),w.jsxs("p",{className:"hours-text",children:["Monday: 11 AM - 4 PM",w.jsx("br",{}),"Tuesday: 11 AM -4 PM",w.jsx("br",{}),"Wednesday: 11 AM - 4 PM",w.jsx("br",{}),"Thursday: 11 AM - 4 PM",w.jsx("br",{}),"Friday: 11 AM - 4 PM",w.jsx("br",{}),"Saturday: 10 AM - 3 PM",w.jsx("br",{}),"Sunday: CLOSED ",w.jsx("br",{})]})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Where You Can Find Us"}),w.jsxs("p",{children:["150 Oak Street W, North Bay, ON",w.jsx("br",{}),"Email: store@tangledoak.ca",w.jsx("br",{}),"Phone: (705) 201-2300"]}),w.jsx("br",{}),w.jsxs("div",{className:"map-container",children:[w.jsx("h2",{children:"Find Us on the Map"}),w.jsx("iframe",{className:"map",width:"80%",style:{border:"2px solid #203a13"},loading:"lazy",allowFullScreen:!0,title:"Tangled Oak Location",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2755.934228632341!2d-79.46534059999999!3d46.311143699999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4d29aa9cbd52da61%3A0x5ba29b1fbf8394f9!2s150%20Oak%20St%20W%2C%20North%20Bay%2C%20ON%20P1B%202S7!5e0!3m2!1sen!2sca!4v1742343151470!5m2!1sen!2sca"})]})]})]})})]});var th={exports:{}},ls={},nh={exports:{}},or={},rh={exports:{}},$_;function HT(){return $_||($_=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",s=/^(input|select|textarea|button|object|iframe)$/;function a(y,E){return E.getPropertyValue("overflow")!=="visible"||y.scrollWidth<=0&&y.scrollHeight<=0}function l(y){var E=y.offsetWidth<=0&&y.offsetHeight<=0;if(E&&!y.innerHTML)return!0;try{var T=window.getComputedStyle(y),A=T.getPropertyValue("display");return E?A!==r&&a(y,T):A===n}catch{return console.warn("Failed to inspect element style"),!1}}function c(y){for(var E=y,T=y.getRootNode&&y.getRootNode();E&&E!==document.body;){if(T&&E===T&&(E=T.host.parentNode),l(E))return!1;E=E.parentNode}return!0}function d(y,E){var T=y.nodeName.toLowerCase(),A=s.test(T)&&!y.disabled||T==="a"&&y.href||E;return A&&c(y)}function p(y){var E=y.getAttribute("tabindex");E===null&&(E=void 0);var T=isNaN(E);return(T||E>=0)&&d(y,!T)}function m(y){var E=[].slice.call(y.querySelectorAll("*"),0).reduce(function(T,A){return T.concat(A.shadowRoot?m(A.shadowRoot):[A])},[]);return E.filter(p)}t.exports=e.default}(rh,rh.exports)),rh.exports}var H_;function JA(){if(H_)return or;H_=1,Object.defineProperty(or,"__esModule",{value:!0}),or.resetState=l,or.log=c,or.handleBlur=d,or.handleFocus=p,or.markForFocusLater=m,or.returnFocus=y,or.popWithoutFocus=E,or.setupScopedFocus=T,or.teardownScopedFocus=A;var t=HT(),e=n(t);function n(D){return D&&D.__esModule?D:{default:D}}var r=[],s=null,a=!1;function l(){r=[]}function c(){}function d(){a=!0}function p(){if(a){if(a=!1,!s)return;setTimeout(function(){if(!s.contains(document.activeElement)){var D=(0,e.default)(s)[0]||s;D.focus()}},0)}}function m(){r.push(document.activeElement)}function y(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,L=null;try{r.length!==0&&(L=r.pop(),L.focus({preventScroll:D}));return}catch{console.warn(["You tried to return focus to",L,"but it is not in the DOM anymore"].join(" "))}}function E(){r.length>0&&r.pop()}function T(D){s=D,window.addEventListener?(window.addEventListener("blur",d,!1),document.addEventListener("focus",p,!0)):(window.attachEvent("onBlur",d),document.attachEvent("onFocus",p))}function A(){s=null,window.addEventListener?(window.removeEventListener("blur",d),document.removeEventListener("focus",p)):(window.detachEvent("onBlur",d),document.detachEvent("onFocus",p))}return or}var ih={exports:{}},W_;function ZA(){return W_||(W_=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=HT(),r=s(n);function s(c){return c&&c.__esModule?c:{default:c}}function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return c.activeElement.shadowRoot?a(c.activeElement.shadowRoot):c.activeElement}function l(c,d){var p=(0,r.default)(c);if(!p.length){d.preventDefault();return}var m=void 0,y=d.shiftKey,E=p[0],T=p[p.length-1],A=a();if(c===A){if(!y)return;m=T}if(T===A&&!y&&(m=E),E===A&&y&&(m=T),m){d.preventDefault(),m.focus();return}var D=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),L=D!=null&&D[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(L){var U=p.indexOf(A);if(U>-1&&(U+=y?-1:1),m=p[U],typeof m>"u"){d.preventDefault(),m=y?T:E,m.focus();return}d.preventDefault(),m.focus()}}t.exports=e.default}(ih,ih.exports)),ih.exports}var br={},gp,K_;function e1(){if(K_)return gp;K_=1;var t=function(){};return gp=t,gp}var Qr={},yp={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var G_;function t1(){return G_||(G_=1,function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()}(yp)),yp.exports}var Q_;function Km(){if(Q_)return Qr;Q_=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.canUseDOM=Qr.SafeNodeList=Qr.SafeHTMLCollection=void 0;var t=t1(),e=n(t);function n(a){return a&&a.__esModule?a:{default:a}}var r=e.default,s=r.canUseDOM?window.HTMLElement:{};return Qr.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},Qr.SafeNodeList=r.canUseDOM?window.NodeList:{},Qr.canUseDOM=r.canUseDOM,Qr.default=s,Qr}var Y_;function WT(){if(Y_)return br;Y_=1,Object.defineProperty(br,"__esModule",{value:!0}),br.resetState=a,br.log=l,br.assertNodeList=c,br.setElement=d,br.validateElement=p,br.hide=m,br.show=y,br.documentNotReadyOrSSRTesting=E;var t=e1(),e=r(t),n=Km();function r(T){return T&&T.__esModule?T:{default:T}}var s=null;function a(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):s.length!=null?s.forEach(function(T){return T.removeAttribute("aria-hidden")}):document.querySelectorAll(s).forEach(function(T){return T.removeAttribute("aria-hidden")})),s=null}function l(){}function c(T,A){if(!T||!T.length)throw new Error("react-modal: No elements were found for selector "+A+".")}function d(T){var A=T;if(typeof A=="string"&&n.canUseDOM){var D=document.querySelectorAll(A);c(D,A),A=D}return s=A||s,s}function p(T){var A=T||s;return A?Array.isArray(A)||A instanceof HTMLCollection||A instanceof NodeList?A:[A]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function m(T){var A=!0,D=!1,L=void 0;try{for(var U=p(T)[Symbol.iterator](),J;!(A=(J=U.next()).done);A=!0){var z=J.value;z.setAttribute("aria-hidden","true")}}catch($){D=!0,L=$}finally{try{!A&&U.return&&U.return()}finally{if(D)throw L}}}function y(T){var A=!0,D=!1,L=void 0;try{for(var U=p(T)[Symbol.iterator](),J;!(A=(J=U.next()).done);A=!0){var z=J.value;z.removeAttribute("aria-hidden")}}catch($){D=!0,L=$}finally{try{!A&&U.return&&U.return()}finally{if(D)throw L}}}function E(){s=null}return br}var uo={},X_;function n1(){if(X_)return uo;X_=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.resetState=r,uo.log=s;var t={},e={};function n(p,m){p.classList.remove(m)}function r(){var p=document.getElementsByTagName("html")[0];for(var m in t)n(p,t[m]);var y=document.body;for(var E in e)n(y,e[E]);t={},e={}}function s(){}var a=function(m,y){return m[y]||(m[y]=0),m[y]+=1,y},l=function(m,y){return m[y]&&(m[y]-=1),y},c=function(m,y,E){E.forEach(function(T){a(y,T),m.add(T)})},d=function(m,y,E){E.forEach(function(T){l(y,T),y[T]===0&&m.remove(T)})};return uo.add=function(m,y){return c(m.classList,m.nodeName.toLowerCase()=="html"?t:e,y.split(" "))},uo.remove=function(m,y){return d(m.classList,m.nodeName.toLowerCase()=="html"?t:e,y.split(" "))},uo}var Ta={},J_;function KT(){if(J_)return Ta;J_=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.log=r,Ta.resetState=s;function t(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var e=function a(){var l=this;t(this,a),this.register=function(c){l.openInstances.indexOf(c)===-1&&(l.openInstances.push(c),l.emit("register"))},this.deregister=function(c){var d=l.openInstances.indexOf(c);d!==-1&&(l.openInstances.splice(d,1),l.emit("deregister"))},this.subscribe=function(c){l.subscribers.push(c)},this.emit=function(c){l.subscribers.forEach(function(d){return d(c,l.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new e;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function s(){n=new e}return Ta.default=n,Ta}var zl={},Z_;function r1(){if(Z_)return zl;Z_=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.resetState=l,zl.log=c;var t=KT(),e=n(t);function n(m){return m&&m.__esModule?m:{default:m}}var r=void 0,s=void 0,a=[];function l(){for(var m=[r,s],y=0;y<m.length;y++){var E=m[y];E&&E.parentNode&&E.parentNode.removeChild(E)}r=s=null,a=[]}function c(){console.log("bodyTrap ----------"),console.log(a.length);for(var m=[r,s],y=0;y<m.length;y++){var E=m[y],T=E||{};console.log(T.nodeName,T.className,T.id)}console.log("edn bodyTrap ----------")}function d(){a.length!==0&&a[a.length-1].focusContent()}function p(m,y){!r&&!s&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",d),s=r.cloneNode(),s.addEventListener("focus",d)),a=y,a.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(r.parentElement&&r.parentElement.removeChild(r),s.parentElement&&s.parentElement.removeChild(s))}return e.default.subscribe(p),zl}var ew;function i1(){return ew||(ew=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(Y){for(var ne=1;ne<arguments.length;ne++){var ve=arguments[ne];for(var H in ve)Object.prototype.hasOwnProperty.call(ve,H)&&(Y[H]=ve[H])}return Y},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},s=function(){function Y(ne,ve){for(var H=0;H<ve.length;H++){var Z=ve[H];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(ne,Z.key,Z)}}return function(ne,ve,H){return ve&&Y(ne.prototype,ve),H&&Y(ne,H),ne}}(),a=$a(),l=Wm(),c=he(l),d=JA(),p=$(d),m=ZA(),y=he(m),E=WT(),T=$(E),A=n1(),D=$(A),L=Km(),U=he(L),J=KT(),z=he(J);r1();function $(Y){if(Y&&Y.__esModule)return Y;var ne={};if(Y!=null)for(var ve in Y)Object.prototype.hasOwnProperty.call(Y,ve)&&(ne[ve]=Y[ve]);return ne.default=Y,ne}function he(Y){return Y&&Y.__esModule?Y:{default:Y}}function G(Y,ne){if(!(Y instanceof ne))throw new TypeError("Cannot call a class as a function")}function V(Y,ne){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:Y}function R(Y,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);Y.prototype=Object.create(ne&&ne.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,ne):Y.__proto__=ne)}var O={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},j=function(ne){return ne.code==="Tab"||ne.keyCode===9},b=function(ne){return ne.code==="Escape"||ne.keyCode===27},P=0,x=function(Y){R(ne,Y);function ne(ve){G(this,ne);var H=V(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,ve));return H.setOverlayRef=function(Z){H.overlay=Z,H.props.overlayRef&&H.props.overlayRef(Z)},H.setContentRef=function(Z){H.content=Z,H.props.contentRef&&H.props.contentRef(Z)},H.afterClose=function(){var Z=H.props,pe=Z.appElement,C=Z.ariaHideApp,B=Z.htmlOpenClassName,re=Z.bodyOpenClassName,N=Z.parentSelector,Se=N&&N().ownerDocument||document;re&&D.remove(Se.body,re),B&&D.remove(Se.getElementsByTagName("html")[0],B),C&&P>0&&(P-=1,P===0&&T.show(pe)),H.props.shouldFocusAfterRender&&(H.props.shouldReturnFocusAfterClose?(p.returnFocus(H.props.preventScroll),p.teardownScopedFocus()):p.popWithoutFocus()),H.props.onAfterClose&&H.props.onAfterClose(),z.default.deregister(H)},H.open=function(){H.beforeOpen(),H.state.afterOpen&&H.state.beforeClose?(clearTimeout(H.closeTimer),H.setState({beforeClose:!1})):(H.props.shouldFocusAfterRender&&(p.setupScopedFocus(H.node),p.markForFocusLater()),H.setState({isOpen:!0},function(){H.openAnimationFrame=requestAnimationFrame(function(){H.setState({afterOpen:!0}),H.props.isOpen&&H.props.onAfterOpen&&H.props.onAfterOpen({overlayEl:H.overlay,contentEl:H.content})})}))},H.close=function(){H.props.closeTimeoutMS>0?H.closeWithTimeout():H.closeWithoutTimeout()},H.focusContent=function(){return H.content&&!H.contentHasFocus()&&H.content.focus({preventScroll:!0})},H.closeWithTimeout=function(){var Z=Date.now()+H.props.closeTimeoutMS;H.setState({beforeClose:!0,closesAt:Z},function(){H.closeTimer=setTimeout(H.closeWithoutTimeout,H.state.closesAt-Date.now())})},H.closeWithoutTimeout=function(){H.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},H.afterClose)},H.handleKeyDown=function(Z){j(Z)&&(0,y.default)(H.content,Z),H.props.shouldCloseOnEsc&&b(Z)&&(Z.stopPropagation(),H.requestClose(Z))},H.handleOverlayOnClick=function(Z){H.shouldClose===null&&(H.shouldClose=!0),H.shouldClose&&H.props.shouldCloseOnOverlayClick&&(H.ownerHandlesClose()?H.requestClose(Z):H.focusContent()),H.shouldClose=null},H.handleContentOnMouseUp=function(){H.shouldClose=!1},H.handleOverlayOnMouseDown=function(Z){!H.props.shouldCloseOnOverlayClick&&Z.target==H.overlay&&Z.preventDefault()},H.handleContentOnClick=function(){H.shouldClose=!1},H.handleContentOnMouseDown=function(){H.shouldClose=!1},H.requestClose=function(Z){return H.ownerHandlesClose()&&H.props.onRequestClose(Z)},H.ownerHandlesClose=function(){return H.props.onRequestClose},H.shouldBeClosed=function(){return!H.state.isOpen&&!H.state.beforeClose},H.contentHasFocus=function(){return document.activeElement===H.content||H.content.contains(document.activeElement)},H.buildClassName=function(Z,pe){var C=(typeof pe>"u"?"undefined":r(pe))==="object"?pe:{base:O[Z],afterOpen:O[Z]+"--after-open",beforeClose:O[Z]+"--before-close"},B=C.base;return H.state.afterOpen&&(B=B+" "+C.afterOpen),H.state.beforeClose&&(B=B+" "+C.beforeClose),typeof pe=="string"&&pe?B+" "+pe:B},H.attributesFromObject=function(Z,pe){return Object.keys(pe).reduce(function(C,B){return C[Z+"-"+B]=pe[B],C},{})},H.state={afterOpen:!1,beforeClose:!1},H.shouldClose=null,H.moveFromContentToOverlay=null,H}return s(ne,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(H,Z){this.props.isOpen&&!H.isOpen?this.open():!this.props.isOpen&&H.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!Z.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var H=this.props,Z=H.appElement,pe=H.ariaHideApp,C=H.htmlOpenClassName,B=H.bodyOpenClassName,re=H.parentSelector,N=re&&re().ownerDocument||document;B&&D.add(N.body,B),C&&D.add(N.getElementsByTagName("html")[0],C),pe&&(P+=1,T.hide(Z)),z.default.register(this)}},{key:"render",value:function(){var H=this.props,Z=H.id,pe=H.className,C=H.overlayClassName,B=H.defaultStyles,re=H.children,N=pe?{}:B.content,Se=C?{}:B.overlay;if(this.shouldBeClosed())return null;var Ne={ref:this.setOverlayRef,className:this.buildClassName("overlay",C),style:n({},Se,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ke=n({id:Z,ref:this.setContentRef,style:n({},N,this.props.style.content),className:this.buildClassName("content",pe),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Be=this.props.contentElement(ke,re);return this.props.overlayElement(Ne,Be)}}]),ne}(a.Component);x.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},x.propTypes={isOpen:c.default.bool.isRequired,defaultStyles:c.default.shape({content:c.default.object,overlay:c.default.object}),style:c.default.shape({content:c.default.object,overlay:c.default.object}),className:c.default.oneOfType([c.default.string,c.default.object]),overlayClassName:c.default.oneOfType([c.default.string,c.default.object]),parentSelector:c.default.func,bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,ariaHideApp:c.default.bool,appElement:c.default.oneOfType([c.default.instanceOf(U.default),c.default.instanceOf(L.SafeHTMLCollection),c.default.instanceOf(L.SafeNodeList),c.default.arrayOf(c.default.instanceOf(U.default))]),onAfterOpen:c.default.func,onAfterClose:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,preventScroll:c.default.bool,role:c.default.string,contentLabel:c.default.string,aria:c.default.object,data:c.default.object,children:c.default.node,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func,id:c.default.string,overlayElement:c.default.func,contentElement:c.default.func,testId:c.default.string},e.default=x,t.exports=e.default}(nh,nh.exports)),nh.exports}function GT(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function QT(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function YT(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}GT.__suppressDeprecationWarning=!0;QT.__suppressDeprecationWarning=!0;YT.__suppressDeprecationWarning=!0;function s1(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,s=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?s="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),n!==null||r!==null||s!==null){var a=t.displayName||t.name,l=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+l+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=GT,e.componentWillReceiveProps=QT),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=YT;var c=e.componentDidUpdate;e.componentDidUpdate=function(p,m,y){var E=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:y;c.call(this,p,m,E)}}return t}const o1=Object.freeze(Object.defineProperty({__proto__:null,polyfill:s1},Symbol.toStringTag,{value:"Module"})),a1=nC(o1);var tw;function l1(){if(tw)return ls;tw=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.bodyOpenClassName=ls.portalClassName=void 0;var t=Object.assign||function(b){for(var P=1;P<arguments.length;P++){var x=arguments[P];for(var Y in x)Object.prototype.hasOwnProperty.call(x,Y)&&(b[Y]=x[Y])}return b},e=function(){function b(P,x){for(var Y=0;Y<x.length;Y++){var ne=x[Y];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(P,ne.key,ne)}}return function(P,x,Y){return x&&b(P.prototype,x),Y&&b(P,Y),P}}(),n=$a(),r=L(n),s=Um(),a=L(s),l=Wm(),c=L(l),d=i1(),p=L(d),m=WT(),y=D(m),E=Km(),T=L(E),A=a1;function D(b){if(b&&b.__esModule)return b;var P={};if(b!=null)for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(P[x]=b[x]);return P.default=b,P}function L(b){return b&&b.__esModule?b:{default:b}}function U(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")}function J(b,P){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:b}function z(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);b.prototype=Object.create(P&&P.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(b,P):b.__proto__=P)}var $=ls.portalClassName="ReactModalPortal",he=ls.bodyOpenClassName="ReactModal__Body--open",G=E.canUseDOM&&a.default.createPortal!==void 0,V=function(P){return document.createElement(P)},R=function(){return G?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function O(b){return b()}var j=function(b){z(P,b);function P(){var x,Y,ne,ve;U(this,P);for(var H=arguments.length,Z=Array(H),pe=0;pe<H;pe++)Z[pe]=arguments[pe];return ve=(Y=(ne=J(this,(x=P.__proto__||Object.getPrototypeOf(P)).call.apply(x,[this].concat(Z))),ne),ne.removePortal=function(){!G&&a.default.unmountComponentAtNode(ne.node);var C=O(ne.props.parentSelector);C&&C.contains(ne.node)?C.removeChild(ne.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},ne.portalRef=function(C){ne.portal=C},ne.renderPortal=function(C){var B=R(),re=B(ne,r.default.createElement(p.default,t({defaultStyles:P.defaultStyles},C)),ne.node);ne.portalRef(re)},Y),J(ne,ve)}return e(P,[{key:"componentDidMount",value:function(){if(E.canUseDOM){G||(this.node=V("div")),this.node.className=this.props.portalClassName;var Y=O(this.props.parentSelector);Y.appendChild(this.node),!G&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(Y){var ne=O(Y.parentSelector),ve=O(this.props.parentSelector);return{prevParent:ne,nextParent:ve}}},{key:"componentDidUpdate",value:function(Y,ne,ve){if(E.canUseDOM){var H=this.props,Z=H.isOpen,pe=H.portalClassName;Y.portalClassName!==pe&&(this.node.className=pe);var C=ve.prevParent,B=ve.nextParent;B!==C&&(C.removeChild(this.node),B.appendChild(this.node)),!(!Y.isOpen&&!Z)&&!G&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!E.canUseDOM||!this.node||!this.portal)){var Y=this.portal.state,ne=Date.now(),ve=Y.isOpen&&this.props.closeTimeoutMS&&(Y.closesAt||ne+this.props.closeTimeoutMS);ve?(Y.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,ve-ne)):this.removePortal()}}},{key:"render",value:function(){if(!E.canUseDOM||!G)return null;!this.node&&G&&(this.node=V("div"));var Y=R();return Y(r.default.createElement(p.default,t({ref:this.portalRef,defaultStyles:P.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(Y){y.setElement(Y)}}]),P}(n.Component);return j.propTypes={isOpen:c.default.bool.isRequired,style:c.default.shape({content:c.default.object,overlay:c.default.object}),portalClassName:c.default.string,bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,className:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),overlayClassName:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),appElement:c.default.oneOfType([c.default.instanceOf(T.default),c.default.instanceOf(E.SafeHTMLCollection),c.default.instanceOf(E.SafeNodeList),c.default.arrayOf(c.default.instanceOf(T.default))]),onAfterOpen:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,ariaHideApp:c.default.bool,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,preventScroll:c.default.bool,parentSelector:c.default.func,aria:c.default.object,data:c.default.object,role:c.default.string,contentLabel:c.default.string,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func,id:c.default.string,overlayElement:c.default.func,contentElement:c.default.func},j.defaultProps={isOpen:!1,portalClassName:$,bodyOpenClassName:he,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(P,x){return r.default.createElement("div",P,x)},contentElement:function(P,x){return r.default.createElement("div",P,x)}},j.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,A.polyfill)(j),ls.default=j,ls}var nw;function u1(){return nw||(nw=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=l1(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}e.default=r.default,t.exports=e.default}(th,th.exports)),th.exports}var c1=u1();const XT=Ni(c1);XT.setAppElement("#root");const h1=({isOpen:t,product:e,onClose:n})=>e?w.jsx(XT,{isOpen:t,onRequestClose:n,contentLabel:"Product Checkout",className:"modal",overlayClassName:"overlay",children:w.jsxs("div",{className:"modal-content",children:[w.jsx("h2",{children:e.name}),w.jsx("img",{src:e.image_url,alt:e.name,style:{width:"100%",maxWidth:"400px"}}),w.jsx("p",{style:{margin:"1rem 0"},children:e.description}),w.jsxs("p",{children:[w.jsx("strong",{children:"Price:"})," $",e.price.toFixed(2)," ",e.currency]}),w.jsx("a",{href:e.product_url,target:"_blank",rel:"noopener noreferrer",className:"checkout-button",style:{marginTop:"1rem"},children:"Complete Secure Checkout"}),w.jsx("br",{}),w.jsx("button",{onClick:n,style:{marginTop:"1rem"},children:"Cancel"})]})}):null,d1=()=>{const[t,e]=ie.useState([]),[n,r]=ie.useState(""),[s,a]=ie.useState(""),[l,c]=ie.useState(null),[d,p]=ie.useState(!1),[m,y]=ie.useState(null),E=xo(),T=()=>{y(null),p(!1)},A=z=>{const $=(z.name||"").toLowerCase(),he=(z.description||"").toLowerCase();return $.includes("earring")||$.includes("necklace")||$.includes("bracelet")||$.includes("ring")?"Jewelry":$.includes("hat")||$.includes("shirt")||$.includes("sweater")||$.includes("shawl")||$.includes("scarf")||$.includes("tank")||$.includes("mitten")||$.includes("sock")||$.includes("slipper")?"Clothing + Wearables":$.includes("bag")||$.includes("purse")||$.includes("tote")?"Bags":$.includes("baby")||$.includes("kids")||he.includes("child")?"Baby + Kids":$.includes("soap")||$.includes("bath")||$.includes("scrub")||$.includes("beard")||$.includes("lotion")||$.includes("bomb")?"Bath + Body":$.includes("crystal")||$.includes("gem")||$.includes("stone")?"Crystals + Healing":$.includes("mug")||$.includes("glass")?"Kitchen":$.includes("biscotti")||$.includes("cheese")||$.includes("maple")||$.includes("snack")?"Pantry + Snacks":$.includes("pet")||$.includes("treat")||he.includes("dog")||he.includes("cat")?"Pets":$.includes("knife")||$.includes("blade")||$.includes("dagger")||$.includes("axe")?"Knives + Blades":$.includes("craft")||$.includes("kit")||$.includes("supply")||$.includes("bead")||$.includes("wire")||$.includes("pom")?"DIY Crafts + Supplies":$.includes("card")||$.includes("tag")||$.includes("paper")||$.includes("gift")?"Gift Accessories & Paper Goods":$.includes("pottery")||$.includes("dish")||$.includes("serving")?"Serving Dishes":he.includes("music")||$.includes("lynn blunt")?"Music":$.includes("home")||he.includes("decor")||$.includes("sign")||$.includes("pillow")?"Home Decor":"Uncategorized"},D=z=>{const $=new Date,he=new Date(z);return($-he)/(1e3*60*60*24)<=30};ie.useEffect(()=>{fetch("undefined/products").then(z=>{if(!z.ok)throw new Error("Network response was not ok");return z.json()}).then(z=>{const $=z.products.map(he=>({...he,category_name:A(he),created_at:he.created_at||new Date("2024-04-01")}));$.sort((he,G)=>new Date(G.created_at)-new Date(he.created_at)),e($)}).catch(z=>{console.error("❌ Fetch error:",z),c("Failed to load products. Please try again later.")})},[]);const L=t.filter(z=>{const $=n?z.category_name.toLowerCase()===n.toLowerCase():!0,he=s?z.description.toLowerCase().includes(s.toLowerCase()):!0;return $&&he}),U=["Jewelry","Clothing + Wearables","Bags","Baby + Kids","Bath + Body","Crystals + Healing","Kitchen","Pantry + Snacks","Pets","Knives + Blades","DIY Crafts + Supplies","Home Decor","Gift Accessories & Paper Goods","Serving Dishes","Music"],J=["Ocean Soul Clay","Spoons and Stuff by Christine","Candy Dandy Crafts","Cosmically Connected","Mo's Craftworks","She Keeps Bees","Bohemian Heart Crafts","Gravelle","Little Barn Homestead","Old Soul Soap Company","Soap & Seed","Muddy Paws Raw","Top to Toe Hand Knits","Knits by Marsha Ann","Knit With Love","Lahaie Hats","Tags & Tropics","Peddie Pieces","Lynn Blunt","A&S Crystals","Sleeping Giant Biscotti","Cheese and Stuffs","Maple Syrup Trillium","The Knotty Celt"];return w.jsxs(w.Fragment,{children:[w.jsxs(vo,{children:[w.jsx("title",{children:"Shop Handmade Crafts | Tangled Oak + Craft Collective"}),w.jsx("meta",{name:"description",content:"Discover handmade crafts from local artisans."})]}),w.jsxs("div",{className:"shop-page",children:[w.jsxs("div",{className:"shop-header",children:[w.jsx("h1",{children:"Shop Our Collection"}),w.jsx("p",{children:"Browse products from local artisans and makers. Tap a product to check out via our secure Square store."})]}),w.jsxs("div",{className:"shop-filters",children:[w.jsxs("select",{value:n,onChange:z=>r(z.target.value),disabled:s!=="",children:[w.jsx("option",{value:"",children:"All Categories"}),U.map(z=>w.jsx("option",{value:z,children:z},z))]}),w.jsxs("select",{value:s,onChange:z=>{a(z.target.value),r("")},children:[w.jsx("option",{value:"",children:"All Vendors"}),J.map(z=>w.jsx("option",{value:z,children:z},z))]})]}),l&&w.jsx("p",{style:{color:"red",textAlign:"center"},children:l}),w.jsx("div",{className:"products-container",children:L.filter(z=>z.product_url&&z.product_url!=="#").length===0?w.jsx("p",{style:{textAlign:"center"},children:"No available products found."}):L.filter(z=>z.product_url&&z.product_url!=="#").map(z=>w.jsxs("div",{className:"product-card",children:[D(z.created_at)&&w.jsx("div",{className:"new-badge",children:"New!"}),w.jsx("img",{src:z.image_url,alt:z.name,className:"product-image"}),w.jsx("h3",{className:"product-name",children:z.name.replace(/^New!\s*/i,"")}),w.jsxs("p",{className:"product-price",children:["$",z.price.toFixed(2)," ",z.currency]}),w.jsx("button",{onClick:()=>E(`/product/${z.id}`),className:"checkout-button",children:"View Product"})]},z.id))})]}),w.jsx(h1,{isOpen:d,product:m,onClose:T})]})},f1=()=>{var c;const{productId:t}=Hm(),[e,n]=ie.useState(null),[r,s]=ie.useState(""),[a,l]=ie.useState("");return ie.useEffect(()=>{(async()=>{try{const p=await fetch("/products");if(!p.ok)throw new Error("Failed to fetch product details.");const y=(await p.json()).products.find(E=>E.id===t);y?n(y):s("Product not found.")}catch(p){console.error("Error loading product:",p),s("Failed to load product.")}})()},[t]),r?w.jsx("div",{className:"product-page",children:w.jsx("p",{children:r})}):e?w.jsx("div",{className:"product-page",children:w.jsxs("div",{className:"context-box product-box",children:[w.jsx("div",{className:"product-image",children:w.jsx("img",{src:e.image_url,alt:e.name})}),w.jsxs("div",{className:"product-header",children:[w.jsx("h1",{children:e.name}),w.jsxs("p",{className:"product-price",children:["$",e.price.toFixed(2)," ",e.currency]})]}),w.jsx("div",{className:"product-description",children:w.jsx("p",{children:e.description})}),((c=e.variations)==null?void 0:c.length)>0&&w.jsxs("div",{className:"product-variations",children:[w.jsx("label",{htmlFor:"variation-select",children:"Choose Variation:"}),w.jsx("select",{id:"variation-select",value:a,onChange:d=>l(d.target.value),children:e.variations.map((d,p)=>w.jsx("option",{value:d.name,children:d.name},p))})]}),w.jsx("a",{href:e.product_url,target:"_blank",rel:"noopener noreferrer",className:"checkout-button",children:"Buy Now"})]})}):w.jsx("div",{className:"product-page",children:w.jsx("p",{children:"Loading..."})})},JT=ie.createContext(),p1=[];function m1(t,e){switch(e.type){case"ADD":return t.find(r=>r.id===e.payload.id)?t.map(r=>r.id===e.payload.id?{...r,quantity:r.quantity+e.payload.quantity}:r):[...t,e.payload];case"REMOVE":return t.filter(r=>r.id!==e.payload);case"CLEAR":return[];default:return t}}const g1=({children:t})=>{const[e,n]=ie.useReducer(m1,p1),r=(l,c=1)=>{n({type:"ADD",payload:{...l,quantity:c}})},s=l=>{n({type:"REMOVE",payload:l})},a=()=>n({type:"CLEAR"});return w.jsx(JT.Provider,{value:{cart:e,addToCart:r,removeFromCart:s,clearCart:a},children:t})},y1=()=>ie.useContext(JT),v1=()=>{const{cart:t,removeFromCart:e,clearCart:n}=y1(),r=async()=>{try{const a=await(await fetch("undefined/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:t})})).json();a.checkout_url?window.location.href=a.checkout_url:alert("Checkout failed: No URL returned.")}catch(s){console.error("Checkout error:",s),alert("Something went wrong during checkout.")}};return w.jsxs("div",{className:"cart-page",children:[w.jsx("h1",{children:"Your Cart"}),t.length===0?w.jsx("p",{children:"Your cart is empty."}):w.jsxs(w.Fragment,{children:[w.jsx("ul",{children:t.map(s=>w.jsxs("li",{style:{marginBottom:"1rem"},children:[w.jsx("strong",{children:s.name})," — $",s.price.toFixed(2)," × ",s.quantity,w.jsx("br",{}),w.jsx("button",{onClick:()=>e(s.id),style:{marginTop:"0.25rem"},children:"Remove"})]},s.id))}),w.jsx("hr",{}),w.jsxs("p",{children:[w.jsx("strong",{children:"Total:"})," ","$",t.reduce((s,a)=>s+a.price*a.quantity,0).toFixed(2)]}),w.jsx("button",{onClick:r,className:"checkout-button",style:{marginTop:"1rem"},children:"Proceed to Checkout"}),w.jsx("br",{}),w.jsx("button",{onClick:n,style:{marginTop:"0.5rem",color:"red"},children:"Clear Cart"})]})]})},_1=()=>w.jsxs(w.Fragment,{children:[w.jsxs(vo,{children:[w.jsx("title",{children:"About Us | The Tangled Oak + Craft Collective"}),w.jsx("meta",{name:"description",content:"Learn about The Tangled Oak + Craft Collective in North Bay, Ontario. Discover our mission to support local artisans, explore handmade goods, and connect with a creative community."}),w.jsx("meta",{name:"keywords",content:"handmade crafts, local artisans, North Bay, craft collective, Ontario handmade gifts, support local makers"})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Introduction"}),w.jsxs("p",{children:["Welcome to ",w.jsx("strong",{children:"The Tangled Oak + Craft Collective"}),", located at 150 Oak St W, North Bay, Ontario. We are a community-focused store dedicated to offering a unique selection of handmade treasures, crafted with love by local artisans. Our collective brings together a variety of products, from beautifully crafted pottery and jewelry to hand-knit items and wooden decor. Each piece tells its own story, making it the perfect place to find something special, whether for yourself or as a gift."]}),w.jsx("p",{children:"Our team is passionate about supporting local makers and providing a space for creativity and connection. Whether you're a visitor or a regular, we invite you to explore and discover the artistry behind every item we carry. We’re here to celebrate handmade craft and community spirit."}),w.jsx("p",{children:"We hope you'll join us on this exciting journey and discover something special in our store. We look forward to welcoming you to our community-focused store."})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Mission and Vision"}),w.jsx("p",{children:"The Tangled Oak + Craft Collective was born from a passion for supporting local artisans and celebrating the beauty of handmade creations. Our mission is to provide a space where craft, creativity, and community come together. We are dedicated to showcasing a diverse range of high-quality, handcrafted products made by talented local makers. Each item we offer tells a unique story, reflecting the love and care put into its creation."}),w.jsx("p",{children:"Our vision is to foster a thriving creative community in North Bay by providing a platform for artisans to share their work and for customers to discover one-of-a-kind treasures. We believe in the power of handmade craftsmanship to bring joy, inspiration, and connection to everyone who experiences it."})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"What We Offer"}),w.jsx("p",{children:"At The Tangled Oak + Craft Collective, we offer a wide range of handmade goods crafted with love and care by local artisans. Our collection includes everything from custom pottery and beautifully crafted knives to unique home decor, jewelry, and gourmet products like locally made honeys and jams."}),w.jsx("p",{children:"Each piece in our store is carefully selected for its quality and artistry. Whether you're looking for functional items or decorative treasures, you'll find something that speaks to your heart and adds a touch of craftsmanship to your home or collection."}),w.jsx("p",{children:"Explore our ever-changing selection, with new items added regularly, and find that perfect, one-of-a-kind piece that makes your day a little brighter."}),w.jsx(jt,{to:"/shop",className:"button",children:"Shop Now"})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Community and Connection"}),w.jsx("p",{children:"At The Tangled Oak + Craft Collective, we believe in the power of community and the importance of supporting local artisans and makers. Our mission is to create a welcoming space where creativity flourishes, bringing together a diverse group of talented individuals who share a passion for craftsmanship."}),w.jsx("p",{children:"We are committed to fostering connections between artists and customers, creating an environment where both can grow and thrive. By supporting local makers, we help ensure that their work is recognized and celebrated, and we provide our customers with unique, high-quality pieces that reflect the creativity and spirit of our community."}),w.jsx("p",{children:"Whether you're browsing for a one-of-a-kind gift or looking for inspiration, The Tangled Oak is a place where creativity, collaboration, and community come together to create something truly special."})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"The Story Behind the Name"}),w.jsx("p",{children:'The name "The Tangled Oak" is inspired by both the natural world and our roots here in North Bay. The oak tree, known for its strength and enduring presence, symbolizes stability, growth, and deep roots. The "tangled" part of the name reflects the creative, interconnected community we’ve fostered with local artisans and makers. It also pays homage to our location on Oak Street, where we bring together a variety of talents and passions to create something unique and beautiful.'}),w.jsx("p",{children:"At The Tangled Oak + Craft Collective, we embrace the beauty of diversity and collaboration, much like the intertwining branches of an oak tree, and we strive to create a space where creativity and community thrive together."})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Meet the Team"}),w.jsx("p",{children:"At The Tangled Oak + Craft Collective, we are a team of passionate individuals dedicated to supporting local artisans and fostering a creative community. We work together to provide a welcoming space where artists and customers can connect and thrive."}),w.jsx("p",{children:"Our team is made up of owners, managers, and key individuals who bring their unique skills and vision to the collective. From curating the products in our store to offering personalized service, each member of our team plays an integral role in making The Tangled Oak a vibrant part of the North Bay community."}),w.jsx("p",{children:"Get to know the people behind the collective:"}),w.jsx("h3",{children:"Aimee"}),w.jsx("p",{children:"Owner and Creator. Aimee's passion for local craftsmanship and community drives the vision behind The Tangled Oak."}),w.jsx("h3",{children:"Carol"}),w.jsx("p",{children:"Manager and Curator. Carol brings her expertise in handmade goods and customer experience to the collective."}),w.jsx("h3",{children:"Charles"}),w.jsx("p",{children:"Operations Coordinator. Charles ensures that everything runs smoothly behind the scenes, managing logistics and day-to-day operations."})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Our Values"}),w.jsx("p",{children:"At The Tangled Oak + Craft Collective, we are guided by a set of core values that define our mission and the way we interact with our community. We believe in the power of craftsmanship, sustainability, and connection. Our products are thoughtfully created by artisans who value quality and authenticity, and we are committed to supporting local makers while promoting eco-friendly practices."}),w.jsx("p",{children:"We strive to create a space where creativity, collaboration, and sustainability can flourish together, benefiting both our makers and our customers."})]}),w.jsxs("div",{className:"context-box",children:[w.jsxs("p",{className:"hours-text",children:["Monday: 11 AM - 4 PM",w.jsx("br",{}),"Tuesday: 11 AM -4 PM",w.jsx("br",{}),"Wednesday: 11 AM - 4 PM",w.jsx("br",{}),"Thursday: 11 AM - 4 PM",w.jsx("br",{}),"Friday: 11 AM - 4 PM",w.jsx("br",{}),"Saturday: 10 AM - 3 PM",w.jsx("br",{}),"Sunday: CLOSED"]}),w.jsx("br",{}),w.jsx("h3",{children:"Where you can find us"}),w.jsxs("p",{children:["150 Oak Street W",w.jsx("br",{}),"North Bay, ON"]}),w.jsxs("p",{children:["Email: store@tangledoak.ca",w.jsx("br",{}),"Phone: (705) 201-2300"]})]}),w.jsx("div",{className:"context-box",children:w.jsx("iframe",{className:"map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2755.934228632341!2d-79.46534059999999!3d46.311143699999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4d29aa9cbd52da61%3A0x5ba29b1fbf8394f9!2s150%20Oak%20St%20W%2C%20North%20Bay%2C%20ON%20P1B%202S7!5e0!3m2!1sen!2sca!4v1691078701919!5m2!1sen!2sca",width:"100%",height:"450",frameBorder:"0",allowFullScreen:"","aria-hidden":"false",tabIndex:"0"})})]}),w1=()=>{const[t,e]=ie.useState({name:"",email:"",message:""}),n=s=>{const{name:a,value:l}=s.target;e(c=>({...c,[a]:l}))},r=s=>{s.preventDefault(),alert("Your message has been sent!"),e({name:"",email:"",message:""})};return w.jsx("div",{className:"contact-container",children:w.jsxs("div",{className:"main-content",children:[w.jsxs("div",{className:"context-box",children:[w.jsx("h1",{children:"Contact Us"}),w.jsx("p",{children:"If you have any questions or comments, please don't hesitate to contact us."}),w.jsx("p",{children:"Tangled Oak Craft Collective"}),w.jsx("p",{children:"150 Oak St W, North Bay, ON"}),w.jsx("p",{children:"Phone: (705) 201-2300"}),w.jsxs("p",{children:["Email: ",w.jsx("a",{href:"mailto:store@tangledoak.ca",children:"store@tangledoak.ca"})]})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Want to be part of the Tangled Oak + Craft Collective?"}),w.jsx("p",{children:"The Tangled Oak + Craft Collective is a community-driven organization dedicated to fostering creativity, innovation, and community among the younger generations. Our mission is to create a space where young people can learn, grow, and connect with one another through their passion for crafting, DIY projects, and creative expression."}),w.jsx("p",{children:"We invite you to join us on our journey towards a brighter future, where every child can thrive and contribute to the world of crafting and creativity."}),w.jsx("p",{children:"Fill out this form and we will get back to you with more information"}),w.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdE19LHG3M9uilKeLxM3l8Xit1jqEb3hiP5PCqCd3merF6LHA/viewform",target:"_blank",rel:"noopener noreferrer",className:"button",children:"Vendor Form"})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Contact Form"}),w.jsxs("form",{onSubmit:r,className:"contact-form",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"name",children:"Name:"}),w.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:n,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email:"}),w.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"message",children:"Message:"}),w.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:n,rows:"4",required:!0})]}),w.jsx("button",{type:"submit",className:"button",children:"Send Message"})]})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Find Us on the Map"}),w.jsx("iframe",{className:"map",width:"80%",style:{border:"2px solid #203a13"},loading:"lazy",allowFullScreen:!0,title:"Tangled Oak Location",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2755.934228632341!2d-79.46534059999999!3d46.311143699999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4d29aa9cbd52da61%3A0x5ba29b1fbf8394f9!2s150%20Oak%20St%20W%2C%20North%20Bay%2C%20ON%20P1B%202S7!5e0!3m2!1sen!2sca!4v1742343151470!5m2!1sen!2sca"})]})]})})},E1=()=>w.jsxs("div",{className:"context-box",children:[w.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Frequently Asked Questions"}),w.jsx("h2",{className:"text-xl font-semibold",children:"How do I place an order?"}),w.jsx("p",{className:"mt-2",children:"Browse our curated collection and add your favorite items to your cart. When you’re ready, proceed to checkout and follow the secure payment prompts."}),w.jsx("h2",{className:"text-xl font-semibold",children:"What payment methods are accepted?"}),w.jsx("p",{className:"mt-2",children:"We accept major credit and debit cards along with select online payment options. The available options will be clearly listed at checkout."}),w.jsx("h2",{className:"text-xl font-semibold",children:"How long does shipping take?"}),w.jsx("p",{className:"mt-2",children:"Orders are typically processed within 2–3 business days. For local pickup in North Bay, ON, you will receive an email with instructions once your order is ready. For shipped orders within Canada, delivery usually takes 7–10 business days."}),w.jsx("h2",{className:"text-xl font-semibold",children:"What if my item arrives damaged or incorrect?"}),w.jsx("p",{className:"mt-2",children:"If there is an issue with your order, please contact us within 7 days of receiving it. Include your order number and photos, and we’ll work with the vendor to resolve the issue."}),w.jsx("h2",{className:"text-xl font-semibold",children:"Are returns accepted?"}),w.jsx("p",{className:"mt-2",children:"Since most items are handmade by independent artisans and considered final sale, returns are limited. However, if there’s a problem with your order, we’ll review your case on an individual basis and coordinate with the vendor to find a satisfactory solution."}),w.jsx("h2",{className:"text-xl font-semibold",children:"Do you ship internationally?"}),w.jsx("p",{className:"mt-2",children:"Currently, we only ship within Canada. If you’re outside of Canada and are interested in a specific item, please contact us directly."}),w.jsx("h2",{className:"text-xl font-semibold",children:"How can I contact customer support?"}),w.jsxs("p",{className:"mt-2",children:["You can reach out to us via email at"," ",w.jsx("a",{href:"mailto:store@tangledoak.ca",className:"text-blue-600 underline",children:"store@tangledoak.ca"})," ","or use our contact form. We’re here to help with any questions or concerns."]})]}),T1=()=>w.jsxs(w.Fragment,{children:[w.jsxs(vo,{children:[w.jsx("title",{children:"Shipping & Returns | Tangled Oak"}),w.jsx("meta",{name:"description",content:"Learn about our shipping and return policies at Tangled Oak. Flat-rate shipping, free local pickup, and more."})]}),w.jsx("div",{className:"home-container",children:w.jsxs("div",{className:"main-content",children:[w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Shipping Policy"}),w.jsx("li",{children:"Orders are typically processed within 2–3 business days. Handmade items may take additional time depending on the artisan."}),w.jsx("br",{}),w.jsxs("li",{children:["We offer flat-rate shipping of ",w.jsx("strong",{children:"$15"})," anywhere in Canada. All orders are shipped via tracked Canada Post service."]}),w.jsx("br",{}),w.jsxs("li",{children:[w.jsx("strong",{children:"Free local pickup"})," is available in North Bay, ON. Select the pickup option at checkout and we’ll email you when your order is ready with pickup details."]}),w.jsx("br",{}),w.jsx("li",{children:"At this time, we only ship within Canada. If you’re outside Canada and would like to order, please contact us directly."}),w.jsx("br",{}),w.jsx("li",{children:"We are not responsible for lost or stolen packages. If your package is lost in transit, please contact Canada Post directly."}),w.jsx("br",{})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Returns & Exchanges"}),w.jsxs("li",{children:["Because Tangled Oak features many independent vendors, ",w.jsx("strong",{children:"most items are final sale"})," unless otherwise noted in the product listing."]}),w.jsx("br",{}),w.jsx("li",{children:"If your order arrives damaged or incorrect, contact us within 7 days of delivery. Include your order number and a photo if possible."}),w.jsx("br",{}),w.jsx("li",{children:"We’ll coordinate with the vendor to find a solution and do our best to resolve the issue through replacement or exchange."}),w.jsx("br",{}),w.jsxs("li",{children:["Email us at ",w.jsx("a",{href:"mailto:support@tangledoak.ca",className:"text-blue-600 underline",children:"support@tangledoak.ca"}),"."]})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h2",{children:"Important Notes"}),w.jsx("li",{children:"Custom and personalized items are non-refundable."}),w.jsx("br",{}),w.jsx("li",{children:"Return requests are subject to vendor approval. Some vendors may offer additional guarantees or exchange policies — these will be listed on the product page if available."}),w.jsx("br",{}),w.jsx("li",{children:"Returned items must be unused and in original condition."}),w.jsx("br",{}),w.jsx("li",{children:"Buyers are responsible for return shipping unless the item arrived damaged or incorrect."})]})]})})]}),I1=()=>w.jsxs("div",{className:"context-box",children:[w.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Privacy Policy"}),w.jsx("p",{className:"mb-4",children:"Tangled Oak + Craft Collective values your privacy. This policy explains how we collect, use, and protect your personal information when you visit our website or make a purchase."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Information We Collect"}),w.jsx("li",{children:"Personal details like name, email address, shipping address, and payment information."}),w.jsx("li",{children:"Order history and account preferences (if you create an account)."}),w.jsx("li",{children:"Basic device/browser data collected through cookies or analytics tools (e.g., Google Analytics)."}),w.jsx("br",{}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. How We Use Your Information"}),w.jsx("li",{children:"To process and fulfill your orders."}),w.jsx("li",{children:"To communicate with you about your purchases or pickup details."}),w.jsx("li",{children:"To improve our website experience and service quality."}),w.jsx("li",{children:"To send occasional updates or announcements (you can opt out anytime)."}),w.jsx("br",{}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. How Your Data Is Stored"}),w.jsx("p",{className:"mb-4",children:"We use secure services like Firebase for authentication and data storage, and Square for processing payments. Your data is protected by industry-standard encryption and access controls."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Third-Party Services"}),w.jsx("p",{className:"mb-4",children:"We may share necessary information with trusted third parties to complete your order (e.g., Canada Post for delivery). These services have their own privacy practices that align with industry standards."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Your Rights"}),w.jsxs("p",{className:"mb-4",children:["You can request to view, update, or delete your personal information at any time by contacting us at ",w.jsx("a",{href:"mailto:support@tangledoak.ca",className:"text-blue-600 underline",children:"support@tangledoak.ca"}),"."]}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Updates to This Policy"}),w.jsx("p",{className:"mb-4",children:"We may update this policy from time to time. Any changes will be posted here with a revised date."}),w.jsx("p",{children:"Last updated: April 2025"})]}),S1=()=>w.jsxs(w.Fragment,{children:[w.jsxs("head",{children:[w.jsx("title",{children:"Terms & Conditions | Tangled Oak + Craft Collective"}),w.jsx("meta",{name:"description",content:"Review the terms and conditions of Tangled Oak + Craft Collective. Understand your rights and responsibilities when using our website for shopping or browsing."}),w.jsx("meta",{name:"keywords",content:"terms and conditions, Tangled Oak, craft collective, shopping terms, website terms, policies"}),w.jsx("meta",{name:"robots",content:"index, follow"}),w.jsx("meta",{property:"og:title",content:"Terms & Conditions | Tangled Oak + Craft Collective"}),w.jsx("meta",{property:"og:description",content:"Review the terms and conditions of Tangled Oak + Craft Collective. Understand your rights and responsibilities when using our website for shopping or browsing."}),w.jsx("meta",{property:"og:url",content:"https://www.tangledoak.ca/terms"}),w.jsx("meta",{property:"og:type",content:"website"}),w.jsx("meta",{name:"twitter:title",content:"Terms & Conditions | Tangled Oak + Craft Collective"}),w.jsx("meta",{name:"twitter:description",content:"Review the terms and conditions of Tangled Oak + Craft Collective. Understand your rights and responsibilities when using our website for shopping or browsing."}),w.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),w.jsxs("div",{className:"context-box",children:[w.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Terms & Conditions"}),w.jsx("p",{className:"mb-4",children:"By using the Tangled Oak + Craft Collective website, you agree to the following terms and conditions. Please read them carefully."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. General Use"}),w.jsx("p",{className:"mb-4",children:"Our site is intended for personal, non-commercial use. You agree not to misuse the website, attempt to breach its security, or interfere with its functionality."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Product Listings"}),w.jsx("p",{className:"mb-4",children:"Each vendor is responsible for the accuracy of their listings, including descriptions, prices, and availability. We do our best to ensure quality and accuracy, but Tangled Oak is not liable for vendor errors."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Orders & Payment"}),w.jsx("p",{className:"mb-4",children:"All purchases are processed securely through Square. Orders are subject to acceptance and availability. You will receive an order confirmation once payment is complete."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. Returns & Refunds"}),w.jsxs("p",{className:"mb-4",children:["Return policies vary by vendor. Please refer to our ",w.jsx("a",{href:"/shipping-policy",className:"text-blue-600 underline",children:"Shipping & Returns"})," page for more details. Most items are final sale unless noted otherwise."]}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Intellectual Property"}),w.jsx("p",{className:"mb-4",children:"All site content, including text, logos, and imagery, is owned by Tangled Oak or its contributing vendors. You may not reuse, reproduce, or distribute this content without permission."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Limitation of Liability"}),w.jsx("p",{className:"mb-4",children:"We do our best to ensure a smooth experience, but Tangled Oak is not liable for indirect damages, delays, or issues beyond our control (e.g., delivery delays, vendor mistakes)."}),w.jsx("h2",{className:"text-xl font-semibold mb-2",children:"7. Governing Law"}),w.jsx("p",{className:"mb-4",children:"These terms are governed by the laws of Ontario, Canada. Any disputes will be handled in the appropriate courts within Ontario."}),w.jsx("p",{children:"Last updated: April 2025"})]})]}),k1=()=>{};var rw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},x1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},e0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,m=a>>2,y=(a&3)<<4|c>>4;let E=(c&15)<<2|p>>6,T=p&63;d||(T=64,l||(E=64)),r.push(n[m],n[y],n[E],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||p==null||y==null)throw new C1;const E=a<<2|c>>4;if(r.push(E),p!==64){const T=c<<4&240|p>>2;if(r.push(T),y!==64){const A=p<<6&192|y;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class C1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A1=function(t){const e=ZT(t);return e0.encodeByteArray(e,!0)},Rh=function(t){return A1(t).replace(/\./g,"")},t0=function(t){try{return e0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=()=>R1().__FIREBASE_DEFAULTS__,P1=()=>{if(typeof process>"u"||typeof rw>"u")return;const t=rw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&t0(t[1]);return e&&JSON.parse(e)},Zh=()=>{try{return k1()||b1()||P1()||N1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},n0=t=>{var e,n;return(n=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},r0=t=>{const e=n0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},i0=()=>{var t;return(t=Zh())===null||t===void 0?void 0:t.config},s0=t=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rh(JSON.stringify(n)),Rh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function L1(){var t;const e=(t=Zh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V1(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function F1(){return!L1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l0(){try{return typeof indexedDB=="object"}catch{return!1}}function u0(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function U1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="FirebaseError";class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=B1,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}}class Co{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?z1(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new hr(s,c,r)}}function z1(t,e){return t.replace(q1,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const q1=/\{\$([^}]+)}/g;function $1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ts(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(iw(a)&&iw(l)){if(!Ts(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function iw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Ql(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function H1(t,e){const n=new W1(t,e);return n.subscribe.bind(n)}class W1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");K1(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vp),s.error===void 0&&(s.error=vp),s.complete===void 0&&(s.complete=vp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=1e3,Q1=2,Y1=4*60*60*1e3,X1=.5;function sw(t,e=G1,n=Q1){const r=e*Math.pow(n,t),s=Math.round(X1*r*(Math.random()-.5)*2);return Math.min(Y1,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new O1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eR(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Z1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z1(t){return t===co?void 0:t}function eR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const nR={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},rR=He.INFO,iR={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},sR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=iR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ed{constructor(e){this.name=e,this._logLevel=rR,this._logHandler=sR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const oR=(t,e)=>e.some(n=>t instanceof n);let ow,aw;function aR(){return ow||(ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lR(){return aw||(aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c0=new WeakMap,tm=new WeakMap,h0=new WeakMap,_p=new WeakMap,Gm=new WeakMap;function uR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(vs(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&c0.set(n,t)}).catch(()=>{}),Gm.set(e,t),e}function cR(t){if(tm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});tm.set(t,e)}let nm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hR(t){nm=t(nm)}function dR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wp(this),e,...n);return h0.set(r,e.sort?e.sort():[e]),vs(r)}:lR().includes(t)?function(...e){return t.apply(wp(this),e),vs(c0.get(this))}:function(...e){return vs(t.apply(wp(this),e))}}function fR(t){return typeof t=="function"?dR(t):(t instanceof IDBTransaction&&cR(t),oR(t,aR())?new Proxy(t,nm):t)}function vs(t){if(t instanceof IDBRequest)return uR(t);if(_p.has(t))return _p.get(t);const e=fR(t);return e!==t&&(_p.set(t,e),Gm.set(e,t)),e}const wp=t=>Gm.get(t);function d0(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=vs(l);return r&&l.addEventListener("upgradeneeded",d=>{r(vs(l.result),d.oldVersion,d.newVersion,vs(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const pR=["get","getKey","getAll","getAllKeys","count"],mR=["put","add","delete","clear"],Ep=new Map;function lw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ep.get(e))return Ep.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=mR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||pR.includes(n)))return;const a=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&d.done]))[0]};return Ep.set(e,a),a}hR(t=>({...t,get:(e,n,r)=>lw(e,n)||t.get(e,n,r),has:(e,n)=>!!lw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rm="@firebase/app",uw="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new ed("@firebase/app"),vR="@firebase/app-compat",_R="@firebase/analytics-compat",wR="@firebase/analytics",ER="@firebase/app-check-compat",TR="@firebase/app-check",IR="@firebase/auth",SR="@firebase/auth-compat",kR="@firebase/database",xR="@firebase/data-connect",CR="@firebase/database-compat",AR="@firebase/functions",RR="@firebase/functions-compat",bR="@firebase/installations",PR="@firebase/installations-compat",NR="@firebase/messaging",OR="@firebase/messaging-compat",DR="@firebase/performance",LR="@firebase/performance-compat",MR="@firebase/remote-config",jR="@firebase/remote-config-compat",VR="@firebase/storage",FR="@firebase/storage-compat",UR="@firebase/firestore",BR="@firebase/vertexai",zR="@firebase/firestore-compat",qR="firebase",$R="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",HR={[rm]:"fire-core",[vR]:"fire-core-compat",[wR]:"fire-analytics",[_R]:"fire-analytics-compat",[TR]:"fire-app-check",[ER]:"fire-app-check-compat",[IR]:"fire-auth",[SR]:"fire-auth-compat",[kR]:"fire-rtdb",[xR]:"fire-data-connect",[CR]:"fire-rtdb-compat",[AR]:"fire-fn",[RR]:"fire-fn-compat",[bR]:"fire-iid",[PR]:"fire-iid-compat",[NR]:"fire-fcm",[OR]:"fire-fcm-compat",[DR]:"fire-perf",[LR]:"fire-perf-compat",[MR]:"fire-rc",[jR]:"fire-rc-compat",[VR]:"fire-gcs",[FR]:"fire-gcs-compat",[UR]:"fire-fst",[zR]:"fire-fst-compat",[BR]:"fire-vertex","fire-js":"fire-js",[qR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,WR=new Map,sm=new Map;function cw(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dr(t){const e=t.name;if(sm.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,t);for(const n of bh.values())cw(n,t);for(const n of WR.values())cw(n,t);return!0}function bs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Co("app","Firebase",KR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=$R;function f0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:im,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw _s.create("bad-app-name",{appName:String(s)});if(n||(n=i0()),!n)throw _s.create("no-options");const a=bh.get(s);if(a){if(Ts(n,a.options)&&Ts(r,a.config))return a;throw _s.create("duplicate-app",{appName:s})}const l=new tR(s);for(const d of sm.values())l.addComponent(d);const c=new GR(n,r,l);return bh.set(s,c),c}function td(t=im){const e=bh.get(t);if(!e&&t===im&&i0())return f0();if(!e)throw _s.create("no-app",{appName:t});return e}function Nn(t,e,n){var r;let s=(r=HR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(c.join(" "));return}Dr(new ur(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebase-heartbeat-database",YR=1,fu="firebase-heartbeat-store";let Tp=null;function p0(){return Tp||(Tp=d0(QR,YR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw _s.create("idb-open",{originalErrorMessage:t.message})})),Tp}async function XR(t){try{const n=(await p0()).transaction(fu),r=await n.objectStore(fu).get(m0(t));return await n.done,r}catch(e){if(e instanceof hr)Ai.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(n.message)}}}async function hw(t,e){try{const r=(await p0()).transaction(fu,"readwrite");await r.objectStore(fu).put(e,m0(t)),await r.done}catch(n){if(n instanceof hr)Ai.warn(n.message);else{const r=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(r.message)}}}function m0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=1024,ZR=30;class eb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=dw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>ZR){const l=rb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dw(),{heartbeatsToSend:r,unsentEntries:s}=tb(this._heartbeatsCache.heartbeats),a=Rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ai.warn(n),""}}}function dw(){return new Date().toISOString().substring(0,10)}function tb(t,e=JR){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),fw(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),fw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l0()?u0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fw(t){return Rh(JSON.stringify({version:2,heartbeats:t})).length}function rb(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t){Dr(new ur("platform-logger",e=>new gR(e),"PRIVATE")),Dr(new ur("heartbeat",e=>new eb(e),"PRIVATE")),Nn(rm,uw,t),Nn(rm,uw,"esm2017"),Nn("fire-js","")}ib("");function Qm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function g0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sb=g0,y0=new Co("auth","Firebase",g0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new ed("@firebase/auth");function ob(t,...e){Ph.logLevel<=He.WARN&&Ph.warn(`Auth (${Ao}): ${t}`,...e)}function gh(t,...e){Ph.logLevel<=He.ERROR&&Ph.error(`Auth (${Ao}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t,...e){throw Xm(t,...e)}function Or(t,...e){return Xm(t,...e)}function Ym(t,e,n){const r=Object.assign(Object.assign({},sb()),{[e]:n});return new Co("auth","Firebase",r).create(e,{appName:t.name})}function xi(t){return Ym(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ab(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&cr(t,"argument-error"),Ym(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return y0.create(t,...e)}function be(t,e,...n){if(!t)throw Xm(e,...n)}function Si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gh(e),new Error(e)}function Ri(t,e){t||Si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lb(){return pw()==="http:"||pw()==="https:"}function pw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lb()||a0()||"connection"in navigator)?navigator.onLine:!0}function cb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=D1()||j1()}get(){return ub()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fb=new Au(3e4,6e4);function Ps(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ns(t,e,n,r,s={}){return _0(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Cu(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},a);return M1()||(p.referrerPolicy="no-referrer"),v0.fetch()(await w0(t,t.config.apiHost,n,c),p)})}async function _0(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hb),e);try{const s=new mb(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw sh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw sh(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw sh(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ym(t,m,p);cr(t,m)}}catch(s){if(s instanceof hr)throw s;cr(t,"network-request-failed",{message:String(s)})}}async function Ru(t,e,n,r,s={}){const a=await Ns(t,e,n,r,s);return"mfaPendingCredential"in a&&cr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function w0(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?Jm(t.config,s):`${t.config.apiScheme}://${s}`;return db.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function pb(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),fb.get())})}}function sh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Or(t,e,r);return s.customData._tokenResponse=n,s}function mw(t){return t!==void 0&&t.enterprise!==void 0}class gb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yb(t,e){return Ns(t,"GET","/v2/recaptchaConfig",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(t,e){return Ns(t,"POST","/v1/accounts:delete",e)}async function Nh(t,e){return Ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _b(t,e=!1){const n=yt(t),r=await n.getIdToken(e),s=Zm(r);be(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:eu(Ip(s.auth_time)),issuedAtTime:eu(Ip(s.iat)),expirationTime:eu(Ip(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ip(t){return Number(t)*1e3}function Zm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const s=t0(n);return s?JSON.parse(s):(gh("Failed to decode base64 JWT payload"),null)}catch(s){return gh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function gw(t){const e=Zm(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hr&&wb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await pu(t,Nh(n,{idToken:r}));be(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?E0(a.providerUserInfo):[],c=Ib(t.providerData,l),d=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=d?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new am(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function Tb(t){const e=yt(t);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ib(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function E0(t){return t.map(e=>{var{providerId:n}=e,r=Qm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(t,e){const n=await _0(t,{},async()=>{const r=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await w0(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",v0.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kb(t,e){return Ns(t,"POST","/v2/accounts:revokeToken",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=gw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await Sb(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new Pa;return r&&(be(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(be(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(be(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Eb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new am(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await pu(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _b(this,e)}reload(){return Tb(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await pu(this,vb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,c,d,p,m;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(s=n.email)!==null&&s!==void 0?s:void 0,T=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,A=(l=n.photoURL)!==null&&l!==void 0?l:void 0,D=(c=n.tenantId)!==null&&c!==void 0?c:void 0,L=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,U=(p=n.createdAt)!==null&&p!==void 0?p:void 0,J=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:z,emailVerified:$,isAnonymous:he,providerData:G,stsTokenManager:V}=n;be(z&&V,e,"internal-error");const R=Pa.fromJSON(this.name,V);be(typeof z=="string",e,"internal-error"),us(y,e.name),us(E,e.name),be(typeof $=="boolean",e,"internal-error"),be(typeof he=="boolean",e,"internal-error"),us(T,e.name),us(A,e.name),us(D,e.name),us(L,e.name),us(U,e.name),us(J,e.name);const O=new Nr({uid:z,auth:e,email:E,emailVerified:$,displayName:y,isAnonymous:he,photoURL:A,phoneNumber:T,tenantId:D,stsTokenManager:R,createdAt:U,lastLoginAt:J});return G&&Array.isArray(G)&&(O.providerData=G.map(j=>Object.assign({},j))),L&&(O._redirectEventId=L),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new Pa;s.updateFromServerResponse(n);const a=new Nr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Oh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];be(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?E0(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new Pa;c.updateFromIdToken(r);const d=new Nr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new am(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Map;function ki(t){Ri(t instanceof Function,"Expected a class definition");let e=yw.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}T0.type="NONE";const vw=T0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t,e,n){return`firebase:${t}:${e}:${n}`}class Na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=yh(this.userKey,s.apiKey,a),this.fullPersistenceKey=yh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?Nr._fromGetAccountInfoResponse(this.auth,n,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Na(ki(vw),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ki(vw);const l=yh(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=await p._get(l);if(m){let y;if(typeof m=="string"){const E=await Nh(e,{idToken:m}).catch(()=>{});if(!E)break;y=await Nr._fromGetAccountInfoResponse(e,E,m)}else y=Nr._fromJSON(e,m);p!==a&&(c=y),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Na(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Na(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A0(e))return"Blackberry";if(R0(e))return"Webos";if(S0(e))return"Safari";if((e.includes("chrome/")||k0(e))&&!e.includes("edge/"))return"Chrome";if(C0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function I0(t=ln()){return/firefox\//i.test(t)}function S0(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k0(t=ln()){return/crios\//i.test(t)}function x0(t=ln()){return/iemobile/i.test(t)}function C0(t=ln()){return/android/i.test(t)}function A0(t=ln()){return/blackberry/i.test(t)}function R0(t=ln()){return/webos/i.test(t)}function eg(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xb(t=ln()){var e;return eg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cb(){return V1()&&document.documentMode===10}function b0(t=ln()){return eg(t)||C0(t)||R0(t)||A0(t)||/windows phone/i.test(t)||x0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t,e=[]){let n;switch(t){case"Browser":n=_w(ln());break;case"Worker":n=`${_w(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rb(t,e={}){return Ns(t,"GET","/v2/passwordPolicy",Ps(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=6;class Pb{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:bb,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ww(this),this.idTokenSubscription=new ww(this),this.beforeStateQueue=new Ab(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Na.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),r=await Nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(xi(this));const n=e?yt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rb(this),n=new Pb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Co("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ki(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ob(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Os(t){return yt(t)}class ww{constructor(e){this.auth=e,this.observer=null,this.addObserver=H1(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ob(t){nd=t}function N0(t){return nd.loadJS(t)}function Db(){return nd.recaptchaEnterpriseScript}function Lb(){return nd.gapiScript}function Mb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class jb{constructor(){this.enterprise=new Vb}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Vb{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Fb="recaptcha-enterprise",O0="NO_RECAPTCHA";class Ub{constructor(e){this.type=Fb,this.auth=Os(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{yb(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new gb(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function s(a,l,c){const d=window.grecaptcha;mw(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(O0)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jb().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&mw(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Db();d.length!==0&&(d+=c),N0(d).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function Ew(t,e,n,r=!1,s=!1){const a=new Ub(t);let l;if(s)l=O0;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function lm(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Ew(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Ew(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e){const n=bs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Ts(a,e??{}))return s;cr(s,"already-initialized")}return n.initialize({options:e})}function zb(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qb(t,e,n){const r=Os(t);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=D0(e),{host:l,port:c}=$b(e),d=c===null?"":`:${c}`,p={url:`${a}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(Ts(p,r.config.emulator)&&Ts(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Hb()}function D0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $b(t){const e=D0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Tw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Tw(l)}}}function Tw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Hb(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Si("not implemented")}_getIdTokenResponse(e){return Si("not implemented")}_linkToIdToken(e,n){return Si("not implemented")}_getReauthenticationResolver(e){return Si("not implemented")}}async function Wb(t,e){return Ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(t,e){return Ru(t,"POST","/v1/accounts:signInWithPassword",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gb(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Ps(t,e))}async function Qb(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends tg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new mu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(e,n,"signInWithPassword",Kb);case"emailLink":return Gb(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(e,r,"signUpPassword",Wb);case"emailLink":return Qb(e,{idToken:n,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t,e){return Ru(t,"POST","/v1/accounts:signInWithIdp",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="http://localhost";class _o extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Qm(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new _o(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Oa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oa(e,n)}buildRequest(){const e={requestUri:Yb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jb(t){const e=Gl(Ql(t)).link,n=e?Gl(Ql(e)).deep_link_id:null,r=Gl(Ql(t)).deep_link_id;return(r?Gl(Ql(r)).link:null)||r||n||e||t}class ng{constructor(e){var n,r,s,a,l,c;const d=Gl(Ql(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,y=Xb((s=d.mode)!==null&&s!==void 0?s:null);be(p&&m&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=m,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=Jb(e);try{return new ng(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.providerId=Ka.PROVIDER_ID}static credential(e,n){return mu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ng.parseLink(n);return be(r,"argument-error"),mu._fromEmailAndCode(e,r.code,r.tenantId)}}Ka.PROVIDER_ID="password";Ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends rg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends bu{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ii.credential(n,r)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends bu{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends bu{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fs.credential(n,r)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(t,e){return Ru(t,"POST","/v1/accounts:signUp",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Nr._fromIdTokenResponse(e,r,s),l=Iw(r);return new wo({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Iw(r);return new wo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends hr{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Dh(e,n,r,s)}}function L0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(t,a,e,r):a})}async function eP(t,e,n=!1){const r=await pu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(t,e,n=!1){const{auth:r}=t;if(bn(r.app))return Promise.reject(xi(r));const s="reauthenticate";try{const a=await pu(t,L0(r,s,e,t),n);be(a.idToken,r,"internal-error");const l=Zm(a.idToken);be(l,r,"internal-error");const{sub:c}=l;return be(t.uid===c,r,"user-mismatch"),wo._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&cr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(t,e,n=!1){if(bn(t.app))return Promise.reject(xi(t));const r="signIn",s=await L0(t,r,e),a=await wo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function nP(t,e){return M0(Os(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j0(t){const e=Os(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rP(t,e,n){if(bn(t.app))return Promise.reject(xi(t));const r=Os(t),l=await lm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zb).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&j0(t),d}),c=await wo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function iP(t,e,n){return bn(t.app)?Promise.reject(xi(t)):nP(yt(t),Ka.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&j0(t),r})}function sP(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function oP(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function aP(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=1e3,uP=10;class F0 extends V0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Cb()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,uP):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F0.type="LOCAL";const cP=F0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends V0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U0.type="SESSION";const B0=U0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new rd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(n.origin,a)),d=await hP(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const p=ig("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const E=y;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(E.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function fP(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function pP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gP(){return z0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="firebaseLocalStorageDb",yP=1,Mh="firebaseLocalStorage",$0="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function id(t,e){return t.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function vP(){const t=indexedDB.deleteDatabase(q0);return new Pu(t).toPromise()}function um(){const t=indexedDB.open(q0,yP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mh,{keyPath:$0})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mh)?e(r):(r.close(),await vP(),e(await um()))})})}async function Sw(t,e,n){const r=id(t,!0).put({[$0]:e,value:n});return new Pu(r).toPromise()}async function _P(t,e){const n=id(t,!1).get(e),r=await new Pu(n).toPromise();return r===void 0?null:r.value}function kw(t,e){const n=id(t,!0).delete(e);return new Pu(n).toPromise()}const wP=800,EP=3;class H0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(gP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pP(),!this.activeServiceWorker)return;this.sender=new dP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await Sw(e,Lh,"1"),await kw(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_P(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=id(s,!1).getAll();return new Pu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H0.type="LOCAL";const TP=H0;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t,e){return e?ki(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IP(t){return M0(t.auth,new sg(t),t.bypassAuthState)}function SP(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),tP(n,new sg(t),t.bypassAuthState)}async function kP(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),eP(n,new sg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IP;case"linkViaPopup":case"linkViaRedirect":return kP;case"reauthViaPopup":case"reauthViaRedirect":return SP;default:cr(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=new Au(2e3,1e4);async function CP(t,e,n){if(bn(t.app))return Promise.reject(Or(t,"operation-not-supported-in-this-environment"));const r=Os(t);ab(t,e,rg);const s=W0(r,n);return new ho(r,"signInViaPopup",e,s).executeNotNull()}class ho extends K0{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xP.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="pendingRedirect",vh=new Map;class RP extends K0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await bP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bP(t,e){const n=OP(e),r=NP(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function PP(t,e){vh.set(t._key(),e)}function NP(t){return ki(t._redirectPersistence)}function OP(t){return yh(AP,t.config.apiKey,t.name)}async function DP(t,e,n=!1){if(bn(t.app))return Promise.reject(xi(t));const r=Os(t),s=W0(r,e),l=await new RP(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=10*60*1e3;class MP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!G0(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LP&&this.cachedEventUids.clear(),this.cachedEventUids.has(xw(e))}saveEventToCache(e){this.cachedEventUids.add(xw(e)),this.lastProcessedEventTime=Date.now()}}function xw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e={}){return Ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UP=/^https?/;async function BP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VP(t);for(const n of e)try{if(zP(n))return}catch{}cr(t,"unauthorized-domain")}function zP(t){const e=om(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!UP.test(n))return!1;if(FP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=new Au(3e4,6e4);function Cw(){const t=ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $P(t){return new Promise((e,n)=>{var r,s,a;function l(){Cw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cw(),n(Or(t,"network-request-failed"))},timeout:qP.get()})}if(!((s=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=ei().gapi)===null||a===void 0)&&a.load)l();else{const c=Mb("iframefcb");return ei()[c]=()=>{gapi.load?l():n(Or(t,"network-request-failed"))},N0(`${Lb()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw _h=null,e})}let _h=null;function HP(t){return _h=_h||$P(t),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new Au(5e3,15e3),KP="__/auth/iframe",GP="emulator/auth/iframe",QP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XP(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jm(e,GP):`https://${t.config.authDomain}/${KP}`,r={apiKey:e.apiKey,appName:t.name,v:Ao},s=YP.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Cu(r).slice(1)}`}async function JP(t){const e=await HP(t),n=ei().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:XP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QP,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Or(t,"network-request-failed"),c=ei().setTimeout(()=>{a(l)},WP.get());function d(){ei().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eN=500,tN=600,nN="_blank",rN="http://localhost";class Aw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iN(t,e,n,r=eN,s=tN){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},ZP),{width:r.toString(),height:s.toString(),top:a,left:l}),p=ln().toLowerCase();n&&(c=k0(p)?nN:n),I0(p)&&(e=e||rN,d.scrollbars="yes");const m=Object.entries(d).reduce((E,[T,A])=>`${E}${T}=${A},`,"");if(xb(p)&&c!=="_self")return sN(e||"",c),new Aw(null);const y=window.open(e||"",c,m);be(y,t,"popup-blocked");try{y.focus()}catch{}return new Aw(y)}function sN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="__/auth/handler",aN="emulator/auth/handler",lN=encodeURIComponent("fac");async function Rw(t,e,n,r,s,a){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ao,eventId:s};if(e instanceof rg){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",$1(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof bu){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),p=d?`#${lN}=${encodeURIComponent(d)}`:"";return`${uN(t)}?${Cu(c).slice(1)}${p}`}function uN({config:t}){return t.emulator?Jm(t,aN):`https://${t.authDomain}/${oN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="webStorageSupport";class cN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B0,this._completeRedirectFn=DP,this._overrideRedirectResult=PP}async _openPopup(e,n,r,s){var a;Ri((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Rw(e,n,r,om(),s);return iN(e,l,ig())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await Rw(e,n,r,om(),s);return fP(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Ri(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await JP(e),r=new MP(e);return n.register("authEvent",s=>(be(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sp,{type:Sp},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Sp];l!==void 0&&n(!!l),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return b0()||S0()||eg()}}const hN=cN;var bw="@firebase/auth",Pw="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pN(t){Dr(new ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;be(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P0(t)},p=new Nb(r,s,a,d);return zb(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dr(new ur("auth-internal",e=>{const n=Os(e.getProvider("auth").getImmediate());return(r=>new dN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(bw,Pw,fN(t)),Nn(bw,Pw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=5*60,gN=s0("authIdTokenMaxAge")||mN;let Nw=null;const yN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gN)return;const s=n==null?void 0:n.token;Nw!==s&&(Nw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function vN(t=td()){const e=bs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Bb(t,{popupRedirectResolver:hN,persistence:[TP,cP,B0]}),r=s0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=yN(a.toString());oP(n,l,()=>l(n.currentUser)),sP(n,c=>l(c))}}const s=n0("auth");return s&&qb(n,`http://${s}`),n}function _N(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ob({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Or("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",_N().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pN("Browser");var wN="firebase",EN="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn(wN,EN,"app");const Q0="@firebase/installations",og="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=1e4,X0=`w:${og}`,J0="FIS_v2",TN="https://firebaseinstallations.googleapis.com/v1",IN=60*60*1e3,SN="installations",kN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Eo=new Co(SN,kN,xN);function Z0(t){return t instanceof hr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI({projectId:t}){return`${TN}/projects/${t}/installations`}function tI(t){return{token:t.token,requestStatus:2,expiresIn:AN(t.expiresIn),creationTime:Date.now()}}async function nI(t,e){const r=(await e.json()).error;return Eo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function rI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CN(t,{refreshToken:e}){const n=rI(t);return n.append("Authorization",RN(e)),n}async function iI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function AN(t){return Number(t.replace("s","000"))}function RN(t){return`${J0} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=eI(t),s=rI(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:n,authVersion:J0,appId:t.appId,sdkVersion:X0},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await iI(()=>fetch(r,c));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:tI(p.authToken)}}else throw await nI("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=/^[cdef][\w-]{21}$/,cm="";function ON(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=DN(t);return NN.test(n)?n:cm}catch{return cm}}function DN(t){return PN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=new Map;function aI(t,e){const n=sd(t);lI(n,e),LN(n,e)}function lI(t,e){const n=oI.get(t);if(n)for(const r of n)r(e)}function LN(t,e){const n=MN();n&&n.postMessage({key:t,fid:e}),jN()}let fo=null;function MN(){return!fo&&"BroadcastChannel"in self&&(fo=new BroadcastChannel("[Firebase] FID Change"),fo.onmessage=t=>{lI(t.data.key,t.data.fid)}),fo}function jN(){oI.size===0&&fo&&(fo.close(),fo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="firebase-installations-database",FN=1,To="firebase-installations-store";let kp=null;function ag(){return kp||(kp=d0(VN,FN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(To)}}})),kp}async function jh(t,e){const n=sd(t),s=(await ag()).transaction(To,"readwrite"),a=s.objectStore(To),l=await a.get(n);return await a.put(e,n),await s.done,(!l||l.fid!==e.fid)&&aI(t,e.fid),e}async function uI(t){const e=sd(t),r=(await ag()).transaction(To,"readwrite");await r.objectStore(To).delete(e),await r.done}async function od(t,e){const n=sd(t),s=(await ag()).transaction(To,"readwrite"),a=s.objectStore(To),l=await a.get(n),c=e(l);return c===void 0?await a.delete(n):await a.put(c,n),await s.done,c&&(!l||l.fid!==c.fid)&&aI(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lg(t){let e;const n=await od(t.appConfig,r=>{const s=UN(r),a=BN(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===cm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function UN(t){const e=t||{fid:ON(),registrationStatus:0};return cI(e)}function BN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Eo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=zN(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:qN(t)}:{installationEntry:e}}async function zN(t,e){try{const n=await bN(t,e);return jh(t.appConfig,n)}catch(n){throw Z0(n)&&n.customData.serverCode===409?await uI(t.appConfig):await jh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function qN(t){let e=await Ow(t.appConfig);for(;e.registrationStatus===1;)await sI(100),e=await Ow(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await lg(t);return r||n}return e}function Ow(t){return od(t,e=>{if(!e)throw Eo.create("installation-not-found");return cI(e)})}function cI(t){return $N(t)?{fid:t.fid,registrationStatus:0}:t}function $N(t){return t.registrationStatus===1&&t.registrationTime+Y0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN({appConfig:t,heartbeatServiceProvider:e},n){const r=WN(t,n),s=CN(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:X0,appId:t.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await iI(()=>fetch(r,c));if(d.ok){const p=await d.json();return tI(p)}else throw await nI("Generate Auth Token",d)}function WN(t,{fid:e}){return`${eI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ug(t,e=!1){let n;const r=await od(t.appConfig,a=>{if(!hI(a))throw Eo.create("not-registered");const l=a.authToken;if(!e&&QN(l))return a;if(l.requestStatus===1)return n=KN(t,e),a;{if(!navigator.onLine)throw Eo.create("app-offline");const c=XN(a);return n=GN(t,c),c}});return n?await n:r.authToken}async function KN(t,e){let n=await Dw(t.appConfig);for(;n.authToken.requestStatus===1;)await sI(100),n=await Dw(t.appConfig);const r=n.authToken;return r.requestStatus===0?ug(t,e):r}function Dw(t){return od(t,e=>{if(!hI(e))throw Eo.create("not-registered");const n=e.authToken;return JN(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function GN(t,e){try{const n=await HN(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await jh(t.appConfig,r),n}catch(n){if(Z0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await uI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await jh(t.appConfig,r)}throw n}}function hI(t){return t!==void 0&&t.registrationStatus===2}function QN(t){return t.requestStatus===2&&!YN(t)}function YN(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+IN}function XN(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function JN(t){return t.requestStatus===1&&t.requestTime+Y0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t){const e=t,{installationEntry:n,registrationPromise:r}=await lg(e);return r?r.catch(console.error):ug(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,e=!1){const n=t;return await tO(n),(await ug(n,e)).token}async function tO(t){const{registrationPromise:e}=await lg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){if(!t||!t.options)throw xp("App Configuration");if(!t.name)throw xp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function xp(t){return Eo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="installations",rO="installations-internal",iO=t=>{const e=t.getProvider("app").getImmediate(),n=nO(e),r=bs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},sO=t=>{const e=t.getProvider("app").getImmediate(),n=bs(e,dI).getImmediate();return{getId:()=>ZN(n),getToken:s=>eO(n,s)}};function oO(){Dr(new ur(dI,iO,"PUBLIC")),Dr(new ur(rO,sO,"PRIVATE"))}oO();Nn(Q0,og);Nn(Q0,og,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="analytics",aO="firebase_id",lO="origin",uO=60*1e3,cO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new ed("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Kn=new Co("analytics","Analytics",hO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){if(!t.startsWith(cg)){const e=Kn.create("invalid-gtag-resource",{gtagURL:t});return On.warn(e.message),""}return t}function fI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function fO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function pO(t,e){const n=fO("firebase-js-sdk-policy",{createScriptURL:dO}),r=document.createElement("script"),s=`${cg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function mO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function gO(t,e,n,r,s,a){const l=r[s];try{if(l)await e[l];else{const d=(await fI(n)).find(p=>p.measurementId===s);d&&await e[d.appId]}}catch(c){On.error(c)}t("config",s,a)}async function yO(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const c=await fI(n);for(const d of l){const p=c.find(y=>y.measurementId===d),m=p&&e[p.appId];if(m)a.push(m);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){On.error(a)}}function vO(t,e,n,r){async function s(a,...l){try{if(a==="event"){const[c,d]=l;await yO(t,e,n,c,d)}else if(a==="config"){const[c,d]=l;await gO(t,e,n,r,c,d)}else if(a==="consent"){const[c,d]=l;t("consent",c,d)}else if(a==="get"){const[c,d,p]=l;t("get",c,d,p)}else if(a==="set"){const[c]=l;t("set",c)}else t(a,...l)}catch(c){On.error(c)}}return s}function _O(t,e,n,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=vO(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function wO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(cg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=30,TO=1e3;class IO{constructor(e={},n=TO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const pI=new IO;function SO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function kO(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:SO(r)},a=cO.replace("{app-id}",n),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let c="";try{const d=await l.json();!((e=d.error)===null||e===void 0)&&e.message&&(c=d.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function xO(t,e=pI,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw Kn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw Kn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new RO;return setTimeout(async()=>{c.abort()},uO),mI({appId:r,apiKey:s,measurementId:a},l,c,e)}async function mI(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=pI){var a;const{appId:l,measurementId:c}=t;try{await CO(r,e)}catch(d){if(c)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:c};throw d}try{const d=await kO(t);return s.deleteThrottleMetadata(l),d}catch(d){const p=d;if(!AO(p)){if(s.deleteThrottleMetadata(l),c)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:c};throw d}const m=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?sw(n,s.intervalMillis,EO):sw(n,s.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return s.setThrottleMetadata(l,y),On.debug(`Calling attemptFetch again in ${m} millis`),mI(t,y,r,s)}}function CO(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r(Kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function AO(t){if(!(t instanceof hr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class RO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function bO(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,l=Object.assign(Object.assign({},r),{send_to:a});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(){if(l0())try{await u0()}catch(t){return On.warn(Kn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return On.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function NO(t,e,n,r,s,a,l){var c;const d=xO(t);d.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>On.error(T)),e.push(d);const p=PO().then(T=>{if(T)return r.getId()}),[m,y]=await Promise.all([d,p]);wO(a)||pO(a,m.measurementId),s("js",new Date);const E=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return E[lO]="firebase",E.update=!0,y!=null&&(E[aO]=y),s("config",m.measurementId,E),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.app=e}_delete(){return delete tu[this.app.options.appId],Promise.resolve()}}let tu={},Lw=[];const Mw={};let Cp="dataLayer",DO="gtag",jw,gI,Vw=!1;function LO(){const t=[];if(a0()&&t.push("This is a browser extension environment."),U1()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Kn.create("invalid-analytics-context",{errorInfo:e});On.warn(n.message)}}function MO(t,e,n){LO();const r=t.options.appId;if(!r)throw Kn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Kn.create("no-api-key");if(tu[r]!=null)throw Kn.create("already-exists",{id:r});if(!Vw){mO(Cp);const{wrappedGtag:a,gtagCore:l}=_O(tu,Lw,Mw,Cp,DO);gI=a,jw=l,Vw=!0}return tu[r]=NO(t,Lw,Mw,e,jw,Cp,n),new OO(t)}function jO(t=td()){t=yt(t);const e=bs(t,Vh);return e.isInitialized()?e.getImmediate():VO(t)}function VO(t,e={}){const n=bs(t,Vh);if(n.isInitialized()){const s=n.getImmediate();if(Ts(e,n.getOptions()))return s;throw Kn.create("already-initialized")}return n.initialize({options:e})}function FO(t,e,n,r){t=yt(t),bO(gI,tu[t.app.options.appId],e,n,r).catch(s=>On.error(s))}const Fw="@firebase/analytics",Uw="0.10.12";function UO(){Dr(new ur(Vh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return MO(r,s,n)},"PUBLIC")),Dr(new ur("analytics-internal",t,"PRIVATE")),Nn(Fw,Uw),Nn(Fw,Uw,"esm2017");function t(e){try{const n=e.getProvider(Vh).getImmediate();return{logEvent:(r,s,a)=>FO(n,r,s,a)}}catch(n){throw Kn.create("interop-component-reg-failed",{reason:n})}}}UO();var Bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,yI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,R){function O(){}O.prototype=R.prototype,V.D=R.prototype,V.prototype=new O,V.prototype.constructor=V,V.C=function(j,b,P){for(var x=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)x[Y-2]=arguments[Y];return R.prototype[b].apply(j,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,R,O){O||(O=0);var j=Array(16);if(typeof R=="string")for(var b=0;16>b;++b)j[b]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for(b=0;16>b;++b)j[b]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=V.g[0],O=V.g[1],b=V.g[2];var P=V.g[3],x=R+(P^O&(b^P))+j[0]+3614090360&4294967295;R=O+(x<<7&4294967295|x>>>25),x=P+(b^R&(O^b))+j[1]+3905402710&4294967295,P=R+(x<<12&4294967295|x>>>20),x=b+(O^P&(R^O))+j[2]+606105819&4294967295,b=P+(x<<17&4294967295|x>>>15),x=O+(R^b&(P^R))+j[3]+3250441966&4294967295,O=b+(x<<22&4294967295|x>>>10),x=R+(P^O&(b^P))+j[4]+4118548399&4294967295,R=O+(x<<7&4294967295|x>>>25),x=P+(b^R&(O^b))+j[5]+1200080426&4294967295,P=R+(x<<12&4294967295|x>>>20),x=b+(O^P&(R^O))+j[6]+2821735955&4294967295,b=P+(x<<17&4294967295|x>>>15),x=O+(R^b&(P^R))+j[7]+4249261313&4294967295,O=b+(x<<22&4294967295|x>>>10),x=R+(P^O&(b^P))+j[8]+1770035416&4294967295,R=O+(x<<7&4294967295|x>>>25),x=P+(b^R&(O^b))+j[9]+2336552879&4294967295,P=R+(x<<12&4294967295|x>>>20),x=b+(O^P&(R^O))+j[10]+4294925233&4294967295,b=P+(x<<17&4294967295|x>>>15),x=O+(R^b&(P^R))+j[11]+2304563134&4294967295,O=b+(x<<22&4294967295|x>>>10),x=R+(P^O&(b^P))+j[12]+1804603682&4294967295,R=O+(x<<7&4294967295|x>>>25),x=P+(b^R&(O^b))+j[13]+4254626195&4294967295,P=R+(x<<12&4294967295|x>>>20),x=b+(O^P&(R^O))+j[14]+2792965006&4294967295,b=P+(x<<17&4294967295|x>>>15),x=O+(R^b&(P^R))+j[15]+1236535329&4294967295,O=b+(x<<22&4294967295|x>>>10),x=R+(b^P&(O^b))+j[1]+4129170786&4294967295,R=O+(x<<5&4294967295|x>>>27),x=P+(O^b&(R^O))+j[6]+3225465664&4294967295,P=R+(x<<9&4294967295|x>>>23),x=b+(R^O&(P^R))+j[11]+643717713&4294967295,b=P+(x<<14&4294967295|x>>>18),x=O+(P^R&(b^P))+j[0]+3921069994&4294967295,O=b+(x<<20&4294967295|x>>>12),x=R+(b^P&(O^b))+j[5]+3593408605&4294967295,R=O+(x<<5&4294967295|x>>>27),x=P+(O^b&(R^O))+j[10]+38016083&4294967295,P=R+(x<<9&4294967295|x>>>23),x=b+(R^O&(P^R))+j[15]+3634488961&4294967295,b=P+(x<<14&4294967295|x>>>18),x=O+(P^R&(b^P))+j[4]+3889429448&4294967295,O=b+(x<<20&4294967295|x>>>12),x=R+(b^P&(O^b))+j[9]+568446438&4294967295,R=O+(x<<5&4294967295|x>>>27),x=P+(O^b&(R^O))+j[14]+3275163606&4294967295,P=R+(x<<9&4294967295|x>>>23),x=b+(R^O&(P^R))+j[3]+4107603335&4294967295,b=P+(x<<14&4294967295|x>>>18),x=O+(P^R&(b^P))+j[8]+1163531501&4294967295,O=b+(x<<20&4294967295|x>>>12),x=R+(b^P&(O^b))+j[13]+2850285829&4294967295,R=O+(x<<5&4294967295|x>>>27),x=P+(O^b&(R^O))+j[2]+4243563512&4294967295,P=R+(x<<9&4294967295|x>>>23),x=b+(R^O&(P^R))+j[7]+1735328473&4294967295,b=P+(x<<14&4294967295|x>>>18),x=O+(P^R&(b^P))+j[12]+2368359562&4294967295,O=b+(x<<20&4294967295|x>>>12),x=R+(O^b^P)+j[5]+4294588738&4294967295,R=O+(x<<4&4294967295|x>>>28),x=P+(R^O^b)+j[8]+2272392833&4294967295,P=R+(x<<11&4294967295|x>>>21),x=b+(P^R^O)+j[11]+1839030562&4294967295,b=P+(x<<16&4294967295|x>>>16),x=O+(b^P^R)+j[14]+4259657740&4294967295,O=b+(x<<23&4294967295|x>>>9),x=R+(O^b^P)+j[1]+2763975236&4294967295,R=O+(x<<4&4294967295|x>>>28),x=P+(R^O^b)+j[4]+1272893353&4294967295,P=R+(x<<11&4294967295|x>>>21),x=b+(P^R^O)+j[7]+4139469664&4294967295,b=P+(x<<16&4294967295|x>>>16),x=O+(b^P^R)+j[10]+3200236656&4294967295,O=b+(x<<23&4294967295|x>>>9),x=R+(O^b^P)+j[13]+681279174&4294967295,R=O+(x<<4&4294967295|x>>>28),x=P+(R^O^b)+j[0]+3936430074&4294967295,P=R+(x<<11&4294967295|x>>>21),x=b+(P^R^O)+j[3]+3572445317&4294967295,b=P+(x<<16&4294967295|x>>>16),x=O+(b^P^R)+j[6]+76029189&4294967295,O=b+(x<<23&4294967295|x>>>9),x=R+(O^b^P)+j[9]+3654602809&4294967295,R=O+(x<<4&4294967295|x>>>28),x=P+(R^O^b)+j[12]+3873151461&4294967295,P=R+(x<<11&4294967295|x>>>21),x=b+(P^R^O)+j[15]+530742520&4294967295,b=P+(x<<16&4294967295|x>>>16),x=O+(b^P^R)+j[2]+3299628645&4294967295,O=b+(x<<23&4294967295|x>>>9),x=R+(b^(O|~P))+j[0]+4096336452&4294967295,R=O+(x<<6&4294967295|x>>>26),x=P+(O^(R|~b))+j[7]+1126891415&4294967295,P=R+(x<<10&4294967295|x>>>22),x=b+(R^(P|~O))+j[14]+2878612391&4294967295,b=P+(x<<15&4294967295|x>>>17),x=O+(P^(b|~R))+j[5]+4237533241&4294967295,O=b+(x<<21&4294967295|x>>>11),x=R+(b^(O|~P))+j[12]+1700485571&4294967295,R=O+(x<<6&4294967295|x>>>26),x=P+(O^(R|~b))+j[3]+2399980690&4294967295,P=R+(x<<10&4294967295|x>>>22),x=b+(R^(P|~O))+j[10]+4293915773&4294967295,b=P+(x<<15&4294967295|x>>>17),x=O+(P^(b|~R))+j[1]+2240044497&4294967295,O=b+(x<<21&4294967295|x>>>11),x=R+(b^(O|~P))+j[8]+1873313359&4294967295,R=O+(x<<6&4294967295|x>>>26),x=P+(O^(R|~b))+j[15]+4264355552&4294967295,P=R+(x<<10&4294967295|x>>>22),x=b+(R^(P|~O))+j[6]+2734768916&4294967295,b=P+(x<<15&4294967295|x>>>17),x=O+(P^(b|~R))+j[13]+1309151649&4294967295,O=b+(x<<21&4294967295|x>>>11),x=R+(b^(O|~P))+j[4]+4149444226&4294967295,R=O+(x<<6&4294967295|x>>>26),x=P+(O^(R|~b))+j[11]+3174756917&4294967295,P=R+(x<<10&4294967295|x>>>22),x=b+(R^(P|~O))+j[2]+718787259&4294967295,b=P+(x<<15&4294967295|x>>>17),x=O+(P^(b|~R))+j[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(b+(x<<21&4294967295|x>>>11))&4294967295,V.g[2]=V.g[2]+b&4294967295,V.g[3]=V.g[3]+P&4294967295}r.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var O=R-this.blockSize,j=this.B,b=this.h,P=0;P<R;){if(b==0)for(;P<=O;)s(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<R;)if(j[b++]=V.charCodeAt(P++),b==this.blockSize){s(this,j),b=0;break}}else for(;P<R;)if(j[b++]=V[P++],b==this.blockSize){s(this,j),b=0;break}}this.h=b,this.o+=R},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var O=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=O&255,O/=256;for(this.u(V),V=Array(16),R=O=0;4>R;++R)for(var j=0;32>j;j+=8)V[O++]=this.g[R]>>>j&255;return V};function a(V,R){var O=c;return Object.prototype.hasOwnProperty.call(O,V)?O[V]:O[V]=R(V)}function l(V,R){this.h=R;for(var O=[],j=!0,b=V.length-1;0<=b;b--){var P=V[b]|0;j&&P==R||(O[b]=P,j=!1)}this.g=O}var c={};function d(V){return-128<=V&&128>V?a(V,function(R){return new l([R|0],0>R?-1:0)}):new l([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return y;if(0>V)return L(p(-V));for(var R=[],O=1,j=0;V>=O;j++)R[j]=V/O|0,O*=4294967296;return new l(R,0)}function m(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return L(m(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=p(Math.pow(R,8)),j=y,b=0;b<V.length;b+=8){var P=Math.min(8,V.length-b),x=parseInt(V.substring(b,b+P),R);8>P?(P=p(Math.pow(R,P)),j=j.j(P).add(p(x))):(j=j.j(O),j=j.add(p(x)))}return j}var y=d(0),E=d(1),T=d(16777216);t=l.prototype,t.m=function(){if(D(this))return-L(this).m();for(var V=0,R=1,O=0;O<this.g.length;O++){var j=this.i(O);V+=(0<=j?j:4294967296+j)*R,R*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(A(this))return"0";if(D(this))return"-"+L(this).toString(V);for(var R=p(Math.pow(V,6)),O=this,j="";;){var b=$(O,R).g;O=U(O,b.j(R));var P=((0<O.g.length?O.g[0]:O.h)>>>0).toString(V);if(O=b,A(O))return P+j;for(;6>P.length;)P="0"+P;j=P+j}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function A(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function D(V){return V.h==-1}t.l=function(V){return V=U(this,V),D(V)?-1:A(V)?0:1};function L(V){for(var R=V.g.length,O=[],j=0;j<R;j++)O[j]=~V.g[j];return new l(O,~V.h).add(E)}t.abs=function(){return D(this)?L(this):this},t.add=function(V){for(var R=Math.max(this.g.length,V.g.length),O=[],j=0,b=0;b<=R;b++){var P=j+(this.i(b)&65535)+(V.i(b)&65535),x=(P>>>16)+(this.i(b)>>>16)+(V.i(b)>>>16);j=x>>>16,P&=65535,x&=65535,O[b]=x<<16|P}return new l(O,O[O.length-1]&-2147483648?-1:0)};function U(V,R){return V.add(L(R))}t.j=function(V){if(A(this)||A(V))return y;if(D(this))return D(V)?L(this).j(L(V)):L(L(this).j(V));if(D(V))return L(this.j(L(V)));if(0>this.l(T)&&0>V.l(T))return p(this.m()*V.m());for(var R=this.g.length+V.g.length,O=[],j=0;j<2*R;j++)O[j]=0;for(j=0;j<this.g.length;j++)for(var b=0;b<V.g.length;b++){var P=this.i(j)>>>16,x=this.i(j)&65535,Y=V.i(b)>>>16,ne=V.i(b)&65535;O[2*j+2*b]+=x*ne,J(O,2*j+2*b),O[2*j+2*b+1]+=P*ne,J(O,2*j+2*b+1),O[2*j+2*b+1]+=x*Y,J(O,2*j+2*b+1),O[2*j+2*b+2]+=P*Y,J(O,2*j+2*b+2)}for(j=0;j<R;j++)O[j]=O[2*j+1]<<16|O[2*j];for(j=R;j<2*R;j++)O[j]=0;return new l(O,0)};function J(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function z(V,R){this.g=V,this.h=R}function $(V,R){if(A(R))throw Error("division by zero");if(A(V))return new z(y,y);if(D(V))return R=$(L(V),R),new z(L(R.g),L(R.h));if(D(R))return R=$(V,L(R)),new z(L(R.g),R.h);if(30<V.g.length){if(D(V)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var O=E,j=R;0>=j.l(V);)O=he(O),j=he(j);var b=G(O,1),P=G(j,1);for(j=G(j,2),O=G(O,2);!A(j);){var x=P.add(j);0>=x.l(V)&&(b=b.add(O),P=x),j=G(j,1),O=G(O,1)}return R=U(V,b.j(R)),new z(b,R)}for(b=y;0<=V.l(R);){for(O=Math.max(1,Math.floor(V.m()/R.m())),j=Math.ceil(Math.log(O)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),P=p(O),x=P.j(R);D(x)||0<x.l(V);)O-=j,P=p(O),x=P.j(R);A(P)&&(P=E),b=b.add(P),V=U(V,x)}return new z(b,V)}t.A=function(V){return $(this,V).h},t.and=function(V){for(var R=Math.max(this.g.length,V.g.length),O=[],j=0;j<R;j++)O[j]=this.i(j)&V.i(j);return new l(O,this.h&V.h)},t.or=function(V){for(var R=Math.max(this.g.length,V.g.length),O=[],j=0;j<R;j++)O[j]=this.i(j)|V.i(j);return new l(O,this.h|V.h)},t.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),O=[],j=0;j<R;j++)O[j]=this.i(j)^V.i(j);return new l(O,this.h^V.h)};function he(V){for(var R=V.g.length+1,O=[],j=0;j<R;j++)O[j]=V.i(j)<<1|V.i(j-1)>>>31;return new l(O,V.h)}function G(V,R){var O=R>>5;R%=32;for(var j=V.g.length-O,b=[],P=0;P<j;P++)b[P]=0<R?V.i(P+O)>>>R|V.i(P+O+1)<<32-R:V.i(P+O);return new l(b,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,ws=l}).apply(typeof Bw<"u"?Bw:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vI,Yl,_I,wh,hm,wI,EI,TI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,I){return h==Array.prototype||h==Object.prototype||(h[v]=I.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var v=0;v<h.length;++v){var I=h[v];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function s(h,v){if(v)e:{var I=r;h=h.split(".");for(var k=0;k<h.length-1;k++){var W=h[k];if(!(W in I))break e;I=I[W]}h=h[h.length-1],k=I[h],v=v(k),v!=k&&v!=null&&e(I,h,{configurable:!0,writable:!0,value:v})}}function a(h,v){h instanceof String&&(h+="");var I=0,k=!1,W={next:function(){if(!k&&I<h.length){var te=I++;return{value:v(te,h[te]),done:!1}}return k=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(h){return h||function(){return a(this,function(v,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,I){return h.call.apply(h.bind,arguments)}function y(h,v,I){if(!h)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,k),h.apply(v,W)}}return function(){return h.apply(v,arguments)}}function E(h,v,I){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,E.apply(null,arguments)}function T(h,v){var I=Array.prototype.slice.call(arguments,1);return function(){var k=I.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function A(h,v){function I(){}I.prototype=v.prototype,h.aa=v.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(k,W,te){for(var me=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)me[tt-2]=arguments[tt];return v.prototype[W].apply(k,me)}}function D(h){const v=h.length;if(0<v){const I=Array(v);for(let k=0;k<v;k++)I[k]=h[k];return I}return[]}function L(h,v){for(let I=1;I<arguments.length;I++){const k=arguments[I];if(d(k)){const W=h.length||0,te=k.length||0;h.length=W+te;for(let me=0;me<te;me++)h[W+me]=k[me]}else h.push(k)}}class U{constructor(v,I){this.i=v,this.j=I,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function J(h){return/^[\s\xa0]*$/.test(h)}function z(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function $(h){return $[" "](h),h}$[" "]=function(){};var he=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function G(h,v,I){for(const k in h)v.call(I,h[k],k,h)}function V(h,v){for(const I in h)v.call(void 0,h[I],I,h)}function R(h){const v={};for(const I in h)v[I]=h[I];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(h,v){let I,k;for(let W=1;W<arguments.length;W++){k=arguments[W];for(I in k)h[I]=k[I];for(let te=0;te<O.length;te++)I=O[te],Object.prototype.hasOwnProperty.call(k,I)&&(h[I]=k[I])}}function b(h){var v=1;h=h.split(":");const I=[];for(;0<v&&h.length;)I.push(h.shift()),v--;return h.length&&I.push(h.join(":")),I}function P(h){c.setTimeout(()=>{throw h},0)}function x(){var h=pe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Y{constructor(){this.h=this.g=null}add(v,I){const k=ne.get();k.set(v,I),this.h?this.h.next=k:this.g=k,this.h=k}}var ne=new U(()=>new ve,h=>h.reset());class ve{constructor(){this.next=this.g=this.h=null}set(v,I){this.h=v,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let H,Z=!1,pe=new Y,C=()=>{const h=c.Promise.resolve(void 0);H=()=>{h.then(B)}};var B=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(I){P(I)}var v=ne;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}Z=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};c.addEventListener("test",I,v),c.removeEventListener("test",I,v)}catch{}return h}();function Ne(h,v){if(N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(he){e:{try{$(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else I=="mouseover"?v=h.fromElement:I=="mouseout"&&(v=h.toElement);this.relatedTarget=v,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ke[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}A(Ne,N);var ke={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function Ye(h,v,I,k,W){this.listener=h,this.proxy=null,this.src=v,this.type=I,this.capture=!!k,this.ha=W,this.key=++Ue,this.da=this.fa=!1}function at(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function vn(h){this.src=h,this.g={},this.h=0}vn.prototype.add=function(h,v,I,k,W){var te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);var me=jr(h,v,k,W);return-1<me?(v=h[me],I||(v.fa=!1)):(v=new Ye(v,this.src,te,!!k,W),v.fa=I,h.push(v)),v};function Di(h,v){var I=v.type;if(I in h.g){var k=h.g[I],W=Array.prototype.indexOf.call(k,v,void 0),te;(te=0<=W)&&Array.prototype.splice.call(k,W,1),te&&(at(v),h.g[I].length==0&&(delete h.g[I],h.h--))}}function jr(h,v,I,k){for(var W=0;W<h.length;++W){var te=h[W];if(!te.da&&te.listener==v&&te.capture==!!I&&te.ha==k)return W}return-1}var si="closure_lm_"+(1e6*Math.random()|0),oi={};function Li(h,v,I,k,W){if(Array.isArray(v)){for(var te=0;te<v.length;te++)Li(h,v[te],I,k,W);return null}return I=Vs(I),h&&h[Be]?h.K(v,I,p(k)?!!k.capture:!1,W):Mi(h,v,I,!1,k,W)}function Mi(h,v,I,k,W,te){if(!v)throw Error("Invalid event type");var me=p(W)?!!W.capture:!!W,tt=ji(h);if(tt||(h[si]=tt=new vn(h)),I=tt.add(v,I,k,me,te),I.proxy)return I;if(k=Oo(),I.proxy=k,k.src=h,k.listener=I,h.addEventListener)Se||(W=me),W===void 0&&(W=!1),h.addEventListener(v.toString(),k,W);else if(h.attachEvent)h.attachEvent(dr(v.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Oo(){function h(I){return v.call(h.src,h.listener,I)}const v=js;return h}function ai(h,v,I,k,W){if(Array.isArray(v))for(var te=0;te<v.length;te++)ai(h,v[te],I,k,W);else k=p(k)?!!k.capture:!!k,I=Vs(I),h&&h[Be]?(h=h.i,v=String(v).toString(),v in h.g&&(te=h.g[v],I=jr(te,I,k,W),-1<I&&(at(te[I]),Array.prototype.splice.call(te,I,1),te.length==0&&(delete h.g[v],h.h--)))):h&&(h=ji(h))&&(v=h.g[v.toString()],h=-1,v&&(h=jr(v,I,k,W)),(I=-1<h?v[h]:null)&&Gn(I))}function Gn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Be])Di(v.i,h);else{var I=h.type,k=h.proxy;v.removeEventListener?v.removeEventListener(I,k,h.capture):v.detachEvent?v.detachEvent(dr(I),k):v.addListener&&v.removeListener&&v.removeListener(k),(I=ji(v))?(Di(I,h),I.h==0&&(I.src=null,v[si]=null)):at(h)}}}function dr(h){return h in oi?oi[h]:oi[h]="on"+h}function js(h,v){if(h.da)h=!0;else{v=new Ne(v,this);var I=h.listener,k=h.ha||h.src;h.fa&&Gn(h),h=I.call(k,v)}return h}function ji(h){return h=h[si],h instanceof vn?h:null}var Vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vs(h){return typeof h=="function"?h:(h[Vi]||(h[Vi]=function(v){return h.handleEvent(v)}),h[Vi])}function ee(){re.call(this),this.i=new vn(this),this.M=this,this.F=null}A(ee,re),ee.prototype[Be]=!0,ee.prototype.removeEventListener=function(h,v,I,k){ai(this,h,v,I,k)};function ue(h,v){var I,k=h.F;if(k)for(I=[];k;k=k.F)I.push(k);if(h=h.M,k=v.type||v,typeof v=="string")v=new N(v,h);else if(v instanceof N)v.target=v.target||h;else{var W=v;v=new N(k,h),j(v,W)}if(W=!0,I)for(var te=I.length-1;0<=te;te--){var me=v.g=I[te];W=Ce(me,k,!0,v)&&W}if(me=v.g=h,W=Ce(me,k,!0,v)&&W,W=Ce(me,k,!1,v)&&W,I)for(te=0;te<I.length;te++)me=v.g=I[te],W=Ce(me,k,!1,v)&&W}ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var I=h.g[v],k=0;k<I.length;k++)at(I[k]);delete h.g[v],h.h--}}this.F=null},ee.prototype.K=function(h,v,I,k){return this.i.add(String(h),v,!1,I,k)},ee.prototype.L=function(h,v,I,k){return this.i.add(String(h),v,!0,I,k)};function Ce(h,v,I,k){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,te=0;te<v.length;++te){var me=v[te];if(me&&!me.da&&me.capture==I){var tt=me.listener,Dt=me.ha||me.src;me.fa&&Di(h.i,me),W=tt.call(Dt,k)!==!1&&W}}return W&&!k.defaultPrevented}function Fe(h,v,I){if(typeof h=="function")I&&(h=E(h,I));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(h,v||0)}function $e(h){h.g=Fe(()=>{h.g=null,h.i&&(h.i=!1,$e(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Nt extends re{constructor(v,I){super(),this.m=v,this.l=I,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$e(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cn(h){re.call(this),this.h=h,this.g={}}A(cn,re);var hn=[];function fr(h){G(h.g,function(v,I){this.g.hasOwnProperty(I)&&Gn(v)},h),h.g={}}cn.prototype.N=function(){cn.aa.N.call(this),fr(this)},cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=c.JSON.stringify,Ot=c.JSON.parse,Qn=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ht(){}Ht.prototype.h=null;function Do(h){return h.h||(h.h=h.i())}function Lo(){}var Yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){N.call(this,"d")}A(Vr,N);function Mo(){N.call(this,"c")}A(Mo,N);var Fr={},tl=null;function Fs(){return tl=tl||new ee}Fr.La="serverreachability";function nl(h){N.call(this,Fr.La,h)}A(nl,N);function li(h){const v=Fs();ue(v,new nl(v))}Fr.STAT_EVENT="statevent";function rl(h,v){N.call(this,Fr.STAT_EVENT,h),this.stat=v}A(rl,N);function Tt(h){const v=Fs();ue(v,new rl(v,h))}Fr.Ma="timingevent";function jo(h,v){N.call(this,Fr.Ma,h),this.size=v}A(jo,N);function mr(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function Us(){this.g=!0}Us.prototype.xa=function(){this.g=!1};function Bs(h,v,I,k,W,te){h.info(function(){if(h.g)if(te)for(var me="",tt=te.split("&"),Dt=0;Dt<tt.length;Dt++){var Ge=tt[Dt].split("=");if(1<Ge.length){var Ut=Ge[0];Ge=Ge[1];var Ct=Ut.split("_");me=2<=Ct.length&&Ct[1]=="type"?me+(Ut+"="+Ge+"&"):me+(Ut+"=redacted&")}}else me=null;else me=te;return"XMLHTTP REQ ("+k+") [attempt "+W+"]: "+v+`
`+I+`
`+me})}function Vo(h,v,I,k,W,te,me){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+W+"]: "+v+`
`+I+`
`+te+" "+me})}function gr(h,v,I,k){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+bd(h,I)+(k?" "+k:"")})}function il(h,v){h.info(function(){return"TIMEOUT: "+v})}Us.prototype.info=function(){};function bd(h,v){if(!h.g)return v;if(!v)return null;try{var I=JSON.parse(v);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var k=I[h];if(!(2>k.length)){var W=k[1];if(Array.isArray(W)&&!(1>W.length)){var te=W[0];if(te!="noop"&&te!="stop"&&te!="close")for(var me=1;me<W.length;me++)W[me]=""}}}}return pr(I)}catch{return v}}var Fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Uu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yr;function zs(){}A(zs,Ht),zs.prototype.g=function(){return new XMLHttpRequest},zs.prototype.i=function(){return{}},yr=new zs;function vr(h,v,I,k){this.j=h,this.i=v,this.l=I,this.R=k||1,this.U=new cn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bu}function Bu(){this.i=null,this.g="",this.h=!1}var sl={},Uo={};function Bo(h,v,I){h.L=1,h.v=qi(jn(v)),h.m=I,h.P=!0,ol(h,null)}function ol(h,v){h.F=Date.now(),rt(h),h.A=jn(h.v);var I=h.A,k=h.R;Array.isArray(k)||(k=[String(k)]),Hi(I.i,"t",k),h.C=0,I=h.j.J,h.h=new Bu,h.g=sc(h.j,I?v:null,!h.m),0<h.O&&(h.M=new Nt(E(h.Y,h,h.g),h.O)),v=h.U,I=h.g,k=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(hn[0]=W.toString()),W=hn);for(var te=0;te<W.length;te++){var me=Li(I,W[te],k||v.handleEvent,!1,v.h||v);if(!me)break;v.g[me.key]=me}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),li(),Bs(h.i,h.u,h.A,h.l,h.R,h.m)}vr.prototype.ca=function(h){h=h.target;const v=this.M;v&&wn(h)==3?v.j():this.Y(h)},vr.prototype.Y=function(h){try{if(h==this.g)e:{const Ct=wn(this.g);var v=this.g.Ba();const Zn=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||dl(this.g)))){this.J||Ct!=4||v==7||(v==8||0>=Zn?li(3):li(2)),qs(this);var I=this.g.Z();this.X=I;t:if(zu(this)){var k=dl(this.g);h="";var W=k.length,te=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xn(this),Fi(this);var me="";break t}this.h.i=new c.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,h+=this.h.i.decode(k[v],{stream:!(te&&v==W-1)});k.length=0,this.h.g+=h,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=I==200,Vo(this.i,this.u,this.A,this.l,this.R,Ct,I),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Dt=this.g;if((tt=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(tt)){var Ge=tt;break t}}Ge=null}if(I=Ge)gr(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,al(this,I);else{this.o=!1,this.s=3,Tt(12),Xn(this),Fi(this);break e}}if(this.P){I=!0;let Fn;for(;!this.J&&this.C<me.length;)if(Fn=Pd(this,me),Fn==Uo){Ct==4&&(this.s=4,Tt(14),I=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==sl){this.s=4,Tt(15),gr(this.i,this.l,me,"[Invalid Chunk]"),I=!1;break}else gr(this.i,this.l,Fn,null),al(this,Fn);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||me.length!=0||this.h.h||(this.s=1,Tt(16),I=!1),this.o=this.o&&I,!I)gr(this.i,this.l,me,"[Invalid Chunked Response]"),Xn(this),Fi(this);else if(0<me.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),pl(Ut),Ut.M=!0,Tt(11))}}else gr(this.i,this.l,me,null),al(this,me);Ct==4&&Xn(this),this.o&&!this.J&&(Ct==4?Jo(this.j,this):(this.o=!1,rt(this)))}else Ko(this.g),I==400&&0<me.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Xn(this),Fi(this)}}}catch{}finally{}};function zu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Pd(h,v){var I=h.C,k=v.indexOf(`
`,I);return k==-1?Uo:(I=Number(v.substring(I,k)),isNaN(I)?sl:(k+=1,k+I>v.length?Uo:(v=v.slice(k,k+I),h.C=k+I,v)))}vr.prototype.cancel=function(){this.J=!0,Xn(this)};function rt(h){h.S=Date.now()+h.I,qu(h,h.I)}function qu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=mr(E(h.ba,h),v)}function qs(h){h.B&&(c.clearTimeout(h.B),h.B=null)}vr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(il(this.i,this.A),this.L!=2&&(li(),Tt(17)),Xn(this),this.s=2,Fi(this)):qu(this,this.S-h)};function Fi(h){h.j.G==0||h.J||Jo(h.j,h)}function Xn(h){qs(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,fr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function al(h,v){try{var I=h.j;if(I.G!=0&&(I.g==h||dn(I.h,h))){if(!h.K&&dn(I.h,h)&&I.G==3){try{var k=I.Da.g.parse(v)}catch{k=null}if(Array.isArray(k)&&k.length==3){var W=k;if(W[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)Xo(I),Ir(I);else break e;Yo(I),Tt(18)}}else I.za=W[1],0<I.za-I.T&&37500>W[2]&&I.F&&I.v==0&&!I.C&&(I.C=mr(E(I.Za,I),6e3));if(1>=Hu(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else fi(I,11)}else if((h.K||I.g==h)&&Xo(I),!J(v))for(W=I.Da.g.parse(v),v=0;v<W.length;v++){let Ge=W[v];if(I.T=Ge[0],Ge=Ge[1],I.G==2)if(Ge[0]=="c"){I.K=Ge[1],I.ia=Ge[2];const Ut=Ge[3];Ut!=null&&(I.la=Ut,I.j.info("VER="+I.la));const Ct=Ge[4];Ct!=null&&(I.Aa=Ct,I.j.info("SVER="+I.Aa));const Zn=Ge[5];Zn!=null&&typeof Zn=="number"&&0<Zn&&(k=1.5*Zn,I.L=k,I.j.info("backChannelRequestTimeoutMs_="+k)),k=I;const Fn=h.g;if(Fn){const Ys=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var te=k.h;te.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(ll(te,te.h),te.h=null))}if(k.D){const ea=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ea&&(k.ya=ea,nt(k.I,k.D,ea))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),k=I;var me=h;if(k.qa=ic(k,k.J?k.ia:null,k.W),me.K){Wu(k.h,me);var tt=me,Dt=k.L;Dt&&(tt.I=Dt),tt.B&&(qs(tt),rt(tt)),k.g=me}else Qs(k);0<I.i.length&&qr(I)}else Ge[0]!="stop"&&Ge[0]!="close"||fi(I,7);else I.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?fi(I,7):Kt(I):Ge[0]!="noop"&&I.l&&I.l.ta(Ge),I.v=0)}}li(4)}catch{}}var $u=class{constructor(h,v){this.g=h,this.map=v}};function $s(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Hu(h){return h.h?1:h.g?h.g.size:0}function dn(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function ll(h,v){h.g?h.g.add(v):h.h=v}function Wu(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}$s.prototype.cancel=function(){if(this.i=Ku(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ku(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const I of h.g.values())v=v.concat(I.D);return v}return D(h.i)}function zo(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],I=h.length,k=0;k<I;k++)v.push(h[k]);return v}v=[],I=0;for(k in h)v[I++]=h[k];return v}function qo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var I=0;I<h;I++)v.push(I);return v}v=[],I=0;for(const k in h)v[I++]=k;return v}}}function Ui(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var I=qo(h),k=zo(h),W=k.length,te=0;te<W;te++)v.call(void 0,k[te],I&&I[te],h)}var Hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nd(h,v){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var k=h[I].indexOf("="),W=null;if(0<=k){var te=h[I].substring(0,k);W=h[I].substring(k+1)}else te=h[I];v(te,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ui(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ui){this.h=h.h,Ws(this,h.j),this.o=h.o,this.g=h.g,Bi(this,h.s),this.l=h.l;var v=h.i,I=new Ur;I.i=v.i,v.g&&(I.g=new Map(v.g),I.h=v.h),zi(this,I),this.m=h.m}else h&&(v=String(h).match(Hs))?(this.h=!1,Ws(this,v[1]||"",!0),this.o=Ke(v[2]||""),this.g=Ke(v[3]||"",!0),Bi(this,v[4]),this.l=Ke(v[5]||"",!0),zi(this,v[6]||"",!0),this.m=Ke(v[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}ui.prototype.toString=function(){var h=[],v=this.j;v&&h.push($i(v,$o,!0),":");var I=this.g;return(I||v=="file")&&(h.push("//"),(v=this.o)&&h.push($i(v,$o,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push($i(I,I.charAt(0)=="/"?Yu:Qu,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",$i(I,ul)),h.join("")};function jn(h){return new ui(h)}function Ws(h,v,I){h.j=I?Ke(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Bi(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function zi(h,v,I){v instanceof Ur?(h.i=v,Br(h.i,h.h)):(I||(v=$i(v,Xu)),h.i=new Ur(v,h.h))}function nt(h,v,I){h.i.set(v,I)}function qi(h){return nt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ke(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function $i(h,v,I){return typeof h=="string"?(h=encodeURI(h).replace(v,Gu),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Gu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var $o=/[#\/\?@]/g,Qu=/[#\?:]/g,Yu=/[#\?]/g,Xu=/[#\?@]/g,ul=/#/g;function Ur(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Wt(h){h.g||(h.g=new Map,h.h=0,h.i&&Nd(h.i,function(v,I){h.add(decodeURIComponent(v.replace(/\+/g," ")),I)}))}t=Ur.prototype,t.add=function(h,v){Wt(this),this.i=null,h=Jn(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(v),this.h+=1,this};function _r(h,v){Wt(h),v=Jn(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function wr(h,v){return Wt(h),v=Jn(h,v),h.g.has(v)}t.forEach=function(h,v){Wt(this),this.g.forEach(function(I,k){I.forEach(function(W){h.call(v,W,k,this)},this)},this)},t.na=function(){Wt(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),I=[];for(let k=0;k<v.length;k++){const W=h[k];for(let te=0;te<W.length;te++)I.push(v[k])}return I},t.V=function(h){Wt(this);let v=[];if(typeof h=="string")wr(this,h)&&(v=v.concat(this.g.get(Jn(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)v=v.concat(h[I])}return v},t.set=function(h,v){return Wt(this),this.i=null,h=Jn(this,h),wr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Hi(h,v,I){_r(h,v),0<I.length&&(h.i=null,h.g.set(Jn(h,v),D(I)),h.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var I=0;I<v.length;I++){var k=v[I];const te=encodeURIComponent(String(k)),me=this.V(k);for(k=0;k<me.length;k++){var W=te;me[k]!==""&&(W+="="+encodeURIComponent(String(me[k]))),h.push(W)}}return this.i=h.join("&")};function Jn(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Br(h,v){v&&!h.j&&(Wt(h),h.i=null,h.g.forEach(function(I,k){var W=k.toLowerCase();k!=W&&(_r(this,k),Hi(this,W,I))},h)),h.j=v}function Od(h,v){const I=new Us;if(c.Image){const k=new Image;k.onload=T(_n,I,"TestLoadImage: loaded",!0,v,k),k.onerror=T(_n,I,"TestLoadImage: error",!1,v,k),k.onabort=T(_n,I,"TestLoadImage: abort",!1,v,k),k.ontimeout=T(_n,I,"TestLoadImage: timeout",!1,v,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else v(!1)}function Ju(h,v){const I=new Us,k=new AbortController,W=setTimeout(()=>{k.abort(),_n(I,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:k.signal}).then(te=>{clearTimeout(W),te.ok?_n(I,"TestPingServer: ok",!0,v):_n(I,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),_n(I,"TestPingServer: error",!1,v)})}function _n(h,v,I,k,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),k(I)}catch{}}function Dd(){this.g=new Qn}function Zu(h,v,I){const k=I||"";try{Ui(h,function(W,te){let me=W;p(W)&&(me=pr(W)),v.push(k+te+"="+encodeURIComponent(me))})}catch(W){throw v.push(k+"type="+encodeURIComponent("_badmap")),W}}function ci(h){this.l=h.Ub||null,this.j=h.eb||!1}A(ci,Ht),ci.prototype.g=function(){return new Ks(this.l,this.j)},ci.prototype.i=function(h){return function(){return h}}({});function Ks(h,v){ee.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ks,ee),t=Ks.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Tr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ec(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ec(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Er(this):Tr(this),this.readyState==3&&ec(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Er(this))},t.Qa=function(h){this.g&&(this.response=h,Er(this))},t.ga=function(){this.g&&Er(this)};function Er(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Tr(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var I=v.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=v.next();return h.join(`\r
`)};function Tr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hi(h){let v="";return G(h,function(I,k){v+=k,v+=":",v+=I,v+=`\r
`}),v}function Wi(h,v,I){e:{for(k in I){var k=!1;break e}k=!0}k||(I=hi(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):nt(h,v,I))}function ht(h){ee.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ht,ee);var Ld=/^https?$/i,cl=["POST","PUT"];t=ht.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,I,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yr.g(),this.v=this.o?Do(this.o):Do(yr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(te){Gs(this,te);return}if(h=I||"",I=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var W in k)I.set(W,k[W]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const te of k.keys())I.set(te,k.get(te));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(I.keys()).find(te=>te.toLowerCase()=="content-type"),W=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(cl,v,void 0))||k||W||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,me]of I)this.g.setRequestHeader(te,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wo(this),this.u=!0,this.g.send(h),this.u=!1}catch(te){Gs(this,te)}};function Gs(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ho(h),Vn(h)}function Ho(h){h.A||(h.A=!0,ue(h,"complete"),ue(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ue(this,"complete"),ue(this,"abort"),Vn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vn(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hl(this):this.bb())},t.bb=function(){hl(this)};function hl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||wn(h)!=4||h.Z()!=2)){if(h.u&&wn(h)==4)Fe(h.Ea,0,h);else if(ue(h,"readystatechange"),wn(h)==4){h.h=!1;try{const me=h.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var I;if(!(I=v)){var k;if(k=me===0){var W=String(h.D).match(Hs)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),k=!Ld.test(W?W.toLowerCase():"")}I=k}if(I)ue(h,"complete"),ue(h,"success");else{h.m=6;try{var te=2<wn(h)?h.g.statusText:""}catch{te=""}h.l=te+" ["+h.Z()+"]",Ho(h)}}finally{Vn(h)}}}}function Vn(h,v){if(h.g){Wo(h);const I=h.g,k=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||ue(h,"ready");try{I.onreadystatechange=k}catch{}}}function Wo(h){h.I&&(c.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function wn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ot(v)}};function dl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ko(h){const v={};h=(h.g&&2<=wn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(J(h[k]))continue;var I=b(h[k]);const W=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const te=v[W]||[];v[W]=te,te.push(I)}V(v,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(h,v,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||v}function fl(h){this.Aa=0,this.i=[],this.j=new Us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,h),this.cb=zr("retryDelaySeedMs",1e4,h),this.Wa=zr("forwardChannelMaxRetries",2,h),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new $s(h&&h.concurrentRequestLimit),this.Da=new Dd,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fl.prototype,t.la=8,t.G=1,t.connect=function(h,v,I,k){Tt(0),this.W=h,this.H=v||{},I&&k!==void 0&&(this.H.OSID=I,this.H.OAID=k),this.F=this.X,this.I=ic(this,null,this.W),qr(this)};function Kt(h){if(Go(h),h.G==3){var v=h.U++,I=jn(h.I);if(nt(I,"SID",h.K),nt(I,"RID",v),nt(I,"TYPE","terminate"),di(h,I),v=new vr(h,h.j,v),v.L=2,v.v=qi(jn(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!I&&c.Image&&(new Image().src=v.v,I=!0),I||(v.g=sc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),rt(v)}rc(h)}function Ir(h){h.g&&(pl(h),h.g.cancel(),h.g=null)}function Go(h){Ir(h),h.u&&(c.clearTimeout(h.u),h.u=null),Xo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function qr(h){if(!Mn(h.h)&&!h.s){h.s=!0;var v=h.Ga;H||C(),Z||(H(),Z=!0),pe.add(v,h),h.B=0}}function Md(h,v){return Hu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=mr(E(h.Ga,h,v),nc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new vr(this,this.j,h);let te=this.o;if(this.S&&(te?(te=R(te),j(te,this.S)):te=this.S),this.m!==null||this.O||(W.H=te,te=null),this.P)e:{for(var v=0,I=0;I<this.i.length;I++){t:{var k=this.i[I];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(v+=k,4096<v){v=I;break e}if(v===4096||I===this.i.length-1){v=I+1;break e}}v=1e3}else v=1e3;v=Ki(this,W,v),I=jn(this.I),nt(I,"RID",h),nt(I,"CVER",22),this.D&&nt(I,"X-HTTP-Session-Id",this.D),di(this,I),te&&(this.O?v="headers="+encodeURIComponent(String(hi(te)))+"&"+v:this.m&&Wi(I,this.m,te)),ll(this.h,W),this.Ua&&nt(I,"TYPE","init"),this.P?(nt(I,"$req",v),nt(I,"SID","null"),W.T=!0,Bo(W,I,null)):Bo(W,I,v),this.G=2}}else this.G==3&&(h?Qo(this,h):this.i.length==0||Mn(this.h)||Qo(this))};function Qo(h,v){var I;v?I=v.l:I=h.U++;const k=jn(h.I);nt(k,"SID",h.K),nt(k,"RID",I),nt(k,"AID",h.T),di(h,k),h.m&&h.o&&Wi(k,h.m,h.o),I=new vr(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ki(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ll(h.h,I),Bo(I,k,v)}function di(h,v){h.H&&G(h.H,function(I,k){nt(v,k,I)}),h.l&&Ui({},function(I,k){nt(v,k,I)})}function Ki(h,v,I){I=Math.min(h.i.length,I);var k=h.l?E(h.l.Na,h.l,h):null;e:{var W=h.i;let te=-1;for(;;){const me=["count="+I];te==-1?0<I?(te=W[0].g,me.push("ofs="+te)):te=0:me.push("ofs="+te);let tt=!0;for(let Dt=0;Dt<I;Dt++){let Ge=W[Dt].g;const Ut=W[Dt].map;if(Ge-=te,0>Ge)te=Math.max(0,W[Dt].g-100),tt=!1;else try{Zu(Ut,me,"req"+Ge+"_")}catch{k&&k(Ut)}}if(tt){k=me.join("&");break e}}}return h=h.i.splice(0,I),v.D=h,k}function Qs(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;H||C(),Z||(H(),Z=!0),pe.add(v,h),h.v=0}}function Yo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=mr(E(h.Fa,h),nc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=mr(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Ir(this),tc(this))};function pl(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function tc(h){h.g=new vr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=jn(h.qa);nt(v,"RID","rpc"),nt(v,"SID",h.K),nt(v,"AID",h.T),nt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&nt(v,"TO",h.ja),nt(v,"TYPE","xmlhttp"),di(h,v),h.m&&h.o&&Wi(v,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=qi(jn(v)),I.m=null,I.P=!0,ol(I,h)}t.Za=function(){this.C!=null&&(this.C=null,Ir(this),Yo(this),Tt(19))};function Xo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Jo(h,v){var I=null;if(h.g==v){Xo(h),pl(h),h.g=null;var k=2}else if(dn(h.h,v))I=v.D,Wu(h.h,v),k=1;else return;if(h.G!=0){if(v.o)if(k==1){I=v.m?v.m.length:0,v=Date.now()-v.F;var W=h.B;k=Fs(),ue(k,new jo(k,I)),qr(h)}else Qs(h);else if(W=v.s,W==3||W==0&&0<v.X||!(k==1&&Md(h,v)||k==2&&Yo(h)))switch(I&&0<I.length&&(v=h.h,v.i=v.i.concat(I)),W){case 1:fi(h,5);break;case 4:fi(h,10);break;case 3:fi(h,6);break;default:fi(h,2)}}}function nc(h,v){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*v}function fi(h,v){if(h.j.info("Error code "+v),v==2){var I=E(h.fb,h),k=h.Xa;const W=!k;k=new ui(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ws(k,"https"),qi(k),W?Od(k.toString(),I):Ju(k.toString(),I)}else Tt(2);h.G=0,h.l&&h.l.sa(v),rc(h),Go(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function rc(h){if(h.G=0,h.ka=[],h.l){const v=Ku(h.h);(v.length!=0||h.i.length!=0)&&(L(h.ka,v),L(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function ic(h,v,I){var k=I instanceof ui?jn(I):new ui(I);if(k.g!="")v&&(k.g=v+"."+k.g),Bi(k,k.s);else{var W=c.location;k=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var te=new ui(null);k&&Ws(te,k),v&&(te.g=v),W&&Bi(te,W),I&&(te.l=I),k=te}return I=h.D,v=h.ya,I&&v&&nt(k,I,v),nt(k,"VER",h.la),di(h,k),k}function sc(h,v,I){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ht(new ci({eb:I})):new ht(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ml(){}t=ml.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zo(){}Zo.prototype.g=function(h,v){return new fn(h,v)};function fn(h,v){ee.call(this),this.g=new fl(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!J(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!J(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new $r(this)}A(fn,ee),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Kt(this.g)},fn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=pr(h),h=I);v.i.push(new $u(v.Ya++,h)),v.G==3&&qr(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,fn.aa.N.call(this)};function oc(h){Vr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const I in v){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}A(oc,Vr);function ac(){Mo.call(this),this.status=1}A(ac,Mo);function $r(h){this.g=h}A($r,ml),$r.prototype.ua=function(){ue(this.g,"a")},$r.prototype.ta=function(h){ue(this.g,new oc(h))},$r.prototype.sa=function(h){ue(this.g,new ac)},$r.prototype.ra=function(){ue(this.g,"b")},Zo.prototype.createWebChannel=Zo.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,TI=function(){return new Zo},EI=function(){return Fs()},wI=Fr,hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fo.NO_ERROR=0,Fo.TIMEOUT=8,Fo.HTTP_ERROR=6,wh=Fo,Uu.COMPLETE="complete",_I=Uu,Lo.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",ee.prototype.listen=ee.prototype.K,Yl=Lo,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,vI=ht}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const zw="@firebase/firestore",qw="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new ed("@firebase/firestore");function ka(){return Io.logLevel}function ye(t,...e){if(Io.logLevel<=He.DEBUG){const n=e.map(hg);Io.debug(`Firestore (${Ga}): ${t}`,...n)}}function bi(t,...e){if(Io.logLevel<=He.ERROR){const n=e.map(hg);Io.error(`Firestore (${Ga}): ${t}`,...n)}}function ja(t,...e){if(Io.logLevel<=He.WARN){const n=e.map(hg);Io.warn(`Firestore (${Ga}): ${t}`,...n)}}function hg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,II(t,r,n)}function II(t,e,n){let r=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bi(r),new Error(r)}function et(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||II(e,s,r)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class zO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qO{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ci,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ci)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new SI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class $O{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $O(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $w{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $w(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $w(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=KO(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function dm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ze(r,s);{const a=kI(),l=GO(a.encode(Hw(t,n)),a.encode(Hw(e,n)));return l!==0?l:ze(r,s)}}n+=r>65535?2:1}return ze(t.length,e.length)}function Hw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function GO(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ze(t[n],e[n]);return ze(t.length,e.length)}function Va(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=-62135596800,Kw=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Kw);return new Vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ww)throw new we(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kw}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ww;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Vt(0,0))}static max(){return new Le(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="__name__";class Xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Xr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return ze(e.length,n.length)}static compareSegments(e,n){const r=Xr.isNumericId(e),s=Xr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Xr.extractNumericId(e).compare(Xr.extractNumericId(n)):dm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ws.fromString(e.substring(4,e.length-2))}}class ct extends Xr{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const QO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Xr{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return QO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gw}static keyField(){return new Jt([Gw])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new we(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new we(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new we(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new we(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ct.fromString(e))}static fromName(e){return new xe(ct.fromString(e).popFirst(5))}static empty(){return new xe(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function YO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Le.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new Is(s,xe.empty(),e)}function XO(t){return new Is(t.readTime,t.key,gu)}class Is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Is(Le.min(),xe.empty(),gu)}static max(){return new Is(Le.max(),xe.empty(),gu)}}function JO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==ZO)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},d=>r(d))}),l=!0,a===s&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(s=>s?se.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new se((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next(m=>{l[p]=m,++c,c===a&&r(l)},m=>s(m))}})}static doWhile(e,n){return new se((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function tD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ya(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ad.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=-1;function ld(t){return t==null}function Fh(t){return t===0&&1/t==-1/0}function nD(t){return typeof t=="number"&&Number.isInteger(t)&&!Fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="";function rD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Qw(e)),e=iD(t.get(n),e);return Qw(e)}function iD(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case CI:n+="";break;default:n+=a}}return n}function Qw(t){return t+CI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=s??Xt.EMPTY,this.right=a??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Xt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Xt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xw(this.data.getIterator())}getIteratorFrom(e){return new Xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class Xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new $n([])}unionWith(e){let n=new Ft(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new RI("Invalid base64 string: "+a):a}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const sD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(t){if(et(!!t,39018),typeof t=="string"){let e=0;const n=sD.exec(t);if(et(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ks(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="server_timestamp",PI="__type__",NI="__previous_value__",OI="__local_write_time__";function fg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[PI])===null||n===void 0?void 0:n.stringValue)===bI}function ud(t){const e=t.mapValue.fields[NI];return fg(e)?ud(e):e}function yu(t){const e=Ss(t.mapValue.fields[OI].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r,s,a,l,c,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p}}const Uh="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="__type__",aD="__max__",lh={mapValue:{}},LI="__vector__",Bh="value";function xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fg(t)?4:uD(t)?9007199254740991:lD(t)?10:11:Pe(28295,{value:t})}function ri(t,e){if(t===e)return!0;const n=xs(t);if(n!==xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yu(t).isEqual(yu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ss(s.timestampValue),c=Ss(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return ks(s.bytesValue).isEqual(ks(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return kt(s.geoPointValue.latitude)===kt(a.geoPointValue.latitude)&&kt(s.geoPointValue.longitude)===kt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return kt(s.integerValue)===kt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=kt(s.doubleValue),c=kt(a.doubleValue);return l===c?Fh(l)===Fh(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Va(t.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(Yw(l)!==Yw(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ri(l[d],c[d])))return!1;return!0}(t,e);default:return Pe(52216,{left:t})}}function _u(t,e){return(t.values||[]).find(n=>ri(n,e))!==void 0}function Fa(t,e){if(t===e)return 0;const n=xs(t),r=xs(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=kt(a.integerValue||a.doubleValue),d=kt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return Jw(t.timestampValue,e.timestampValue);case 4:return Jw(yu(t),yu(e));case 5:return dm(t.stringValue,e.stringValue);case 6:return function(a,l){const c=ks(a),d=ks(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const m=ze(c[p],d[p]);if(m!==0)return m}return ze(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=ze(kt(a.latitude),kt(l.latitude));return c!==0?c:ze(kt(a.longitude),kt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Zw(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,d,p,m;const y=a.fields||{},E=l.fields||{},T=(c=y[Bh])===null||c===void 0?void 0:c.arrayValue,A=(d=E[Bh])===null||d===void 0?void 0:d.arrayValue,D=ze(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((m=A==null?void 0:A.values)===null||m===void 0?void 0:m.length)||0);return D!==0?D:Zw(T,A)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===lh.mapValue&&l===lh.mapValue)return 0;if(a===lh.mapValue)return 1;if(l===lh.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const E=dm(d[y],m[y]);if(E!==0)return E;const T=Fa(c[d[y]],p[m[y]]);if(T!==0)return T}return ze(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Pe(23264,{Pe:n})}}function Jw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Ss(t),r=Ss(e),s=ze(n.seconds,r.seconds);return s!==0?s:ze(n.nanos,r.nanos)}function Zw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Fa(n[s],r[s]);if(a)return a}return ze(n.length,r.length)}function Ua(t){return fm(t)}function fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ss(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=fm(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${fm(n.fields[l])}`;return s+"}"}(t.mapValue):Pe(61005,{value:t})}function Eh(t){switch(xs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(t);return e?16+Eh(e):16;case 5:return 2*t.stringValue.length;case 6:return ks(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Eh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ds(r.fields,(a,l)=>{s+=a.length+Eh(l)}),s}(t.mapValue);default:throw Pe(13486,{value:t})}}function eE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pm(t){return!!t&&"integerValue"in t}function pg(t){return!!t&&"arrayValue"in t}function tE(t){return!!t&&"nullValue"in t}function nE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Th(t){return!!t&&"mapValue"in t}function lD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[DI])===null||n===void 0?void 0:n.stringValue)===LI}function nu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===aD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=Jt.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=nu(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Th(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ds(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Pn(nu(this.value))}}function MI(t){const e=[];return Ds(t.fields,(n,r)=>{const s=new Jt([n]);if(Th(r)){const a=MI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new an(e,0,Le.min(),Le.min(),Le.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,s){return new an(e,1,n,Le.min(),r,s,0)}static newNoDocument(e,n){return new an(e,2,n,Le.min(),Le.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Le.min(),Le.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.position=e,this.inclusive=n}}function rE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=xe.comparator(xe.fromName(l.referenceValue),n.key):r=Fa(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ri(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function cD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{}class Pt extends jI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dD(e,n,r):n==="array-contains"?new mD(e,r):n==="in"?new gD(e,r):n==="not-in"?new yD(e,r):n==="array-contains-any"?new vD(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fD(e,r):new pD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fa(n,this.value)):n!==null&&xs(this.value)===xs(n)&&this.matchesComparison(Fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends jI{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Lr(e,n)}matches(e){return VI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function VI(t){return t.op==="and"}function FI(t){return hD(t)&&VI(t)}function hD(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function mm(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Ua(t.value);if(FI(t))return t.filters.map(e=>mm(e)).join(",");{const e=t.filters.map(n=>mm(n)).join(",");return`${t.op}(${e})`}}function UI(t,e){return t instanceof Pt?function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&ri(r.value,s.value)}(t,e):t instanceof Lr?function(r,s){return s instanceof Lr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&UI(l,s.filters[c]),!0):!1}(t,e):void Pe(19439)}function BI(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ua(n.value)}`}(t):t instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(BI).join(" ,")+"}"}(t):"Filter"}class dD extends Pt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class fD extends Pt{constructor(e,n){super(e,"in",n),this.keys=zI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pD extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=zI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class mD extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pg(n)&&_u(n.arrayValue,this.value)}}class gD extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}}class yD extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_u(this.value.arrayValue,n)}}class vD extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_u(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function sE(t,e=null,n=[],r=[],s=null,a=null,l=null){return new _D(t,e,n,r,s,a,l)}function mg(t){const e=Me(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ua(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ua(r)).join(",")),e.Ie=n}return e.Ie}function gg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iE(t.startAt,e.startAt)&&iE(t.endAt,e.endAt)}function gm(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function wD(t,e,n,r,s,a,l,c){return new Nu(t,e,n,r,s,a,l,c)}function yg(t){return new Nu(t)}function oE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qI(t){return t.collectionGroup!==null}function ru(t){const e=Me(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ft(Jt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new qh(a,r))}),n.has(Jt.keyField().canonicalString())||e.Ee.push(new qh(Jt.keyField(),r))}return e.Ee}function ti(t){const e=Me(t);return e.de||(e.de=ED(e,ru(t))),e.de}function ED(t,e){if(t.limitType==="F")return sE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new qh(s.field,a)});const n=t.endAt?new zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zh(t.startAt.position,t.startAt.inclusive):null;return sE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ym(t,e){const n=t.filters.concat([e]);return new Nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vm(t,e,n){return new Nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cd(t,e){return gg(ti(t),ti(e))&&t.limitType===e.limitType}function $I(t){return`${mg(ti(t))}|lt:${t.limitType}`}function xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>BI(s)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ua(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ua(s)).join(",")),`Target(${r})`}(ti(t))}; limitType=${t.limitType})`}function hd(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):xe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of ru(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,d){const p=rE(l,c,d);return l.inclusive?p<=0:p<0}(r.startAt,ru(r),s)||r.endAt&&!function(l,c,d){const p=rE(l,c,d);return l.inclusive?p>=0:p>0}(r.endAt,ru(r),s))}(t,e)}function TD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HI(t){return(e,n)=>{let r=!1;for(const s of ru(t)){const a=ID(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function ID(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(a,l,c){const d=l.data.field(a),p=c.data.field(a);return d!==null&&p!==null?Fa(d,p):Pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return AI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new vt(xe.comparator);function Pi(){return SD}const WI=new vt(xe.comparator);function Xl(...t){let e=WI;for(const n of t)e=e.insert(n.key,n);return e}function KI(t){let e=WI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function po(){return iu()}function GI(){return iu()}function iu(){return new Ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const kD=new vt(xe.comparator),xD=new Ft(xe.comparator);function We(...t){let e=xD;for(const n of t)e=e.add(n);return e}const CD=new Ft(ze);function AD(){return CD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function QI(t){return{integerValue:""+t}}function RD(t,e){return nD(e)?QI(e):vg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function bD(t,e,n){return t instanceof wu?function(s,a){const l={fields:{[PI]:{stringValue:bI},[OI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&fg(a)&&(a=ud(a)),a&&(l.fields[NI]=a),{mapValue:l}}(n,e):t instanceof Eu?XI(t,e):t instanceof Tu?JI(t,e):function(s,a){const l=YI(s,a),c=aE(l)+aE(s.Re);return pm(l)&&pm(s.Re)?QI(c):vg(s.serializer,c)}(t,e)}function PD(t,e,n){return t instanceof Eu?XI(t,e):t instanceof Tu?JI(t,e):n}function YI(t,e){return t instanceof $h?function(r){return pm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class wu extends dd{}class Eu extends dd{constructor(e){super(),this.elements=e}}function XI(t,e){const n=ZI(e);for(const r of t.elements)n.some(s=>ri(s,r))||n.push(r);return{arrayValue:{values:n}}}class Tu extends dd{constructor(e){super(),this.elements=e}}function JI(t,e){let n=ZI(e);for(const r of t.elements)n=n.filter(s=>!ri(s,r));return{arrayValue:{values:n}}}class $h extends dd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function aE(t){return kt(t.integerValue||t.doubleValue)}function ZI(t){return pg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.field=e,this.transform=n}}function OD(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Eu&&s instanceof Eu||r instanceof Tu&&s instanceof Tu?Va(r.elements,s.elements,ri):r instanceof $h&&s instanceof $h?ri(r.Re,s.Re):r instanceof wu&&s instanceof wu}(t.transform,e.transform)}class DD{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fd{}function eS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _g(t.key,lr.none()):new Ou(t.key,t.data,lr.none());{const n=t.data,r=Pn.empty();let s=new Ft(Jt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Ls(t.key,r,new $n(s.toArray()),lr.none())}}function LD(t,e,n){t instanceof Ou?function(s,a,l){const c=s.value.clone(),d=uE(s.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ls?function(s,a,l){if(!Ih(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=uE(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(tS(s)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function su(t,e,n,r){return t instanceof Ou?function(a,l,c,d){if(!Ih(a.precondition,l))return c;const p=a.value.clone(),m=cE(a.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ls?function(a,l,c,d){if(!Ih(a.precondition,l))return c;const p=cE(a.fieldTransforms,d,l),m=l.data;return m.setAll(tS(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(a,l,c){return Ih(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function MD(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=YI(r.transform,s||null);a!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,a))}return n||null}function lE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Va(r,s,(a,l)=>OD(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ou extends fd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ls extends fd{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uE(t,e,n){const r=new Map;et(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,PD(l,c,n[s]))}return r}function cE(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,bD(a,l,e))}return r}class _g extends fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jD extends fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&LD(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GI();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const d=eS(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,(n,r)=>lE(n,r))&&Va(this.baseMutations,e.baseMutations,(n,r)=>lE(n,r))}}class wg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){et(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return kD}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new wg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Qe;function BD(t){switch(t){case oe.OK:return Pe(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Pe(15467,{code:t})}}function nS(t){if(t===void 0)return bi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Rt.OK:return oe.OK;case Rt.CANCELLED:return oe.CANCELLED;case Rt.UNKNOWN:return oe.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return oe.INTERNAL;case Rt.UNAVAILABLE:return oe.UNAVAILABLE;case Rt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Rt.NOT_FOUND:return oe.NOT_FOUND;case Rt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Rt.ABORTED:return oe.ABORTED;case Rt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Rt.DATA_LOSS:return oe.DATA_LOSS;default:return Pe(39323,{code:t})}}(Qe=Rt||(Rt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new ws([4294967295,4294967295],0);function hE(t){const e=kI().encode(t),n=new yI;return n.update(e),new Uint8Array(n.digest())}function dE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ws([n,r],0),new ws([s,a],0)]}class Eg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ws.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(ws.fromNumber(r)));return s.compare(zD)===1&&(s=new ws([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=hE(e),[r,s]=dE(n);for(let a=0;a<this.hashCount;a++){const l=this.we(r,s,a);if(!this.be(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Eg(a,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const n=hE(e),[r,s]=dE(n);for(let a=0;a<this.hashCount;a++){const l=this.we(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pd(Le.min(),s,new vt(ze),Pi(),We())}}class Du{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Du(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class rS{constructor(e,n){this.targetId=e,this.Ce=n}}class iS{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class fE{constructor(){this.Fe=0,this.Me=pE(),this.xe=Zt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),n=We(),r=We();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Pe(38017,{changeType:a})}}),new Du(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=pE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,et(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class qD{constructor(e){this.ze=e,this.je=new Map,this.He=Pi(),this.Je=uh(),this.Ye=uh(),this.Ze=new vt(ze)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const a=s.target;if(gm(a))if(r===0){const l=new xe(a.path);this.tt(n,l,an.newNoDocument(l,Le.min()))}else et(r===1,20013,{expectedCount:r});else{const l=this.ut(n);if(l!==r){const c=this.ct(e),d=c?this.lt(c,e,l):1;if(d!==0){this.st(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=ks(r).toUint8Array()}catch(d){if(d instanceof RI)return ja("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Eg(l,s,a)}catch(d){return ja(d instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,a,null),s++)}),s}It(e){const n=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&gm(c.target)){const d=new xe(c.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,an.newNoDocument(d,e))}a.Le&&(n.set(l,a.qe()),a.Qe())}});let r=We();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(d=>{const p=this._t(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const s=new pd(e,n,this.Ze,this.He,r);return this.He=Pi(),this.Je=uh(),this.Ye=uh(),this.Ze=new vt(ze),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new fE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ft(ze),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ft(ze),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function uh(){return new vt(xe.comparator)}function pE(){return new vt(xe.comparator)}const $D={asc:"ASCENDING",desc:"DESCENDING"},HD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WD={and:"AND",or:"OR"};class KD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _m(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function Hh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GD(t,e){return Hh(t,e.toTimestamp())}function ni(t){return et(!!t,49232),Le.fromTimestamp(function(n){const r=Ss(n);return new Vt(r.seconds,r.nanos)}(t))}function Tg(t,e){return wm(t,e).canonicalString()}function wm(t,e){const n=function(s){return new ct(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oS(t){const e=ct.fromString(t);return et(hS(e),10190,{key:e.toString()}),e}function Em(t,e){return Tg(t.databaseId,e.path)}function Ap(t,e){const n=oS(e);if(n.get(1)!==t.databaseId.projectId)throw new we(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(lS(n))}function aS(t,e){return Tg(t.databaseId,e)}function QD(t){const e=oS(t);return e.length===4?ct.emptyPath():lS(e)}function Tm(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lS(t){return et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mE(t,e,n){return{name:Em(t,e),fields:n.value.mapValue.fields}}function YD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Pe(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,m){return p.useProto3Json?(et(m===void 0||typeof m=="string",58123),Zt.fromBase64String(m||"")):(et(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Zt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?oe.UNKNOWN:nS(p.code);return new we(m,p.message||"")}(l);n=new iS(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ap(t,r.document.name),a=ni(r.document.updateTime),l=r.document.createTime?ni(r.document.createTime):Le.min(),c=new Pn({mapValue:{fields:r.document.fields}}),d=an.newFoundDocument(s,a,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];n=new Sh(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ap(t,r.document),a=r.readTime?ni(r.readTime):Le.min(),l=an.newNoDocument(s,a),c=r.removedTargetIds||[];n=new Sh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ap(t,r.document),a=r.removedTargetIds||[];n=new Sh([],a,s,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new UD(s,a),c=r.targetId;n=new rS(c,l)}}return n}function XD(t,e){let n;if(e instanceof Ou)n={update:mE(t,e.key,e.value)};else if(e instanceof _g)n={delete:Em(t,e.key)};else if(e instanceof Ls)n={update:mE(t,e.key,e.data),updateMask:o2(e.fieldMask)};else{if(!(e instanceof jD))return Pe(16599,{ft:e.type});n={verify:Em(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof wu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Eu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Tu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof $h)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Pe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:GD(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe(27497)}(t,e.precondition)),n}function JD(t,e){return t&&t.length>0?(et(e!==void 0,14353),t.map(n=>function(s,a){let l=s.updateTime?ni(s.updateTime):ni(a);return l.isEqual(Le.min())&&(l=ni(a)),new DD(l,s.transformResults||[])}(n,e))):[]}function ZD(t,e){return{documents:[aS(t,e.path)]}}function e2(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aS(t,s);const a=function(p){if(p.length!==0)return cS(Lr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(m=>function(E){return{field:Ca(E.field),direction:r2(E.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=_m(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:s}}function t2(t){let e=QD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){et(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(y){const E=uS(y);return E instanceof Lr&&FI(E)?E.getFilters():[E]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(E=>function(A){return new qh(Aa(A.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(n.orderBy));let c=null;n.limit&&(c=function(y){let E;return E=typeof y=="object"?y.value:y,ld(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(y){const E=!!y.before,T=y.values||[];return new zh(T,E)}(n.startAt));let p=null;return n.endAt&&(p=function(y){const E=!y.before,T=y.values||[];return new zh(T,E)}(n.endAt)),wD(e,s,l,a,c,"F",d,p)}function n2(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Aa(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Aa(n.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Aa(n.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Aa(n.unaryFilter.field);return Pt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(Aa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(r=>uS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(t):Pe(30097,{filter:t})}function r2(t){return $D[t]}function i2(t){return HD[t]}function s2(t){return WD[t]}function Ca(t){return{fieldPath:t.canonicalString()}}function Aa(t){return Jt.fromServerFormat(t.fieldPath)}function cS(t){return t instanceof Pt?function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(n.field),op:i2(n.op),value:n.value}}}(t):t instanceof Lr?function(n){const r=n.getFilters().map(s=>cS(s));return r.length===1?r[0]:{compositeFilter:{op:s2(n.op),filters:r}}}(t):Pe(54877,{filter:t})}function o2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,r,s,a=Le.min(),l=Le.min(),c=Zt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.wt=e}}function l2(t){const e=t2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.yn=new c2}addToCollectionParentIndex(e,n){return this.yn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Is.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class c2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ft(ct.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ft(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dS=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(dS,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ba(0)}static ir(){return new Ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",h2=1048576;function vE([t,e],[n,r]){const s=ze(t,n);return s===0?ze(e,r):s}class d2{constructor(e){this.cr=e,this.buffer=new Ft(vE),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class f2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ye(yE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ya(n)?ye(yE,"Ignoring IndexedDB error during garbage collection: ",n):await Qa(n)}await this.Ir(3e5)})}}class p2{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return se.resolve(ad.le);const r=new d2(n);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(gE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,s,a,l,c,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(p=Date.now(),ka()<=He.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function m2(t,e){return new p2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.changes=new Ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&su(r.mutation,s,$n.empty(),Vt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const s=po();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Xl();return a.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=po();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let a=Pi();const l=iu(),c=function(){return iu()}();return n.forEach((d,p)=>{const m=r.get(p.key);s.has(p.key)&&(m===void 0||m.mutation instanceof Ls)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),su(m.mutation,p,m.mutation.getFieldMask(),Vt.now())):l.set(p.key,$n.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,m)=>l.set(p,m)),n.forEach((p,m)=>{var y;return c.set(p,new y2(m,(y=l.get(p))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){const r=iu();let s=new vt((l,c)=>l-c),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let m=r.get(d)||$n.empty();m=c.applyToLocalView(p,m),r.set(d,m);const y=(s.get(c.batchId)||We()).add(d);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,m=d.value,y=GI();m.forEach(E=>{if(!a.has(E)){const T=eS(n.get(E),r.get(E));T!==null&&y.set(E,T),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):se.resolve(po());let c=gu,d=a;return l.next(p=>se.forEach(p,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(m)?se.resolve():this.remoteDocumentCache.getEntry(e,m).next(E=>{d=d.insert(m,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,We())).next(m=>({batchId:c,changes:KI(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let s=Xl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Xl();return this.indexManager.getCollectionParents(e,a).next(c=>se.forEach(c,d=>{const p=function(y,E){return new Nu(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(m=>{m.forEach((y,E)=>{l=l.insert(y,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,an.newInvalidDocument(m)))});let c=Xl();return l.forEach((d,p)=>{const m=a.get(d);m!==void 0&&su(m.mutation,p,$n.empty(),Vt.now()),hd(n,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return se.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ni(s.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:l2(s.bundledQuery),readTime:ni(s.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.overlays=new vt(xe.comparator),this.Or=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=po();return se.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const s=po(),a=n.length+1,l=new xe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return se.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new vt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=po(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=po(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=s)););return se.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new FD(n,r));let a=this.Or.get(n);a===void 0&&(a=We(),this.Or.set(n,a)),this.Or.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this.Nr=new Ft($t.Br),this.Lr=new Ft($t.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new $t(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new xe(new ct([])),r=new $t(n,e),s=new $t(n,e+1),a=[];return this.Lr.forEachInRange([r,s],l=>{this.Qr(l),a.push(l.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new xe(new ct([])),r=new $t(n,e),s=new $t(n,e+1);let a=We();return this.Lr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new $t(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return xe.comparator(e.key,n.key)||ze(e.Gr,n.Gr)}static kr(e,n){return ze(e.Gr,n.Gr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ft($t.Br)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new VD(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.zr=this.zr.add(new $t(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,n){return se.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Hr(r),a=s<0?0:s;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?dg:this.Jn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),s=new $t(n,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,s],l=>{const c=this.jr(l.Gr);a.push(c)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(ze);return n.forEach(s=>{const a=new $t(s,0),l=new $t(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,l],c=>{r=r.add(c.Gr)})}),se.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;xe.isDocumentKey(a)||(a=a.child(""));const l=new $t(new xe(a),0);let c=new Ft(ze);return this.zr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(d.Gr)),!0)},l),se.resolve(this.Jr(c))}Jr(e){const n=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){et(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return se.forEach(n.mutations,s=>{const a=new $t(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new $t(n,0),s=this.zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.Zr=e,this.docs=function(){return new vt(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=Pi();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():an.newInvalidDocument(s))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Pi();const l=n.path,c=new xe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||JO(XO(m),r)<=0||(s.has(m.key)||hd(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Pe(9500)}Xr(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new S2(this)}getSize(e){return se.resolve(this.size)}}class S2 extends g2{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.persistence=e,this.ei=new Ro(n=>mg(n),gg),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ig,this.targetCount=0,this.ri=Ba.rr()}forEachTarget(e,n){return this.ei.forEach((r,s)=>n(s)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),se.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Ba(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.ar(n),se.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.ei.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ei.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),se.waitFor(a).next(()=>s)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n){this.ii={},this.overlays={},this.si=new ad(0),this.oi=!1,this.oi=!0,this._i=new E2,this.referenceDelegate=e(this),this.ai=new k2(this),this.indexManager=new u2,this.remoteDocumentCache=function(s){return new I2(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new a2(n),this.ci=new _2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new T2(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const s=new x2(this.si.next());return this.referenceDelegate.li(),r(s).next(a=>this.referenceDelegate.hi(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Pi(e,n){return se.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class x2 extends eD{constructor(e){super(),this.currentSequenceNumber=e}}class Sg{constructor(e){this.persistence=e,this.Ti=new Ig,this.Ii=null}static Ei(e){return new Sg(e)}get di(){if(this.Ii)return this.Ii;throw Pe(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,r=>{const s=xe.fromPath(r);return this.Ai(e,s).next(a=>{a||n.removeEntry(s,Le.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return se.or([()=>se.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Wh{constructor(e,n){this.persistence=e,this.Ri=new Ro(r=>rD(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=m2(this,n)}static Ei(e,n){return new Wh(e,n)}li(){}hi(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return se.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(a=>a?se.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Xr(e,l=>this.gr(e,l,n).next(c=>{c||(r++,a.removeEntry(l,Le.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),se.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}gr(e,n,r){return se.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=s}static Ps(e,n){let r=We(),s=We();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new kg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return F1()?8:tD(ln())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.Rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Vs(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new C2;return this.fs(e,n,l).next(c=>{if(a.result=c,this.Is)return this.gs(e,n,l,c.size)})}).next(()=>a.result)}gs(e,n,r,s){return r.documentReadCount<this.Es?(ka()<=He.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),se.resolve()):(ka()<=He.DEBUG&&ye("QueryEngine","Query:",xa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(ka()<=He.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):se.resolve())}Rs(e,n){if(oE(n))return se.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=vm(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=We(...a);return this.As.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.ps(n,c);return this.ys(n,p,l,d.readTime)?this.Rs(e,vm(n,null,"F")):this.ws(e,p,n,d)}))})))}Vs(e,n,r,s){return oE(n)||s.isEqual(Le.min())?se.resolve(null):this.As.getDocuments(e,r).next(a=>{const l=this.ps(n,a);return this.ys(n,l,r,s)?se.resolve(null):(ka()<=He.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xa(n)),this.ws(e,l,n,YO(s,gu)).next(c=>c))})}ps(e,n){let r=new Ft(HI(e));return n.forEach((s,a)=>{hd(e,a)&&(r=r.add(a))}),r}ys(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}fs(e,n,r){return ka()<=He.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",xa(n)),this.As.getDocumentsMatchingQuery(e,n,Is.min(),r)}ws(e,n,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="LocalStore",R2=3e8;class b2{constructor(e,n,r,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new vt(ze),this.Ds=new Ro(a=>mg(a),gg),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function P2(t,e,n,r){return new b2(t,e,n,r)}async function pS(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let d=We();for(const p of s){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of a){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next(p=>({Ms:p,removedBatchIds:l,addedBatchIds:c}))})})}function N2(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Cs.newChangeBuffer({trackRemovals:!0});return function(c,d,p,m){const y=p.batch,E=y.keys();let T=se.resolve();return E.forEach(A=>{T=T.next(()=>m.getEntry(d,A)).next(D=>{const L=p.docVersions.get(A);et(L!==null,48541),D.version.compareTo(L)<0&&(y.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),m.addEntry(D)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=We();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function mS(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function O2(t,e){const n=Me(t),r=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const c=[];e.targetChanges.forEach((m,y)=>{const E=s.get(y);if(!E)return;c.push(n.ai.removeMatchingKeys(a,m.removedDocuments,y).next(()=>n.ai.addMatchingKeys(a,m.addedDocuments,y)));let T=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Zt.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),s=s.insert(y,T),function(D,L,U){return D.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=R2?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(E,T,m)&&c.push(n.ai.updateTargetData(a,T))});let d=Pi(),p=We();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(D2(a,l,e.documentUpdates).next(m=>{d=m.xs,p=m.Os})),!r.isEqual(Le.min())){const m=n.ai.getLastRemoteSnapshotVersion(a).next(y=>n.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return se.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(n.Ss=s,a))}function D2(t,e,n){let r=We(),s=We();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Pi();return n.forEach((c,d)=>{const p=a.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Le.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ye(xg,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{xs:l,Os:s}})}function L2(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=dg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function M2(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.ai.getTargetData(r,e).next(a=>a?(s=a,se.resolve(s)):n.ai.allocateTargetId(r).next(l=>(s=new gs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function Im(t,e,n){const r=Me(t),s=r.Ss.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Ya(l))throw l;ye(xg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function _E(t,e,n){const r=Me(t);let s=Le.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,m){const y=Me(d),E=y.Ds.get(m);return E!==void 0?se.resolve(y.Ss.get(E)):y.ai.getTargetData(p,m)}(r,l,ti(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,c.targetId).next(d=>{a=d})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,n?s:Le.min(),n?a:We())).next(c=>(j2(r,TD(e),c),{documents:c,Ns:a})))}function j2(t,e,n){let r=t.vs.get(e)||Le.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.vs.set(e,r)}class wE{constructor(){this.activeTargetIds=AD()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V2{constructor(){this.So=new wE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new wE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class TE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ye(EE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ye(EE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function Sm(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="RestConnection",U2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B2{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Uh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,n,r,s,a){const l=Sm(),c=this.$o(e,n.toUriEncodedString());ye(Rp,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(d,s,a),this.Ko(e,c,d,r).then(p=>(ye(Rp,`Received RPC '${e}' ${l}: `,p),p),p=>{throw ja(Rp,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Wo(e,n,r,s,a,l){return this.Qo(e,n,r,s,a)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ga}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}$o(e,n){const r=U2[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class q2 extends B2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,s){const a=Sm();return new Promise((l,c)=>{const d=new vI;d.setWithCredentials(!0),d.listenOnce(_I.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case wh.NO_ERROR:const m=d.getResponseJson();ye(sn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case wh.TIMEOUT:ye(sn,`RPC '${e}' ${a} timed out`),c(new we(oe.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const y=d.getStatus();if(ye(sn,`RPC '${e}' ${a} failed with status:`,y,"response text:",d.getResponseText()),y>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const T=E==null?void 0:E.error;if(T&&T.status&&T.message){const A=function(L){const U=L.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(U)>=0?U:oe.UNKNOWN}(T.status);c(new we(A,T.message))}else c(new we(oe.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new we(oe.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{s_:e,streamId:a,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{ye(sn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);ye(sn,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",p,r,15)})}a_(e,n,r){const s=Sm(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=TI(),c=EI(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Uo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");ye(sn,`Creating RPC '${e}' stream ${s}: ${m}`,d);const y=l.createWebChannel(m,d);let E=!1,T=!1;const A=new z2({Go:L=>{T?ye(sn,`Not sending because RPC '${e}' stream ${s} is closed:`,L):(E||(ye(sn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),E=!0),ye(sn,`RPC '${e}' stream ${s} sending:`,L),y.send(L))},zo:()=>y.close()}),D=(L,U,J)=>{L.listen(U,z=>{try{J(z)}catch($){setTimeout(()=>{throw $},0)}})};return D(y,Yl.EventType.OPEN,()=>{T||(ye(sn,`RPC '${e}' stream ${s} transport opened.`),A.t_())}),D(y,Yl.EventType.CLOSE,()=>{T||(T=!0,ye(sn,`RPC '${e}' stream ${s} transport closed`),A.r_())}),D(y,Yl.EventType.ERROR,L=>{T||(T=!0,ja(sn,`RPC '${e}' stream ${s} transport errored. Name:`,L.name,"Message:",L.message),A.r_(new we(oe.UNAVAILABLE,"The operation could not be completed")))}),D(y,Yl.EventType.MESSAGE,L=>{var U;if(!T){const J=L.data[0];et(!!J,16349);const z=J,$=(z==null?void 0:z.error)||((U=z[0])===null||U===void 0?void 0:U.error);if($){ye(sn,`RPC '${e}' stream ${s} received error:`,$);const he=$.status;let G=function(O){const j=Rt[O];if(j!==void 0)return nS(j)}(he),V=$.message;G===void 0&&(G=oe.INTERNAL,V="Unknown error status: "+he+" with message "+$.message),T=!0,A.r_(new we(G,V)),y.close()}else ye(sn,`RPC '${e}' stream ${s} received:`,J),A.i_(J)}}),D(c,wI.STAT_EVENT,L=>{L.stat===hm.PROXY?ye(sn,`RPC '${e}' stream ${s} detected buffering proxy`):L.stat===hm.NOPROXY&&ye(sn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){return new KD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,r=1e3,s=1.5,a=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=s,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="PersistentStream";class yS{constructor(e,n,r,s,a,l,c,d){this.bi=e,this.R_=r,this.V_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new gS(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===n&&this.B_(r,s)},r=>{e(()=>{const s=new we(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ye(IE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ye(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $2 extends yS{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=YD(this.serializer,e),r=function(a){if(!("targetChange"in a))return Le.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?ni(l.readTime):Le.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=Tm(this.serializer),n.addTarget=function(a,l){let c;const d=l.target;if(c=gm(d)?{documents:ZD(a,d)}:{query:e2(a,d).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=sS(a,l.resumeToken);const p=_m(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Le.min())>0){c.readTime=Hh(a,l.snapshotVersion.toTimestamp());const p=_m(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=n2(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=Tm(this.serializer),n.removeTarget=e,this.F_(n)}}class H2 extends yS{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=JD(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=Tm(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XD(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{}class K2 extends W2{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new we(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Qo(e,wm(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(oe.UNKNOWN,a.toString())})}Wo(e,n,r,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,wm(n,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(oe.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class G2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(bi(n),this.ea=!1):ye("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="RemoteStore";class Q2{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(l=>{r.enqueueAndForget(async()=>{bo(this)&&(ye(So,"Restarting streams for network reachability change."),await async function(d){const p=Me(d);p.aa.add(4),await Lu(p),p.la.set("Unknown"),p.aa.delete(4),await gd(p)}(this))})}),this.la=new G2(r,s)}}async function gd(t){if(bo(t))for(const e of t.ua)await e(!0)}async function Lu(t){for(const e of t.ua)await e(!1)}function vS(t,e){const n=Me(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),bg(n)?Rg(n):Xa(n).b_()&&Ag(n,e))}function Cg(t,e){const n=Me(t),r=Xa(n);n._a.delete(e),r.b_()&&_S(n,e),n._a.size===0&&(r.b_()?r.v_():bo(n)&&n.la.set("Unknown"))}function Ag(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xa(t).U_(e)}function _S(t,e){t.ha.Ke(e),Xa(t).K_(e)}function Rg(t){t.ha=new qD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Xa(t).start(),t.la.ta()}function bg(t){return bo(t)&&!Xa(t).w_()&&t._a.size>0}function bo(t){return Me(t).aa.size===0}function wS(t){t.ha=void 0}async function Y2(t){t.la.set("Online")}async function X2(t){t._a.forEach((e,n)=>{Ag(t,e)})}async function J2(t,e){wS(t),bg(t)?(t.la.ia(e),Rg(t)):t.la.set("Unknown")}async function Z2(t,e,n){if(t.la.set("Online"),e instanceof iS&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s._a.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s._a.delete(c),s.ha.removeTarget(c))}(t,e)}catch(r){ye(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kh(t,r)}else if(e instanceof Sh?t.ha.Xe(e):e instanceof rS?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Le.min()))try{const r=await mS(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.ha.It(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=a._a.get(p);m&&a._a.set(p,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const m=a._a.get(d);if(!m)return;a._a.set(d,m.withResumeToken(Zt.EMPTY_BYTE_STRING,m.snapshotVersion)),_S(a,d);const y=new gs(m.target,d,p,m.sequenceNumber);Ag(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){ye(So,"Failed to raise snapshot:",r),await Kh(t,r)}}async function Kh(t,e,n){if(!Ya(e))throw e;t.aa.add(1),await Lu(t),t.la.set("Offline"),n||(n=()=>mS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(So,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await gd(t)})}function ES(t,e){return e().catch(n=>Kh(t,n,e))}async function yd(t){const e=Me(t),n=Cs(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:dg;for(;eL(e);)try{const s=await L2(e.localStore,r);if(s===null){e.oa.length===0&&n.v_();break}r=s.batchId,tL(e,s)}catch(s){await Kh(e,s)}TS(e)&&IS(e)}function eL(t){return bo(t)&&t.oa.length<10}function tL(t,e){t.oa.push(e);const n=Cs(t);n.b_()&&n.W_&&n.G_(e.mutations)}function TS(t){return bo(t)&&!Cs(t).w_()&&t.oa.length>0}function IS(t){Cs(t).start()}async function nL(t){Cs(t).H_()}async function rL(t){const e=Cs(t);for(const n of t.oa)e.G_(n.mutations)}async function iL(t,e,n){const r=t.oa.shift(),s=wg.from(r,e,n);await ES(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await yd(t)}async function sL(t,e){e&&Cs(t).W_&&await async function(r,s){if(function(l){return BD(l)&&l!==oe.ABORTED}(s.code)){const a=r.oa.shift();Cs(r).D_(),await ES(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await yd(r)}}(t,e),TS(t)&&IS(t)}async function SE(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ye(So,"RemoteStore received new credentials");const r=bo(n);n.aa.add(3),await Lu(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await gd(n)}async function oL(t,e){const n=Me(t);e?(n.aa.delete(2),await gd(n)):e||(n.aa.add(2),await Lu(n),n.la.set("Unknown"))}function Xa(t){return t.Pa||(t.Pa=function(n,r,s){const a=Me(n);return a.Y_(),new $2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{jo:Y2.bind(null,t),Jo:X2.bind(null,t),Zo:J2.bind(null,t),Q_:Z2.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),bg(t)?Rg(t):t.la.set("Unknown")):(await t.Pa.stop(),wS(t))})),t.Pa}function Cs(t){return t.Ta||(t.Ta=function(n,r,s){const a=Me(n);return a.Y_(),new H2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:nL.bind(null,t),Zo:sL.bind(null,t),z_:rL.bind(null,t),j_:iL.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await yd(t)):(await t.Ta.stop(),t.oa.length>0&&(ye(So,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new Pg(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(t,e){if(bi("AsyncQueue",`${e}: ${t}`),Ya(t))return new we(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static emptySet(e){return new Da(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Xl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.Ia=new vt(xe.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Pe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class za{constructor(e,n,r,s,a,l,c,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new za(e,n,Da.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class lL{constructor(){this.queries=xE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const s=Me(n),a=s.queries;s.queries=xE(),a.forEach((l,c)=>{for(const d of c.Ra)d.onError(r)})})(this,new we(oe.ABORTED,"Firestore shutting down"))}}function xE(){return new Ro(t=>$I(t),cd)}async function SS(t,e){const n=Me(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Va()&&e.ma()&&(r=2):(a=new aL,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await n.onListen(s,!0);break;case 1:a.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Ng(l,`Initialization of query '${xa(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.Ra.push(e),e.ga(n.onlineState),a.Aa&&e.pa(a.Aa)&&Og(n)}async function kS(t,e){const n=Me(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Ra.indexOf(e);l>=0&&(a.Ra.splice(l,1),a.Ra.length===0?s=e.ma()?0:1:!a.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uL(t,e){const n=Me(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.Ra)c.pa(s)&&(r=!0);l.Aa=s}}r&&Og(n)}function cL(t,e,n){const r=Me(t),s=r.queries.get(e);if(s)for(const a of s.Ra)a.onError(n);r.queries.delete(e)}function Og(t){t.fa.forEach(e=>{e.next()})}var km,CE;(CE=km||(km={})).ya="default",CE.Cache="cache";class xS{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.key=e}}class AS{constructor(e){this.key=e}}class hL{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=We(),this.mutatedKeys=We(),this.Ua=HI(e),this.Ka=new Da(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new kE,s=n?n.Ka:this.Ka;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,y)=>{const E=s.get(m),T=hd(this.query,y)?y:null,A=!!E&&this.mutatedKeys.has(E.key),D=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let L=!1;E&&T?E.data.isEqual(T.data)?A!==D&&(r.track({type:3,doc:T}),L=!0):this.ja(E,T)||(r.track({type:2,doc:T}),L=!0,(d&&this.Ua(T,d)>0||p&&this.Ua(T,p)<0)&&(c=!0)):!E&&T?(r.track({type:0,doc:T}),L=!0):E&&!T&&(r.track({type:1,doc:E}),L=!0,(d||p)&&(c=!0)),L&&(T?(l=l.add(T),a=D?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Ka:l,za:r,ys:c,mutatedKeys:a}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((m,y)=>function(T,A){const D=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:L})}};return D(T)-D(A)}(m.type,y.type)||this.Ua(m.doc,y.doc)),this.Ha(r),s=s!=null&&s;const c=n&&!s?this.Ja():[],d=this.$a.size===0&&this.current&&!s?1:0,p=d!==this.Qa;return this.Qa=d,l.length!==0||p?{snapshot:new za(this.query,e.Ka,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new kE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=We(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new AS(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new CS(r))}),n}Xa(e){this.qa=e.Ns,this.$a=We();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return za.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Dg="SyncEngine";class dL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fL{constructor(e){this.key=e,this.tu=!1}}class pL{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new Ro(c=>$I(c),cd),this.iu=new Map,this.su=new Set,this.ou=new vt(xe.comparator),this._u=new Map,this.au=new Ig,this.uu={},this.cu=new Map,this.lu=Ba.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function mL(t,e,n=!0){const r=DS(t);let s;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.eu()):s=await RS(r,e,n,!0),s}async function gL(t,e){const n=DS(t);await RS(n,e,!0,!1)}async function RS(t,e,n,r){const s=await M2(t.localStore,ti(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await yL(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&vS(t.remoteStore,s),c}async function yL(t,e,n,r,s){t.Pu=(y,E,T)=>async function(D,L,U,J){let z=L.view.Ga(U);z.ys&&(z=await _E(D.localStore,L.query,!1).then(({documents:V})=>L.view.Ga(V,z)));const $=J&&J.targetChanges.get(L.targetId),he=J&&J.targetMismatches.get(L.targetId)!=null,G=L.view.applyChanges(z,D.isPrimaryClient,$,he);return RE(D,L.targetId,G.Ya),G.snapshot}(t,y,E,T);const a=await _E(t.localStore,e,!0),l=new hL(e,a.Ns),c=l.Ga(a.documents),d=Du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(c,t.isPrimaryClient,d);RE(t,n,p.Ya);const m=new dL(e,n,l);return t.ru.set(e,m),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),p.snapshot}async function vL(t,e,n){const r=Me(t),s=r.ru.get(e),a=r.iu.get(s.targetId);if(a.length>1)return r.iu.set(s.targetId,a.filter(l=>!cd(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Im(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Cg(r.remoteStore,s.targetId),xm(r,s.targetId)}).catch(Qa)):(xm(r,s.targetId),await Im(r.localStore,s.targetId,!0))}async function _L(t,e){const n=Me(t),r=n.ru.get(e),s=n.iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cg(n.remoteStore,r.targetId))}async function wL(t,e,n){const r=CL(t);try{const s=await function(l,c){const d=Me(l),p=Vt.now(),m=c.reduce((T,A)=>T.add(A.key),We());let y,E;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=Pi(),D=We();return d.Cs.getEntries(T,m).next(L=>{A=L,A.forEach((U,J)=>{J.isValidDocument()||(D=D.add(U))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,A)).next(L=>{y=L;const U=[];for(const J of c){const z=MD(J,y.get(J.key).overlayedDocument);z!=null&&U.push(new Ls(J.key,z,MI(z.value.mapValue),lr.exists(!0)))}return d.mutationQueue.addMutationBatch(T,p,U,c)}).next(L=>{E=L;const U=L.applyToLocalDocumentSet(y,D);return d.documentOverlayCache.saveOverlays(T,L.batchId,U)})}).then(()=>({batchId:E.batchId,changes:KI(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let p=l.uu[l.currentUser.toKey()];p||(p=new vt(ze)),p=p.insert(c,d),l.uu[l.currentUser.toKey()]=p}(r,s.batchId,n),await Mu(r,s.changes),await yd(r.remoteStore)}catch(s){const a=Ng(s,"Failed to persist write");n.reject(a)}}async function bS(t,e){const n=Me(t);try{const r=await O2(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n._u.get(a);l&&(et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.tu=!0:s.modifiedDocuments.size>0?et(l.tu,14607):s.removedDocuments.size>0&&(et(l.tu,42227),l.tu=!1))}),await Mu(n,r,e)}catch(r){await Qa(r)}}function AE(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ru.forEach((a,l)=>{const c=l.view.ga(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=Me(l);d.onlineState=c;let p=!1;d.queries.forEach((m,y)=>{for(const E of y.Ra)E.ga(c)&&(p=!0)}),p&&Og(d)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EL(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r._u.get(e),a=s&&s.key;if(a){let l=new vt(xe.comparator);l=l.insert(a,an.newNoDocument(a,Le.min()));const c=We().add(a),d=new pd(Le.min(),new Map,new vt(ze),l,c);await bS(r,d),r.ou=r.ou.remove(a),r._u.delete(e),Lg(r)}else await Im(r.localStore,e,!1).then(()=>xm(r,e,n)).catch(Qa)}async function TL(t,e){const n=Me(t),r=e.batch.batchId;try{const s=await N2(n.localStore,e);NS(n,r,null),PS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mu(n,s)}catch(s){await Qa(s)}}async function IL(t,e,n){const r=Me(t);try{const s=await function(l,c){const d=Me(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,c).next(y=>(et(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(r.localStore,e);NS(r,e,n),PS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mu(r,s)}catch(s){await Qa(s)}}function PS(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function NS(t,e,n){const r=Me(t);let s=r.uu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function xm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||OS(t,r)})}function OS(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Cg(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Lg(t))}function RE(t,e,n){for(const r of n)r instanceof CS?(t.au.addReference(r.key,e),SL(t,r)):r instanceof AS?(ye(Dg,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||OS(t,r.key)):Pe(19791,{Iu:r})}function SL(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(ye(Dg,"New document in limbo: "+n),t.su.add(r),Lg(t))}function Lg(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new xe(ct.fromString(e)),r=t.lu.next();t._u.set(r,new fL(n)),t.ou=t.ou.insert(n,r),vS(t.remoteStore,new gs(ti(yg(n.path)),r,"TargetPurposeLimboResolution",ad.le))}}async function Mu(t,e,n){const r=Me(t),s=[],a=[],l=[];r.ru.isEmpty()||(r.ru.forEach((c,d)=>{l.push(r.Pu(d,e,n).then(p=>{var m;if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){s.push(p);const y=kg.Ps(d.targetId,p);a.push(y)}}))}),await Promise.all(l),r.nu.Q_(s),await async function(d,p){const m=Me(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>se.forEach(p,E=>se.forEach(E.ls,T=>m.persistence.referenceDelegate.addReference(y,E.targetId,T)).next(()=>se.forEach(E.hs,T=>m.persistence.referenceDelegate.removeReference(y,E.targetId,T)))))}catch(y){if(!Ya(y))throw y;ye(xg,"Failed to update sequence numbers: "+y)}for(const y of p){const E=y.targetId;if(!y.fromCache){const T=m.Ss.get(E),A=T.snapshotVersion,D=T.withLastLimboFreeSnapshotVersion(A);m.Ss=m.Ss.insert(E,D)}}}(r.localStore,a))}async function kL(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ye(Dg,"User change. New user:",e.toKey());const r=await pS(n.localStore,e);n.currentUser=e,function(a,l){a.cu.forEach(c=>{c.forEach(d=>{d.reject(new we(oe.CANCELLED,l))})}),a.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mu(n,r.Ms)}}function xL(t,e){const n=Me(t),r=n._u.get(e);if(r&&r.tu)return We().add(r.key);{let s=We();const a=n.iu.get(e);if(!a)return s;for(const l of a){const c=n.ru.get(l);s=s.unionWith(c.view.Wa)}return s}}function DS(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EL.bind(null,e),e.nu.Q_=uL.bind(null,e.eventManager),e.nu.Tu=cL.bind(null,e.eventManager),e}function CL(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IL.bind(null,e),e}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return P2(this.persistence,new A2,e.initialUser,this.serializer)}Ru(e){return new fS(Sg.Ei,this.serializer)}Au(e){return new V2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class AL extends Gh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){et(this.persistence.referenceDelegate instanceof Wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new f2(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new fS(r=>Wh.Ei(r,n),this.serializer)}}class Cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kL.bind(null,this.syncEngine),await oL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lL}()}createDatastore(e){const n=md(e.databaseInfo.databaseId),r=function(a){return new q2(a)}(e.databaseInfo);return function(a,l,c,d){return new K2(a,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,c){return new Q2(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>AE(this.syncEngine,n,0),function(){return TE.C()?new TE:new F2}())}createSyncEngine(e,n){return function(s,a,l,c,d,p,m){const y=new pL(s,a,l,c,d,p);return m&&(y.hu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=Me(s);ye(So,"RemoteStore shutting down."),a.aa.add(5),await Lu(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cm.provider={build:()=>new Cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class RL{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=xI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ye(As,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ye(As,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ng(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pp(t,e){t.asyncQueue.verifyOperationInProgress(),ye(As,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await pS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bL(t);ye(As,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>SE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>SE(e.remoteStore,s)),t._onlineComponents=e}async function bL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(As,"Using user provided OfflineComponentProvider");try{await Pp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await Pp(t,new Gh)}}else ye(As,"Using default OfflineComponentProvider"),await Pp(t,new AL(void 0));return t._offlineComponents}async function MS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(As,"Using user provided OnlineComponentProvider"),await bE(t,t._uninitializedComponentsProvider._online)):(ye(As,"Using default OnlineComponentProvider"),await bE(t,new Cm))),t._onlineComponents}function PL(t){return MS(t).then(e=>e.syncEngine)}async function jS(t){const e=await MS(t),n=e.eventManager;return n.onListen=mL.bind(null,e.syncEngine),n.onUnlisten=vL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_L.bind(null,e.syncEngine),n}function NL(t,e,n={}){const r=new Ci;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,p){const m=new LS({next:E=>{m.yu(),l.enqueueAndForget(()=>kS(a,y));const T=E.docs.has(c);!T&&E.fromCache?p.reject(new we(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&d&&d.source==="server"?p.reject(new we(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),y=new xS(yg(c.path),m,{includeMetadataChanges:!0,Fa:!0});return SS(a,y)}(await jS(t),t.asyncQueue,e,n,r)),r.promise}function OL(t,e,n={}){const r=new Ci;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,p){const m=new LS({next:E=>{m.yu(),l.enqueueAndForget(()=>kS(a,y)),E.fromCache&&d.source==="server"?p.reject(new we(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),y=new xS(c,m,{includeMetadataChanges:!0,Fa:!0});return SS(a,y)}(await jS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e,n){if(!n)throw new we(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DL(t,e,n,r){if(e===!0&&r===!0)throw new we(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NE(t){if(!xe.isDocumentKey(t))throw new we(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OE(t){if(xe.isDocumentKey(t))throw new we(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function Mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vd(t);throw new we(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="firestore.googleapis.com",DE=!0;class LE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=US,this.ssl=DE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:DE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h2)throw new we(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new we(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new we(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new we(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BO;switch(r.type){case"firstParty":return new HO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PE.get(n);r&&(ye("ComponentProvider","Removing Datastore"),PE.delete(n),r.terminate())}(this),Promise.resolve()}}function LL(t,e,n,r={}){var s;const a=(t=Mr(t,_d))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a.host!==US&&a.host!==c&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:r});if(!Ts(d,l)&&(t._setSettings(d),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=on.MOCK_USER;else{p=o0(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new we(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new on(y)}t._authCredentials=new zO(new SI(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ja(this.firestore,e,this._query)}}class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Es extends Ja{constructor(e,n,r){super(e,n,yg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new xe(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function Mg(t,e,...n){if(t=yt(t),FS("collection","path",e),t instanceof _d){const r=ct.fromString(e,...n);return OE(r),new Es(t,null,r)}{if(!(t instanceof yn||t instanceof Es))throw new we(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return OE(r),new Es(t.firestore,null,r)}}function Iu(t,e,...n){if(t=yt(t),arguments.length===1&&(e=xI.newId()),FS("doc","path",e),t instanceof _d){const r=ct.fromString(e,...n);return NE(r),new yn(t,null,new xe(r))}{if(!(t instanceof yn||t instanceof Es))throw new we(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return NE(r),new yn(t.firestore,t instanceof Es?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new gS(this,"async_queue_retry"),this.ju=()=>{const r=bp();r&&ye(ME,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ci;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ya(e))throw e;ye(ME,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,bi("INTERNAL UNHANDLED ERROR: ",VE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=Pg.createAndSchedule(this,e,n,r,a=>this.Xu(a));return this.Uu.push(s),s}Ju(){this.Ku&&Pe(47125,{ec:VE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function VE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Po extends _d{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new jE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function ML(t,e){const n=typeof t=="object"?t:td(),r=typeof t=="string"?t:Uh,s=bs(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=r0("firestore");a&&LL(s,...a)}return s}function jg(t){if(t._terminated)throw new we(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jL(t),t._firestoreClient}function jL(t){var e,n,r;const s=t._freezeSettings(),a=function(c,d,p,m){return new oD(c,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,VS(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new RL(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qa(Zt.fromBase64String(e))}catch(n){throw new we(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qa(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=/^__.*__$/;class FL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class BS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{oc:t})}}class Ug{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Qh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(zS(this.oc)&&VL.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class UL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||md(e)}dc(e,n,r,s=!1){return new Ug({oc:e,methodName:n,Ec:r,path:Jt.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Td(t){const e=t._freezeSettings(),n=md(t._databaseId);return new UL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qS(t,e,n,r,s,a={}){const l=t.dc(a.merge||a.mergeFields?2:0,e,n,s);zg("Data must be an object, but it was:",l,r);const c=$S(r,l);let d,p;if(a.merge)d=new $n(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const E=Am(e,y,n);if(!l.contains(E))throw new we(oe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);WS(m,E)||m.push(E)}d=new $n(m),p=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,p=l.fieldTransforms;return new FL(new Pn(c),d,p)}class Id extends Ed{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Id}}class Bg extends Ed{_toFieldTransform(e){return new ND(e.path,new wu)}isEqual(e){return e instanceof Bg}}function BL(t,e,n,r){const s=t.dc(1,e,n);zg("Data must be an object, but it was:",s,r);const a=[],l=Pn.empty();Ds(r,(d,p)=>{const m=qg(e,d,n);p=yt(p);const y=s.hc(m);if(p instanceof Id)a.push(m);else{const E=ju(p,y);E!=null&&(a.push(m),l.set(m,E))}});const c=new $n(a);return new BS(l,c,s.fieldTransforms)}function zL(t,e,n,r,s,a){const l=t.dc(1,e,n),c=[Am(e,r,n)],d=[s];if(a.length%2!=0)throw new we(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)c.push(Am(e,a[E])),d.push(a[E+1]);const p=[],m=Pn.empty();for(let E=c.length-1;E>=0;--E)if(!WS(p,c[E])){const T=c[E];let A=d[E];A=yt(A);const D=l.hc(T);if(A instanceof Id)p.push(T);else{const L=ju(A,D);L!=null&&(p.push(T),m.set(T,L))}}const y=new $n(p);return new BS(m,y,l.fieldTransforms)}function qL(t,e,n,r=!1){return ju(n,t.dc(r?4:3,e))}function ju(t,e){if(HS(t=yt(t)))return zg("Unsupported field value:",e,t),$S(t,e);if(t instanceof Ed)return function(r,s){if(!zS(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const c of r){let d=ju(c,s.Pc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Vt.fromDate(r);return{timestampValue:Hh(s.serializer,a)}}if(r instanceof Vt){const a=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hh(s.serializer,a)}}if(r instanceof Vg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qa)return{bytesValue:sS(s.serializer,r._byteString)};if(r instanceof yn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Tg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Fg)return function(l,c){return{mapValue:{fields:{[DI]:{stringValue:LI},[Bh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Tc("VectorValues must only contain numeric values.");return vg(c.serializer,p)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${vd(r)}`)}(t,e)}function $S(t,e){const n={};return AI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(r,s)=>{const a=ju(s,e.uc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function HS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof Vg||t instanceof qa||t instanceof yn||t instanceof Ed||t instanceof Fg)}function zg(t,e,n){if(!HS(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=vd(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function Am(t,e,n){if((e=yt(e))instanceof wd)return e._internalPath;if(typeof e=="string")return qg(t,e);throw Qh("Field path arguments must be of type string or ",t,!1,void 0,n)}const $L=new RegExp("[~\\*/\\[\\]]");function qg(t,e,n){if(e.search($L)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wd(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new we(oe.INVALID_ARGUMENT,c+t+d)}function WS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HL extends KS{data(){return super.data()}}function $g(t,e){return typeof e=="string"?qg(t,e):e instanceof wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hg{}class KL extends Hg{}function GL(t,e,...n){let r=[];e instanceof Hg&&r.push(e),r=r.concat(n),function(a){const l=a.filter(d=>d instanceof Wg).length,c=a.filter(d=>d instanceof Sd).length;if(l>1||l>0&&c>0)throw new we(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Sd extends KL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sd(e,n,r)}_apply(e){const n=this._parse(e);return GS(e._query,n),new Ja(e.firestore,e.converter,ym(e._query,n))}_parse(e){const n=Td(e.firestore);return function(a,l,c,d,p,m,y){let E;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new we(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){UE(y,m);const A=[];for(const D of y)A.push(FE(d,a,D));E={arrayValue:{values:A}}}else E=FE(d,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||UE(y,m),E=qL(c,l,y,m==="in"||m==="not-in");return Pt.create(p,m,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function QL(t,e,n){const r=e,s=$g("where",t);return Sd._create(s,r,n)}class Wg extends Hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const d of c)GS(l,d),l=ym(l,d)}(e._query,n),new Ja(e.firestore,e.converter,ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FE(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new we(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qI(e)&&n.indexOf("/")!==-1)throw new we(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!xe.isDocumentKey(r))throw new we(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eE(t,new xe(r))}if(n instanceof yn)return eE(t,n._key);throw new we(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(n)}.`)}function UE(t,e){if(!Array.isArray(t)||t.length===0)throw new we(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GS(t,e){const n=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new we(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YL{convertValue(e,n="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ds(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Bh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>kt(l.doubleValue));return new Fg(a)}convertGeoPoint(e){return new Vg(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ud(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=Ss(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);et(hS(r),9688,{name:e});const s=new vu(r.get(1),r.get(3)),a=new xe(r.popFirst(5));return s.isEqual(n)||bi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YS extends KS{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($g("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kh extends YS{data(e={}){return super.data(e)}}class XL{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Zl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kh(this._firestore,this._userDataWriter,r.key,r,new Zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new kh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Zl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new kh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Zl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:JL(c.type),doc:d,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){t=Mr(t,yn);const e=Mr(t.firestore,Po);return NL(jg(e),t._key).then(n=>iM(e,t,n))}class XS extends YL{constructor(e){super(),this.firestore=e}convertBytes(e){return new qa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function JS(t){t=Mr(t,Ja);const e=Mr(t.firestore,Po),n=jg(e),r=new XS(e);return WL(t._query),OL(n,t._query).then(s=>new XL(e,r,t,s))}function eM(t,e,n){t=Mr(t,yn);const r=Mr(t.firestore,Po),s=QS(t.converter,e);return kd(r,[qS(Td(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,lr.none())])}function tM(t,e,n,...r){t=Mr(t,yn);const s=Mr(t.firestore,Po),a=Td(s);let l;return l=typeof(e=yt(e))=="string"||e instanceof wd?zL(a,"updateDoc",t._key,e,n,r):BL(a,"updateDoc",t._key,e),kd(s,[l.toMutation(t._key,lr.exists(!0))])}function nM(t){return kd(Mr(t.firestore,Po),[new _g(t._key,lr.none())])}function rM(t,e){const n=Mr(t.firestore,Po),r=Iu(t),s=QS(t.converter,e);return kd(n,[qS(Td(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}function kd(t,e){return function(r,s){const a=new Ci;return r.asyncQueue.enqueueAndForget(async()=>wL(await PL(r),s,a)),a.promise}(jg(t),e)}function iM(t,e,n){const r=n.docs.get(e._key),s=new XS(t);return new YS(t,s,e._key,r,new Zl(n.hasPendingWrites,n.fromCache),e.converter)}function sM(){return new Bg("serverTimestamp")}(function(e,n=!0){(function(s){Ga=s})(Ao),Dr(new ur("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Po(new qO(r.getProvider("auth-internal")),new WO(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(p.options.projectId,m)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Nn(zw,qw,e),Nn(zw,qw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firebasestorage.googleapis.com",ek="storageBucket",oM=2*60*1e3,aM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends hr{constructor(e,n,r=0){super(Np(e),`Firebase Storage: ${n} (${Np(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Np(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function Np(t){return"storage/"+t}function Kg(){const t="An unknown error occurred, please check the error payload for server response.";return new Et(wt.UNKNOWN,t)}function lM(t){return new Et(wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function uM(t){return new Et(wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(wt.UNAUTHENTICATED,t)}function hM(){return new Et(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dM(t){return new Et(wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function fM(){return new Et(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pM(){return new Et(wt.CANCELED,"User canceled the upload/download.")}function mM(t){return new Et(wt.INVALID_URL,"Invalid URL '"+t+"'.")}function gM(t){return new Et(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function yM(){return new Et(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ek+"' property when initializing the app?")}function vM(){return new Et(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _M(){return new Et(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wM(t){return new Et(wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rm(t){return new Et(wt.INVALID_ARGUMENT,t)}function tk(){return new Et(wt.APP_DELETED,"The Firebase app was deleted.")}function EM(t){return new Et(wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ou(t,e){return new Et(wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ql(t){throw new Et(wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Hn.makeFromUrl(e,n)}catch{return new Hn(e,"")}if(r.path==="")return r;throw gM(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function p($){$.path_=decodeURIComponent($.path)}const m="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",T=new RegExp(`^https?://${y}/${m}/b/${s}/o${E}`,"i"),A={bucket:1,path:3},D=n===ZS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",U=new RegExp(`^https?://${D}/${s}/${L}`,"i"),z=[{regex:c,indices:d,postModify:a},{regex:T,indices:A,postModify:p},{regex:U,indices:{bucket:1,path:2},postModify:p}];for(let $=0;$<z.length;$++){const he=z[$],G=he.regex.exec(e);if(G){const V=G[he.indices.bucket];let R=G[he.indices.path];R||(R=""),r=new Hn(V,R),he.postModify(r);break}}if(r==null)throw mM(e);return r}}class TM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t,e,n){let r=1,s=null,a=null,l=!1,c=0;function d(){return c===2}let p=!1;function m(...L){p||(p=!0,e.apply(null,L))}function y(L){s=setTimeout(()=>{s=null,t(T,d())},L)}function E(){a&&clearTimeout(a)}function T(L,...U){if(p){E();return}if(L){E(),m.call(null,L,...U);return}if(d()||l){E(),m.call(null,L,...U);return}r<64&&(r*=2);let z;c===1?(c=2,z=0):z=(r+Math.random())*1e3,y(z)}let A=!1;function D(L){A||(A=!0,E(),!p&&(s!==null?(L||(c=2),clearTimeout(s),y(0)):L||(c=1)))}return y(0),a=setTimeout(()=>{l=!0,D(!0)},n),D}function SM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){return t!==void 0}function xM(t){return typeof t=="object"&&!Array.isArray(t)}function Gg(t){return typeof t=="string"||t instanceof String}function BE(t){return Qg()&&t instanceof Blob}function Qg(){return typeof Blob<"u"}function zE(t,e,n,r){if(r<e)throw Rm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Rm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function nk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var go;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(go||(go={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n,r,s,a,l,c,d,p,m,y,E=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=y,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,A)=>{this.resolve_=T,this.reject_=A,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new hh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const d=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===go.NO_ERROR,d=a.getStatus();if(!c||CM(d,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===go.ABORT;r(!1,new hh(!1,null,m));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new hh(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());kM(d)?a(d):a()}catch(d){l(d)}else if(c!==null){const d=Kg();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?tk():pM();l(d)}else{const d=fM();l(d)}};this.canceled_?n(!1,new hh(!1,null,!0)):this.backoffId_=IM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function RM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function NM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function OM(t,e,n,r,s,a,l=!0){const c=nk(t.urlParams),d=t.url+c,p=Object.assign({},t.headers);return PM(p,e),RM(p,n),bM(p,a),NM(p,r),new AM(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LM(...t){const e=DM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Qg())return new Blob(t);throw new Et(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function MM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){if(typeof atob>"u")throw wM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Op{constructor(e,n){this.data=e,this.contentType=n||null}}function VM(t,e){switch(t){case Zr.RAW:return new Op(rk(e));case Zr.BASE64:case Zr.BASE64URL:return new Op(ik(t,e));case Zr.DATA_URL:return new Op(UM(e),BM(e))}throw Kg()}function rk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function FM(t){let e;try{e=decodeURIComponent(t)}catch{throw ou(Zr.DATA_URL,"Malformed data URL.")}return rk(e)}function ik(t,e){switch(t){case Zr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw ou(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Zr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw ou(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jM(e)}catch(s){throw s.message.includes("polyfill")?s:ou(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class sk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ou(Zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=zM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function UM(t){const e=new sk(t);return e.base64?ik(Zr.BASE64,e.rest):FM(e.rest)}function BM(t){return new sk(t).contentType}function zM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){let r=0,s="";BE(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(BE(this.data_)){const r=this.data_,s=MM(r,e,n);return s===null?null:new ps(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ps(r,!0)}}static getBlob(...e){if(Qg()){const n=e.map(r=>r instanceof ps?r.data_:r);return new ps(LM.apply(null,n))}else{const n=e.map(l=>Gg(l)?VM(Zr.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[a++]=l[c]}),new ps(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){let e;try{e=JSON.parse(t)}catch{return null}return xM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $M(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ak(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t,e){return e}class gn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||HM}}let dh=null;function WM(t){return!Gg(t)||t.length<2?t:ak(t)}function lk(){if(dh)return dh;const t=[];t.push(new gn("bucket")),t.push(new gn("generation")),t.push(new gn("metageneration")),t.push(new gn("name","fullPath",!0));function e(a,l){return WM(l)}const n=new gn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new gn("size");return s.xform=r,t.push(s),t.push(new gn("timeCreated")),t.push(new gn("updated")),t.push(new gn("md5Hash",null,!0)),t.push(new gn("cacheControl",null,!0)),t.push(new gn("contentDisposition",null,!0)),t.push(new gn("contentEncoding",null,!0)),t.push(new gn("contentLanguage",null,!0)),t.push(new gn("contentType",null,!0)),t.push(new gn("metadata","customMetadata",!0)),dh=t,dh}function KM(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new Hn(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function GM(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return KM(r,t),r}function uk(t,e,n){const r=ok(e);return r===null?null:GM(t,r,n)}function QM(t,e,n,r){const s=ok(e);if(s===null||!Gg(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const m=t.bucket,y=t.fullPath,E="/b/"+l(m)+"/o/"+l(y),T=Yg(E,n,r),A=nk({alt:"media",token:p});return T+A})[0]}function YM(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class ck{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t){if(!t)throw Kg()}function XM(t,e){function n(r,s){const a=uk(t,s,e);return hk(a!==null),a}return n}function JM(t,e){function n(r,s){const a=uk(t,s,e);return hk(a!==null),QM(a,s,t.host,t._protocol)}return n}function dk(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=hM():s=cM():n.getStatus()===402?s=uM(t.bucket):n.getStatus()===403?s=dM(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function ZM(t){const e=dk(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=lM(t.path)),a.serverResponse=s.serverResponse,a}return n}function ej(t,e,n){const r=e.fullServerUrl(),s=Yg(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new ck(s,a,JM(t,n),l);return c.errorHandler=ZM(e),c}function tj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function nj(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=tj(null,e)),r}function rj(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let z="";for(let $=0;$<2;$++)z=z+Math.random().toString().slice(2);return z}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const p=nj(e,r,s),m=YM(p,n),y="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+d+"--",T=ps.getBlob(y,r,E);if(T===null)throw vM();const A={name:p.fullPath},D=Yg(a,t.host,t._protocol),L="POST",U=t.maxUploadRetryTime,J=new ck(D,L,XM(t,n),U);return J.urlParams=A,J.headers=l,J.body=T.uploadData(),J.errorHandler=dk(e),J}class ij{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=go.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=go.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=go.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw ql("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class sj extends ij{initXhr(){this.xhr_.responseType="text"}}function fk(){return new sj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n){this._service=e,n instanceof Hn?this._location=n:this._location=Hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ko(e,n)}get root(){const e=new Hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ak(this._location.path)}get storage(){return this._service}get parent(){const e=qM(this._location.path);if(e===null)return null;const n=new Hn(this._location.bucket,e);return new ko(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw EM(e)}}function oj(t,e,n){t._throwIfRoot("uploadBytes");const r=rj(t.storage,t._location,lk(),new ps(e,!0),n);return t.storage.makeRequestWithTokens(r,fk).then(s=>({metadata:s,ref:t}))}function aj(t){t._throwIfRoot("getDownloadURL");const e=ej(t.storage,t._location,lk());return t.storage.makeRequestWithTokens(e,fk).then(n=>{if(n===null)throw _M();return n})}function lj(t,e){const n=$M(t._location.path,e),r=new Hn(t._location.bucket,n);return new ko(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){return/^[A-Za-z]+:\/\//.test(t)}function cj(t,e){return new ko(t,e)}function pk(t,e){if(t instanceof Xg){const n=t;if(n._bucket==null)throw yM();const r=new ko(n,n._bucket);return e!=null?pk(r,e):r}else return e!==void 0?lj(t,e):t}function hj(t,e){if(e&&uj(e)){if(t instanceof Xg)return cj(t,e);throw Rm("To use ref(service, url), the first argument must be a Storage instance.")}else return pk(t,e)}function qE(t,e){const n=e==null?void 0:e[ek];return n==null?null:Hn.makeFromBucketSpec(n,t)}function dj(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:o0(s,t.app.options.projectId))}class Xg{constructor(e,n,r,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=ZS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oM,this._maxUploadRetryTime=aM,this._requests=new Set,s!=null?this._bucket=Hn.makeFromBucketSpec(s,this._host):this._bucket=qE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,e):this._bucket=qE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ko(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new TM(tk());{const l=OM(e,this._appId,r,s,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const $E="@firebase/storage",HE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="storage";function fj(t,e,n){return t=yt(t),oj(t,e,n)}function pj(t){return t=yt(t),aj(t)}function mj(t,e){return t=yt(t),hj(t,e)}function gj(t=td(),e){t=yt(t);const r=bs(t,mk).getImmediate({identifier:e}),s=r0("storage");return s&&yj(r,...s),r}function yj(t,e,n,r={}){dj(t,e,n,r)}function vj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Xg(n,r,s,e,Ao)}function _j(){Dr(new ur(mk,vj,"PUBLIC").setMultipleInstances(!0)),Nn($E,HE,""),Nn($E,HE,"esm2017")}_j();const wj={apiKey:"AIzaSyDhdfarzymyr-UCwASM8nrVsz3EC8iQGZQ",authDomain:"tangledoak-8d36f.firebaseapp.com",projectId:"tangledoak-8d36f",storageBucket:"tangledoak-8d36f.firebasestorage.app",messagingSenderId:"144819822531",appId:"1:144819822531:web:108d19707a17aa5827e776",measurementId:"G-J5LX00LFE4"},xd=f0(wj);jO(xd);const Su=vN(xd),yo=ML(xd),Ej=gj(xd),Tj=()=>{const[t,e]=ie.useState(""),[n,r]=ie.useState(""),[s,a]=ie.useState(""),[l,c]=ie.useState(""),[d,p]=ie.useState(!1),m=xo(),y=async T=>{T.preventDefault(),a(""),c(""),p(!0);try{(await(await iP(Su,t,n)).user.getIdTokenResult()).claims.role==="vendor"?(a("Login successful! Redirecting to your dashboard..."),setTimeout(()=>m("/vendor-dashboard"),1e3)):c("Your account has not been approved as a vendor yet.")}catch(A){console.error(A),c("Invalid login. Please check your email and password.")}finally{p(!1)}},E=async()=>{a(""),c("");const T=new Ii;try{(await(await CP(Su,T)).user.getIdTokenResult()).claims.role==="vendor"?(a("Login successful! Redirecting to your dashboard..."),setTimeout(()=>m("/vendor-dashboard"),1e3)):c("Your account has not been approved as a vendor yet.")}catch(A){console.error(A),c("Google sign-in failed. Please try again.")}};return w.jsxs("div",{className:"login-container",children:[w.jsx("img",{src:"/logo.svg",alt:"Tangled Oak logo",style:{width:"60px",margin:"0 auto 1rem"}}),w.jsx("h2",{className:"login-title",children:"Vendor Login"}),w.jsx("p",{className:"login-subtitle",children:"Access your Tangled Oak dashboard"}),w.jsxs("form",{onSubmit:y,className:"login-form",children:[w.jsx("input",{type:"email",placeholder:"Email",className:"login-input",value:t,onChange:T=>e(T.target.value),required:!0}),w.jsx("input",{type:"password",placeholder:"Password",className:"login-input",value:n,onChange:T=>r(T.target.value),required:!0}),w.jsx("button",{type:"submit",disabled:d,className:`login-button ${d?"login-button-disabled":""}`,children:d?"Logging in...":"Login"})]}),w.jsx("button",{onClick:E,className:"login-button",style:{marginTop:"1rem"},children:"Sign in with Google"}),s&&w.jsx("p",{style:{color:"#4A3F35",marginTop:"1rem"},children:s}),l&&w.jsx("p",{className:"error-message",children:l}),w.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#4A3F35"},children:["Don’t have a vendor account?"," ",w.jsx(jt,{to:"/vendor-register",style:{color:"#C98B6A",fontWeight:"bold"},children:"Register here"})]})]})},Ij=()=>{const[t,e]=ie.useState(""),[n,r]=ie.useState(""),[s,a]=ie.useState(""),[l,c]=ie.useState(""),[d,p]=ie.useState(""),[m,y]=ie.useState(!1),E=xo(),T=async A=>{A.preventDefault(),c(""),p(""),y(!0);try{const L=(await rP(Su,t,n)).user;await eM(Iu(yo,"vendorRequests",L.uid),{uid:L.uid,email:t,businessName:s,approved:!1,createdAt:new Date}),p("Registration successful! Awaiting admin approval."),setTimeout(()=>E("/vendor-login"),2e3)}catch(D){console.error(D),c("Registration failed. Try a different email or check your password.")}finally{y(!1)}};return w.jsxs("div",{className:"login-container",children:[w.jsx("img",{src:"/logo.svg",alt:"Tangled Oak logo",style:{width:"60px",margin:"0 auto 1rem"}}),w.jsx("h2",{className:"login-title",children:"Vendor Registration"}),w.jsx("p",{className:"login-subtitle",children:"Apply for a vendor account"}),w.jsxs("form",{onSubmit:T,className:"login-form",children:[w.jsx("input",{type:"text",placeholder:"Business Name",className:"login-input",value:s,onChange:A=>a(A.target.value),required:!0}),w.jsx("input",{type:"email",placeholder:"Email",className:"login-input",value:t,onChange:A=>e(A.target.value),required:!0}),w.jsx("input",{type:"password",placeholder:"Password",className:"login-input",value:n,onChange:A=>r(A.target.value),required:!0}),w.jsx("button",{type:"submit",disabled:m,className:`login-button ${m?"login-button-disabled":""}`,children:m?"Registering...":"Register"})]}),d&&w.jsx("p",{style:{color:"#4A3F35",marginTop:"1rem"},children:d}),l&&w.jsx("p",{className:"error-message",children:l}),w.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#4A3F35"},children:["Already have a vendor account?"," ",w.jsx(jt,{to:"/vendor-login",style:{color:"#C98B6A",fontWeight:"bold"},children:"Login here"})]})]})},Sj=()=>{const[t,e]=ie.useState([]),[n,r]=ie.useState(!0),[s,a]=ie.useState(""),l=async()=>{r(!0);try{const m=(await JS(Mg(yo,"vendorRequests"))).docs.map(y=>({id:y.id,...y.data()}));e(m)}catch(p){console.error("Error fetching vendor requests:",p)}r(!1)},c=async p=>{try{await tM(Iu(yo,"vendorRequests",p.id),{approved:!0}),(await fetch("/approveVendor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:p.id})})).ok?a(`Approved ${p.businessName}`):a(`Failed to approve ${p.businessName}`),await l()}catch(m){console.error("Approval error:",m)}},d=async p=>{try{await nM(Iu(yo,"vendorRequests",p)),a("Rejected vendor registration."),await l()}catch(m){console.error("Error deleting vendor request:",m)}};return ie.useEffect(()=>{l()},[]),w.jsxs("div",{className:"admin-container",style:{padding:"2rem"},children:[w.jsx("h2",{children:"Pending Vendor Requests"}),s&&w.jsx("p",{style:{color:"#4A3F35"},children:s}),n?w.jsx("p",{children:"Loading..."}):t.length===0?w.jsx("p",{children:"No pending vendor requests."}):w.jsx("ul",{style:{listStyle:"none",padding:0},children:t.map(p=>w.jsxs("li",{style:{borderBottom:"1px solid #ccc",padding:"1rem 0"},children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Business:"})," ",p.businessName]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Email:"})," ",p.email]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Approved:"})," ",p.approved?"Yes":"No"]}),!p.approved&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>c(p),style:{marginRight:"1rem"},children:"Approve"}),w.jsx("button",{onClick:()=>d(p.id),style:{color:"red"},children:"Reject"})]})]},p.id))})]})},Yt=[];for(let t=0;t<256;++t)Yt.push((t+256).toString(16).slice(1));function kj(t,e=0){return(Yt[t[e+0]]+Yt[t[e+1]]+Yt[t[e+2]]+Yt[t[e+3]]+"-"+Yt[t[e+4]]+Yt[t[e+5]]+"-"+Yt[t[e+6]]+Yt[t[e+7]]+"-"+Yt[t[e+8]]+Yt[t[e+9]]+"-"+Yt[t[e+10]]+Yt[t[e+11]]+Yt[t[e+12]]+Yt[t[e+13]]+Yt[t[e+14]]+Yt[t[e+15]]).toLowerCase()}let Dp;const xj=new Uint8Array(16);function Cj(){if(!Dp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Dp=crypto.getRandomValues.bind(crypto)}return Dp(xj)}const Aj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),WE={randomUUID:Aj};function Rj(t,e,n){var s;if(WE.randomUUID&&!t)return WE.randomUUID();t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??Cj();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,kj(r)}const bj=()=>{const[t,e]=ie.useState(""),[n,r]=ie.useState(""),[s,a]=ie.useState("product"),[l,c]=ie.useState(""),[d,p]=ie.useState(!1),[m,y]=ie.useState(""),[E,T]=ie.useState(null),[A,D]=ie.useState(""),[L,U]=ie.useState(""),J=xo(),z=async $=>{if($.preventDefault(),D(""),U(""),!t||!n||!m||!l&&!d){D("Please fill in all required fields.");return}try{let he="";if(E){const G=mj(Ej,`listings/${Rj()}`);await fj(G,E),he=await pj(G)}await rM(Mg(yo,"listings"),{title:t,description:n,type:s,price:d?null:Number(l),trade:d,location:m,imageUrl:he,createdAt:sM()}),U("Listing submitted! Redirecting..."),setTimeout(()=>J("/home"),1200)}catch(he){console.error(he),D("Failed to create listing.")}};return w.jsxs("div",{className:"form-container",children:[w.jsx("h2",{className:"login-title",children:"Create a New Listing"}),w.jsx("p",{className:"login-subtitle",children:"Showcase your handmade product or trade supplies"}),w.jsxs("form",{onSubmit:z,className:"listing-form",children:[w.jsx("input",{type:"text",placeholder:"Title",value:t,onChange:$=>e($.target.value),required:!0}),w.jsx("textarea",{placeholder:"Description",value:n,onChange:$=>r($.target.value),required:!0}),w.jsxs("select",{value:s,onChange:$=>a($.target.value),children:[w.jsx("option",{value:"product",children:"Product"}),w.jsx("option",{value:"supply",children:"Supply"})]}),w.jsx("input",{type:"number",placeholder:"Price (optional if trading)",value:l,onChange:$=>c($.target.value)}),w.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx("input",{type:"checkbox",checked:d,onChange:$=>p($.target.checked)}),"Open to Trade"]}),w.jsx("input",{type:"text",placeholder:"Location (City, Province)",value:m,onChange:$=>y($.target.value),required:!0}),w.jsx("input",{type:"file",accept:"image/*",onChange:$=>T($.target.files[0])}),A&&w.jsx("p",{className:"error-message",children:A}),L&&w.jsx("p",{style:{color:"#4A3F35",marginTop:"1rem"},children:L}),w.jsx("button",{type:"submit",className:"login-button",children:"Submit Listing"})]})]})},Pj=()=>{const[t,e]=ie.useState([]),[n,r]=ie.useState(null),[s,a]=ie.useState(!0);return ie.useEffect(()=>{const l=aP(Su,async c=>{if(c){r(c.uid);const d=GL(Mg(yo,"listings"),QL("userId","==",c.uid)),m=(await JS(d)).docs.map(y=>({id:y.id,...y.data()}));e(m),a(!1)}});return()=>l()},[]),s?w.jsx("p",{children:"Loading your listings..."}):w.jsxs("div",{className:"home-container",children:[w.jsx("h2",{className:"home-title",children:"My Listings"}),t.length===0?w.jsx("p",{className:"home-subtitle",children:"You haven’t added anything yet."}):w.jsx("div",{className:"home-grid",children:t.map(l=>w.jsxs(jt,{to:`/listing/${l.id}`,className:"card",children:[l.imageUrl&&w.jsx("img",{src:l.imageUrl,alt:l.title,style:{width:"100%",height:"160px",objectFit:"cover",borderRadius:"0.5rem",marginBottom:"0.75rem"}}),w.jsx("h3",{children:l.title}),w.jsx("p",{style:{fontSize:"0.9rem",color:"#6B5F52"},children:l.price!==null?`$${l.price.toFixed(2)}`:"Trade Only"})]},l.id))})]})},Nj=()=>{const{id:t}=Hm(),e=xo(),[n,r]=ie.useState(null),[s,a]=ie.useState("");return ie.useEffect(()=>{(async()=>{try{const c=Iu(yo,"listings",t),d=await ZL(c);d.exists()?r(d.data()):a("Listing not found.")}catch(c){console.error(c),a("Failed to fetch listing.")}})()},[t]),s?w.jsx("p",{className:"error-message",children:s}):n?w.jsxs("div",{className:"form-container",children:[w.jsx("button",{className:"logout-button",onClick:()=>e(-1),children:"← Back"}),w.jsx("h2",{className:"login-title",children:n.title}),n.imageUrl&&w.jsx("img",{src:n.imageUrl,alt:n.title,style:{maxWidth:"100%",borderRadius:"1rem",margin:"1rem 0",boxShadow:"0 4px 12px rgba(0,0,0,0.05)"}}),w.jsx("p",{style:{marginBottom:"1rem"},children:n.description}),w.jsxs("p",{children:[w.jsx("strong",{children:"Type:"})," ",n.type==="supply"?"Supply":"Product"]}),n.price!==null&&w.jsxs("p",{children:[w.jsx("strong",{children:"Price:"})," $",n.price.toFixed(2)]}),n.trade&&w.jsxs("p",{children:[w.jsx("strong",{children:"Open to Trade"})," ✅"]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Location:"})," ",n.location]})]}):w.jsx("p",{children:"Loading..."})},Oj=()=>w.jsxs("div",{className:"confirmation-page",children:[w.jsx("h1",{children:"🎉 Thank You!"}),w.jsx("p",{children:"Your order has been placed successfully."}),w.jsx("p",{children:"We'll reach out when it's ready for pickup or shipment."}),w.jsx("a",{href:"/shop",className:"button",style:{marginTop:"1rem"},children:"Back to Shop"})]}),bm=[{id:"crochet-face-scrubbies",title:"Crochet Face Scrubbies – A Quick & Easy Pattern",date:"2025-04-30",summary:"Learn how to make reusable, eco-friendly crochet face scrubbies in just a few rows. Perfect for gifts or self-care.",content:`
          Looking for an eco-friendly, handmade touch to your skincare routine? These reusable crochet face scrubbies are soft, durable, and perfect for gifting or daily use. They're quick to make and beginner-friendly.
      
          **Supplies:**
          - Yarn: Bernat Handicrafter or Lily Sugar’n Cream (cotton yarn)
          - Hook: 5 mm (U.S. H-8) crochet hook
          - Scissors
          - Tapestry needle
      
          **Stitches Used:**
          - ch – chain
          - sc – single crochet
          - Puff Stitch – Yarn over, insert hook and pull up a loop. Repeat 3 more times (4 loops total). Yarn over and pull through all loops. Chain 1 to close.
          - MC – Magic Circle (or chain 6 and slip stitch to form a ring)
      
          **Pattern:**
          Row 1: Magic Circle, work 10 sc into the circle. Slip stitch to first sc.  
          Row 2: Ch 2, puff stitch in same stitch and in each stitch around. (20 sts)  
          Row 3: Ch 2, puff stitch in each stitch around. Slip stitch to join. (40 sts)  
          Row 4: Ch 1, sc in each stitch around. Slip stitch to join.
      
          **Finishing:**  
          Fasten off and weave in the ends. Pull the magic circle tight to close. These scrubbies can be machine washed and reused endlessly.
        `},{id:"mothers-day-gift-ideas",title:"Mother's Day Gift Ideas for Every Kind of Mom",date:"2025-05-01",summary:"Thoughtful handmade gift ideas perfect for moms, grandmas, aunts, or anyone you call family.",content:`
Mother’s Day is a chance to show just how much the moms in our lives mean to us. Whether she’s the one who raised you, a grandmother who always has your back, or an aunt who’s more like a best friend, The Tangled Oak + Craft Collective has handmade gifts that speak directly to the heart. Here are some of our favorite gift ideas — all made by talented local vendors you can feel good about supporting.

1. For the Jewelry-Loving Mom  
If sparkle and statement pieces are her thing, our shop has no shortage of stunning options:  
- Cosmically Connected creates one-of-a-kind wire-wrapped gemstone pendants.  
- Ocean Soul Clay crafts vibrant polymer clay earrings in earthy and playful palettes.  
- Candy Dandy Crafts blends Indigenous beadwork with colorful, bold styles that make everyday feel special.  
- Spoons & Stuff by Christine turns vintage silverware into beautiful, story-rich jewelry.

→ Browse Jewelry Collection: https://the-tangled-oak-craft-collective.square.site/shop/jewelry/2

2. For the Cozy and Creative Mom  
Celebrate her love of comfort and craftsmanship with beautifully handmade wearables and textiles:  
- Top to Toe Knits offers soft, cozy sweaters for those who live in layers.  
- Knit with Love by Carol makes knit shawls and a wide variety of hats.  
- Knit’s by Marsha Ann specializes in crochet handbags and towel toppers that hang right from the stove.

→ Shop Clothing & Accessories: https://the-tangled-oak-craft-collective.square.site/shop/clothing--wearables/5

3. For the Homebody or Self-Care Queen  
Help her unwind with an at-home spa experience:  
- Soap & Seed makes skin-loving soaps, hand creams, sugar scrubs, and body sprays.  
- Old Soul Soap Company offers artisan soaps, body sprays, and fizzy bath bombs.  
- She Keeps Bees adds warmth with beeswax candles and soothing beeswax lip balms.

→ Pamper Her – Bath & Body: https://the-tangled-oak-craft-collective.square.site/shop/bath--body/3

4. For the Foodie Mom  
A gift from the kitchen is always sweet — especially when it’s local:  
- Cheese and Stuffs curates delicious jam towers that pair beautifully with cheese boards.  
- Sleeping Giant Biscotti delivers crunchy, flavorful treats that are perfect with morning coffee.  
- She Keeps Bees brings natural sweetness with local honey in giftable glass jars.

→ Explore Pantry + Snacks: https://the-tangled-oak-craft-collective.square.site/shop/pantry--snacks/17

5. For the Nature-Loving or Spiritually-Minded Mom  
Crystals, earthy textures, and handmade decor for her peaceful place:  
- A&S Crystals offers stone towers, raw gems, and thoughtful crystal bundles.  
- Spoons & Stuff by Christine makes radiant crystal suncatchers that reflect light and energy.  
- Tags & Tropics captures Northern beauty in their 8x10 prints and photo cards.  
- Mo’s Craftworks designs intricate paper shadow boxes with nature-inspired depth.

→ See Crystals + Healing: https://the-tangled-oak-craft-collective.square.site/shop/crystals--healing/14

No matter who you’re shopping for, there’s something meaningful waiting here.  
Every item at The Tangled Oak is crafted with care and intention — just like the women we’re celebrating this Mother’s Day.

→ Visit Our Full Shop: https://the-tangled-oak-craft-collective.square.site/
    `}],Dj=()=>{const t={"@context":"https://schema.org","@type":"Blog",name:"The Tangled Oak + Craft Collective Blog",url:"https://tangledoak.ca/blog",description:"A handmade marketplace blog featuring gift guides, maker stories, and seasonal inspiration.",publisher:{"@type":"Organization",name:"The Tangled Oak + Craft Collective"},blogPost:bm.map(e=>({"@type":"BlogPosting",headline:e.title,datePublished:e.date,url:`https://tangledoak.ca/blog/${e.id}`,description:e.summary,author:{"@type":"Organization",name:"The Tangled Oak + Craft Collective"}}))};return w.jsxs("div",{className:"context-box",children:[w.jsxs(vo,{children:[w.jsx("title",{children:"The Tangled Oak Blog | Craft Collective Stories"}),w.jsx("meta",{name:"description",content:"Discover handmade gift guides, behind-the-scenes artisan stories, and seasonal inspiration on The Tangled Oak + Craft Collective blog."}),w.jsx("script",{type:"application/ld+json",children:JSON.stringify(t)})]}),w.jsx("h1",{children:"Our Blog"}),bm.map(e=>w.jsxs("div",{className:"soft-box",style:{marginBottom:"1.5rem"},children:[w.jsx("h2",{children:e.title}),w.jsx("p",{children:w.jsx("em",{children:new Date(e.date).toLocaleDateString()})}),w.jsx("p",{children:e.summary}),w.jsx(jt,{to:`/blog/${e.id}`,className:"button",children:"Read More"})]},e.id))]})};function Lj(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Mj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Vj={};function KE(t,e){return(Vj.jsx?jj:Mj).test(t)}const Fj=/[ \t\n\f\r]/g;function Uj(t){return typeof t=="object"?t.type==="text"?GE(t.value):!1:GE(t)}function GE(t){return t.replace(Fj,"")===""}class Vu{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Vu.prototype.normal={};Vu.prototype.property={};Vu.prototype.space=void 0;function gk(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new Vu(n,r,e)}function Pm(t){return t.toLowerCase()}class Ln{constructor(e,n){this.attribute=n,this.property=e}}Ln.prototype.attribute="";Ln.prototype.booleanish=!1;Ln.prototype.boolean=!1;Ln.prototype.commaOrSpaceSeparated=!1;Ln.prototype.commaSeparated=!1;Ln.prototype.defined=!1;Ln.prototype.mustUseProperty=!1;Ln.prototype.number=!1;Ln.prototype.overloadedBoolean=!1;Ln.prototype.property="";Ln.prototype.spaceSeparated=!1;Ln.prototype.space=void 0;let Bj=0;const Ve=No(),bt=No(),yk=No(),de=No(),st=No(),La=No(),qn=No();function No(){return 2**++Bj}const Nm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ve,booleanish:bt,commaOrSpaceSeparated:qn,commaSeparated:La,number:de,overloadedBoolean:yk,spaceSeparated:st},Symbol.toStringTag,{value:"Module"})),Lp=Object.keys(Nm);class Jg extends Ln{constructor(e,n,r,s){let a=-1;if(super(e,n),QE(this,"space",s),typeof r=="number")for(;++a<Lp.length;){const l=Lp[a];QE(this,Lp[a],(r&Nm[l])===Nm[l])}}}Jg.prototype.defined=!0;function QE(t,e,n){n&&(t[e]=n)}function Za(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const a=new Jg(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[Pm(r)]=r,n[Pm(a.attribute)]=r}return new Vu(e,n,t.space)}const vk=Za({properties:{ariaActiveDescendant:null,ariaAtomic:bt,ariaAutoComplete:null,ariaBusy:bt,ariaChecked:bt,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:st,ariaCurrent:null,ariaDescribedBy:st,ariaDetails:null,ariaDisabled:bt,ariaDropEffect:st,ariaErrorMessage:null,ariaExpanded:bt,ariaFlowTo:st,ariaGrabbed:bt,ariaHasPopup:null,ariaHidden:bt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:st,ariaLevel:de,ariaLive:null,ariaModal:bt,ariaMultiLine:bt,ariaMultiSelectable:bt,ariaOrientation:null,ariaOwns:st,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:bt,ariaReadOnly:bt,ariaRelevant:null,ariaRequired:bt,ariaRoleDescription:st,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:bt,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function _k(t,e){return e in t?t[e]:e}function wk(t,e){return _k(t,e.toLowerCase())}const zj=Za({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:La,acceptCharset:st,accessKey:st,action:null,allow:null,allowFullScreen:Ve,allowPaymentRequest:Ve,allowUserMedia:Ve,alt:null,as:null,async:Ve,autoCapitalize:null,autoComplete:st,autoFocus:Ve,autoPlay:Ve,blocking:st,capture:null,charSet:null,checked:Ve,cite:null,className:st,cols:de,colSpan:null,content:null,contentEditable:bt,controls:Ve,controlsList:st,coords:de|La,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ve,defer:Ve,dir:null,dirName:null,disabled:Ve,download:yk,draggable:bt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ve,formTarget:null,headers:st,height:de,hidden:Ve,high:de,href:null,hrefLang:null,htmlFor:st,httpEquiv:st,id:null,imageSizes:null,imageSrcSet:null,inert:Ve,inputMode:null,integrity:null,is:null,isMap:Ve,itemId:null,itemProp:st,itemRef:st,itemScope:Ve,itemType:st,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ve,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:Ve,muted:Ve,name:null,nonce:null,noModule:Ve,noValidate:Ve,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ve,optimum:de,pattern:null,ping:st,placeholder:null,playsInline:Ve,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ve,referrerPolicy:null,rel:st,required:Ve,reversed:Ve,rows:de,rowSpan:de,sandbox:st,scope:null,scoped:Ve,seamless:Ve,selected:Ve,shadowRootClonable:Ve,shadowRootDelegatesFocus:Ve,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:bt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:Ve,useMap:null,value:bt,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:st,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ve,declare:Ve,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:Ve,noHref:Ve,noShade:Ve,noWrap:Ve,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:bt,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ve,disableRemotePlayback:Ve,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:wk}),qj=Za({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:qn,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:st,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:Ve,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:La,g2:La,glyphName:La,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:qn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:st,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:qn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:qn,rev:qn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:qn,requiredFeatures:qn,requiredFonts:qn,requiredFormats:qn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:qn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:qn,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:qn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:_k}),Ek=Za({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Tk=Za({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:wk}),Ik=Za({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),$j={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Hj=/[A-Z]/g,YE=/-[a-z]/g,Wj=/^data[-\w.:]+$/i;function Kj(t,e){const n=Pm(e);let r=e,s=Ln;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Wj.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(YE,Qj);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!YE.test(a)){let l=a.replace(Hj,Gj);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}s=Jg}return new s(r,e)}function Gj(t){return"-"+t.toLowerCase()}function Qj(t){return t.charAt(1).toUpperCase()}const Yj=gk([vk,zj,Ek,Tk,Ik],"html"),Zg=gk([vk,qj,Ek,Tk,Ik],"svg");function Xj(t){return t.join(" ").trim()}var Ia={},Mp,XE;function Jj(){if(XE)return Mp;XE=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,p="/",m="*",y="",E="comment",T="declaration";Mp=function(D,L){if(typeof D!="string")throw new TypeError("First argument must be a string");if(!D)return[];L=L||{};var U=1,J=1;function z(x){var Y=x.match(e);Y&&(U+=Y.length);var ne=x.lastIndexOf(d);J=~ne?x.length-ne:J+x.length}function $(){var x={line:U,column:J};return function(Y){return Y.position=new he(x),R(),Y}}function he(x){this.start=x,this.end={line:U,column:J},this.source=L.source}he.prototype.content=D;function G(x){var Y=new Error(L.source+":"+U+":"+J+": "+x);if(Y.reason=x,Y.filename=L.source,Y.line=U,Y.column=J,Y.source=D,!L.silent)throw Y}function V(x){var Y=x.exec(D);if(Y){var ne=Y[0];return z(ne),D=D.slice(ne.length),Y}}function R(){V(n)}function O(x){var Y;for(x=x||[];Y=j();)Y!==!1&&x.push(Y);return x}function j(){var x=$();if(!(p!=D.charAt(0)||m!=D.charAt(1))){for(var Y=2;y!=D.charAt(Y)&&(m!=D.charAt(Y)||p!=D.charAt(Y+1));)++Y;if(Y+=2,y===D.charAt(Y-1))return G("End of comment missing");var ne=D.slice(2,Y-2);return J+=2,z(ne),D=D.slice(Y),J+=2,x({type:E,comment:ne})}}function b(){var x=$(),Y=V(r);if(Y){if(j(),!V(s))return G("property missing ':'");var ne=V(a),ve=x({type:T,property:A(Y[0].replace(t,y)),value:ne?A(ne[0].replace(t,y)):y});return V(l),ve}}function P(){var x=[];O(x);for(var Y;Y=b();)Y!==!1&&(x.push(Y),O(x));return x}return R(),P()};function A(D){return D?D.replace(c,y):y}return Mp}var JE;function Zj(){if(JE)return Ia;JE=1;var t=Ia&&Ia.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.default=n;var e=t(Jj());function n(r,s){var a=null;if(!r||typeof r!="string")return a;var l=(0,e.default)(r),c=typeof s=="function";return l.forEach(function(d){if(d.type==="declaration"){var p=d.property,m=d.value;c?s(p,m,d):m&&(a=a||{},a[p]=m)}}),a}return Ia}var $l={},ZE;function eV(){if(ZE)return $l;ZE=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(p){return!p||n.test(p)||t.test(p)},l=function(p,m){return m.toUpperCase()},c=function(p,m){return"".concat(m,"-")},d=function(p,m){return m===void 0&&(m={}),a(p)?p:(p=p.toLowerCase(),m.reactCompat?p=p.replace(s,c):p=p.replace(r,c),p.replace(e,l))};return $l.camelCase=d,$l}var Hl,eT;function tV(){if(eT)return Hl;eT=1;var t=Hl&&Hl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(Zj()),n=eV();function r(s,a){var l={};return!s||typeof s!="string"||(0,e.default)(s,function(c,d){c&&d&&(l[(0,n.camelCase)(c,a)]=d)}),l}return r.default=r,Hl=r,Hl}var nV=tV();const rV=Ni(nV),Sk=kk("end"),ey=kk("start");function kk(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function iV(t){const e=ey(t),n=Sk(t);if(e&&n)return{start:e,end:n}}function au(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?tT(t.position):"start"in t||"end"in t?tT(t):"line"in t||"column"in t?Om(t):""}function Om(t){return nT(t&&t.line)+":"+nT(t&&t.column)}function tT(t){return Om(t&&t.start)+"-"+Om(t&&t.end)}function nT(t){return t&&typeof t=="number"?t:1}class un extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?s=e:!a.cause&&e&&(l=!0,s=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?a.ruleId=r:(a.source=r.slice(0,d),a.ruleId=r.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){const d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=c?c.line:void 0,this.name=au(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}un.prototype.file="";un.prototype.name="";un.prototype.reason="";un.prototype.message="";un.prototype.stack="";un.prototype.column=void 0;un.prototype.line=void 0;un.prototype.ancestors=void 0;un.prototype.cause=void 0;un.prototype.fatal=void 0;un.prototype.place=void 0;un.prototype.ruleId=void 0;un.prototype.source=void 0;const ty={}.hasOwnProperty,sV=new Map,oV=/[A-Z]/g,aV=new Set(["table","tbody","thead","tfoot","tr"]),lV=new Set(["td","th"]),xk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function uV(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=yV(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=gV(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Zg:Yj,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=Ck(s,t,void 0);return a&&typeof a!="string"?a:s.create(t,s.Fragment,{children:a||void 0},void 0)}function Ck(t,e,n){if(e.type==="element")return cV(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return hV(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return fV(t,e,n);if(e.type==="mdxjsEsm")return dV(t,e);if(e.type==="root")return pV(t,e,n);if(e.type==="text")return mV(t,e)}function cV(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Zg,t.schema=s),t.ancestors.push(e);const a=Rk(t,e.tagName,!1),l=vV(t,e);let c=ry(t,e);return aV.has(e.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!Uj(d):!0})),Ak(t,l,a,e),ny(l,c),t.ancestors.pop(),t.schema=r,t.create(e,a,l,n)}function hV(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}ku(t,e.position)}function dV(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);ku(t,e.position)}function fV(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=Zg,t.schema=s),t.ancestors.push(e);const a=e.name===null?t.Fragment:Rk(t,e.name,!0),l=_V(t,e),c=ry(t,e);return Ak(t,l,a,e),ny(l,c),t.ancestors.pop(),t.schema=r,t.create(e,a,l,n)}function pV(t,e,n){const r={};return ny(r,ry(t,e)),t.create(e,t.Fragment,r,n)}function mV(t,e){return e.value}function Ak(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function ny(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function gV(t,e,n){return r;function r(s,a,l,c){const p=Array.isArray(l.children)?n:e;return c?p(a,l,c):p(a,l)}}function yV(t,e){return n;function n(r,s,a,l){const c=Array.isArray(a.children),d=ey(r);return e(s,a,l,c,{columnNumber:d?d.column-1:void 0,fileName:t,lineNumber:d?d.line:void 0},void 0)}}function vV(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&ty.call(e.properties,s)){const a=wV(t,s,e.properties[s]);if(a){const[l,c]=a;t.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&lV.has(e.tagName)?r=c:n[l]=c}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function _V(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const l=a.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else ku(t,e.position);else{const s=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,a=t.evaluater.evaluateExpression(c.expression)}else ku(t,e.position);else a=r.value===null?!0:r.value;n[s]=a}return n}function ry(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:sV;for(;++r<e.children.length;){const a=e.children[r];let l;if(t.passKeys){const d=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(d){const p=s.get(d)||0;l=d+"-"+p,s.set(d,p+1)}}const c=Ck(t,a,l);c!==void 0&&n.push(c)}return n}function wV(t,e,n){const r=Kj(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Lj(n):Xj(n)),r.property==="style"){let s=typeof n=="object"?n:EV(t,String(n));return t.stylePropertyNameCase==="css"&&(s=TV(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?$j[r.property]||r.property:r.attribute,n]}}function EV(t,e){try{return rV(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new un("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=xk+"#cannot-parse-style-attribute",s}}function Rk(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let a=-1,l;for(;++a<s.length;){const c=KE(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}r=l}else r=KE(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return ty.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);ku(t)}function ku(t,e){const n=new un("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=xk+"#cannot-handle-mdx-estrees-without-createevaluater",n}function TV(t){const e={};let n;for(n in t)ty.call(t,n)&&(e[IV(n)]=t[n]);return e}function IV(t){let e=t.replace(oV,SV);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function SV(t){return"-"+t.toLowerCase()}const jp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},kV={};function xV(t,e){const n=kV,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return bk(t,r,s)}function bk(t,e,n){if(CV(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return rT(t.children,e,n)}return Array.isArray(t)?rT(t,e,n):""}function rT(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=bk(t[s],e,n);return r.join("")}function CV(t){return!!(t&&typeof t=="object")}const iT=document.createElement("i");function iy(t){const e="&"+t+";";iT.innerHTML=e;const n=iT.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ii(t,e,n,r){const s=t.length;let a=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);a<r.length;)l=r.slice(a,a+1e4),l.unshift(e,0),t.splice(...l),a+=1e4,e+=1e4}function ar(t,e){return t.length>0?(ii(t,t.length,0,e),t):e}const sT={}.hasOwnProperty;function AV(t){const e={};let n=-1;for(;++n<t.length;)RV(e,t[n]);return e}function RV(t,e){let n;for(n in e){const s=(sT.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let l;if(a)for(l in a){sT.call(s,l)||(s[l]=[]);const c=a[l];bV(s[l],Array.isArray(c)?c:c?[c]:[])}}}function bV(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ii(t,0,0,r)}function Pk(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Ma(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Jr=Ms(/[A-Za-z]/),Wn=Ms(/[\dA-Za-z]/),PV=Ms(/[#-'*+\--9=?A-Z^-~]/);function Dm(t){return t!==null&&(t<32||t===127)}const Lm=Ms(/\d/),NV=Ms(/[\dA-Fa-f]/),OV=Ms(/[!-/:-@[-`{-~]/);function De(t){return t!==null&&t<-2}function Dn(t){return t!==null&&(t<0||t===32)}function Ze(t){return t===-2||t===-1||t===32}const DV=Ms(new RegExp("\\p{P}|\\p{S}","u")),LV=Ms(/\s/);function Ms(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function el(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const a=t.charCodeAt(n);let l="";if(a===37&&Wn(t.charCodeAt(n+1))&&Wn(t.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const c=t.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(l=String.fromCharCode(a,c),s=1):l="�"}else l=String.fromCharCode(a);l&&(e.push(t.slice(r,n),encodeURIComponent(l)),r=n+s+1,l=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function ot(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(d){return Ze(d)?(t.enter(n),c(d)):e(d)}function c(d){return Ze(d)&&a++<s?(t.consume(d),c):(t.exit(n),e(d))}}const MV={tokenize:jV};function jV(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),ot(t,e,"linePrefix")}function s(c){return t.enter("paragraph"),a(c)}function a(c){const d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(c)}function l(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return De(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),l)}}const VV={tokenize:FV},oT={tokenize:UV};function FV(t){const e=this,n=[];let r=0,s,a,l;return c;function c(z){if(r<n.length){const $=n[r];return e.containerState=$[1],t.attempt($[0].continuation,d,p)(z)}return p(z)}function d(z){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&J();const $=e.events.length;let he=$,G;for(;he--;)if(e.events[he][0]==="exit"&&e.events[he][1].type==="chunkFlow"){G=e.events[he][1].end;break}U(r);let V=$;for(;V<e.events.length;)e.events[V][1].end={...G},V++;return ii(e.events,he+1,0,e.events.slice($)),e.events.length=V,p(z)}return c(z)}function p(z){if(r===n.length){if(!s)return E(z);if(s.currentConstruct&&s.currentConstruct.concrete)return A(z);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(oT,m,y)(z)}function m(z){return s&&J(),U(r),E(z)}function y(z){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,A(z)}function E(z){return e.containerState={},t.attempt(oT,T,A)(z)}function T(z){return r++,n.push([e.currentConstruct,e.containerState]),E(z)}function A(z){if(z===null){s&&J(),U(0),t.consume(z);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),D(z)}function D(z){if(z===null){L(t.exit("chunkFlow"),!0),U(0),t.consume(z);return}return De(z)?(t.consume(z),L(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(z),D)}function L(z,$){const he=e.sliceStream(z);if($&&he.push(null),z.previous=a,a&&(a.next=z),a=z,s.defineSkip(z.start),s.write(he),e.parser.lazy[z.start.line]){let G=s.events.length;for(;G--;)if(s.events[G][1].start.offset<l&&(!s.events[G][1].end||s.events[G][1].end.offset>l))return;const V=e.events.length;let R=V,O,j;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){if(O){j=e.events[R][1].end;break}O=!0}for(U(r),G=V;G<e.events.length;)e.events[G][1].end={...j},G++;ii(e.events,R+1,0,e.events.slice(V)),e.events.length=G}}function U(z){let $=n.length;for(;$-- >z;){const he=n[$];e.containerState=he[1],he[0].exit.call(e,t)}n.length=z}function J(){s.write([null]),a=void 0,s=void 0,e.containerState._closeFlow=void 0}}function UV(t,e,n){return ot(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function aT(t){if(t===null||Dn(t)||LV(t))return 1;if(DV(t))return 2}function sy(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const a=t[s].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const Mm={name:"attention",resolveAll:BV,tokenize:zV};function BV(t,e){let n=-1,r,s,a,l,c,d,p,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const y={...t[r][1].end},E={...t[n][1].start};lT(y,-d),lT(E,d),l={type:d>1?"strongSequence":"emphasisSequence",start:y,end:{...t[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:E},a={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},t[r][1].end={...l.start},t[n][1].start={...c.end},p=[],t[r][1].end.offset-t[r][1].start.offset&&(p=ar(p,[["enter",t[r][1],e],["exit",t[r][1],e]])),p=ar(p,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",a,e]]),p=ar(p,sy(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),p=ar(p,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,p=ar(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,ii(t,r-1,n-r+3,p),n=r+p.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function zV(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=aT(r);let a;return l;function l(d){return a=d,t.enter("attentionSequence"),c(d)}function c(d){if(d===a)return t.consume(d),c;const p=t.exit("attentionSequence"),m=aT(d),y=!m||m===2&&s||n.includes(d),E=!s||s===2&&m||n.includes(r);return p._open=!!(a===42?y:y&&(s||!E)),p._close=!!(a===42?E:E&&(m||!y)),e(d)}}function lT(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const qV={name:"autolink",tokenize:$V};function $V(t,e,n){let r=0;return s;function s(T){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(T){return Jr(T)?(t.consume(T),l):T===64?n(T):p(T)}function l(T){return T===43||T===45||T===46||Wn(T)?(r=1,c(T)):p(T)}function c(T){return T===58?(t.consume(T),r=0,d):(T===43||T===45||T===46||Wn(T))&&r++<32?(t.consume(T),c):(r=0,p(T))}function d(T){return T===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.exit("autolink"),e):T===null||T===32||T===60||Dm(T)?n(T):(t.consume(T),d)}function p(T){return T===64?(t.consume(T),m):PV(T)?(t.consume(T),p):n(T)}function m(T){return Wn(T)?y(T):n(T)}function y(T){return T===46?(t.consume(T),r=0,m):T===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.exit("autolink"),e):E(T)}function E(T){if((T===45||Wn(T))&&r++<63){const A=T===45?E:y;return t.consume(T),A}return n(T)}}const Cd={partial:!0,tokenize:HV};function HV(t,e,n){return r;function r(a){return Ze(a)?ot(t,s,"linePrefix")(a):s(a)}function s(a){return a===null||De(a)?e(a):n(a)}}const Nk={continuation:{tokenize:KV},exit:GV,name:"blockQuote",tokenize:WV};function WV(t,e,n){const r=this;return s;function s(l){if(l===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),a}return n(l)}function a(l){return Ze(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function KV(t,e,n){const r=this;return s;function s(l){return Ze(l)?ot(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return t.attempt(Nk,e,n)(l)}}function GV(t){t.exit("blockQuote")}const Ok={name:"characterEscape",tokenize:QV};function QV(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),s}function s(a){return OV(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const Dk={name:"characterReference",tokenize:YV};function YV(t,e,n){const r=this;let s=0,a,l;return c;function c(y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),d}function d(y){return y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(y),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),a=31,l=Wn,m(y))}function p(y){return y===88||y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,l=NV,m):(t.enter("characterReferenceValue"),a=7,l=Lm,m(y))}function m(y){if(y===59&&s){const E=t.exit("characterReferenceValue");return l===Wn&&!iy(r.sliceSerialize(E))?n(y):(t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(y)&&s++<a?(t.consume(y),m):n(y)}}const uT={partial:!0,tokenize:JV},cT={concrete:!0,name:"codeFenced",tokenize:XV};function XV(t,e,n){const r=this,s={partial:!0,tokenize:he};let a=0,l=0,c;return d;function d(G){return p(G)}function p(G){const V=r.events[r.events.length-1];return a=V&&V[1].type==="linePrefix"?V[2].sliceSerialize(V[1],!0).length:0,c=G,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(G)}function m(G){return G===c?(l++,t.consume(G),m):l<3?n(G):(t.exit("codeFencedFenceSequence"),Ze(G)?ot(t,y,"whitespace")(G):y(G))}function y(G){return G===null||De(G)?(t.exit("codeFencedFence"),r.interrupt?e(G):t.check(uT,D,$)(G)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),E(G))}function E(G){return G===null||De(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),y(G)):Ze(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ot(t,T,"whitespace")(G)):G===96&&G===c?n(G):(t.consume(G),E)}function T(G){return G===null||De(G)?y(G):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),A(G))}function A(G){return G===null||De(G)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y(G)):G===96&&G===c?n(G):(t.consume(G),A)}function D(G){return t.attempt(s,$,L)(G)}function L(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),U}function U(G){return a>0&&Ze(G)?ot(t,J,"linePrefix",a+1)(G):J(G)}function J(G){return G===null||De(G)?t.check(uT,D,$)(G):(t.enter("codeFlowValue"),z(G))}function z(G){return G===null||De(G)?(t.exit("codeFlowValue"),J(G)):(t.consume(G),z)}function $(G){return t.exit("codeFenced"),e(G)}function he(G,V,R){let O=0;return j;function j(ne){return G.enter("lineEnding"),G.consume(ne),G.exit("lineEnding"),b}function b(ne){return G.enter("codeFencedFence"),Ze(ne)?ot(G,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):P(ne)}function P(ne){return ne===c?(G.enter("codeFencedFenceSequence"),x(ne)):R(ne)}function x(ne){return ne===c?(O++,G.consume(ne),x):O>=l?(G.exit("codeFencedFenceSequence"),Ze(ne)?ot(G,Y,"whitespace")(ne):Y(ne)):R(ne)}function Y(ne){return ne===null||De(ne)?(G.exit("codeFencedFence"),V(ne)):R(ne)}}}function JV(t,e,n){const r=this;return s;function s(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a)}function a(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}const Vp={name:"codeIndented",tokenize:eF},ZV={partial:!0,tokenize:tF};function eF(t,e,n){const r=this;return s;function s(p){return t.enter("codeIndented"),ot(t,a,"linePrefix",5)(p)}function a(p){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(p):n(p)}function l(p){return p===null?d(p):De(p)?t.attempt(ZV,l,d)(p):(t.enter("codeFlowValue"),c(p))}function c(p){return p===null||De(p)?(t.exit("codeFlowValue"),l(p)):(t.consume(p),c)}function d(p){return t.exit("codeIndented"),e(p)}}function tF(t,e,n){const r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):De(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s):ot(t,a,"linePrefix",5)(l)}function a(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):De(l)?s(l):n(l)}}const nF={name:"codeText",previous:iF,resolve:rF,tokenize:sF};function rF(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function iF(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function sF(t,e,n){let r=0,s,a;return l;function l(y){return t.enter("codeText"),t.enter("codeTextSequence"),c(y)}function c(y){return y===96?(t.consume(y),r++,c):(t.exit("codeTextSequence"),d(y))}function d(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),d):y===96?(a=t.enter("codeTextSequence"),s=0,m(y)):De(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),d):(t.enter("codeTextData"),p(y))}function p(y){return y===null||y===32||y===96||De(y)?(t.exit("codeTextData"),d(y)):(t.consume(y),p)}function m(y){return y===96?(t.consume(y),s++,m):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(a.type="codeTextData",p(y))}}class oF{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Wl(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Wl(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Wl(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Wl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Wl(this.left,n.reverse())}}}function Wl(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Lk(t){const e={};let n=-1,r,s,a,l,c,d,p;const m=new oF(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,aF(m,n)),n=e[n],p=!0);else if(r[1]._container){for(a=n,s=void 0;a--;)if(l=m.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(m.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;s&&(r[1].end={...m.get(s)[1].start},c=m.slice(s,n),c.unshift(r),m.splice(s,n-s+1,c))}}return ii(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!p}function aF(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const a=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],p={};let m,y,E=-1,T=n,A=0,D=0;const L=[D];for(;T;){for(;t.get(++s)[1]!==T;);a.push(s),T._tokenizer||(m=r.sliceStream(T),T.next||m.push(null),y&&l.defineSkip(T.start),T._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),T._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),y=T,T=T.next}for(T=n;++E<c.length;)c[E][0]==="exit"&&c[E-1][0]==="enter"&&c[E][1].type===c[E-1][1].type&&c[E][1].start.line!==c[E][1].end.line&&(D=E+1,L.push(D),T._tokenizer=void 0,T.previous=void 0,T=T.next);for(l.events=[],T?(T._tokenizer=void 0,T.previous=void 0):L.pop(),E=L.length;E--;){const U=c.slice(L[E],L[E+1]),J=a.pop();d.push([J,J+U.length-1]),t.splice(J,2,U)}for(d.reverse(),E=-1;++E<d.length;)p[A+d[E][0]]=A+d[E][1],A+=d[E][1]-d[E][0]-1;return p}const lF={resolve:cF,tokenize:hF},uF={partial:!0,tokenize:dF};function cF(t){return Lk(t),t}function hF(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?a(c):De(c)?t.check(uF,l,a)(c):(t.consume(c),s)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function l(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function dF(t,e,n){const r=this;return s;function s(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),ot(t,a,"linePrefix")}function a(l){if(l===null||De(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function Mk(t,e,n,r,s,a,l,c,d){const p=d||Number.POSITIVE_INFINITY;let m=0;return y;function y(U){return U===60?(t.enter(r),t.enter(s),t.enter(a),t.consume(U),t.exit(a),E):U===null||U===32||U===41||Dm(U)?n(U):(t.enter(r),t.enter(l),t.enter(c),t.enter("chunkString",{contentType:"string"}),D(U))}function E(U){return U===62?(t.enter(a),t.consume(U),t.exit(a),t.exit(s),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),T(U))}function T(U){return U===62?(t.exit("chunkString"),t.exit(c),E(U)):U===null||U===60||De(U)?n(U):(t.consume(U),U===92?A:T)}function A(U){return U===60||U===62||U===92?(t.consume(U),T):T(U)}function D(U){return!m&&(U===null||U===41||Dn(U))?(t.exit("chunkString"),t.exit(c),t.exit(l),t.exit(r),e(U)):m<p&&U===40?(t.consume(U),m++,D):U===41?(t.consume(U),m--,D):U===null||U===32||U===40||Dm(U)?n(U):(t.consume(U),U===92?L:D)}function L(U){return U===40||U===41||U===92?(t.consume(U),D):D(U)}}function jk(t,e,n,r,s,a){const l=this;let c=0,d;return p;function p(T){return t.enter(r),t.enter(s),t.consume(T),t.exit(s),t.enter(a),m}function m(T){return c>999||T===null||T===91||T===93&&!d||T===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(T):T===93?(t.exit(a),t.enter(s),t.consume(T),t.exit(s),t.exit(r),e):De(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===null||T===91||T===93||De(T)||c++>999?(t.exit("chunkString"),m(T)):(t.consume(T),d||(d=!Ze(T)),T===92?E:y)}function E(T){return T===91||T===92||T===93?(t.consume(T),c++,y):y(T)}}function Vk(t,e,n,r,s,a){let l;return c;function c(E){return E===34||E===39||E===40?(t.enter(r),t.enter(s),t.consume(E),t.exit(s),l=E===40?41:E,d):n(E)}function d(E){return E===l?(t.enter(s),t.consume(E),t.exit(s),t.exit(r),e):(t.enter(a),p(E))}function p(E){return E===l?(t.exit(a),d(l)):E===null?n(E):De(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),ot(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===l||E===null||De(E)?(t.exit("chunkString"),p(E)):(t.consume(E),E===92?y:m)}function y(E){return E===l||E===92?(t.consume(E),m):m(E)}}function lu(t,e){let n;return r;function r(s){return De(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):Ze(s)?ot(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}const fF={name:"definition",tokenize:mF},pF={partial:!0,tokenize:gF};function mF(t,e,n){const r=this;let s;return a;function a(T){return t.enter("definition"),l(T)}function l(T){return jk.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(T)}function c(T){return s=Ma(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),T===58?(t.enter("definitionMarker"),t.consume(T),t.exit("definitionMarker"),d):n(T)}function d(T){return Dn(T)?lu(t,p)(T):p(T)}function p(T){return Mk(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(T)}function m(T){return t.attempt(pF,y,y)(T)}function y(T){return Ze(T)?ot(t,E,"whitespace")(T):E(T)}function E(T){return T===null||De(T)?(t.exit("definition"),r.parser.defined.push(s),e(T)):n(T)}}function gF(t,e,n){return r;function r(c){return Dn(c)?lu(t,s)(c):n(c)}function s(c){return Vk(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return Ze(c)?ot(t,l,"whitespace")(c):l(c)}function l(c){return c===null||De(c)?e(c):n(c)}}const yF={name:"hardBreakEscape",tokenize:vF};function vF(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),s}function s(a){return De(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const _F={name:"headingAtx",resolve:wF,tokenize:EF};function wF(t,e){let n=t.length-2,r=3,s,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ii(t,r,n-r+1,[["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e]])),t}function EF(t,e,n){let r=0;return s;function s(m){return t.enter("atxHeading"),a(m)}function a(m){return t.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&r++<6?(t.consume(m),l):m===null||Dn(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),d(m)):m===null||De(m)?(t.exit("atxHeading"),e(m)):Ze(m)?ot(t,c,"whitespace")(m):(t.enter("atxHeadingText"),p(m))}function d(m){return m===35?(t.consume(m),d):(t.exit("atxHeadingSequence"),c(m))}function p(m){return m===null||m===35||Dn(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),p)}}const TF=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hT=["pre","script","style","textarea"],IF={concrete:!0,name:"htmlFlow",resolveTo:xF,tokenize:CF},SF={partial:!0,tokenize:RF},kF={partial:!0,tokenize:AF};function xF(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function CF(t,e,n){const r=this;let s,a,l,c,d;return p;function p(N){return m(N)}function m(N){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(N),y}function y(N){return N===33?(t.consume(N),E):N===47?(t.consume(N),a=!0,D):N===63?(t.consume(N),s=3,r.interrupt?e:C):Jr(N)?(t.consume(N),l=String.fromCharCode(N),L):n(N)}function E(N){return N===45?(t.consume(N),s=2,T):N===91?(t.consume(N),s=5,c=0,A):Jr(N)?(t.consume(N),s=4,r.interrupt?e:C):n(N)}function T(N){return N===45?(t.consume(N),r.interrupt?e:C):n(N)}function A(N){const Se="CDATA[";return N===Se.charCodeAt(c++)?(t.consume(N),c===Se.length?r.interrupt?e:P:A):n(N)}function D(N){return Jr(N)?(t.consume(N),l=String.fromCharCode(N),L):n(N)}function L(N){if(N===null||N===47||N===62||Dn(N)){const Se=N===47,Ne=l.toLowerCase();return!Se&&!a&&hT.includes(Ne)?(s=1,r.interrupt?e(N):P(N)):TF.includes(l.toLowerCase())?(s=6,Se?(t.consume(N),U):r.interrupt?e(N):P(N)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):a?J(N):z(N))}return N===45||Wn(N)?(t.consume(N),l+=String.fromCharCode(N),L):n(N)}function U(N){return N===62?(t.consume(N),r.interrupt?e:P):n(N)}function J(N){return Ze(N)?(t.consume(N),J):j(N)}function z(N){return N===47?(t.consume(N),j):N===58||N===95||Jr(N)?(t.consume(N),$):Ze(N)?(t.consume(N),z):j(N)}function $(N){return N===45||N===46||N===58||N===95||Wn(N)?(t.consume(N),$):he(N)}function he(N){return N===61?(t.consume(N),G):Ze(N)?(t.consume(N),he):z(N)}function G(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),d=N,V):Ze(N)?(t.consume(N),G):R(N)}function V(N){return N===d?(t.consume(N),d=null,O):N===null||De(N)?n(N):(t.consume(N),V)}function R(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Dn(N)?he(N):(t.consume(N),R)}function O(N){return N===47||N===62||Ze(N)?z(N):n(N)}function j(N){return N===62?(t.consume(N),b):n(N)}function b(N){return N===null||De(N)?P(N):Ze(N)?(t.consume(N),b):n(N)}function P(N){return N===45&&s===2?(t.consume(N),ve):N===60&&s===1?(t.consume(N),H):N===62&&s===4?(t.consume(N),B):N===63&&s===3?(t.consume(N),C):N===93&&s===5?(t.consume(N),pe):De(N)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(SF,re,x)(N)):N===null||De(N)?(t.exit("htmlFlowData"),x(N)):(t.consume(N),P)}function x(N){return t.check(kF,Y,re)(N)}function Y(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),ne}function ne(N){return N===null||De(N)?x(N):(t.enter("htmlFlowData"),P(N))}function ve(N){return N===45?(t.consume(N),C):P(N)}function H(N){return N===47?(t.consume(N),l="",Z):P(N)}function Z(N){if(N===62){const Se=l.toLowerCase();return hT.includes(Se)?(t.consume(N),B):P(N)}return Jr(N)&&l.length<8?(t.consume(N),l+=String.fromCharCode(N),Z):P(N)}function pe(N){return N===93?(t.consume(N),C):P(N)}function C(N){return N===62?(t.consume(N),B):N===45&&s===2?(t.consume(N),C):P(N)}function B(N){return N===null||De(N)?(t.exit("htmlFlowData"),re(N)):(t.consume(N),B)}function re(N){return t.exit("htmlFlow"),e(N)}}function AF(t,e,n){const r=this;return s;function s(l){return De(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):n(l)}function a(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function RF(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Cd,e,n)}}const bF={name:"htmlText",tokenize:PF};function PF(t,e,n){const r=this;let s,a,l;return c;function c(C){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(C),d}function d(C){return C===33?(t.consume(C),p):C===47?(t.consume(C),he):C===63?(t.consume(C),z):Jr(C)?(t.consume(C),R):n(C)}function p(C){return C===45?(t.consume(C),m):C===91?(t.consume(C),a=0,A):Jr(C)?(t.consume(C),J):n(C)}function m(C){return C===45?(t.consume(C),T):n(C)}function y(C){return C===null?n(C):C===45?(t.consume(C),E):De(C)?(l=y,H(C)):(t.consume(C),y)}function E(C){return C===45?(t.consume(C),T):y(C)}function T(C){return C===62?ve(C):C===45?E(C):y(C)}function A(C){const B="CDATA[";return C===B.charCodeAt(a++)?(t.consume(C),a===B.length?D:A):n(C)}function D(C){return C===null?n(C):C===93?(t.consume(C),L):De(C)?(l=D,H(C)):(t.consume(C),D)}function L(C){return C===93?(t.consume(C),U):D(C)}function U(C){return C===62?ve(C):C===93?(t.consume(C),U):D(C)}function J(C){return C===null||C===62?ve(C):De(C)?(l=J,H(C)):(t.consume(C),J)}function z(C){return C===null?n(C):C===63?(t.consume(C),$):De(C)?(l=z,H(C)):(t.consume(C),z)}function $(C){return C===62?ve(C):z(C)}function he(C){return Jr(C)?(t.consume(C),G):n(C)}function G(C){return C===45||Wn(C)?(t.consume(C),G):V(C)}function V(C){return De(C)?(l=V,H(C)):Ze(C)?(t.consume(C),V):ve(C)}function R(C){return C===45||Wn(C)?(t.consume(C),R):C===47||C===62||Dn(C)?O(C):n(C)}function O(C){return C===47?(t.consume(C),ve):C===58||C===95||Jr(C)?(t.consume(C),j):De(C)?(l=O,H(C)):Ze(C)?(t.consume(C),O):ve(C)}function j(C){return C===45||C===46||C===58||C===95||Wn(C)?(t.consume(C),j):b(C)}function b(C){return C===61?(t.consume(C),P):De(C)?(l=b,H(C)):Ze(C)?(t.consume(C),b):O(C)}function P(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(t.consume(C),s=C,x):De(C)?(l=P,H(C)):Ze(C)?(t.consume(C),P):(t.consume(C),Y)}function x(C){return C===s?(t.consume(C),s=void 0,ne):C===null?n(C):De(C)?(l=x,H(C)):(t.consume(C),x)}function Y(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||Dn(C)?O(C):(t.consume(C),Y)}function ne(C){return C===47||C===62||Dn(C)?O(C):n(C)}function ve(C){return C===62?(t.consume(C),t.exit("htmlTextData"),t.exit("htmlText"),e):n(C)}function H(C){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),Z}function Z(C){return Ze(C)?ot(t,pe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):pe(C)}function pe(C){return t.enter("htmlTextData"),l(C)}}const oy={name:"labelEnd",resolveAll:LF,resolveTo:MF,tokenize:jF},NF={tokenize:VF},OF={tokenize:FF},DF={tokenize:UF};function LF(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&ii(t,0,t.length,n),t}function MF(t,e){let n=t.length,r=0,s,a,l,c;for(;n--;)if(s=t[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(l=n);const d={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[a][1].start},end:{...t[l][1].end}},m={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",d,e],["enter",p,e]],c=ar(c,t.slice(a+1,a+r+3)),c=ar(c,[["enter",m,e]]),c=ar(c,sy(e.parser.constructs.insideSpan.null,t.slice(a+r+4,l-3),e)),c=ar(c,[["exit",m,e],t[l-2],t[l-1],["exit",p,e]]),c=ar(c,t.slice(l+1)),c=ar(c,[["exit",d,e]]),ii(t,a,t.length,c),t}function jF(t,e,n){const r=this;let s=r.events.length,a,l;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){a=r.events[s][1];break}return c;function c(E){return a?a._inactive?y(E):(l=r.parser.defined.includes(Ma(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(E),t.exit("labelMarker"),t.exit("labelEnd"),d):n(E)}function d(E){return E===40?t.attempt(NF,m,l?m:y)(E):E===91?t.attempt(OF,m,l?p:y)(E):l?m(E):y(E)}function p(E){return t.attempt(DF,m,y)(E)}function m(E){return e(E)}function y(E){return a._balanced=!0,n(E)}}function VF(t,e,n){return r;function r(y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),s}function s(y){return Dn(y)?lu(t,a)(y):a(y)}function a(y){return y===41?m(y):Mk(t,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function l(y){return Dn(y)?lu(t,d)(y):m(y)}function c(y){return n(y)}function d(y){return y===34||y===39||y===40?Vk(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):m(y)}function p(y){return Dn(y)?lu(t,m)(y):m(y)}function m(y){return y===41?(t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),t.exit("resource"),e):n(y)}}function FF(t,e,n){const r=this;return s;function s(c){return jk.call(r,t,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(Ma(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}function UF(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),s}function s(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const BF={name:"labelStartImage",resolveAll:oy.resolveAll,tokenize:zF};function zF(t,e,n){const r=this;return s;function s(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const qF={name:"labelStartLink",resolveAll:oy.resolveAll,tokenize:$F};function $F(t,e,n){const r=this;return s;function s(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const Fp={name:"lineEnding",tokenize:HF};function HF(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ot(t,e,"linePrefix")}}const xh={name:"thematicBreak",tokenize:WF};function WF(t,e,n){let r=0,s;return a;function a(p){return t.enter("thematicBreak"),l(p)}function l(p){return s=p,c(p)}function c(p){return p===s?(t.enter("thematicBreakSequence"),d(p)):r>=3&&(p===null||De(p))?(t.exit("thematicBreak"),e(p)):n(p)}function d(p){return p===s?(t.consume(p),r++,d):(t.exit("thematicBreakSequence"),Ze(p)?ot(t,c,"whitespace")(p):c(p))}}const An={continuation:{tokenize:YF},exit:JF,name:"list",tokenize:QF},KF={partial:!0,tokenize:ZF},GF={partial:!0,tokenize:XF};function QF(t,e,n){const r=this,s=r.events[r.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return c;function c(T){const A=r.containerState.type||(T===42||T===43||T===45?"listUnordered":"listOrdered");if(A==="listUnordered"?!r.containerState.marker||T===r.containerState.marker:Lm(T)){if(r.containerState.type||(r.containerState.type=A,t.enter(A,{_container:!0})),A==="listUnordered")return t.enter("listItemPrefix"),T===42||T===45?t.check(xh,n,p)(T):p(T);if(!r.interrupt||T===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(T)}return n(T)}function d(T){return Lm(T)&&++l<10?(t.consume(T),d):(!r.interrupt||l<2)&&(r.containerState.marker?T===r.containerState.marker:T===41||T===46)?(t.exit("listItemValue"),p(T)):n(T)}function p(T){return t.enter("listItemMarker"),t.consume(T),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||T,t.check(Cd,r.interrupt?n:m,t.attempt(KF,E,y))}function m(T){return r.containerState.initialBlankLine=!0,a++,E(T)}function y(T){return Ze(T)?(t.enter("listItemPrefixWhitespace"),t.consume(T),t.exit("listItemPrefixWhitespace"),E):n(T)}function E(T){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(T)}}function YF(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Cd,s,a);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ot(t,e,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!Ze(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(GF,e,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,ot(t,t.attempt(An,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function XF(t,e,n){const r=this;return ot(t,s,"listItemIndent",r.containerState.size+1);function s(a){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(a):n(a)}}function JF(t){t.exit(this.containerState.type)}function ZF(t,e,n){const r=this;return ot(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const l=r.events[r.events.length-1];return!Ze(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const dT={name:"setextUnderline",resolveTo:eU,tokenize:tU};function eU(t,e){let n=t.length,r,s,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",a?(t.splice(s,0,["enter",l,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function tU(t,e,n){const r=this;let s;return a;function a(p){let m=r.events.length,y;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){y=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||y)?(t.enter("setextHeadingLine"),s=p,l(p)):n(p)}function l(p){return t.enter("setextHeadingLineSequence"),c(p)}function c(p){return p===s?(t.consume(p),c):(t.exit("setextHeadingLineSequence"),Ze(p)?ot(t,d,"lineSuffix")(p):d(p))}function d(p){return p===null||De(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}const nU={tokenize:rU};function rU(t){const e=this,n=t.attempt(Cd,r,t.attempt(this.parser.constructs.flowInitial,s,ot(t,t.attempt(this.parser.constructs.flow,s,t.attempt(lF,s)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const iU={resolveAll:Uk()},sU=Fk("string"),oU=Fk("text");function Fk(t){return{resolveAll:Uk(t==="text"?aU:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],a=n.attempt(s,l,c);return l;function l(m){return p(m)?a(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),d}function d(m){return p(m)?(n.exit("data"),a(m)):(n.consume(m),d)}function p(m){if(m===null)return!0;const y=s[m];let E=-1;if(y)for(;++E<y.length;){const T=y[E];if(!T.previous||T.previous.call(r,r.previous))return!0}return!1}}}function Uk(t){return e;function e(n,r){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return t?t(n,r):n}}function aU(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let a=s.length,l=-1,c=0,d;for(;a--;){const p=s[a];if(typeof p=="string"){for(l=p.length;p.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(p===-2)d=!0,c++;else if(p!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const p={type:n===t.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}const lU={42:An,43:An,45:An,48:An,49:An,50:An,51:An,52:An,53:An,54:An,55:An,56:An,57:An,62:Nk},uU={91:fF},cU={[-2]:Vp,[-1]:Vp,32:Vp},hU={35:_F,42:xh,45:[dT,xh],60:IF,61:dT,95:xh,96:cT,126:cT},dU={38:Dk,92:Ok},fU={[-5]:Fp,[-4]:Fp,[-3]:Fp,33:BF,38:Dk,42:Mm,60:[qV,bF],91:qF,92:[yF,Ok],93:oy,95:Mm,96:nF},pU={null:[Mm,iU]},mU={null:[42,95]},gU={null:[]},yU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:mU,contentInitial:uU,disable:gU,document:lU,flow:hU,flowInitial:cU,insideSpan:pU,string:dU,text:fU},Symbol.toStringTag,{value:"Module"}));function vU(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let l=[],c=[];const d={attempt:V(he),check:V(G),consume:J,enter:z,exit:$,interrupt:V(G,{interrupt:!0})},p={code:null,containerState:{},defineSkip:D,events:[],now:A,parser:t,previous:null,sliceSerialize:E,sliceStream:T,write:y};let m=e.tokenize.call(p,d);return e.resolveAll&&a.push(e),p;function y(b){return l=ar(l,b),L(),l[l.length-1]!==null?[]:(R(e,0),p.events=sy(a,p.events,p),p.events)}function E(b,P){return wU(T(b),P)}function T(b){return _U(l,b)}function A(){const{_bufferIndex:b,_index:P,line:x,column:Y,offset:ne}=r;return{_bufferIndex:b,_index:P,line:x,column:Y,offset:ne}}function D(b){s[b.line]=b.column,j()}function L(){let b;for(;r._index<l.length;){const P=l[r._index];if(typeof P=="string")for(b=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===b&&r._bufferIndex<P.length;)U(P.charCodeAt(r._bufferIndex));else U(P)}}function U(b){m=m(b)}function J(b){De(b)?(r.line++,r.column=1,r.offset+=b===-3?2:1,j()):b!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=b}function z(b,P){const x=P||{};return x.type=b,x.start=A(),p.events.push(["enter",x,p]),c.push(x),x}function $(b){const P=c.pop();return P.end=A(),p.events.push(["exit",P,p]),P}function he(b,P){R(b,P.from)}function G(b,P){P.restore()}function V(b,P){return x;function x(Y,ne,ve){let H,Z,pe,C;return Array.isArray(Y)?re(Y):"tokenize"in Y?re([Y]):B(Y);function B(ke){return Be;function Be(Ue){const Ye=Ue!==null&&ke[Ue],at=Ue!==null&&ke.null,vn=[...Array.isArray(Ye)?Ye:Ye?[Ye]:[],...Array.isArray(at)?at:at?[at]:[]];return re(vn)(Ue)}}function re(ke){return H=ke,Z=0,ke.length===0?ve:N(ke[Z])}function N(ke){return Be;function Be(Ue){return C=O(),pe=ke,ke.partial||(p.currentConstruct=ke),ke.name&&p.parser.constructs.disable.null.includes(ke.name)?Ne():ke.tokenize.call(P?Object.assign(Object.create(p),P):p,d,Se,Ne)(Ue)}}function Se(ke){return b(pe,C),ne}function Ne(ke){return C.restore(),++Z<H.length?N(H[Z]):ve}}}function R(b,P){b.resolveAll&&!a.includes(b)&&a.push(b),b.resolve&&ii(p.events,P,p.events.length-P,b.resolve(p.events.slice(P),p)),b.resolveTo&&(p.events=b.resolveTo(p.events,p))}function O(){const b=A(),P=p.previous,x=p.currentConstruct,Y=p.events.length,ne=Array.from(c);return{from:Y,restore:ve};function ve(){r=b,p.previous=P,p.currentConstruct=x,p.events.length=Y,c=ne,j()}}function j(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function _U(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,a=e.end._bufferIndex;let l;if(n===s)l=[t[n].slice(r,a)];else{if(l=t.slice(n,s),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}a>0&&l.push(t[s].slice(0,a))}return l}function wU(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const a=t[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&s)continue;l=" ";break}default:l=String.fromCharCode(a)}s=a===-2,r.push(l)}return r.join("")}function EU(t){const r={constructs:AV([yU,...(t||{}).extensions||[]]),content:s(MV),defined:[],document:s(VV),flow:s(nU),lazy:{},string:s(sU),text:s(oU)};return r;function s(a){return l;function l(c){return vU(r,a,c)}}}function TU(t){for(;!Lk(t););return t}const fT=/[\0\t\n\r]/g;function IU(){let t=1,e="",n=!0,r;return s;function s(a,l,c){const d=[];let p,m,y,E,T;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),y=0,e="",n&&(a.charCodeAt(0)===65279&&y++,n=void 0);y<a.length;){if(fT.lastIndex=y,p=fT.exec(a),E=p&&p.index!==void 0?p.index:a.length,T=a.charCodeAt(E),!p){e=a.slice(y);break}if(T===10&&y===E&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),y<E&&(d.push(a.slice(y,E)),t+=E-y),T){case 0:{d.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,d.push(-2);t++<m;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}y=E+1}return c&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}const SU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function kU(t){return t.replace(SU,xU)}function xU(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return Pk(n.slice(a?2:1),a?16:10)}return iy(n)||t}const Bk={}.hasOwnProperty;function CU(t,e,n){return typeof e!="string"&&(n=e,e=void 0),AU(n)(TU(EU(n).document().write(IU()(t,e,!0))))}function AU(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ai),autolinkProtocol:O,autolinkEmail:O,atxHeading:a(oi),blockQuote:a(at),characterEscape:O,characterReference:O,codeFenced:a(vn),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(vn,l),codeText:a(Di,l),codeTextData:O,data:O,codeFlowValue:O,definition:a(jr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(si),hardBreakEscape:a(Li),hardBreakTrailing:a(Li),htmlFlow:a(Mi,l),htmlFlowData:O,htmlText:a(Mi,l),htmlTextData:O,image:a(Oo),label:l,link:a(ai),listItem:a(dr),listItemValue:E,listOrdered:a(Gn,y),listUnordered:a(Gn),paragraph:a(js),reference:N,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(oi),strong:a(ji),thematicBreak:a(Vs)},exit:{atxHeading:d(),atxHeadingSequence:he,autolink:d(),autolinkEmail:Ye,autolinkProtocol:Ue,blockQuote:d(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:ke,characterReference:Be,codeFenced:d(L),codeFencedFence:D,codeFencedFenceInfo:T,codeFencedFenceMeta:A,codeFlowValue:j,codeIndented:d(U),codeText:d(ne),codeTextData:j,data:j,definition:d(),definitionDestinationString:$,definitionLabelString:J,definitionTitleString:z,emphasis:d(),hardBreakEscape:d(P),hardBreakTrailing:d(P),htmlFlow:d(x),htmlFlowData:j,htmlText:d(Y),htmlTextData:j,image:d(H),label:pe,labelText:Z,lineEnding:b,link:d(ve),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Se,resourceDestinationString:C,resourceTitleString:B,resource:re,setextHeading:d(R),setextHeadingLineSequence:V,setextHeadingText:G,strong:d(),thematicBreak:d()}};zk(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ee){let ue={type:"root",children:[]};const Ce={stack:[ue],tokenStack:[],config:e,enter:c,exit:p,buffer:l,resume:m,data:n},Fe=[];let $e=-1;for(;++$e<ee.length;)if(ee[$e][1].type==="listOrdered"||ee[$e][1].type==="listUnordered")if(ee[$e][0]==="enter")Fe.push($e);else{const Nt=Fe.pop();$e=s(ee,Nt,$e)}for($e=-1;++$e<ee.length;){const Nt=e[ee[$e][0]];Bk.call(Nt,ee[$e][1].type)&&Nt[ee[$e][1].type].call(Object.assign({sliceSerialize:ee[$e][2].sliceSerialize},Ce),ee[$e][1])}if(Ce.tokenStack.length>0){const Nt=Ce.tokenStack[Ce.tokenStack.length-1];(Nt[1]||pT).call(Ce,void 0,Nt[0])}for(ue.position={start:cs(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:cs(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<e.transforms.length;)ue=e.transforms[$e](ue)||ue;return ue}function s(ee,ue,Ce){let Fe=ue-1,$e=-1,Nt=!1,cn,hn,fr,pr;for(;++Fe<=Ce;){const Ot=ee[Fe];switch(Ot[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ot[0]==="enter"?$e++:$e--,pr=void 0;break}case"lineEndingBlank":{Ot[0]==="enter"&&(cn&&!pr&&!$e&&!fr&&(fr=Fe),pr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:pr=void 0}if(!$e&&Ot[0]==="enter"&&Ot[1].type==="listItemPrefix"||$e===-1&&Ot[0]==="exit"&&(Ot[1].type==="listUnordered"||Ot[1].type==="listOrdered")){if(cn){let Qn=Fe;for(hn=void 0;Qn--;){const Ht=ee[Qn];if(Ht[1].type==="lineEnding"||Ht[1].type==="lineEndingBlank"){if(Ht[0]==="exit")continue;hn&&(ee[hn][1].type="lineEndingBlank",Nt=!0),Ht[1].type="lineEnding",hn=Qn}else if(!(Ht[1].type==="linePrefix"||Ht[1].type==="blockQuotePrefix"||Ht[1].type==="blockQuotePrefixWhitespace"||Ht[1].type==="blockQuoteMarker"||Ht[1].type==="listItemIndent"))break}fr&&(!hn||fr<hn)&&(cn._spread=!0),cn.end=Object.assign({},hn?ee[hn][1].start:Ot[1].end),ee.splice(hn||Fe,0,["exit",cn,Ot[2]]),Fe++,Ce++}if(Ot[1].type==="listItemPrefix"){const Qn={type:"listItem",_spread:!1,start:Object.assign({},Ot[1].start),end:void 0};cn=Qn,ee.splice(Fe,0,["enter",Qn,Ot[2]]),Fe++,Ce++,fr=void 0,pr=!0}}}return ee[ue][1]._spread=Nt,Ce}function a(ee,ue){return Ce;function Ce(Fe){c.call(this,ee(Fe),Fe),ue&&ue.call(this,Fe)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ee,ue,Ce){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([ue,Ce||void 0]),ee.position={start:cs(ue.start),end:void 0}}function d(ee){return ue;function ue(Ce){ee&&ee.call(this,Ce),p.call(this,Ce)}}function p(ee,ue){const Ce=this.stack.pop(),Fe=this.tokenStack.pop();if(Fe)Fe[0].type!==ee.type&&(ue?ue.call(this,ee,Fe[0]):(Fe[1]||pT).call(this,ee,Fe[0]));else throw new Error("Cannot close `"+ee.type+"` ("+au({start:ee.start,end:ee.end})+"): it’s not open");Ce.position.end=cs(ee.end)}function m(){return xV(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function E(ee){if(this.data.expectingFirstListItemValue){const ue=this.stack[this.stack.length-2];ue.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function T(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.lang=ee}function A(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.meta=ee}function D(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function L(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function U(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee.replace(/(\r?\n|\r)$/g,"")}function J(ee){const ue=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ue,Ce.identifier=Ma(this.sliceSerialize(ee)).toLowerCase()}function z(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.title=ee}function $(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.url=ee}function he(ee){const ue=this.stack[this.stack.length-1];if(!ue.depth){const Ce=this.sliceSerialize(ee).length;ue.depth=Ce}}function G(){this.data.setextHeadingSlurpLineEnding=!0}function V(ee){const ue=this.stack[this.stack.length-1];ue.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function O(ee){const Ce=this.stack[this.stack.length-1].children;let Fe=Ce[Ce.length-1];(!Fe||Fe.type!=="text")&&(Fe=Vi(),Fe.position={start:cs(ee.start),end:void 0},Ce.push(Fe)),this.stack.push(Fe)}function j(ee){const ue=this.stack.pop();ue.value+=this.sliceSerialize(ee),ue.position.end=cs(ee.end)}function b(ee){const ue=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=ue.children[ue.children.length-1];Ce.position.end=cs(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ue.type)&&(O.call(this,ee),j.call(this,ee))}function P(){this.data.atHardBreak=!0}function x(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee}function Y(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee}function ne(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee}function ve(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=ue,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function H(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=ue,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function Z(ee){const ue=this.sliceSerialize(ee),Ce=this.stack[this.stack.length-2];Ce.label=kU(ue),Ce.identifier=Ma(ue).toLowerCase()}function pe(){const ee=this.stack[this.stack.length-1],ue=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Fe=ee.children;Ce.children=Fe}else Ce.alt=ue}function C(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.url=ee}function B(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.title=ee}function re(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function Se(ee){const ue=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ue,Ce.identifier=Ma(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function Ne(ee){this.data.characterReferenceType=ee.type}function ke(ee){const ue=this.sliceSerialize(ee),Ce=this.data.characterReferenceType;let Fe;Ce?(Fe=Pk(ue,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Fe=iy(ue);const $e=this.stack[this.stack.length-1];$e.value+=Fe}function Be(ee){const ue=this.stack.pop();ue.position.end=cs(ee.end)}function Ue(ee){j.call(this,ee);const ue=this.stack[this.stack.length-1];ue.url=this.sliceSerialize(ee)}function Ye(ee){j.call(this,ee);const ue=this.stack[this.stack.length-1];ue.url="mailto:"+this.sliceSerialize(ee)}function at(){return{type:"blockquote",children:[]}}function vn(){return{type:"code",lang:null,meta:null,value:""}}function Di(){return{type:"inlineCode",value:""}}function jr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function si(){return{type:"emphasis",children:[]}}function oi(){return{type:"heading",depth:0,children:[]}}function Li(){return{type:"break"}}function Mi(){return{type:"html",value:""}}function Oo(){return{type:"image",title:null,url:"",alt:null}}function ai(){return{type:"link",title:null,url:"",children:[]}}function Gn(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function dr(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function js(){return{type:"paragraph",children:[]}}function ji(){return{type:"strong",children:[]}}function Vi(){return{type:"text",value:""}}function Vs(){return{type:"thematicBreak"}}}function cs(t){return{line:t.line,column:t.column,offset:t.offset}}function zk(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?zk(t,r):RU(t,r)}}function RU(t,e){let n;for(n in e)if(Bk.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function pT(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+au({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+au({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+au({start:e.start,end:e.end})+") is still open")}function bU(t){const e=this;e.parser=n;function n(r){return CU(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function PU(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function NU(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function OU(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function DU(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function LU(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function MU(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=el(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let l,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=a+1,c+=1,t.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,d);const p={type:"element",tagName:"sup",properties:{},children:[d]};return t.patch(e,p),t.applyData(e,p)}function jU(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function VU(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function qk(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=r:s.push({type:"text",value:r}),s}function FU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return qk(t,e);const s={src:el(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,a),t.applyData(e,a)}function UU(t,e){const n={src:el(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function BU(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function zU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return qk(t,e);const s={href:el(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function qU(t,e){const n={href:el(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function $U(t,e,n){const r=t.all(e),s=n?HU(n):$k(e),a={},l=[];if(typeof e.checked=="boolean"){const m=r[0];let y;m&&m.type==="element"&&m.tagName==="p"?y=m:(y={type:"element",tagName:"p",properties:{},children:[]},r.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(s||c!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!s?l.push(...m.children):l.push(m)}const d=r[r.length-1];d&&(s||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:a,children:l};return t.patch(e,p),t.applyData(e,p)}function HU(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=$k(n[r])}return e}function $k(t){const e=t.spread;return e??t.children.length>1}function WU(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const l=r[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function KU(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function GU(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function QU(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function YU(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=ey(e.children[1]),d=Sk(e.children[e.children.length-1]);c&&d&&(l.position={start:c,end:d}),s.push(l)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,a),t.applyData(e,a)}function XU(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:e.children.length;let d=-1;const p=[];for(;++d<c;){const y=e.children[d],E={},T=l?l[d]:void 0;T&&(E.align=T);let A={type:"element",tagName:a,properties:E,children:[]};y&&(A.children=t.all(y),t.patch(y,A),A=t.applyData(y,A)),p.push(A)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(e,m),t.applyData(e,m)}function JU(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const mT=9,gT=32;function ZU(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const a=[];for(;r;)a.push(yT(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return a.push(yT(e.slice(s),s>0,!1)),a.join("")}function yT(t,e,n){let r=0,s=t.length;if(e){let a=t.codePointAt(r);for(;a===mT||a===gT;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(s-1);for(;a===mT||a===gT;)s--,a=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function e4(t,e){const n={type:"text",value:ZU(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function t4(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const n4={blockquote:PU,break:NU,code:OU,delete:DU,emphasis:LU,footnoteReference:MU,heading:jU,html:VU,imageReference:FU,image:UU,inlineCode:BU,linkReference:zU,link:qU,listItem:$U,list:WU,paragraph:KU,root:GU,strong:QU,table:YU,tableCell:JU,tableRow:XU,text:e4,thematicBreak:t4,toml:fh,yaml:fh,definition:fh,footnoteDefinition:fh};function fh(){}const Hk=-1,Ad=0,uu=1,Yh=2,ay=3,ly=4,uy=5,cy=6,Wk=7,Kk=8,vT=typeof self=="object"?self:globalThis,r4=(t,e)=>{const n=(s,a)=>(t.set(a,s),s),r=s=>{if(t.has(s))return t.get(s);const[a,l]=e[s];switch(a){case Ad:case Hk:return n(l,s);case uu:{const c=n([],s);for(const d of l)c.push(r(d));return c}case Yh:{const c=n({},s);for(const[d,p]of l)c[r(d)]=r(p);return c}case ay:return n(new Date(l),s);case ly:{const{source:c,flags:d}=l;return n(new RegExp(c,d),s)}case uy:{const c=n(new Map,s);for(const[d,p]of l)c.set(r(d),r(p));return c}case cy:{const c=n(new Set,s);for(const d of l)c.add(r(d));return c}case Wk:{const{name:c,message:d}=l;return n(new vT[c](d),s)}case Kk:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new vT[a](l),s)};return r},_T=t=>r4(new Map,t)(0),Sa="",{toString:i4}={},{keys:s4}=Object,Kl=t=>{const e=typeof t;if(e!=="object"||!t)return[Ad,e];const n=i4.call(t).slice(8,-1);switch(n){case"Array":return[uu,Sa];case"Object":return[Yh,Sa];case"Date":return[ay,Sa];case"RegExp":return[ly,Sa];case"Map":return[uy,Sa];case"Set":return[cy,Sa];case"DataView":return[uu,n]}return n.includes("Array")?[uu,n]:n.includes("Error")?[Wk,n]:[Yh,n]},ph=([t,e])=>t===Ad&&(e==="function"||e==="symbol"),o4=(t,e,n,r)=>{const s=(l,c)=>{const d=r.push(l)-1;return n.set(c,d),d},a=l=>{if(n.has(l))return n.get(l);let[c,d]=Kl(l);switch(c){case Ad:{let m=l;switch(d){case"bigint":c=Kk,m=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+d);m=null;break;case"undefined":return s([Hk],l)}return s([c,m],l)}case uu:{if(d){let E=l;return d==="DataView"?E=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(E=new Uint8Array(l)),s([d,[...E]],l)}const m=[],y=s([c,m],l);for(const E of l)m.push(a(E));return y}case Yh:{if(d)switch(d){case"BigInt":return s([d,l.toString()],l);case"Boolean":case"Number":case"String":return s([d,l.valueOf()],l)}if(e&&"toJSON"in l)return a(l.toJSON());const m=[],y=s([c,m],l);for(const E of s4(l))(t||!ph(Kl(l[E])))&&m.push([a(E),a(l[E])]);return y}case ay:return s([c,l.toISOString()],l);case ly:{const{source:m,flags:y}=l;return s([c,{source:m,flags:y}],l)}case uy:{const m=[],y=s([c,m],l);for(const[E,T]of l)(t||!(ph(Kl(E))||ph(Kl(T))))&&m.push([a(E),a(T)]);return y}case cy:{const m=[],y=s([c,m],l);for(const E of l)(t||!ph(Kl(E)))&&m.push(a(E));return y}}const{message:p}=l;return s([c,{name:d,message:p}],l)};return a},wT=(t,{json:e,lossy:n}={})=>{const r=[];return o4(!(e||n),!!e,new Map,r)(t),r},Xh=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?_T(wT(t,e)):structuredClone(t):(t,e)=>_T(wT(t,e));function a4(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function l4(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function u4(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||a4,r=t.options.footnoteBackLabel||l4,s=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[d]);if(!p)continue;const m=t.all(p),y=String(p.identifier).toUpperCase(),E=el(y.toLowerCase());let T=0;const A=[],D=t.footnoteCounts.get(y);for(;D!==void 0&&++T<=D;){A.length>0&&A.push({type:"text",value:" "});let J=typeof n=="string"?n:n(d,T);typeof J=="string"&&(J={type:"text",value:J}),A.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+E+(T>1?"-"+T:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,T),className:["data-footnote-backref"]},children:Array.isArray(J)?J:[J]})}const L=m[m.length-1];if(L&&L.type==="element"&&L.tagName==="p"){const J=L.children[L.children.length-1];J&&J.type==="text"?J.value+=" ":L.children.push({type:"text",value:" "}),L.children.push(...A)}else m.push(...A);const U={type:"element",tagName:"li",properties:{id:e+"fn-"+E},children:t.wrap(m,!0)};t.patch(p,U),c.push(U)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Xh(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const Gk=function(t){if(t==null)return f4;if(typeof t=="function")return Rd(t);if(typeof t=="object")return Array.isArray(t)?c4(t):h4(t);if(typeof t=="string")return d4(t);throw new Error("Expected function, string, or object as test")};function c4(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Gk(t[n]);return Rd(r);function r(...s){let a=-1;for(;++a<e.length;)if(e[a].apply(this,s))return!0;return!1}}function h4(t){const e=t;return Rd(n);function n(r){const s=r;let a;for(a in t)if(s[a]!==e[a])return!1;return!0}}function d4(t){return Rd(e);function e(n){return n&&n.type===t}}function Rd(t){return e;function e(n,r,s){return!!(p4(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function f4(){return!0}function p4(t){return t!==null&&typeof t=="object"&&"type"in t}const Qk=[],m4=!0,ET=!1,g4="skip";function y4(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const a=Gk(s),l=r?-1:1;c(t,void 0,[])();function c(d,p,m){const y=d&&typeof d=="object"?d:{};if(typeof y.type=="string"){const T=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(E,"name",{value:"node ("+(d.type+(T?"<"+T+">":""))+")"})}return E;function E(){let T=Qk,A,D,L;if((!e||a(d,p,m[m.length-1]||void 0))&&(T=v4(n(d,m)),T[0]===ET))return T;if("children"in d&&d.children){const U=d;if(U.children&&T[0]!==g4)for(D=(r?U.children.length:-1)+l,L=m.concat(U);D>-1&&D<U.children.length;){const J=U.children[D];if(A=c(J,D,L)(),A[0]===ET)return A;D=typeof A[1]=="number"?A[1]:D+l}}return T}}}function v4(t){return Array.isArray(t)?t:typeof t=="number"?[m4,t]:t==null?Qk:[t]}function Yk(t,e,n,r){let s,a,l;typeof e=="function"?(a=void 0,l=e,s=n):(a=e,l=n,s=r),y4(t,a,c,s);function c(d,p){const m=p[p.length-1],y=m?m.children.indexOf(d):void 0;return l(d,y,m)}}const jm={}.hasOwnProperty,_4={};function w4(t,e){const n=e||_4,r=new Map,s=new Map,a=new Map,l={...n4,...n.handlers},c={all:p,applyData:T4,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:l,one:d,options:n,patch:E4,wrap:S4};return Yk(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const y=m.type==="definition"?r:s,E=String(m.identifier).toUpperCase();y.has(E)||y.set(E,m)}}),c;function d(m,y){const E=m.type,T=c.handlers[E];if(jm.call(c.handlers,E)&&T)return T(c,m,y);if(c.options.passThrough&&c.options.passThrough.includes(E)){if("children"in m){const{children:D,...L}=m,U=Xh(L);return U.children=c.all(m),U}return Xh(m)}return(c.options.unknownHandler||I4)(c,m,y)}function p(m){const y=[];if("children"in m){const E=m.children;let T=-1;for(;++T<E.length;){const A=c.one(E[T],m);if(A){if(T&&E[T-1].type==="break"&&(!Array.isArray(A)&&A.type==="text"&&(A.value=TT(A.value)),!Array.isArray(A)&&A.type==="element")){const D=A.children[0];D&&D.type==="text"&&(D.value=TT(D.value))}Array.isArray(A)?y.push(...A):y.push(A)}}}return y}}function E4(t,e){t.position&&(e.position=iV(t))}function T4(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&a&&Object.assign(n.properties,Xh(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function I4(t,e){const n=e.data||{},r="value"in e&&!(jm.call(n,"hProperties")||jm.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function S4(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function TT(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function IT(t,e){const n=w4(t,e),r=n.one(t,void 0),s=u4(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function k4(t,e){return t&&"run"in t?async function(n,r){const s=IT(n,{file:r,...e});await t.run(s,r)}:function(n,r){return IT(n,{file:r,...t||e})}}function ST(t){if(t)throw t}var Up,kT;function x4(){if(kT)return Up;kT=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(p){return typeof Array.isArray=="function"?Array.isArray(p):e.call(p)==="[object Array]"},a=function(p){if(!p||e.call(p)!=="[object Object]")return!1;var m=t.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!m&&!y)return!1;var E;for(E in p);return typeof E>"u"||t.call(p,E)},l=function(p,m){n&&m.name==="__proto__"?n(p,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):p[m.name]=m.newValue},c=function(p,m){if(m==="__proto__")if(t.call(p,m)){if(r)return r(p,m).value}else return;return p[m]};return Up=function d(){var p,m,y,E,T,A,D=arguments[0],L=1,U=arguments.length,J=!1;for(typeof D=="boolean"&&(J=D,D=arguments[1]||{},L=2),(D==null||typeof D!="object"&&typeof D!="function")&&(D={});L<U;++L)if(p=arguments[L],p!=null)for(m in p)y=c(D,m),E=c(p,m),D!==E&&(J&&E&&(a(E)||(T=s(E)))?(T?(T=!1,A=y&&s(y)?y:[]):A=y&&a(y)?y:{},l(D,{name:m,newValue:d(J,A,E)})):typeof E<"u"&&l(D,{name:m,newValue:E}));return D},Up}var C4=x4();const Bp=Ni(C4);function Vm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function A4(){const t=[],e={run:n,use:r};return e;function n(...s){let a=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...s);function c(d,...p){const m=t[++a];let y=-1;if(d){l(d);return}for(;++y<s.length;)(p[y]===null||p[y]===void 0)&&(p[y]=s[y]);s=p,m?R4(m,c)(...p):l(null,...p)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function R4(t,e){let n;return r;function r(...l){const c=t.length>l.length;let d;c&&l.push(s);try{d=t.apply(this,l)}catch(p){const m=p;if(c&&n)throw m;return s(m)}c||(d&&d.then&&typeof d.then=="function"?d.then(a,s):d instanceof Error?s(d):a(d))}function s(l,...c){n||(n=!0,e(l,...c))}function a(l){s(null,l)}}const Yr={basename:b4,dirname:P4,extname:N4,join:O4,sep:"/"};function b4(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Fu(t);let n=0,r=-1,s=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else r<0&&(a=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let l=-1,c=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else l<0&&(a=!0,l=s+1),c>-1&&(t.codePointAt(s)===e.codePointAt(c--)?c<0&&(r=s):(c=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function P4(t){if(Fu(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function N4(t){Fu(t);let e=t.length,n=-1,r=0,s=-1,a=0,l;for(;e--;){const c=t.codePointAt(e);if(c===47){if(l){r=e+1;break}continue}n<0&&(l=!0,n=e+1),c===46?s<0?s=e:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function O4(...t){let e=-1,n;for(;++e<t.length;)Fu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":D4(n)}function D4(t){Fu(t);const e=t.codePointAt(0)===47;let n=L4(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function L4(t,e){let n="",r=0,s=-1,a=0,l=-1,c,d;for(;++l<=t.length;){if(l<t.length)c=t.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(s===l-1||a===1))if(s!==l-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),s=l,a=0;continue}}else if(n.length>0){n="",r=0,s=l,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,l):n=t.slice(s+1,l),r=l-s-1;s=l,a=0}else c===46&&a>-1?a++:a=-1}return n}function Fu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const M4={cwd:j4};function j4(){return"/"}function Fm(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function V4(t){if(typeof t=="string")t=new URL(t);else if(!Fm(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return F4(t)}function F4(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const zp=["history","path","basename","stem","extname","dirname"];class Xk{constructor(e){let n;e?Fm(e)?n={path:e}:typeof e=="string"||U4(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":M4.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<zp.length;){const a=zp[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)zp.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Yr.basename(this.path):void 0}set basename(e){$p(e,"basename"),qp(e,"basename"),this.path=Yr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Yr.dirname(this.path):void 0}set dirname(e){xT(this.basename,"dirname"),this.path=Yr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Yr.extname(this.path):void 0}set extname(e){if(qp(e,"extname"),xT(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Yr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Fm(e)&&(e=V4(e)),$p(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Yr.basename(this.path,this.extname):void 0}set stem(e){$p(e,"stem"),qp(e,"stem"),this.path=Yr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new un(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function qp(t,e){if(t&&t.includes(Yr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Yr.sep+"`")}function $p(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function xT(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function U4(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const B4=function(t){const r=this.constructor.prototype,s=r[t],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},z4={}.hasOwnProperty;class hy extends B4{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=A4()}copy(){const e=new hy;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Bp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Kp("data",this.frozen),this.namespace[e]=n,this):z4.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Kp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=mh(e),r=this.parser||this.Parser;return Hp("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Hp("process",this.parser||this.Parser),Wp("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,l){const c=mh(e),d=r.parse(c);r.run(d,c,function(m,y,E){if(m||!y||!E)return p(m);const T=y,A=r.stringify(T,E);H4(A)?E.value=A:E.result=A,p(m,E)});function p(m,y){m||!y?l(m):a?a(y):n(void 0,y)}}}processSync(e){let n=!1,r;return this.freeze(),Hp("processSync",this.parser||this.Parser),Wp("processSync",this.compiler||this.Compiler),this.process(e,s),AT("processSync","process",n),r;function s(a,l){n=!0,ST(a),r=l}}run(e,n,r){CT(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(l,c){const d=mh(n);s.run(e,d,p);function p(m,y,E){const T=y||e;m?c(m):l?l(T):r(void 0,T,E)}}}runSync(e,n){let r=!1,s;return this.run(e,n,a),AT("runSync","run",r),s;function a(l,c){ST(l),s=c,r=!0}}stringify(e,n){this.freeze();const r=mh(n),s=this.compiler||this.Compiler;return Wp("stringify",s),CT(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(Kp("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(p){if(typeof p=="function")d(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[m,...y]=p;d(m,y)}else l(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function l(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(p.plugins),p.settings&&(s.settings=Bp(!0,s.settings,p.settings))}function c(p){let m=-1;if(p!=null)if(Array.isArray(p))for(;++m<p.length;){const y=p[m];a(y)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function d(p,m){let y=-1,E=-1;for(;++y<r.length;)if(r[y][0]===p){E=y;break}if(E===-1)r.push([p,...m]);else if(m.length>0){let[T,...A]=m;const D=r[E][1];Vm(D)&&Vm(T)&&(T=Bp(!0,D,T)),r[E]=[p,T,...A]}}}}const q4=new hy().freeze();function Hp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Wp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Kp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function CT(t){if(!Vm(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function AT(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function mh(t){return $4(t)?t:new Xk(t)}function $4(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function H4(t){return typeof t=="string"||W4(t)}function W4(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const K4="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",RT=[],bT={allowDangerousHtml:!0},G4=/^(https?|ircs?|mailto|xmpp)$/i,Q4=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Y4(t){const e=X4(t),n=J4(t);return Z4(e.runSync(e.parse(n),n),t)}function X4(t){const e=t.rehypePlugins||RT,n=t.remarkPlugins||RT,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...bT}:bT;return q4().use(bU).use(n).use(k4,r).use(e)}function J4(t){const e=t.children||"",n=new Xk;return typeof e=="string"&&(n.value=e),n}function Z4(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,a=e.disallowedElements,l=e.skipHtml,c=e.unwrapDisallowed,d=e.urlTransform||e3;for(const m of Q4)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+K4+m.id,void 0);return Yk(t,p),uV(t,{Fragment:w.Fragment,components:s,ignoreInvalidStyle:!0,jsx:w.jsx,jsxs:w.jsxs,passKeys:!0,passNode:!0});function p(m,y,E){if(m.type==="raw"&&E&&typeof y=="number")return l?E.children.splice(y,1):E.children[y]={type:"text",value:m.value},y;if(m.type==="element"){let T;for(T in jp)if(Object.hasOwn(jp,T)&&Object.hasOwn(m.properties,T)){const A=m.properties[T],D=jp[T];(D===null||D.includes(m.tagName))&&(m.properties[T]=d(String(A||""),T,m))}}if(m.type==="element"){let T=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!T&&r&&typeof y=="number"&&(T=!r(m,y,E)),T&&E&&typeof y=="number")return c&&m.children?E.children.splice(y,1,...m.children):E.children.splice(y,1),y}}}function e3(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||G4.test(t.slice(0,e))?t:""}const t3=()=>{const{slug:t}=Hm(),e=bm.find(n=>n.id===t);return e?w.jsxs("div",{className:"blog-container",children:[w.jsx("h1",{className:"blog-title",children:e.title}),w.jsx("p",{className:"blog-date",children:new Date(e.date).toLocaleDateString()}),w.jsx("div",{className:"blog-content",children:w.jsx(Y4,{children:e.content})}),w.jsx(jt,{to:"/blog",className:"back-button",children:"← Back to Blog"})]}):w.jsx("div",{className:"blog-container",children:"Post not found."})},n3=()=>w.jsxs("div",{className:"context-box",children:[w.jsx("h1",{children:"Craft Ideas"}),w.jsx("p",{children:"Coming soon..."})]}),r3=()=>w.jsxs("header",{className:"header",children:[w.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:w.jsx(jt,{to:"/",children:w.jsx("img",{src:"/views/images/wordsLogo2.png",height:"130",width:"380",alt:"Tangled Oak Word Logo",style:{boxShadow:"none",border:"none"}})})}),w.jsxs("div",{className:"nav-links",children:[w.jsx(jt,{to:"/",className:"nav-link",children:"Home"}),w.jsx(jt,{to:"/shop",className:"nav-link",children:"Shop"}),w.jsx(jt,{to:"/about",className:"nav-link",children:"About Us"}),w.jsx(jt,{to:"/blog",className:"nav-link",children:"Blog"}),w.jsx(jt,{to:"/craft",className:"nav-link",children:"Craft Ideas"}),w.jsx(jt,{to:"/cart",className:"nav-link",children:" Cart"})]})]}),i3=()=>w.jsxs("footer",{className:"footer",children:[w.jsxs("div",{className:"footer-container",children:[w.jsxs("div",{className:"footer-section social-media",children:[w.jsx("h2",{children:"Follow Us"}),w.jsxs("div",{className:"social-icons",children:[w.jsx("a",{href:"https://www.facebook.com/profile.php?id=61556577491923",target:"_blank",rel:"noopener noreferrer",children:w.jsx("img",{src:"/views/images/facebook.png",alt:"Facebook"})}),w.jsx("a",{href:"https://www.instagram.com/tangledoakcraft/",target:"_blank",rel:"noopener noreferrer",children:w.jsx("img",{src:"/views/images/instagram.png",alt:"Instagram"})}),w.jsx("a",{href:"https://www.pinterest.com/tangledoakcraft",target:"_blank",rel:"noopener noreferrer",children:w.jsx("img",{src:"/views/images/pinterest.png",alt:"Pinterest"})})]})]}),w.jsxs("div",{className:"footer-section quick-links",children:[w.jsx("h2",{children:"Quick Links"}),w.jsxs("ul",{children:[w.jsx("li",{children:w.jsx(jt,{to:"/contact",children:"Contact Us"})}),w.jsx("li",{children:w.jsx(jt,{to:"/shipping-policy",children:"Shipping & Returns"})}),w.jsx("li",{children:w.jsx(jt,{to:"/faq",children:"FAQ"})})]})]}),w.jsxs("div",{className:"footer-section legal",children:[w.jsx("h2",{children:"Legal"}),w.jsxs("ul",{children:[w.jsx("li",{children:w.jsx(jt,{to:"/privacy-policy",children:"Privacy Policy"})}),w.jsx("li",{children:w.jsx(jt,{to:"/terms",children:"Terms & Conditions"})}),w.jsx("li",{children:w.jsx(jt,{to:"/vendor-login",className:"nav-link",style:{fontSize:"0.8rem",opacity:.6},children:"Vendor Portal"})})]})]})]}),w.jsx("div",{className:"copyright",children:w.jsx("p",{style:{fontSize:"8px"},children:"© 2024 The Tangled Oak + Craft Collective. All Rights Reserved."})})]}),Gp=({children:t,requiredRole:e})=>{const[n,r]=ie.useState(null);return ie.useEffect(()=>{const s=Su.onAuthStateChanged(async a=>{if(!a){r(!1);return}const c=(await a.getIdTokenResult(!0)).claims.role;r(!e||c===e)});return()=>s()},[e]),n===null?w.jsx("p",{children:"Loading..."}):n===!1?w.jsx(nA,{to:"/vendor-login",replace:!0}):t},s3=()=>w.jsxs(hA,{children:[w.jsx(r3,{}),w.jsx("div",{className:"main-content",children:w.jsxs(iA,{children:[w.jsx(St,{path:"/",element:w.jsx(XA,{})}),w.jsx(St,{path:"/shop",element:w.jsx(d1,{})}),w.jsx(St,{path:"/product/:productId",element:w.jsx(f1,{})}),w.jsx(St,{path:"/cart",element:w.jsx(v1,{})}),w.jsx(St,{path:"/about",element:w.jsx(_1,{})}),w.jsx(St,{path:"/contact",element:w.jsx(w1,{})}),w.jsx(St,{path:"/faq",element:w.jsx(E1,{})}),w.jsx(St,{path:"/shipping-policy",element:w.jsx(T1,{})}),w.jsx(St,{path:"/privacy-policy",element:w.jsx(I1,{})}),w.jsx(St,{path:"/terms",element:w.jsx(S1,{})}),w.jsx(St,{path:"/vendor-login",element:w.jsx(Tj,{})}),w.jsx(St,{path:"/vendor-register",element:w.jsx(Ij,{})}),w.jsx(St,{path:"/admin/approvals",element:w.jsx(Gp,{requiredRole:"vendor",children:w.jsx(Sj,{})})}),w.jsx(St,{path:"/my-listings/new",element:w.jsx(Gp,{requiredRole:"vendor",children:w.jsx(bj,{})})}),w.jsx(St,{path:"/my-listings",element:w.jsx(Gp,{requiredRole:"vendor",children:w.jsx(Pj,{})})}),w.jsx(St,{path:"/listing/:listingId",element:w.jsx(Nj,{})}),w.jsx(St,{path:"/order-confirmation",element:w.jsx(Oj,{})}),w.jsx(St,{path:"/blog",element:w.jsx(Dj,{})}),w.jsx(St,{path:"/blog/:slug",element:w.jsx(t3,{})}),w.jsx(St,{path:"/craft-ideas",element:w.jsx(n3,{})})]})}),w.jsx(i3,{})]}),o3=dC.createRoot(document.getElementById("root"));o3.render(w.jsx(g1,{children:w.jsx(s3,{})}));
